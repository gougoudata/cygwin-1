<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module MiniTest::Assertions - minitest-2.12.1 Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/minitest/unit.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-diff">::diff</a>
    
    <li><a href="#method-c-diff-3D">::diff=</a>
    
    <li><a href="#method-i-assert">#assert</a>
    
    <li><a href="#method-i-assert_block">#assert_block</a>
    
    <li><a href="#method-i-assert_empty">#assert_empty</a>
    
    <li><a href="#method-i-assert_equal">#assert_equal</a>
    
    <li><a href="#method-i-assert_in_delta">#assert_in_delta</a>
    
    <li><a href="#method-i-assert_in_epsilon">#assert_in_epsilon</a>
    
    <li><a href="#method-i-assert_includes">#assert_includes</a>
    
    <li><a href="#method-i-assert_instance_of">#assert_instance_of</a>
    
    <li><a href="#method-i-assert_kind_of">#assert_kind_of</a>
    
    <li><a href="#method-i-assert_match">#assert_match</a>
    
    <li><a href="#method-i-assert_nil">#assert_nil</a>
    
    <li><a href="#method-i-assert_operator">#assert_operator</a>
    
    <li><a href="#method-i-assert_output">#assert_output</a>
    
    <li><a href="#method-i-assert_predicate">#assert_predicate</a>
    
    <li><a href="#method-i-assert_raises">#assert_raises</a>
    
    <li><a href="#method-i-assert_respond_to">#assert_respond_to</a>
    
    <li><a href="#method-i-assert_same">#assert_same</a>
    
    <li><a href="#method-i-assert_send">#assert_send</a>
    
    <li><a href="#method-i-assert_silent">#assert_silent</a>
    
    <li><a href="#method-i-assert_throws">#assert_throws</a>
    
    <li><a href="#method-i-capture_io">#capture_io</a>
    
    <li><a href="#method-i-diff">#diff</a>
    
    <li><a href="#method-i-exception_details">#exception_details</a>
    
    <li><a href="#method-i-flunk">#flunk</a>
    
    <li><a href="#method-i-message">#message</a>
    
    <li><a href="#method-i-mu_pp">#mu_pp</a>
    
    <li><a href="#method-i-mu_pp_for_diff">#mu_pp_for_diff</a>
    
    <li><a href="#method-i-pass">#pass</a>
    
    <li><a href="#method-i-refute">#refute</a>
    
    <li><a href="#method-i-refute_empty">#refute_empty</a>
    
    <li><a href="#method-i-refute_equal">#refute_equal</a>
    
    <li><a href="#method-i-refute_in_delta">#refute_in_delta</a>
    
    <li><a href="#method-i-refute_in_epsilon">#refute_in_epsilon</a>
    
    <li><a href="#method-i-refute_includes">#refute_includes</a>
    
    <li><a href="#method-i-refute_instance_of">#refute_instance_of</a>
    
    <li><a href="#method-i-refute_kind_of">#refute_kind_of</a>
    
    <li><a href="#method-i-refute_match">#refute_match</a>
    
    <li><a href="#method-i-refute_nil">#refute_nil</a>
    
    <li><a href="#method-i-refute_operator">#refute_operator</a>
    
    <li><a href="#method-i-refute_predicate">#refute_predicate</a>
    
    <li><a href="#method-i-refute_respond_to">#refute_respond_to</a>
    
    <li><a href="#method-i-refute_same">#refute_same</a>
    
    <li><a href="#method-i-skip">#skip</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../History_txt.html">History</a>
  
    <li class="file"><a href="../Manifest_txt.html">Manifest</a>
  
    <li class="file"><a href="../README_txt.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../MiniTest.html">MiniTest</a>
  
    <li><a href="../MiniTest/Assertion.html">MiniTest::Assertion</a>
  
    <li><a href="../MiniTest/Assertions.html">MiniTest::Assertions</a>
  
    <li><a href="../MiniTest/Expectations.html">MiniTest::Expectations</a>
  
    <li><a href="../MiniTest/Mock.html">MiniTest::Mock</a>
  
    <li><a href="../MiniTest/Skip.html">MiniTest::Skip</a>
  
    <li><a href="../MiniTest/Spec.html">MiniTest::Spec</a>
  
    <li><a href="../MiniTest/Unit.html">MiniTest::Unit</a>
  
    <li><a href="../MiniTest/Unit/Guard.html">MiniTest::Unit::Guard</a>
  
    <li><a href="../MiniTest/Unit/TestCase.html">MiniTest::Unit::TestCase</a>
  
    <li><a href="../Object.html">Object</a>
  
    <li><a href="../PrideIO.html">PrideIO</a>
  
    <li><a href="../PrideLOL.html">PrideLOL</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module MiniTest::Assertions</h1>

  <div id="description" class="description">
    
<p><a href="../MiniTest.html">MiniTest</a> <a
href="Assertions.html">Assertions</a>.  All assertion methods accept a
<code>msg</code> which is printed if the assertion fails.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-diff" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">diff</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns the diff command to use in <a
href="Assertions.html#method-i-diff">diff</a>. Tries to intelligently
figure out what diff to use.</p>
          

          
          <div class="method-source-code" id="diff-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 70</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">diff</span>
  <span class="ruby-ivar">@diff</span> = <span class="ruby-keyword">if</span> <span class="ruby-constant">WINDOZE</span>
            <span class="ruby-string">&quot;diff.exe -u&quot;</span>
          <span class="ruby-keyword">else</span>
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">system</span>(<span class="ruby-string">&quot;gdiff&quot;</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__FILE__</span>)
              <span class="ruby-string">&quot;gdiff -u&quot;</span> <span class="ruby-comment"># solaris and kin suck</span>
            <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">system</span>(<span class="ruby-string">&quot;diff&quot;</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__FILE__</span>)
              <span class="ruby-string">&quot;diff -u&quot;</span>
            <span class="ruby-keyword">else</span>
              <span class="ruby-keyword">nil</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span> <span class="ruby-ivar">@diff</span>

  <span class="ruby-ivar">@diff</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- diff-source -->
          
        </div>

        

        
      </div><!-- diff-method -->

    
      <div id="method-c-diff-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">diff=</span><span
            class="method-args">(o)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the diff command to use in <a
href="Assertions.html#method-i-diff">diff</a>.</p>
          

          
          <div class="method-source-code" id="diff-3D-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">diff=</span> <span class="ruby-identifier">o</span>
  <span class="ruby-ivar">@diff</span> = <span class="ruby-identifier">o</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- diff-3D-source -->
          
        </div>

        

        
      </div><!-- diff-3D-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-assert" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert</span><span
            class="method-args">(test, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>test</code> is a true value.</p>
          

          
          <div class="method-source-code" id="assert-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert</span> <span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;Failed assertion, no message given.&quot;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">_assertions</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">test</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Proc</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">msg</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertion</span>, <span class="ruby-identifier">msg</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert-source -->
          
        </div>

        

        
      </div><!-- assert-method -->

    
      <div id="method-i-assert_block" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_block</span><span
            class="method-args">(msg = nil) { || ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless the block returns a true value.</p>
          

          
          <div class="method-source-code" id="assert_block-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_block</span> <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;NOTE: MiniTest::Unit::TestCase#assert_block is deprecated, use assert. It will be removed on or after 2012-06-01.&quot;</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-string">&quot;Expected block to return true value&quot;</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-keyword">yield</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_block-source -->
          
        </div>

        

        
      </div><!-- assert_block-method -->

    
      <div id="method-i-assert_empty" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_empty</span><span
            class="method-args">(obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>obj</code> is empty.</p>
          

          
          <div class="method-source-code" id="assert_empty-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_empty</span> <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to be empty&quot;</span> }
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">obj</span>, <span class="ruby-value">:empty?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">empty?</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_empty-source -->
          
        </div>

        

        
      </div><!-- assert_empty-method -->

    
      <div id="method-i-assert_equal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_equal</span><span
            class="method-args">(exp, act, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>exp == act</code> printing the difference between the
two, if possible.</p>

<p>If there is no visible difference but the assertion fails, you should
suspect that your #== is buggy, or your inspect output is missing crucial
details.</p>

<p>For floats use assert_in_delta.</p>

<p>See also: <a href="Assertions.html#method-c-diff">::diff</a></p>
          

          
          <div class="method-source-code" id="assert_equal-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>, <span class="ruby-string">&quot;&quot;</span>) { <span class="ruby-identifier">diff</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span> }
  <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">exp</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_equal-source -->
          
        </div>

        

        
      </div><!-- assert_equal-method -->

    
      <div id="method-i-assert_in_delta" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_in_delta</span><span
            class="method-args">(exp, act, delta = 0.001, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For comparing Floats.  Fails unless <code>exp</code> and <code>act</code>
are within <code>delta</code> of each other.</p>

<pre>assert_in_delta Math::PI, (22.0 / 7.0), 0.01</pre>
          

          
          <div class="method-source-code" id="assert_in_delta-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 226</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_in_delta</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">delta</span> = <span class="ruby-value">0.001</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">n</span> = (<span class="ruby-identifier">exp</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">act</span>).<span class="ruby-identifier">abs</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected |#{exp} - #{act}| (#{n}) to be &lt; #{delta}&quot;</span>}
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">delta</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">n</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_in_delta-source -->
          
        </div>

        

        
      </div><!-- assert_in_delta-method -->

    
      <div id="method-i-assert_in_epsilon" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_in_epsilon</span><span
            class="method-args">(a, b, epsilon = 0.001, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For comparing Floats.  Fails unless <code>exp</code> and <code>act</code>
have a relative error less than <code>epsilon</code>.</p>
          

          
          <div class="method-source-code" id="assert_in_epsilon-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_in_epsilon</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">epsilon</span> = <span class="ruby-value">0.001</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert_in_delta</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, [<span class="ruby-identifier">a</span>.<span class="ruby-identifier">abs</span>, <span class="ruby-identifier">b</span>.<span class="ruby-identifier">abs</span>].<span class="ruby-identifier">min</span> * <span class="ruby-identifier">epsilon</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_in_epsilon-source -->
          
        </div>

        

        
      </div><!-- assert_in_epsilon-method -->

    
      <div id="method-i-assert_includes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_includes</span><span
            class="method-args">(collection, obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>collection</code> includes <code>obj</code>.</p>
          

          
          <div class="method-source-code" id="assert_includes-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_includes</span> <span class="ruby-identifier">collection</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(collection)} to include #{mu_pp(obj)}&quot;</span>
  }
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">collection</span>, <span class="ruby-value">:include?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">obj</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_includes-source -->
          
        </div>

        

        
      </div><!-- assert_includes-method -->

    
      <div id="method-i-assert_instance_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_instance_of</span><span
            class="method-args">(cls, obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>obj</code> is an instance of <code>cls</code>.</p>
          

          
          <div class="method-source-code" id="assert_instance_of-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 254</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-identifier">cls</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to be an instance of #{cls}, not #{obj.class}&quot;</span>
  }

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-identifier">cls</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_instance_of-source -->
          
        </div>

        

        
      </div><!-- assert_instance_of-method -->

    
      <div id="method-i-assert_kind_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_kind_of</span><span
            class="method-args">(cls, obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>obj</code> is a kind of <code>cls</code>.</p>
          

          
          <div class="method-source-code" id="assert_kind_of-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-identifier">cls</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span> <span class="ruby-comment"># TODO: merge with instance_of</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to be a kind of #{cls}, not #{obj.class}&quot;</span> }

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-identifier">cls</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_kind_of-source -->
          
        </div>

        

        
      </div><!-- assert_kind_of-method -->

    
      <div id="method-i-assert_match" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_match</span><span
            class="method-args">(exp, act, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>exp</code> is <code>=~</code> <code>act</code>.</p>
          

          
          <div class="method-source-code" id="assert_match-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_match</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(exp)} to match #{mu_pp(act)}&quot;</span> }
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">act</span>, <span class="ruby-value">:&quot;=~&quot;</span>
  <span class="ruby-identifier">exp</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span> <span class="ruby-identifier">exp</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">exp</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">act</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">exp</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_match-source -->
          
        </div>

        

        
      </div><!-- assert_match-method -->

    
      <div id="method-i-assert_nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_nil</span><span
            class="method-args">(obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>obj</code> is nil</p>
          

          
          <div class="method-source-code" id="assert_nil-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 285</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to be nil&quot;</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_nil-source -->
          
        </div>

        

        
      </div><!-- assert_nil-method -->

    
      <div id="method-i-assert_operator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_operator</span><span
            class="method-args">(o1, op, o2 = UNDEFINED, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For testing with binary operators.</p>

<pre>assert_operator 5, :&lt;=, 4</pre>
          

          
          <div class="method-source-code" id="assert_operator-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_operator</span> <span class="ruby-identifier">o1</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">o2</span> = <span class="ruby-constant">UNDEFINED</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">assert_predicate</span> <span class="ruby-identifier">o1</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">msg</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">UNDEFINED</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o2</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(o1)} to be #{op} #{mu_pp(o2)}&quot;</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">o1</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">op</span>, <span class="ruby-identifier">o2</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_operator-source -->
          
        </div>

        

        
      </div><!-- assert_operator-method -->

    
      <div id="method-i-assert_output" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_output</span><span
            class="method-args">(stdout = nil, stderr = nil) { || ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if stdout or stderr do not output the expected results. Pass in nil
if you don’t care about that streams output. Pass in “” if you require it
to be silent.</p>

<p>See also: <a
href="Assertions.html#method-i-assert_silent">assert_silent</a></p>
          

          
          <div class="method-source-code" id="assert_output-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 308</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_output</span> <span class="ruby-identifier">stdout</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">stderr</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">out</span>, <span class="ruby-identifier">err</span> = <span class="ruby-identifier">capture_io</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">y</span> = <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">stderr</span>, <span class="ruby-identifier">err</span>, <span class="ruby-string">&quot;In stderr&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">stderr</span>
  <span class="ruby-identifier">x</span> = <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">stdout</span>, <span class="ruby-identifier">out</span>, <span class="ruby-string">&quot;In stdout&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">stdout</span>

  (<span class="ruby-operator">!</span><span class="ruby-identifier">stdout</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">stderr</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">y</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_output-source -->
          
        </div>

        

        
      </div><!-- assert_output-method -->

    
      <div id="method-i-assert_predicate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_predicate</span><span
            class="method-args">(o1, op, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For testing with predicates.</p>

<pre>assert_predicate str, :empty?</pre>

<p>This is really meant for specs and is front-ended by <a
href="Assertions.html#method-i-assert_operator">#assert_operator</a>:</p>

<pre>str.must_be :empty?</pre>
          

          
          <div class="method-source-code" id="assert_predicate-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_predicate</span> <span class="ruby-identifier">o1</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(o1)} to be #{op}&quot;</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">o1</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">op</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_predicate-source -->
          
        </div>

        

        
      </div><!-- assert_predicate-method -->

    
      <div id="method-i-assert_raises" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_raises</span><span
            class="method-args">(*exp) { || ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless the block raises one of <code>exp</code>. Returns the
exception matched so you can check the message, attributes, etc.</p>
          

          
          <div class="method-source-code" id="assert_raises-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_raises</span> *<span class="ruby-identifier">exp</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;#{exp.pop}.\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">last</span>

  <span class="ruby-identifier">should_raise</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">yield</span>
    <span class="ruby-identifier">should_raise</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Skip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">details</span> = <span class="ruby-node">&quot;#{msg}#{mu_pp(exp)} exception expected, not&quot;</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">include?</span> <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Skip</span> <span class="ruby-keyword">then</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">details</span> = <span class="ruby-node">&quot;#{msg}#{mu_pp(exp)} exception expected, not&quot;</span>
    <span class="ruby-identifier">assert</span>(<span class="ruby-identifier">exp</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ex</span><span class="ruby-operator">|</span>
             <span class="ruby-identifier">ex</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">Module</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-identifier">ex</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ex</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">class</span>
           }, <span class="ruby-identifier">exception_details</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">details</span>))

    <span class="ruby-keyword">return</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">exp</span> = <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">flunk</span> <span class="ruby-node">&quot;#{msg}#{mu_pp(exp)} expected but nothing was raised.&quot;</span> <span class="ruby-keyword">if</span>
    <span class="ruby-identifier">should_raise</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_raises-source -->
          
        </div>

        

        
      </div><!-- assert_raises-method -->

    
      <div id="method-i-assert_respond_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_respond_to</span><span
            class="method-args">(obj, meth, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>obj</code> responds to <code>meth</code>.</p>
          

          
          <div class="method-source-code" id="assert_respond_to-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">meth</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(obj)} (#{obj.class}) to respond to ##{meth}&quot;</span>
  }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">meth</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_respond_to-source -->
          
        </div>

        

        
      </div><!-- assert_respond_to-method -->

    
      <div id="method-i-assert_same" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_same</span><span
            class="method-args">(exp, act, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless <code>exp</code> and <code>act</code> are equal?</p>
          

          
          <div class="method-source-code" id="assert_same-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 379</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_same</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-identifier">data</span> = [<span class="ruby-identifier">mu_pp</span>(<span class="ruby-identifier">act</span>), <span class="ruby-identifier">act</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-identifier">mu_pp</span>(<span class="ruby-identifier">exp</span>), <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">object_id</span>]
    <span class="ruby-string">&quot;Expected %s (oid=%d) to be the same as %s (oid=%d)&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">data</span>
  }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-identifier">act</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_same-source -->
          
        </div>

        

        
      </div><!-- assert_same-method -->

    
      <div id="method-i-assert_send" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_send</span><span
            class="method-args">(send_ary, m = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p><code>send_ary</code> is a receiver, message and arguments.</p>

<p>Fails unless the call returns a true value TODO: I should prolly remove
this from specs</p>
          

          
          <div class="method-source-code" id="assert_send-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 393</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_send</span> <span class="ruby-identifier">send_ary</span>, <span class="ruby-identifier">m</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">recv</span>, <span class="ruby-identifier">msg</span>, *<span class="ruby-identifier">args</span> = <span class="ruby-identifier">send_ary</span>
  <span class="ruby-identifier">m</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">m</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(recv)}.#{msg}(*#{mu_pp(args)}) to return true&quot;</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">recv</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">msg</span>, *<span class="ruby-identifier">args</span>), <span class="ruby-identifier">m</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_send-source -->
          
        </div>

        

        
      </div><!-- assert_send-method -->

    
      <div id="method-i-assert_silent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_silent</span><span
            class="method-args">() { || ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if the block outputs anything to stderr or stdout.</p>

<p>See also: <a
href="Assertions.html#method-i-assert_output">assert_output</a></p>
          

          
          <div class="method-source-code" id="assert_silent-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 405</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_silent</span>
  <span class="ruby-identifier">assert_output</span> <span class="ruby-string">&quot;&quot;</span>, <span class="ruby-string">&quot;&quot;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_silent-source -->
          
        </div>

        

        
      </div><!-- assert_silent-method -->

    
      <div id="method-i-assert_throws" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_throws</span><span
            class="method-args">(sym, msg = nil) { || ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails unless the block throws <code>sym</code></p>
          

          
          <div class="method-source-code" id="assert_throws-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 414</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_throws</span> <span class="ruby-identifier">sym</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">default</span> = <span class="ruby-node">&quot;Expected #{mu_pp(sym)} to have been thrown&quot;</span>
  <span class="ruby-identifier">caught</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">catch</span>(<span class="ruby-identifier">sym</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">yield</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>     <span class="ruby-comment"># 1.9 exception</span>
      <span class="ruby-identifier">default</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;, not #{e.message.split(/ /).last}&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>         <span class="ruby-comment"># 1.8 exception</span>
      <span class="ruby-identifier">default</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;, not #{e.name.inspect}&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">caught</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">caught</span>, <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-identifier">default</span> }
<span class="ruby-keyword">end</span></pre>
          </div><!-- assert_throws-source -->
          
        </div>

        

        
      </div><!-- assert_throws-method -->

    
      <div id="method-i-capture_io" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">capture_io</span><span
            class="method-args">() { || ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Captures $stdout and $stderr into strings:</p>

<pre>out, err = capture_io do
  warn &quot;You did a bad thing&quot;
end

assert_match %r%bad%, err</pre>
          

          
          <div class="method-source-code" id="capture_io-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">capture_io</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'stringio'</span>

  <span class="ruby-identifier">orig_stdout</span>, <span class="ruby-identifier">orig_stderr</span>         = <span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">$stderr</span>
  <span class="ruby-identifier">captured_stdout</span>, <span class="ruby-identifier">captured_stderr</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>, <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">$stdout</span>, <span class="ruby-identifier">$stderr</span>                 = <span class="ruby-identifier">captured_stdout</span>, <span class="ruby-identifier">captured_stderr</span>

  <span class="ruby-keyword">yield</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">captured_stdout</span>.<span class="ruby-identifier">string</span>, <span class="ruby-identifier">captured_stderr</span>.<span class="ruby-identifier">string</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">$stdout</span> = <span class="ruby-identifier">orig_stdout</span>
  <span class="ruby-identifier">$stderr</span> = <span class="ruby-identifier">orig_stderr</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- capture_io-source -->
          
        </div>

        

        
      </div><!-- capture_io-method -->

    
      <div id="method-i-diff" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">diff</span><span
            class="method-args">(exp, act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns a diff between <code>exp</code> and <code>act</code>. If there is
no known diff command or if it doesn’t make sense to diff the output
(single line, short output), then it simply returns a basic comparison
between the two.</p>
          

          
          <div class="method-source-code" id="diff-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">diff</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;tempfile&quot;</span>

  <span class="ruby-identifier">expect</span> = <span class="ruby-identifier">mu_pp_for_diff</span> <span class="ruby-identifier">exp</span>
  <span class="ruby-identifier">butwas</span> = <span class="ruby-identifier">mu_pp_for_diff</span> <span class="ruby-identifier">act</span>
  <span class="ruby-identifier">result</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">need_to_diff</span> =
    <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Assertions</span>.<span class="ruby-identifier">diff</span> <span class="ruby-operator">&amp;&amp;</span>
    (<span class="ruby-identifier">expect</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)    <span class="ruby-operator">||</span>
     <span class="ruby-identifier">butwas</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;\n&quot;</span>)    <span class="ruby-operator">||</span>
     <span class="ruby-identifier">expect</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">30</span>         <span class="ruby-operator">||</span>
     <span class="ruby-identifier">butwas</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">30</span>         <span class="ruby-operator">||</span>
     <span class="ruby-identifier">expect</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">butwas</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-node">&quot;Expected: #{mu_pp exp}\n  Actual: #{mu_pp act}&quot;</span> <span class="ruby-keyword">unless</span>
    <span class="ruby-identifier">need_to_diff</span>

  <span class="ruby-constant">Tempfile</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;expect&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">a</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">expect</span>
    <span class="ruby-identifier">a</span>.<span class="ruby-identifier">flush</span>

    <span class="ruby-constant">Tempfile</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;butwas&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">b</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">butwas</span>
      <span class="ruby-identifier">b</span>.<span class="ruby-identifier">flush</span>

      <span class="ruby-identifier">result</span> = <span class="ruby-node">%x#{MiniTest::Assertions.diff} #{a.path} #{b.path}`</span>
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">%r^\-\-\- .+/</span>, <span class="ruby-string">&quot;--- expected&quot;</span>)
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">%r^\+\+\+ .+/</span>, <span class="ruby-string">&quot;+++ actual&quot;</span>)

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">klass</span> = <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">class</span>
        <span class="ruby-identifier">result</span> = [
                  <span class="ruby-string">&quot;No visible difference.&quot;</span>,
                  <span class="ruby-node">&quot;You should look at your implementation of #{klass}#==.&quot;</span>,
                  <span class="ruby-identifier">expect</span>
                 ].<span class="ruby-identifier">join</span> <span class="ruby-string">&quot;\n&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- diff-source -->
          
        </div>

        

        
      </div><!-- diff-method -->

    
      <div id="method-i-exception_details" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">exception_details</span><span
            class="method-args">(e, msg)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns details for exception <code>e</code></p>
          

          
          <div class="method-source-code" id="exception_details-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 458</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exception_details</span> <span class="ruby-identifier">e</span>, <span class="ruby-identifier">msg</span>
  [
   <span class="ruby-node">&quot;#{msg}&quot;</span>,
   <span class="ruby-node">&quot;Class: &lt;#{e.class}&gt;&quot;</span>,
   <span class="ruby-node">&quot;Message: &lt;#{e.message.inspect}&gt;&quot;</span>,
   <span class="ruby-string">&quot;---Backtrace---&quot;</span>,
   <span class="ruby-node">&quot;#{MiniTest::filter_backtrace(e.backtrace).join(&quot;\n&quot;)}&quot;</span>,
   <span class="ruby-string">&quot;---------------&quot;</span>,
  ].<span class="ruby-identifier">join</span> <span class="ruby-string">&quot;\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- exception_details-source -->
          
        </div>

        

        
      </div><!-- exception_details-method -->

    
      <div id="method-i-flunk" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flunk</span><span
            class="method-args">(msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails with <code>msg</code></p>
          

          
          <div class="method-source-code" id="flunk-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 472</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flunk</span> <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;Epic Fail!&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-keyword">false</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- flunk-source -->
          
        </div>

        

        
      </div><!-- flunk-method -->

    
      <div id="method-i-message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">message</span><span
            class="method-args">(msg = nil, ending = ".", &default)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Returns a proc that will output <code>msg</code> along with the default
message.</p>
          

          
          <div class="method-source-code" id="message-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 480</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">message</span> <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">ending</span> = <span class="ruby-string">&quot;.&quot;</span>, &amp;<span class="ruby-identifier">default</span>
  <span class="ruby-identifier">proc</span> {
    <span class="ruby-identifier">custom_message</span> = <span class="ruby-node">&quot;#{msg}.\n&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-node">&quot;#{custom_message}#{default.call}#{ending}&quot;</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div><!-- message-source -->
          
        </div>

        

        
      </div><!-- message-method -->

    
      <div id="method-i-mu_pp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mu_pp</span><span
            class="method-args">(obj)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This returns a human-readable version of <code>obj</code>. By default
inspect is called. You can override this to use pretty_print if you want.</p>
          

          
          <div class="method-source-code" id="mu_pp-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mu_pp</span> <span class="ruby-identifier">obj</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">encode</span> <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span> <span class="ruby-constant">Encoding</span>
  <span class="ruby-identifier">s</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mu_pp-source -->
          
        </div>

        

        
      </div><!-- mu_pp-method -->

    
      <div id="method-i-mu_pp_for_diff" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mu_pp_for_diff</span><span
            class="method-args">(obj)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This returns a diff-able human-readable version of <code>obj</code>. This
differs from the regular <a
href="Assertions.html#method-i-mu_pp">#mu_pp</a> because it expands escaped
newlines and makes hex-values generic (like object_ids). This uses <a
href="Assertions.html#method-i-mu_pp">#mu_pp</a> to do the first pass and
then cleans it up.</p>
          

          
          <div class="method-source-code" id="mu_pp_for_diff-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mu_pp_for_diff</span> <span class="ruby-identifier">obj</span> <span class="ruby-comment"># TODO: possibly rename</span>
  <span class="ruby-identifier">mu_pp</span>(<span class="ruby-identifier">obj</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r\\n/</span>, <span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r0x[a-f0-9]+/</span>, <span class="ruby-string">'0xXXXXXX'</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- mu_pp_for_diff-source -->
          
        </div>

        

        
      </div><!-- mu_pp_for_diff-method -->

    
      <div id="method-i-pass" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pass</span><span
            class="method-args">(msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>used for counting assertions</p>
          

          
          <div class="method-source-code" id="pass-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 490</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pass</span> <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- pass-source -->
          
        </div>

        

        
      </div><!-- pass-method -->

    
      <div id="method-i-refute" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute</span><span
            class="method-args">(test, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>test</code> is a true value</p>
          

          
          <div class="method-source-code" id="refute-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 497</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute</span> <span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;Failed refutation, no message given&quot;</span>
  <span class="ruby-keyword">not</span> <span class="ruby-identifier">assert</span>(<span class="ruby-operator">!</span> <span class="ruby-identifier">test</span>, <span class="ruby-identifier">msg</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute-source -->
          
        </div>

        

        
      </div><!-- refute-method -->

    
      <div id="method-i-refute_empty" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_empty</span><span
            class="method-args">(obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>obj</code> is empty.</p>
          

          
          <div class="method-source-code" id="refute_empty-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 505</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_empty</span> <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to not be empty&quot;</span> }
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">obj</span>, <span class="ruby-value">:empty?</span>
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">empty?</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_empty-source -->
          
        </div>

        

        
      </div><!-- refute_empty-method -->

    
      <div id="method-i-refute_equal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_equal</span><span
            class="method-args">(exp, act, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>exp == act</code>.</p>

<p>For floats use refute_in_delta.</p>
          

          
          <div class="method-source-code" id="refute_equal-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 516</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_equal</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(act)} to not be equal to #{mu_pp(exp)}&quot;</span>
  }
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">exp</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_equal-source -->
          
        </div>

        

        
      </div><!-- refute_equal-method -->

    
      <div id="method-i-refute_in_delta" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_in_delta</span><span
            class="method-args">(exp, act, delta = 0.001, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For comparing Floats.  Fails if <code>exp</code> is within
<code>delta</code> of <code>act</code></p>

<pre>refute_in_delta Math::PI, (22.0 / 7.0)</pre>
          

          
          <div class="method-source-code" id="refute_in_delta-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 528</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_in_delta</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">delta</span> = <span class="ruby-value">0.001</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">n</span> = (<span class="ruby-identifier">exp</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">act</span>).<span class="ruby-identifier">abs</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected |#{exp} - #{act}| (#{n}) to not be &lt; #{delta}&quot;</span>
  }
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">delta</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">n</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_in_delta-source -->
          
        </div>

        

        
      </div><!-- refute_in_delta-method -->

    
      <div id="method-i-refute_in_epsilon" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_in_epsilon</span><span
            class="method-args">(a, b, epsilon = 0.001, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For comparing Floats.  Fails if <code>exp</code> and <code>act</code> have
a relative error less than <code>epsilon</code>.</p>
          

          
          <div class="method-source-code" id="refute_in_epsilon-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 540</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_in_epsilon</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">epsilon</span> = <span class="ruby-value">0.001</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">refute_in_delta</span> <span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">a</span> * <span class="ruby-identifier">epsilon</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_in_epsilon-source -->
          
        </div>

        

        
      </div><!-- refute_in_epsilon-method -->

    
      <div id="method-i-refute_includes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_includes</span><span
            class="method-args">(collection, obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>collection</code> includes <code>obj</code></p>
          

          
          <div class="method-source-code" id="refute_includes-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 547</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_includes</span> <span class="ruby-identifier">collection</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(collection)} to not include #{mu_pp(obj)}&quot;</span>
  }
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">collection</span>, <span class="ruby-value">:include?</span>
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">obj</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_includes-source -->
          
        </div>

        

        
      </div><!-- refute_includes-method -->

    
      <div id="method-i-refute_instance_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_instance_of</span><span
            class="method-args">(cls, obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>obj</code> is an instance of <code>cls</code></p>
          

          
          <div class="method-source-code" id="refute_instance_of-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_instance_of</span> <span class="ruby-identifier">cls</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to not be an instance of #{cls}&quot;</span>
  }
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-identifier">cls</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_instance_of-source -->
          
        </div>

        

        
      </div><!-- refute_instance_of-method -->

    
      <div id="method-i-refute_kind_of" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_kind_of</span><span
            class="method-args">(cls, obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>obj</code> is a kind of <code>cls</code></p>
          

          
          <div class="method-source-code" id="refute_kind_of-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 568</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_kind_of</span> <span class="ruby-identifier">cls</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span> <span class="ruby-comment"># TODO: merge with instance_of</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to not be a kind of #{cls}&quot;</span> }
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-identifier">cls</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_kind_of-source -->
          
        </div>

        

        
      </div><!-- refute_kind_of-method -->

    
      <div id="method-i-refute_match" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_match</span><span
            class="method-args">(exp, act, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>exp</code> <code>=~</code> <code>act</code></p>
          

          
          <div class="method-source-code" id="refute_match-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 576</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_match</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(exp)} to not match #{mu_pp(act)}&quot;</span> }
  <span class="ruby-identifier">assert_respond_to</span> <span class="ruby-identifier">act</span>, <span class="ruby-value">:&quot;=~&quot;</span>
  <span class="ruby-identifier">exp</span> = (<span class="ruby-node">%r#{Regexp.escape exp}/</span>) <span class="ruby-keyword">if</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">exp</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">String</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">act</span>
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">exp</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_match-source -->
          
        </div>

        

        
      </div><!-- refute_match-method -->

    
      <div id="method-i-refute_nil" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_nil</span><span
            class="method-args">(obj, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>obj</code> is nil.</p>
          

          
          <div class="method-source-code" id="refute_nil-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 586</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_nil</span> <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to not be nil&quot;</span> }
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">nil?</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_nil-source -->
          
        </div>

        

        
      </div><!-- refute_nil-method -->

    
      <div id="method-i-refute_operator" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_operator</span><span
            class="method-args">(o1, op, o2 = UNDEFINED, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>o1</code> is not <code>op</code> <code>o2</code>. Eg:</p>

<pre class="ruby"><span class="ruby-identifier">refute_operator</span> <span class="ruby-value">1</span>, :<span class="ruby-operator">&gt;</span>, <span class="ruby-value">2</span> <span class="ruby-comment">#=&gt; pass</span>
<span class="ruby-identifier">refute_operator</span> <span class="ruby-value">1</span>, :<span class="ruby-operator">&lt;</span>, <span class="ruby-value">2</span> <span class="ruby-comment">#=&gt; fail</span>
</pre>
          

          
          <div class="method-source-code" id="refute_operator-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 597</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_operator</span> <span class="ruby-identifier">o1</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">o2</span> = <span class="ruby-constant">UNDEFINED</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">refute_predicate</span> <span class="ruby-identifier">o1</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">msg</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">UNDEFINED</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">o2</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(o1)} to not be #{op} #{mu_pp(o2)}&quot;</span>}
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">o1</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">op</span>, <span class="ruby-identifier">o2</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_operator-source -->
          
        </div>

        

        
      </div><!-- refute_operator-method -->

    
      <div id="method-i-refute_predicate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_predicate</span><span
            class="method-args">(o1, op, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For testing with predicates.</p>

<pre>refute_predicate str, :empty?</pre>

<p>This is really meant for specs and is front-ended by <a
href="Assertions.html#method-i-refute_operator">#refute_operator</a>:</p>

<pre>str.wont_be :empty?</pre>
          

          
          <div class="method-source-code" id="refute_predicate-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 612</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_predicate</span> <span class="ruby-identifier">o1</span>, <span class="ruby-identifier">op</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(o1)} to not be #{op}&quot;</span> }
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">o1</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">op</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_predicate-source -->
          
        </div>

        

        
      </div><!-- refute_predicate-method -->

    
      <div id="method-i-refute_respond_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_respond_to</span><span
            class="method-args">(obj, meth, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>obj</code> responds to the message <code>meth</code>.</p>
          

          
          <div class="method-source-code" id="refute_respond_to-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 620</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_respond_to</span> <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">meth</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) { <span class="ruby-node">&quot;Expected #{mu_pp(obj)} to not respond to #{meth}&quot;</span> }

  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">meth</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_respond_to-source -->
          
        </div>

        

        
      </div><!-- refute_respond_to-method -->

    
      <div id="method-i-refute_same" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">refute_same</span><span
            class="method-args">(exp, act, msg = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Fails if <code>exp</code> is the same (by object identity) as
<code>act</code>.</p>
          

          
          <div class="method-source-code" id="refute_same-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 629</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">refute_same</span> <span class="ruby-identifier">exp</span>, <span class="ruby-identifier">act</span>, <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">message</span>(<span class="ruby-identifier">msg</span>) {
    <span class="ruby-identifier">data</span> = [<span class="ruby-identifier">mu_pp</span>(<span class="ruby-identifier">act</span>), <span class="ruby-identifier">act</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-identifier">mu_pp</span>(<span class="ruby-identifier">exp</span>), <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">object_id</span>]
    <span class="ruby-string">&quot;Expected %s (oid=%d) to not be the same as %s (oid=%d)&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">data</span>
  }
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">exp</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-identifier">act</span>), <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- refute_same-source -->
          
        </div>

        

        
      </div><!-- refute_same-method -->

    
      <div id="method-i-skip" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">skip</span><span
            class="method-args">(msg = nil, bt = caller)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Skips the current test. Gets listed at the end of the run but doesn’t cause
a failure exit code.</p>
          

          
          <div class="method-source-code" id="skip-source">
            <pre><span class="ruby-comment"># File lib/minitest/unit.rb, line 641</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skip</span> <span class="ruby-identifier">msg</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">bt</span> = <span class="ruby-identifier">caller</span>
  <span class="ruby-identifier">msg</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;Skipped, no message given&quot;</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">MiniTest</span><span class="ruby-operator">::</span><span class="ruby-constant">Skip</span>, <span class="ruby-identifier">msg</span>, <span class="ruby-identifier">bt</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- skip-source -->
          
        </div>

        

        
      </div><!-- skip-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

