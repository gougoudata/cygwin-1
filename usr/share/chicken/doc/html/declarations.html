<html><head><title>CHICKEN User's Manual - Declarations</title></head><body>
<p> </p><a name="declarations"></a><h1>Declarations</h1><a name="declare"></a><h2>declare</h2><pre>[syntax] (declare DECLSPEC ...)</pre><p>Process declaration specifiers. Declarations always override any command-line settings.  Declarations are valid for the whole compilation-unit (source file), the position of the declaration in the source file can be arbitrary. Declarations are ignored in the interpreter but not in code evaluated at compile-time (by <tt>eval-when</tt> or in syntax extensions loaded via <tt>require-extension</tt> or <tt>require-for-syntax</tt>. <tt>DECLSPEC</tt> may be any of the following:</p><a name="always-bound"></a><h2>always-bound</h2><pre>[declaration specifier] (always-bound SYMBOL ...)</pre><p>Declares that the given variables are always bound and accesses to those have not to be checked.</p><a name="block"></a><h2>block</h2><pre>[declaration specifier] (block)</pre><p>Assume global variables are never redefined. This is the same as specifying the <tt>-block</tt> option.</p><a name="block-global"></a><h2>block-global</h2><a name="hide"></a><h2>hide</h2><pre>[declaration specifier] (block-global SYMBOL ...)
[declaration specifier] (hide SYMBOL ...)</pre><p>Declares that the toplevel bindings for <tt>SYMBOL ...</tt> should not be accessible from code in other compilation units or by <tt>eval</tt>. Access to toplevel bindings declared as block global is also more efficient.</p><a name="bound-to-procedure"></a><h2>bound-to-procedure</h2><pre>[declaration specifier] (bound-to-procedure SYMBOL ...)</pre><p>Declares that the given identifiers are always bound to procedure values.</p><a name="c-options"></a><h2>c-options</h2><pre>[declaration specifier] (c-options STRING ...)</pre><p>Declares additional C/C++ compiler options that are to be passed to the subsequent compilation pass that translates C to machine code. This declaration will only work if the source file is compiled with the <tt>csc</tt> compiler driver.</p><a name="check-c-syntax"></a><h2>check-c-syntax</h2><pre>[declaration specifier] (check-c-syntax)
[declaration specifier] (not check-c-syntax)</pre><p>Enables or disables syntax-checking of embedded C/C++ code fragments. Checking C syntax is the default.</p><a name="constant"></a><h2>constant</h2><pre>[declaration specifier] (constant SYMBOL ...)</pre><p>Declares the procedures with the names <tt>SYMBOL ...</tt> as constant, that is, as not having any side effects. This can help the compiler to remove non-side-effecting expressions.</p><a name="export"></a><h2>export</h2><pre>[declaration specifier] (export SYMBOL ...)</pre><p>The opposite of <tt>hide</tt>. All given identifiers will be exported and all toplevel variables not listed will be hidden and not be accessible outside of this compilation unit.</p><a name="emit-exports"></a><h2>emit-exports</h2><pre>[declaration specifier] (emit-exports STRING)</pre><p>Write exported toplevel variables to file with name <tt>STRING</tt>.</p><a name="emit-external-prototypes-first"></a><h2>emit-external-prototypes-first</h2><pre>[declaration specifier] (emit-external-prototypes-first)</pre><p>Emit prototypes for callbacks defined with <tt>define-external</tt> before any other foreign declarations. Equivalent to giving the <tt>-emit-external-prototypes-first</tt> option to the compiler.</p><a name="disable-interrupts"></a><h2>disable-interrupts</h2><pre>[declaration specifier] (disable-interrupts)
[declaration specifier] (not interrupts-enabled)</pre><p>Disable timer-interrupts checks in the compiled program. Threads can not be preempted in main- or library-units that contain this declaration.</p><a name="disable-warning"></a><h2>disable-warning</h2><pre>[declaration specifier] (disable-warning CLASS ...)</pre><p>Disable warnings of type <tt>CLASS ...</tt> (equivalent to the <tt>-disable-warning CLASS</tt> compiler option).</p><a name="import"></a><h2>import</h2><pre>[declaration specifier] (import SYMBOL-OR-STRING ...)</pre><p>Adds new imports to the list of externally available toplevel variables. Arguments to this declaration may be either strings (designating <tt>.exports</tt> files, without the file-extension) or symbols which directly designate imported variables.</p><a name="inline"></a><h2>inline</h2><pre>[declaration specifier] (inline)
[declaration specifier] (not inline)
[declaration specifier] (inline IDENTIFIER ...)
[declaration specifier] (not inline IDENTIFIER ...)</pre><p>If given without an identifier-list, inlining of known procedures is enabled (this is equivalent to the <tt>-inline</tt> compiler option). When an identifier-list is given, then inlining is enabled only for the specified global procedures. The negated forms <tt>(not inline)</tt> and <tt>(not inline IDENTIFIER)</tt> disable global inlining, or inlining for the given global procedures only, respectively.</p><a name="inline-limit"></a><h2>inline-limit</h2><pre>[declaration specifier] (inline-limit THRESHOLD)</pre><p>Sets the maximum size of procedures which may potentially be inlined. The default threshold is <tt>10</tt>.</p><a name="interrupts-enabled"></a><h2>interrupts-enabled</h2><pre>[declaration specifier] (interrupts-enabled)</pre><p>Enable timer-interrupts checks in the compiled program (the default).</p><a name="keep-shadowed-macros"></a><h2>keep-shadowed-macros</h2><pre>[declaration specifier] (keep-shadowed-macros)</pre><p>Normally, when a toplevel variable is assigned or defined that has the same name as a macro, the macro-definition will be removed (in addition to showing a warning). This declaration will disable the removal of the macro.</p><a name="lambda-lift"></a><h2>lambda-lift</h2><pre>[declaration specifier] (lambda-lift)</pre><p>Enables lambda-lifting (equivalent to the <tt>-lambda-lift</tt> option).</p><a name="link-options"></a><h2>link-options</h2><pre>[declaration specifier] (link-options STRING ...)</pre><p>Declares additional linker compiler options that are to be passed to the subsequent compilation pass that links the generated code into an executable or library.  This declaration will only work if the source file is compiled with the <tt>csc</tt> compiler driver.</p><a name="no-argc-checks"></a><h2>no-argc-checks</h2><pre>[declaration specifier] (no-argc-checks)</pre><p>Disables argument count checking.</p><a name="no-bound-checks"></a><h2>no-bound-checks</h2><pre>[declaration specifier] (no-bound-checks)</pre><p>Disables the bound-checking of toplevel bindings.</p><a name="no-procedure-checks"></a><h2>no-procedure-checks</h2><pre>[declaration specifier] (no-procedure-checks)</pre><p>Disables checking of values in operator position for being of procedure type.</p><a name="post-process"></a><h2>post-process</h2><pre>[declaration specifier] (post-process STRING ...)</pre><p>Arranges for the shell commands <tt>STRING ...</tt> to be invoked after the current file has been translated to C. Any occurrences of the substring <tt>$@@</tt> in the strings given for this declaration will be replaced by the pathname of the currently compiled file, without the file-extension. This declaration will only work if the source file is compiled with the <tt>csc</tt> compiler driver.</p><a name="profile"></a><h2>profile</h2><pre>[declaration specifier] (profile IDENTIFIER ...)</pre><p>Enable profiling exclusively for given identifiers. Normally the compiler enables profiling decorations for all globally defined procedures. With this declaration, profiling can be enabled for selected procedures.</p><a name="number-type"></a><h2>number-type</h2><a name="fixnum-arithmetic"></a><h2>fixnum-arithmetic</h2><pre>[declaration specifier] ([number-type] TYPE)
[declaration specifier] (fixnum-arithmetic)</pre><p>Declares that only numbers of the given type are used. <tt>TYPE</tt> may be <tt>fixnum</tt> or <tt>generic</tt> (which is the default).</p><a name="run-time-macros"></a><h2>run-time-macros</h2><pre>[declaration specifier] (run-time-macros)</pre><p>Equivalent to the compiler option of the same name - macros defined in the compiled code are also made available at runtime.</p><a name="standard-bindings"></a><h2>standard-bindings</h2><pre>[declaration specifier] (standard-bindings SYMBOL ...)
[declaration specifier] (not standard-bindings SYMBOL ...)</pre><p>Declares that all given standard procedures (or all if no symbols are specified) are never globally redefined.  If <tt>not</tt> is specified, then all but the given standard bindings are assumed to be never redefined.</p><a name="extended-bindings"></a><h2>extended-bindings</h2><pre>[declaration specifier] (extended-bindings SYMBOL ...)
[declaration specifier] (not extended-bindings SYMBOL ...)</pre><p>Declares that all given non-standard and CHICKEN-specific procedures (or all if no symbols are specified) are never globally redefined. If <tt>not</tt> is specified, then all but the given extended bindings are assumed to be never redefined.</p><a name="usual-integrations"></a><h2>usual-integrations</h2><pre>[declaration specifier] (usual-integrations SYMBOL ...)
[declaration specifier] (not usual-integrations SYMBOL ...)</pre><p>Declares that all given standard and extended bindings (or all if no symbols are specified) are never globally redefined.  If <tt>not</tt> is specified, then all but the given standard and extended bindings are assumed to be never redefined. Note that this is the default behaviour, unless the <tt>-no-usual-integrations</tt> option has been given.</p><a name="unit"></a><h2>unit</h2><pre>[declaration specifier] (unit SYMBOL)</pre><p>Specify compilation unit-name (if this is a library)</p><a name="unsafe"></a><h2>unsafe</h2><pre>[declaration specifier] (unsafe)
[declaration specifier] (not safe)</pre><p>Do not generate safety-checks. This is the same as specifying the <tt>-unsafe</tt> option.  Also implies</p><pre>(declare (no-bound-checks) (no-procedure-checks) (no-argc-checks))</pre><a name="unused"></a><h2>unused</h2><pre>[declaration specifier] (unused SYMBOL ...)</pre><p>Disables any warnings when the global variable <tt>SYMBOL</tt> is not defined but used,  or defined but never used and not exported.</p><a name="uses"></a><h2>uses</h2><pre>[declaration specifier] (uses SYMBOL ...)</pre><p>Gives a list of used library-units. Before the toplevel-expressions of the main-module are executed, all used units evaluate their toplevel-expressions in the order in which they appear in this declaration. If a library unit A uses another unit B, then B's toplevel expressions are evaluated before A's.  Furthermore, the used symbols are registered as features during compile-time, so <tt>cond-expand</tt> knows about them.</p><p>Previous: <a href="pattern-matching.html" class="internal">Pattern matching</a></p><p>Next: <a href="parameters.html" class="internal">Parameters</a></p>
</body></html>