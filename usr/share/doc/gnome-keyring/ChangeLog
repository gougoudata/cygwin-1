# Generate automatically. Do not edit.

commit 29ed79acde7ebb3f7b2f8283687e1f2acffb4609
Author: Debarshi Ray <debarshir@gnome.org>
Date:   2013-02-27

    Release 3.6.3

 NEWS         | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit c97f68fc9df2f6a72a3f540bb872afb96a8edd48
Author: Stef Walter <stefw@gnome.org>
Date:   2013-02-15

    dbus: Don't reverse the order of items returned from SearchItems()
    
    Applications expect the latest item to be returned first. We sort
    the items carefully. Fix regression which reverses them.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=693884

 daemon/dbus/gkd-secret-objects.c | 3 +++
 1 file changed, 3 insertions(+)

commit 50dd2023aa1056fe43c658d5ae9fdffeee285d55
Author: ManojKumar Giri <mgiri@redhat.com>
Date:   2012-12-05

    Updated Odia Translation with FUEL implementation.

 po/or.po | 485 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 283 insertions(+), 202 deletions(-)

commit f13e7c44666914efe83153fcbb136ecdc5a8796f
Author: Shankar Prasad <svenkate@redhat.com>
Date:   2012-11-27

    Updated kn translation

 po/kn.po | 302 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 142 insertions(+), 160 deletions(-)

commit 3e9d0fa81b105f47186b8e8725c6aefaeddf0c54
Author: Gheyret Kenji <gheyret@gmail.com>
Date:   2012-11-18

    updated Uyghur translation

 po/ug.po | 447 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 262 insertions(+), 185 deletions(-)

commit c8b69d2a82806d0d3dd041a6d2885fe90817e277
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-12

    Release 3.6.2

 NEWS         | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit c6a8c852ad4a43da6c5709ad98e38a32a6fde560
Author: Stef Walter <stefw@gnome.org>
Date:   2012-11-09

    dbus: Handle empty secrets correctly
    
     * Don't assume an error occurred when retrieving an empty
       secret from the store.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=687979

 daemon/dbus/gkd-secret-session.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f7b73862afb8db5f62b692958d6e77d9b7fdb12e
Author: Simonas Kazlauskas <simonas@kazlauskas.me>
Date:   2012-10-26

    Wait for XDG_DATA_HOME environment variable
    
    https://bugzilla.gnome.org/show_bug.cgi?id=686934

 daemon/gkd-util.c | 1 +
 1 file changed, 1 insertion(+)

commit fe3781f822251b047d1456d0af435d3536b104c5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-15

    Release version 3.6.1

 NEWS         | 8 ++++++++
 configure.ac | 2 +-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 2454e2d4f53472b502abcac8bab9ded03f269d62
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-13

    dbus: Don't leave unlocked keyring as consequence of changing password
    
     * When changing the keyring for a password, we left the credential
       for the new password set for the keyring. This means that the
       keyring could be unlocked at that point. Clear it correctly.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=686085

 daemon/dbus/gkd-secret-change.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit a77a12b190ccdb3004992789fbd9e18fd4417595
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-13

    dbus: Clear prompt warning when prompting for new password
    
     * When user enters original password incorrectly, and tries again
       when prompting for the new password the warning wasn't cleared
       from the prompt.
     * Clear warning prompt correctly.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=686084

 daemon/dbus/gkd-secret-change.c | 1 +
 1 file changed, 1 insertion(+)

commit c9bb11a65ad66e948b3384ad9e22a224381d36e4
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-13

    dbus: Fix regression in password changing
    
     * We didn't unlock the keyring correctly with the old password,
       because we deleted the credential object before trying to set
       the new credential.
     * Also fix several leaks in the password change prompt object.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=686083

 daemon/dbus/gkd-secret-change.c | 32 ++++++++++++++++++++++++--------
 1 file changed, 24 insertions(+), 8 deletions(-)

commit e356da9f2dc4c93c8512248de5f3f750e36f2a83
Author: Sayak Sarkar <sayak.bugsmith@gmail.com>
Date:   2012-10-15

    Updated Bengali India Translations

 po/bn_IN.po | 458 ++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 258 insertions(+), 200 deletions(-)

commit 741c7bafea48c8856c3e9d531e0bc8ce5c4c353a
Author: Marián Čavojský <cavo+gnomel10n@cavo.sk>
Date:   2012-10-14

    Updated slovak translation

 po/sk.po | 428 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 237 insertions(+), 191 deletions(-)

commit 820a52ad8da13f85c9378494bd6c2e8d5c2281f3
Author: Shankar Prasad <svenkate@redhat.com>
Date:   2012-10-14

    Updated Kannada Translations

 po/kn.po | 403 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 244 insertions(+), 159 deletions(-)

commit b7648ca3864cf8d952468bae299806b0fcda5442
Author: Stef Walter <stefw@gnome.org>
Date:   2012-10-12

    secret-store: Set the schema name correctly on loaded items
    
     * When we loaded items from the keyring we didn't set the schema
       correctly.
     * This causes any searches for the item that include a schema
       in the search parameters to fail.
     * Also caused problems storing items, when it was expected that
       the item would replace any already stored. This uses a search
       internally.
     * Fix and add a test for this case, both for encrypted and
       plaintext keyring files.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681727

 pkcs11/secret-store/gkm-secret-binary.c            |   9 +++++---
 pkcs11/secret-store/gkm-secret-textual.c           |  15 +++++++++++---
 .../tests/files/encrypted-with-schema.keyring      | Bin 0 -> 404 bytes
 .../tests/files/plain-with-schema.keyring          |  23 +++++++++++++++++++++
 pkcs11/secret-store/tests/test-secret-binary.c     |  21 +++++++++++++++++++
 pkcs11/secret-store/tests/test-secret-textual.c    |  23 +++++++++++++++++++++
 6 files changed, 85 insertions(+), 6 deletions(-)

commit 34467afa89c1eabf16bf65b89f35b62cc61bf9d9
Author: Anish A <aneesh.nl@gmail.com>
Date:   2012-10-05

    Revert "Updated Malayalam translation"
    
    This reverts commit 788dd331e53c10eac637d9dddcd2f60f780ea8ac.
    I comitted a mistake

 po/ml.po | 270 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 130 insertions(+), 140 deletions(-)

commit 788dd331e53c10eac637d9dddcd2f60f780ea8ac
Author: Anish A <aneesh.nl@gmail.com>
Date:   2012-10-05

    Updated Malayalam translation

 po/ml.po | 270 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 140 insertions(+), 130 deletions(-)

commit a807039bec146aed886338065f103c3044892b2b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-21

    daemon: Call setlocale() before completing initialization
    
    A new LANG environment variable can be received during late
    initialization (from gnome-keyring-daemon --start). So call
    setlocale() so that the new environment variable can take effect.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=684539

 daemon/gkd-main.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 0c71452290977332a0e86d9eb0d04b291cce2263
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-19

    rpc-layer: Fix memory leak in call state pool
    
    https://bugzilla.gnome.org/show_bug.cgi?id=684351

 pkcs11/rpc-layer/gkm-rpc-module.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit 8afb408a54a68402340dc257fea44bf1c7061b31
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-25

    Release version 3.6.0

 NEWS         | 3 +++
 configure.ac | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit c072ecddf59037fc5b89a7790059fc18502480e9
Author: Noriko Mizumoto <noriko@fedoraproject.org>
Date:   2012-09-25

    [l10n] Update Japanese translation

 po/ja.po | 264 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 119 insertions(+), 145 deletions(-)

commit ed8ceac558d4011e766568c0a3c8e219017b060b
Author: Rūdolfs Mazurs <rudolfsm@src.gnome.org>
Date:   2012-09-24

    Updated Latvian translation

 po/lv.po | 307 +++++++++++++++++++++++++--------------------------------------
 1 file changed, 123 insertions(+), 184 deletions(-)

commit 835794186ec2e97bcb223e474e0906fce7364729
Author: Rajesh Ranjan <rranjan@redhat.com>
Date:   2012-09-20

    hindi update

 po/hi.po | 458 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 263 insertions(+), 195 deletions(-)

commit 1df512b0b21622a174392db9ddf963f5db5dd5cc
Author: Ani Peter <apeter@redhat.com>
Date:   2012-09-18

    Updated Malayalam file

 po/ml.po | 465 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 263 insertions(+), 202 deletions(-)

commit bbe500cf536b94117561f0df252692813029af7e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-18

    Release version 3.5.92

 NEWS         | 3 +++
 configure.ac | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit bff6e54ba64a6ef7a69b585fa12e9168ff748615
Author: Timo Jyrinki <timo@debian.org>
Date:   2012-09-15

    Finnish translation update by Jiri Grönroos

 po/fi.po | 228 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 142 insertions(+), 86 deletions(-)

commit 8d6ccd84c7bfaae6d64b255204dfaf1390971eb8
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2012-09-06

    Updated Thai translation.

 po/th.po | 370 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 231 insertions(+), 139 deletions(-)

commit 1ade13427b11770851a075d670697ebd69c73a88
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:   2012-09-05

    Updated Indonesian translation

 po/id.po | 358 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 204 insertions(+), 154 deletions(-)

commit 877bf1a6a8decc860eb8f850a0e81355918a0242
Author: Stef Walter <stefw@gnome.org>
Date:   2012-09-03

    Release 3.5.91

 NEWS         | 3 +++
 configure.ac | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 5208ba7611822fc911626a7ed71bf3e6b3baab6f
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2012-09-03

    Updated Polish translation

 po/pl.po | 123 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 64 insertions(+), 59 deletions(-)

commit 9fe8542e66f5cfac397ca954ce9a8a671bfdab48
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   2012-09-02

    updated Tamil translation

 po/ta.po | 139 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 77 insertions(+), 62 deletions(-)

commit 97f45d7ca195e4f5cec8a21afb35f049c5dd49bf
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2012-09-01

    Updated Vietnamese translation

 po/vi.po | 75 ++++++++++++++++++++++++++++++----------------------------------
 1 file changed, 35 insertions(+), 40 deletions(-)

commit 19d125c45c0677367af43a942c1da6018565f39f
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2012-09-01

    po/vi: import from Damned Lies

 po/vi.po | 1428 +++++++++++++++++++++++++++++---------------------------------
 1 file changed, 678 insertions(+), 750 deletions(-)

commit 2722c695d1f5f48ea238e1e6547096687608fab4
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   2012-08-28

    Implemented FUEL entries to Assamese translation

 po/as.po | 102 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 51 insertions(+), 51 deletions(-)

commit 4cba271bf31bb128fff80e98ca1969825e7bec60
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-20

    Release version 3.5.90

 NEWS         | 7 +++++++
 configure.ac | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit e8be3f22c196d727259e8bcb374e28885bfd4b74
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2012-08-17

    Updated Galician translations

 po/gl.po | 142 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 72 insertions(+), 70 deletions(-)

commit 747b37bbd8fb82830524c8603f6fcf1ceae605dc
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-11

    Use the XDG directories for storing keys
    
     * If the new XDG directory doesn't exist, and the old
       ~/.gnome2/keyrings does exist, then continue to use that
     * Otherwise create the new directory in g_get_user_data_dir() as
       appropriate.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=613644

 daemon/dbus/gkd-secret-service.c        | 30 ++++++++++++++++++++++----
 pkcs11/gkm/gkm-util.c                   | 37 +++++++++++++++++++++++++++++++++
 pkcs11/gkm/gkm-util.h                   |  2 ++
 pkcs11/gnome2-store/gkm-gnome2-module.c |  7 ++++++-
 pkcs11/secret-store/gkm-secret-module.c | 11 +++++-----
 5 files changed, 77 insertions(+), 10 deletions(-)

commit 6700ef0a6aa8a43a4ba2b43b30a85206407d1264
Author: Sandeep Sheshrao Shedmake <sshedmak@redhat.com>
Date:   2012-08-16

    Updated Marathi Translations

 po/mr.po | 458 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 259 insertions(+), 199 deletions(-)

commit 6da2939d0b6572c445555985da3ac5da234ad4f6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-08

    daemon: When --replace quit all running daemons
    
     * When using --replace we assume that we're supposed to replace
       all running daemons in the session, rather than just the
       first we discovered.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681449

 daemon/gkd-main.c | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 1cf271ccf8652fc63b6d63dfa80320b7e6e072c1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-08

    daemon: If control directory in environment use when replacing
    
     * When replacing another daemon always prefer the control
       directory discovered through the environment. This way
       ssh and gpg work with a --replace'd gnome-keyring-daemon.
     * Previously we would use the last control directory discovered
       which meant that if gnome-keyring-daemon had crashed, and had
       later been restarted via dbus, then the control directory
       for the last daemon was used, rather than the one in the env.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681449

 daemon/gkd-main.c | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 54459813dc5e5a2fe92ee404487d1e8d90da9917
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-08

    daemon: Be quiet while replacing another daemon
    
     * When doing --replace don't complain that the other daemon
       cannot be reached. It may have exited but we still want to
       use the environment it setup.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681449

 daemon/control/gkd-control-client.c      | 31 +++++++++++++++++++------------
 daemon/control/gkd-control.h             |  7 ++++++-
 daemon/control/tests/frob-control-quit.c |  2 +-
 daemon/gkd-main.c                        |  2 +-
 4 files changed, 27 insertions(+), 15 deletions(-)

commit c95d1520bcf23370afbc1933d9c67ceca82ca785
Author: Werner Koch <wk@gnupg.org>
Date:   2012-08-09

    Improve the gkm transaction tests
    
    * pkcs11/gkm/tests/test-transaction.c (test_write_file): Run test
    twice.
    (test_write_file_abort_gone, test_write_file_abort_revert): Ditto.
    (test_write_large_file): New.
    (main): Add new tests.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657234

 pkcs11/gkm/tests/test-transaction.c | 85 +++++++++++++++++++++++++++++++++++--
 1 file changed, 82 insertions(+), 3 deletions(-)

commit 7f31eebd35a84ed4c09970edb0b8d99a6a8af6f5
Author: Werner Koch <wk@gnupg.org>
Date:   2012-08-01

    Provide fallback for file systems without working hardlinks
    
    * pkcs11/gkm/gkm-transaction.c (O_BINARY): Add fallback for Windows.
    (copy_to_temp_file): New.
    (begin_link_temporary_if_exists): Detect failure link(2) and resort to
    a copy file method.
    --
    
    See bug 657234 for a description of the problem.  The culprit is the
    CIFS implementation on EMC servers.  At least VFAT file systems should
    have the same problem, thus the patch is a general improvement.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657234

 pkcs11/gkm/gkm-transaction.c | 146 +++++++++++++++++++++++++++++++++++++++----
 1 file changed, 135 insertions(+), 11 deletions(-)

commit dff0a6edd2c02602b24476296855b4f63f99379f
Author: raveit65 <chat-to-me@raveit.de>
Date:   2012-08-09

    Add MATE Desktop to desktop files
    
     * So that gnome-keyring starts up on the MATE desktop.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681482

 daemon/gnome-keyring-gpg.desktop.in.in     | 2 +-
 daemon/gnome-keyring-pkcs11.desktop.in.in  | 2 +-
 daemon/gnome-keyring-secrets.desktop.in.in | 2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 979bf3c2a3a264630eace3ba2da0db14c59a67de
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-08

    secret-store: Mark a secret item as 'used' when accessed
    
     * This makes the gpg-agent idle feature work correctly
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681081

 pkcs11/secret-store/gkm-secret-item.c | 1 +
 1 file changed, 1 insertion(+)

commit 111a1327bd55b8f81a44ac37b3af399eb0121126
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-08

    gpg-agent: Hook up the TTL cache option
    
     * So that when the gsettings gpg-cache-method is 'idle' or 'timeout'
       we use gpg-cache-ttl to control how long the passphrase is cached
       for.
     * This is a regression from 3.3.x
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681081

 daemon/gpg-agent/gkd-gpg-agent-ops.c | 40 ++++++++++++++++++++++--------------
 1 file changed, 25 insertions(+), 15 deletions(-)

commit 3de11dd0c8929a93b6f3069ef78ed484274a8e86
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-08

    schema: Update description for gpg-cache-method
    
     * Document the various method strings that can be present here
    
    https://bugzilla.gnome.org/show_bug.cgi?id=681081

 schema/org.gnome.crypto.cache.gschema.xml | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 41b66f65d6a8c3adb055863590ef0d865587b56c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-08-06

    Release version 3.5.5

 NEWS         | 6 ++++++
 configure.ac | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit c90753485992e99de3be4e678dc6147b0a80b41d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-26

    tool: Initialize pkcs#11 before beginning import
    
    https://bugzilla.gnome.org/show_bug.cgi?id=680653

 tool/gkr-tool-import.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 840517c4b7eafedb77d2aac62aa6c73a0241517f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-24

    Rename the p11-kit module file
    
     * p11-kit now wants module configs to end in .module
    
    See: https://bugs.freedesktop.org/show_bug.cgi?id=52158

 .gitignore                               | 1 +
 configure.ac                             | 2 +-
 pkcs11/rpc-layer/Makefile.am             | 2 +-
 pkcs11/rpc-layer/gnome-keyring-module.in | 7 -------
 pkcs11/rpc-layer/gnome-keyring.module.in | 7 +++++++
 5 files changed, 10 insertions(+), 9 deletions(-)

commit 26a694b1a18a92580d211ec2d18803af0ad05d99
Author: Yclept Nemo <orbisvicis@gmail.com>
Date:   2012-07-18

    daemon: Use setsid() to become a process leader when daemonizing
    
     * Fixes corner cases where people try to use gnome-keyring-daemon
       from the console.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=679892

 daemon/gkd-main.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit f61b94d12cb84a4929e19cde812f0a1423380b6a
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-16

    Some 'make distcheck' fixes

 daemon/dbus/tests/Makefile.am           | 3 +++
 daemon/dbus/tests/test-secret-signals.c | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit b6e5033c9936ddd29e6d1fb18826f86c1fdced4e
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-16

    Release version 3.5.4
    
     * And fix various issues preventing 'make distcheck'

 NEWS                                    | 10 ++++++++++
 configure.ac                            |  2 +-
 daemon/dbus/tests/Makefile.am           |  1 +
 pkcs11/secret-store/gkm-secret-fields.c |  2 +-
 4 files changed, 13 insertions(+), 2 deletions(-)

commit 8f894d33b164dc216f53c24c5deeb8d8913f7ea0
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-16

    Match common old GnomeKeyringItemType schemas to xdg:schema attribute
    
     * Properly handle the case where no xdg:schema attribute is stored
       in the keyring, and the caller tries to search with schema names:
        - org.gnome.keyring.NetworkPassword
        - org.gnome.keyring.Note
     * This allows the above items stored by libgnome-keyring to be matched
       by libsecret.

 .gitignore                                      |   1 +
 pkcs11/secret-store/gkm-secret-fields.c         | 109 ++++++-----
 pkcs11/secret-store/gkm-secret-fields.h         |   6 +
 pkcs11/secret-store/gkm-secret-search.c         |  59 +++++-
 pkcs11/secret-store/gkm-secret-search.h         |   2 +
 pkcs11/secret-store/tests/Makefile.am           |   4 +-
 pkcs11/secret-store/tests/files/schema1.keyring | Bin 0 -> 769 bytes
 pkcs11/secret-store/tests/files/schema2.keyring | Bin 0 -> 1005 bytes
 pkcs11/secret-store/tests/test-secret-fields.c  |   4 +-
 pkcs11/secret-store/tests/test-secret-schema.c  | 240 ++++++++++++++++++++++++
 10 files changed, 369 insertions(+), 56 deletions(-)

commit 9d5c86537af8940d26a573da82cafb69640438b2
Author: Stef Walter <stefw@gnome.org>
Date:   2012-07-16

    Convert from EggBytes to GBytes
    
     * We were using EggBytes while GBytes was not yet in a stable
       glib release

 configure.ac                                       |   2 +-
 egg/Makefile.am                                    |   2 -
 egg/egg-armor.c                                    |  20 +-
 egg/egg-armor.h                                    |   8 +-
 egg/egg-asn1x.c                                    | 184 ++++-----
 egg/egg-asn1x.h                                    |  38 +-
 egg/egg-bytes.c                                    | 454 ---------------------
 egg/egg-bytes.h                                    | 102 -----
 egg/egg-dn.c                                       |  35 +-
 egg/egg-dn.h                                       |   6 +-
 egg/egg-openssl.c                                  |  13 +-
 egg/egg-openssl.h                                  |   6 +-
 egg/egg-symkey.c                                   |  64 +--
 egg/egg-symkey.h                                   |   6 +-
 egg/egg-testing.h                                  |   4 +-
 egg/tests/test-asn1.c                              | 284 ++++++-------
 egg/tests/test-asn1x.c                             |  10 +-
 egg/tests/test-dn.c                                |  30 +-
 egg/tests/test-openssl.c                           |  36 +-
 pkcs11/gkm/gkm-attributes.c                        |   5 +-
 pkcs11/gkm/gkm-attributes.h                        |   4 +-
 pkcs11/gkm/gkm-certificate.c                       |  50 +--
 pkcs11/gkm/gkm-certificate.h                       |   4 +-
 pkcs11/gkm/gkm-data-asn1.c                         |  12 +-
 pkcs11/gkm/gkm-data-der.c                          | 126 +++---
 pkcs11/gkm/gkm-data-der.h                          |  59 ++-
 pkcs11/gkm/gkm-serializable.c                      |   4 +-
 pkcs11/gkm/gkm-serializable.h                      |  10 +-
 pkcs11/gkm/tests/test-certificate.c                |  12 +-
 pkcs11/gkm/tests/test-data-asn1.c                  |  10 +-
 pkcs11/gkm/tests/test-data-der.c                   | 100 ++---
 pkcs11/gnome2-store/gkm-gnome2-private-key.c       |  16 +-
 pkcs11/gnome2-store/gkm-gnome2-public-key.c        |   6 +-
 pkcs11/gnome2-store/gkm-gnome2-storage.c           |  34 +-
 .../gnome2-store/tests/test-gnome2-private-key.c   |  13 +-
 pkcs11/gnome2-store/tests/test-gnome2-storage.c    |   6 +-
 pkcs11/roots-store/gkm-roots-module.c              |  16 +-
 pkcs11/roots-store/gkm-roots-trust.c               |   4 +-
 pkcs11/ssh-store/gkm-ssh-openssh.c                 |  24 +-
 pkcs11/ssh-store/gkm-ssh-openssh.h                 |   6 +-
 pkcs11/ssh-store/gkm-ssh-private-key.c             |  10 +-
 pkcs11/ssh-store/tests/test-ssh-openssh.c          |   6 +-
 pkcs11/xdg-store/gkm-xdg-module.c                  |  20 +-
 pkcs11/xdg-store/gkm-xdg-trust.c                   |  96 ++---
 pkcs11/xdg-store/tests/dump-trust-file.c           |  24 +-
 pkcs11/xdg-store/tests/frob-trust-file.c           |  46 +--
 46 files changed, 724 insertions(+), 1303 deletions(-)

commit d31a26df7ce8d9c084b9c66fe00458683dde9864
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-28

    gpg-agent: Encode passwords when --data was requested
    
     * Use URI encoding to return passwords when gnupg calls us with
       a --data argument.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=678771

 daemon/gpg-agent/gkd-gpg-agent-ops.c | 41 ++++++++++++++++++++++++++++++++----
 1 file changed, 37 insertions(+), 4 deletions(-)

commit 63ea3bfaa8c15406790553c5cf7348d56e30f012
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-28

    gpg-agent: Don't barf when retrieving password when not unlocked
    
     * Secret store returns CKR_USER_NOT_LOGGED_IN when password doesn't
       exist. Don't g_warning in that case

 daemon/gpg-agent/gkd-gpg-agent-ops.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 66eef08df67047f70678764a223ae4d42a9708f3
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-28

    dbus: Don't log into token if already logged in

 daemon/dbus/gkd-secret-service.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit e276b7ac8ca7ce51b117fc4e963928886664a7e5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    dbus: The Created and Modified properties are uint64
    
     * Previously we had the Created and Modified properties be
       int64 dbus properties. However the Secret Service API says
       they should be uint64.
     * libgnome-keyring was updated in the 3.3.x cycle to support
       either the old or new type.
     * libsecret expects uint64.

 daemon/dbus/gkd-secret-property.c | 39 +++++++++++++++++++++------------------
 1 file changed, 21 insertions(+), 18 deletions(-)

commit 398c356dbacb071bef5f91c5d1ed16d9083ecfb1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    dbus: Expose the 'session' and 'login' keyrings as aliases
    
     * The Secret Service API supports the concept of aliases, so
       expose the 'session' and 'login' keyrings as aliases, so
       that callers can identify which keyrings have those special
       behaviors.

 daemon/dbus/gkd-secret-service.c | 24 +++++++++++++++++++-----
 1 file changed, 19 insertions(+), 5 deletions(-)

commit 8ce8788e850357a1467e6f18ca952248888da116
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    daemon: Emit secret service signals when collections/items change
    
     * Emit the Secret Service DBus API signals when collections/items
       change.
     * Also fire the PropertiesChanged signal appropriately

 .gitignore                              |   2 +
 daemon/dbus/gkd-secret-create.c         |   6 +-
 daemon/dbus/gkd-secret-objects.c        | 391 ++++++++++++--
 daemon/dbus/gkd-secret-objects.h        |  19 +
 daemon/dbus/gkd-secret-service.c        | 116 +++-
 daemon/dbus/gkd-secret-service.h        |   6 +
 daemon/dbus/gkd-secret-unlock.c         |  16 +
 daemon/dbus/tests/Makefile.am           |  13 +-
 daemon/dbus/tests/files/test.keyring    | Bin 0 -> 180 bytes
 daemon/dbus/tests/test-secret-signals.c | 916 ++++++++++++++++++++++++++++++++
 10 files changed, 1432 insertions(+), 53 deletions(-)

commit 8a1fd0725d1d5f4ab485d2203772fccb81c63364
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    daemon: Perform initialization in the main loop
    
     * So that we can handle signals during initialization

 daemon/gkd-main.c | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit e31a7b095517d2f3cabf17cb15f469214c48a0a7
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    egg: Add ability to run tests in a mainloop without a thread
    
     * Lets us do async stuff without the added complication of having
       another thread running the main loop.

 egg/egg-testing.c | 95 +++++++++++++++++++++++++++++++++++++++++++++++++------
 egg/egg-testing.h |  4 +++
 2 files changed, 90 insertions(+), 9 deletions(-)

commit e4f2dd1a5e37884c3eb1c93322c1b71b70daedac
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    Quiet down messages during tests
    
     * Several of these are common messages, so move them to debug
       logs.

 daemon/gkd-capability.c               | 3 ++-
 pkcs11/gkm/gkm-certificate.c          | 6 ++++--
 pkcs11/roots-store/gkm-roots-module.c | 4 +++-
 pkcs11/xdg-store/gkm-xdg-module.c     | 4 +++-
 4 files changed, 12 insertions(+), 5 deletions(-)

commit 7643d9fd1ca726a2465833295df7f0504221e713
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    Use GNOME_KEYRING_TEST_PROMPTER to specify prompter name
    
     * Testing code can set GNOME_KEYRING_TEST_PROMPTER environment
       variable to change the prompter that is used for various prompts.

 daemon/dbus/gkd-secret-change.c     |  4 ++++
 daemon/dbus/gkd-secret-create.c     |  4 ++++
 pkcs11/wrap-layer/gkm-wrap-prompt.c | 25 ++++++++++++++++++++-----
 pkcs11/wrap-layer/gkm-wrap-prompt.h |  2 ++
 4 files changed, 30 insertions(+), 5 deletions(-)

commit 09f5a69c00f5ef3e4928b6751ae8ebc86c3bfe2b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-27

    egg: Add methods for creating scratch directory in tests
    
     * Add egg_tests_create_scratch_directory() and
       egg_tests_remove_scratch_directory() methods, and use
       them in tests.

 egg/Makefile.am                                 |  1 +
 egg/egg-testing.c                               | 79 +++++++++++++++++++++++++
 egg/egg-testing.h                               |  7 ++-
 pkcs11/gnome2-store/tests/test-gnome2-storage.c | 56 ++----------------
 pkcs11/gnome2-store/tests/test-import.c         | 22 +------
 pkcs11/secret-store/tests/mock-secret-module.c  | 31 ++--------
 pkcs11/xdg-store/tests/mock-xdg-module.c        | 32 +++-------
 7 files changed, 107 insertions(+), 121 deletions(-)

commit 5e031c3f81caaf5d2ae7078af60954266ffaaa36
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-26

    Remove support code for old glib versions
    
     * Remove a bunch of #ifdefs for old glib versions prior
       to 2.32.0.
     * Already bumped glib dependency in a recent commit.

 daemon/gpg-agent/gkd-gpg-agent.c    | 14 ---------
 daemon/ssh-agent/gkd-ssh-agent.c    | 14 ---------
 egg/egg-libgcrypt.c                 |  8 -----
 egg/egg-testing.c                   | 58 -------------------------------------
 pkcs11/gkm/gkm-timer.c              | 27 -----------------
 pkcs11/gkm/gkm-util.c               |  4 ---
 pkcs11/rpc-layer/gkm-rpc-dispatch.c |  4 ---
 7 files changed, 129 deletions(-)

commit 3b12a96aa41af835a651c6a62def94472346969d
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-25

    secret-store: Support the xdg:schema attribute correctly
    
     * libsecret uses that attribute to store the 'schema' describing
       the other attributes.
     * The old way of having a special 'Type' dbus argument, or
       CKA_G_SCHEMA pkcs#11 attribute is deprecated ... to be more
       inline with the Secret Service spec.

 daemon/dbus/gkd-secret-property.c              |  2 +
 pkcs11/secret-store/gkm-secret-fields.c        | 72 ++++++++++++---------
 pkcs11/secret-store/gkm-secret-fields.h        |  6 +-
 pkcs11/secret-store/gkm-secret-item.c          | 12 ++--
 pkcs11/secret-store/gkm-secret-search.c        |  4 +-
 pkcs11/secret-store/tests/test-secret-fields.c | 86 +++++++++++++++++++++++---
 6 files changed, 138 insertions(+), 44 deletions(-)

commit ade50dce2dc18c27d81e0dc5de35748dd308ae81
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-25

    Release version 3.5.3
    
     * And fix some tests

 Makefile.am                                     | 3 +++
 NEWS                                            | 7 +++++++
 configure.ac                                    | 4 ++--
 pkcs11/gnome2-store/tests/test-gnome2-storage.c | 3 +--
 4 files changed, 13 insertions(+), 4 deletions(-)

commit fb145b5e7913f645fbd9bc112c78ba8bfd37774a
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   2012-06-21

    Assamese translation reviewed

 po/as.po | 297 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 149 insertions(+), 148 deletions(-)

commit 7cbb87873a10b2adc97bcbf1e3eb4962adf6f8fc
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    gnome2-store: Test the gnome2-store with the gcr importer

 pkcs11/gkm/gkm-module.c                         |   3 -
 pkcs11/gkm/gkm-module.h                         |   3 +
 pkcs11/gnome2-store/tests/Makefile.am           |   6 +-
 pkcs11/gnome2-store/tests/files/personal.p12    | Bin 0 -> 3396 bytes
 pkcs11/gnome2-store/tests/test-gnome2-storage.c |   1 +
 pkcs11/gnome2-store/tests/test-import.c         | 200 ++++++++++++++++++++++++
 6 files changed, 209 insertions(+), 4 deletions(-)

commit 45e76a5fdd139e05308817e75936d8a7dc5e0d84
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    gkm: Add debug tracing for CKA_ATTRIBUTE_TYPE_INVALID
    
    To make it a bit easier to diagnose problems.

 pkcs11/gkm/gkm-assertion.c               |  6 +++++-
 pkcs11/gkm/gkm-debug.c                   |  1 +
 pkcs11/gkm/gkm-debug.h                   |  1 +
 pkcs11/gkm/gkm-dh-private-key.c          |  3 +++
 pkcs11/gkm/gkm-dh-public-key.c           |  3 +++
 pkcs11/gkm/gkm-memory-store.c            | 11 +++++++++--
 pkcs11/gkm/gkm-object.c                  |  4 ++++
 pkcs11/gkm/gkm-private-xsa-key.c         |  3 +++
 pkcs11/gkm/gkm-public-xsa-key.c          |  4 ++++
 pkcs11/gkm/gkm-secret-key.c              |  6 ++++++
 pkcs11/gkm/gkm-sexp-key.c                |  4 ++++
 pkcs11/gkm/gkm-store.c                   | 25 ++++++++++++++++++++-----
 pkcs11/gnome2-store/gkm-gnome2-storage.c |  6 +++++-
 pkcs11/ssh-store/gkm-ssh-private-key.c   |  7 ++++++-
 pkcs11/xdg-store/gkm-xdg-trust.c         | 22 ++++++++++++++++++----
 15 files changed, 92 insertions(+), 14 deletions(-)

commit 75df449520f2ca8acd38af51b0520a70b0c3b754
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    gkm: Add gkm_log_xxx() functions for stringizing
    
    Move gkm_util_rv_xxx() to gkm_log_rv() and add gkm_log_attr_type()

 pkcs11/gkm/Makefile.am              |   1 +
 pkcs11/gkm/gkm-debug.h              |   2 +
 pkcs11/gkm/gkm-log.c                | 291 ++++++++++++++++++++++++++++++++++++
 pkcs11/gkm/gkm-log.h                |  33 ++++
 pkcs11/gkm/gkm-test.c               |  10 +-
 pkcs11/gkm/gkm-trust.c              |   4 +-
 pkcs11/gkm/gkm-util.c               | 120 ---------------
 pkcs11/gkm/gkm-util.h               |   4 -
 pkcs11/wrap-layer/gkm-wrap-login.c  |  11 +-
 pkcs11/wrap-layer/gkm-wrap-prompt.c |  17 ++-
 10 files changed, 349 insertions(+), 144 deletions(-)

commit 6f97ecf2773281fa2b4d38301f27d27bf6e26d0c
Merge: 425394b c53bb44
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    Merge branch 'gnome-3-4'

commit c53bb448d90e290d6b208090a285d1f4070b5ce9
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    gnome2-store: Ignore attributes that gcr-viewer sets
    
    We don't yet support all the attributes correctly, but try
    to not error out in gnome2-store for the ones that gcr-viewer
    sets.

 pkcs11/gkm/gkm-certificate.c                 | 6 ++++--
 pkcs11/gnome2-store/gkm-gnome2-private-key.c | 5 +++++
 pkcs11/gnome2-store/gkm-gnome2-storage.c     | 9 +++++++++
 3 files changed, 18 insertions(+), 2 deletions(-)

commit 425394b296ecb3fe67e917ce2c048e45b6fb80ab
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    gkm: Fix GKM_DEBUG environment variable for G_MESSAGES_DEBUG
    
    G_MESSAGES_DEBUG is a new environment variable that glib expects
    without which no debug messages are displayed. Since we also have
    GKM_DEBUG we reconcile the two environment variables

 pkcs11/gkm/Makefile.am |  1 +
 pkcs11/gkm/gkm-debug.c | 65 ++++++++++++++++++++++++++++++++++++++++++--------
 2 files changed, 56 insertions(+), 10 deletions(-)

commit ef59eb3a8e4fa732d3dc8a40b07cb75c638d85e5
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    ssh-store: Don't include built p11-tests.conf file

 pkcs11/ssh-store/tests/p11-tests.conf | 3 ---
 1 file changed, 3 deletions(-)

commit a48dbad7c177e8243b6988ca34d01422f20d3104
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-19

    xdg-store: Remove references to libtasn1.h
    
    No longer necessary, and creates a false build dependency
    on the libtasn1 headers

 pkcs11/xdg-store/gkm-xdg-trust.c         | 2 --
 pkcs11/xdg-store/tests/dump-trust-file.c | 1 -
 pkcs11/xdg-store/tests/frob-trust-file.c | 1 -
 3 files changed, 4 deletions(-)

commit 48ea8d67edcbf9d2bf3b825a334c175df2bf22b1
Author: Stef Walter <stefw@gnome.org>
Date:   2012-06-04

    daemon: Return correct introspect data for secret service

 daemon/dbus/gkd-secret-service.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5dccbe88eb94eea9934e2b7c83e818bd21be4fd2
Author: Raul Gutierrez Segales <rgs@itevenworks.net>
Date:   2012-05-13

    Use the right introspection string for Secret.Service iface
    
    We were passing the wrong data parameter to gkd_dbus_introspect_handle
    and displaying the wrong interface information in d-feet.

 daemon/dbus/gkd-secret-service.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 113a95948a072616e0caef1298997fb5bbb40282
Author: Andrej Žnidaršič <andrej.znidarsic@gmail.com>
Date:   2012-05-02

    Updated Slovenian translation

 po/sl.po | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5281df9fceb0c0eaecaf85cde9ca26adb55c92e3
Author: Tom Tryfonidis <tomtryf@gmail.com>
Date:   2012-05-02

    Updated Greek translation

 po/el.po | 383 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 233 insertions(+), 150 deletions(-)

commit b6bb4b9ca987fefa153fb73a7816316cf5bc122a
Author: Justin Lecher <jlec@gentoo.org>
Date:   2012-04-30

    Typo GMODULE -> GLIB in AC_SUBST
    
    It seems that during the code duplication the actual substition call
    wasn't changed to GMODULE.
    
    Signed-off-by: Justin Lecher <jlec@gentoo.org>

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 24b830e00c015bdeeab74491b4b0e4b66eddd97d
Author: Justin Lecher <jlec@gentoo.org>
Date:   2012-04-30

    Typo GMODULE -> GLIB in AC_SUBST
    
    It seems that during the code duplication the actual substition call
    wasn't changed to GMODULE.
    
    Signed-off-by: Justin Lecher <jlec@gentoo.org>

 configure.ac | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1bbdac506bf39814374e3c8f964faebfe5058920
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-30

    Change password dbus method is actually on internal interface
    
     * But leave the one on the secret service interface since
       that's what libgnome-keyring erroneously uses.

 daemon/dbus/gkd-secret-service.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit addc10ba520fe44f03c309687ca9d106eeb9d662
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-16

    Bump version number

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3dbb05de1942561c142a9333cde07abc9d94da0b
Merge: 223e914 7dc9217
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-16

    Merge branch 'gnome-3-4'

commit 7dc9217979865a8520d512b81ee40d5f1c7a7dfe
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-16

    Release 3.4.1

 NEWS                                  | 8 ++++++++
 configure.ac                          | 2 +-
 pkcs11/gnome2-store/tests/Makefile.am | 2 +-
 pkcs11/roots-store/tests/Makefile.am  | 2 +-
 pkcs11/ssh-store/tests/Makefile.am    | 2 +-
 5 files changed, 12 insertions(+), 4 deletions(-)

commit b4db9be57a18a8b491e7414c5db793d732c3b9ed
Author: Yinghua Wang <wantinghard@gmail.com>
Date:   2012-04-16

    update Simplified Chinese (zh_CN) translation

 po/zh_CN.po | 405 +++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 248 insertions(+), 157 deletions(-)

commit 223e91453c0b0e3a62228a8c75233f20e70f5ea4
Author: Yinghua Wang <wantinghard@gmail.com>
Date:   2012-04-16

    update Simplified Chinese (zh_CN) translation

 po/zh_CN.po | 408 +++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 250 insertions(+), 158 deletions(-)

commit 0c13bedeee4da648b155c73235a586d148462d65
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2012-04-11

    [l10n]Updated Catalan (Valencian) translation

 po/ca@valencia.po | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit cc06a2d51cfc0a6db02820119d80a2e8e6ce1e29
Author: Jordi Serratosa <jordis@softcatala.cat>
Date:   2012-04-11

    [l10n] Fixes on Catalan translation

 po/ca.po | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit db5c6f8a58ea6b011932bd7fa3ce5e4eee029313
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2012-04-11

    [l10n]Updated Catalan (Valencian) translation

 po/ca@valencia.po | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit a5505123c41352ef6ff77a84379aadec1226f748
Author: Jordi Serratosa <jordis@softcatala.cat>
Date:   2012-04-11

    [l10n] Fixes on Catalan translation

 po/ca.po | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 5c4a86255897206875d72fee0c41e657dce3e39f
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-10

    Bring over new egg'd components from gcr
    
     * Updated ASN.1, armor, bytes, openssl, etc.

 .gitignore                                         |    1 +
 Makefile.decl                                      |   26 +-
 daemon/control/tests/frob-control-change.c         |    2 +-
 daemon/control/tests/frob-control-init.c           |    2 +-
 daemon/control/tests/frob-control-quit.c           |    2 +-
 daemon/control/tests/frob-control-unlock.c         |    2 +-
 daemon/gkd-main.c                                  |    8 +-
 daemon/gpg-agent/gkd-gpg-agent-standalone.c        |    2 +-
 daemon/ssh-agent/gkd-ssh-agent-standalone.c        |    2 +-
 egg/Makefile.am                                    |   22 +-
 egg/egg-armor.c                                    |   44 +-
 egg/egg-armor.h                                    |   11 +-
 egg/egg-asn1-defs.c                                |   33 +
 egg/egg-asn1-defs.h                                |   12 +-
 egg/egg-asn1x.c                                    | 1162 +++++++++++-------
 egg/egg-asn1x.h                                    |  122 +-
 egg/egg-bytes.c                                    |  454 ++++++++
 egg/egg-bytes.h                                    |  102 ++
 egg/egg-dn.c                                       |  167 ++-
 egg/egg-dn.h                                       |   12 +-
 egg/egg-openssl.c                                  |  147 +--
 egg/egg-openssl.h                                  |   20 +-
 egg/egg-secure-memory.c                            |  184 +--
 egg/egg-secure-memory.h                            |   42 +-
 egg/egg-symkey.c                                   |  489 ++++----
 egg/egg-symkey.h                                   |   62 +-
 egg/egg-testing.h                                  |    7 +
 egg/tests/Makefile.am                              |   16 +-
 egg/tests/test-asn1.c                              |  566 +++++----
 egg/tests/test-asn1x.c                             |   21 +-
 egg/tests/test-dh.c                                |    2 +-
 egg/tests/test-dn.c                                |   66 +-
 egg/tests/test-hkdf.c                              |    2 +-
 egg/tests/test-openssl.c                           |   71 +-
 egg/tests/test-secmem.c                            |    2 +-
 egg/tests/test-symkey.c                            |    9 +-
 egg/tests/test.asn                                 |    2 +
 pam/gkr-pam-stubs.c                                |    8 +-
 pkcs11/gkm/Makefile.am                             |   14 +-
 pkcs11/gkm/gkm-attributes.c                        |    7 +
 pkcs11/gkm/gkm-attributes.h                        |    5 +
 pkcs11/gkm/gkm-certificate.c                       |  110 +-
 pkcs11/gkm/gkm-certificate.h                       |    5 +-
 pkcs11/gkm/gkm-data-asn1.c                         |   14 +-
 pkcs11/gkm/gkm-data-der.c                          |  328 +++---
 pkcs11/gkm/gkm-data-der.h                          |   69 +-
 pkcs11/gkm/gkm-serializable.c                      |   11 +-
 pkcs11/gkm/gkm-serializable.h                      |   18 +-
 pkcs11/gkm/pk.asn                                  |  103 --
 pkcs11/gkm/pkix.asn                                | 1230 --------------------
 pkcs11/gkm/tests/Makefile.am                       |   17 +-
 pkcs11/gkm/tests/mock-module.c                     |    2 +-
 pkcs11/gkm/tests/test-certificate.c                |   19 +-
 pkcs11/gkm/tests/test-data-asn1.c                  |   27 +-
 pkcs11/gkm/tests/test-data-der.c                   |  206 ++--
 pkcs11/gkm/tests/test-secret.c                     |    2 +-
 pkcs11/gkm/tests/test-sexp.c                       |    2 +-
 pkcs11/gnome2-store/gkm-gnome2-private-key.c       |   52 +-
 pkcs11/gnome2-store/gkm-gnome2-public-key.c        |   19 +-
 pkcs11/gnome2-store/gkm-gnome2-standalone.c        |    2 +-
 pkcs11/gnome2-store/gkm-gnome2-storage.c           |   52 +-
 pkcs11/gnome2-store/tests/check-gnome2-module.c    |    2 +-
 pkcs11/gnome2-store/tests/frob-gnome2-file.c       |    2 +-
 pkcs11/gnome2-store/tests/mock-gnome2-module.c     |    2 +-
 pkcs11/gnome2-store/tests/test-gnome2-file.c       |    2 +-
 .../gnome2-store/tests/test-gnome2-private-key.c   |   32 +-
 pkcs11/gnome2-store/tests/test-gnome2-storage.c    |    8 +-
 pkcs11/roots-store/gkm-roots-module.c              |   28 +-
 pkcs11/roots-store/gkm-roots-standalone.c          |    2 +-
 pkcs11/roots-store/gkm-roots-trust.c               |    9 +-
 pkcs11/roots-store/tests/check-roots-module.c      |    2 +-
 pkcs11/secret-store/gkm-secret-standalone.c        |    2 +-
 pkcs11/secret-store/tests/dump-keyring0-format.c   |    2 +-
 pkcs11/secret-store/tests/mock-secret-module.c     |    2 +-
 pkcs11/secret-store/tests/test-secret-data.c       |    2 +-
 pkcs11/ssh-store/gkm-ssh-openssh.c                 |   56 +-
 pkcs11/ssh-store/gkm-ssh-openssh.h                 |    8 +-
 pkcs11/ssh-store/gkm-ssh-private-key.c             |   30 +-
 pkcs11/ssh-store/gkm-ssh-standalone.c              |    2 +-
 pkcs11/ssh-store/tests/check-ssh-module.c          |    2 +-
 pkcs11/ssh-store/tests/mock-ssh-module.c           |    2 +-
 pkcs11/ssh-store/tests/test-ssh-openssh.c          |    9 +-
 pkcs11/wrap-layer/tests/mock-secret-store.c        |    2 +-
 pkcs11/xdg-store/Makefile.am                       |   18 +-
 pkcs11/xdg-store/gkm-xdg-asn1-defs.c               |   32 +
 pkcs11/xdg-store/gkm-xdg-asn1-defs.h               |   31 +
 pkcs11/xdg-store/gkm-xdg-module.c                  |   35 +-
 pkcs11/xdg-store/gkm-xdg-standalone.c              |    2 +-
 pkcs11/xdg-store/gkm-xdg-trust.c                   |  200 ++--
 pkcs11/xdg-store/tests/check-xdg-module.c          |    2 +-
 pkcs11/xdg-store/tests/dump-trust-file.c           |   43 +-
 pkcs11/xdg-store/tests/frob-trust-file.c           |   74 +-
 pkcs11/xdg-store/tests/mock-xdg-module.c           |    2 +-
 93 files changed, 3536 insertions(+), 3329 deletions(-)

commit 46748de8fc812dbc384e47b5910d522f57bbc79c
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-07

    pkcs11: Complete a bunch more tests
    
     * Add tests for the 'egg' merge coming up
     * Fix a few problems resulting from p11-tests tests

 .gitignore                                         |   2 +
 Makefile.decl                                      |   8 +-
 pkcs11/gkm/tests/Makefile.am                       |   5 +
 pkcs11/gkm/tests/test-certificate.c                | 208 ++++++++++++++++
 pkcs11/gnome2-store/gkm-gnome2-private-key.c       |   5 +-
 pkcs11/gnome2-store/gkm-gnome2-storage.c           |   1 +
 pkcs11/gnome2-store/tests/Makefile.am              |  24 +-
 pkcs11/gnome2-store/tests/files/der-key-v2-des3.p8 | Bin 0 -> 714 bytes
 pkcs11/gnome2-store/tests/p11-tests.conf           |   2 -
 pkcs11/gnome2-store/tests/p11-tests.conf.in        |   2 +
 .../gnome2-store/tests/test-gnome2-private-key.c   | 268 +++++++++++++++++++++
 pkcs11/gnome2-store/tests/test-gnome2-storage.c    |  21 ++
 pkcs11/roots-store/tests/Makefile.am               |  17 +-
 pkcs11/roots-store/tests/p11-tests.conf            |   2 -
 pkcs11/roots-store/tests/p11-tests.conf.in         |   2 +
 pkcs11/ssh-store/tests/Makefile.am                 |  17 +-
 pkcs11/ssh-store/tests/p11-tests.conf              |   2 +-
 pkcs11/ssh-store/tests/p11-tests.conf.in           |   3 +
 pkcs11/ssh-store/tests/test-private-key.c          |  68 ++++--
 19 files changed, 617 insertions(+), 40 deletions(-)

commit 561db8dbce88175f4814c1b7a56fc313eea8a199
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-04

    [daemon] Set 'text/plain' content type on secrets returned from daemon
    
     * All the secrets that gnome-keyring currently stores are text

 daemon/dbus/gkd-secret-secret.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26a846048a8db3eff1543c464a422f64eea1a0e6
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-03

    Relicense egg-unix-credentials.c
    
     * These were written by me and only accidentally contained
       the initial Red Hat copyright notice.

 egg/egg-unix-credentials.c | 55 +++++++++++++++++++++++++++-------------------
 egg/egg-unix-credentials.h | 54 +++++++++++++++++++++++++++------------------
 2 files changed, 66 insertions(+), 43 deletions(-)

commit cc6e1136fb9c98f26d60afee492a60865b0b2b93
Author: Stef Walter <stefw@gnome.org>
Date:   2012-04-02

    Use correct XDG_RUNTIME_DIR when started from PAM
    
     * Accept the XDG_RUNTIME_DIR environment variable from
       the session when initializing gnome-keyring-daemon

 daemon/gkd-util.c | 1 +
 1 file changed, 1 insertion(+)

commit 987d00ac97ac0d73cd658b4bd5d4fac934edf678
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-30

    Better building of .desktop and .service files

 Makefile.decl                              | 37 ++++++++++++++++++++++++++++++
 configure.ac                               | 20 ----------------
 daemon/Makefile.am                         |  4 ++--
 daemon/gnome-keyring-gpg.desktop.in.in     |  2 +-
 daemon/gnome-keyring-pkcs11.desktop.in.in  |  2 +-
 daemon/gnome-keyring-secrets.desktop.in.in |  2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     |  2 +-
 daemon/org.freedesktop.secrets.service.in  |  2 +-
 daemon/org.gnome.keyring.service.in        |  2 +-
 9 files changed, 45 insertions(+), 28 deletions(-)

commit 85a69432636c21bf3df76ef8ad98b707c75cd294
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2012-03-26

    Updated Arabic translation

 po/ar.po | 362 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 226 insertions(+), 136 deletions(-)

commit 1224c83647ee719b3733ee03cc35d77d7e33ef56
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2012-03-27

    Updated Korean translation

 po/ko.po | 120 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 67 insertions(+), 53 deletions(-)

commit e0755e97259a4288e26d6f6db801e488a6d90f77
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-26

    Release version 3.4.0

 NEWS         | 3 +++
 configure.ac | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit c1b24645d3e88925c6a8813830cd602fb8a4956b
Author: Lucas Lommer <llommer@svn.gnome.org>
Date:   2012-03-25

    Updated Czech translation

 po/cs.po | 350 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 199 insertions(+), 151 deletions(-)

commit 2eef50d0e707ed3c629e7d970111f01dfc7b5a36
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2012-03-25

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 115 ++++++++++++++++++++++++++++++++++--------------------------
 po/zh_TW.po | 115 ++++++++++++++++++++++++++++++++++--------------------------
 2 files changed, 130 insertions(+), 100 deletions(-)

commit dee2df628c065dfa5c1ba8388b0145d7ef1504a0
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   2012-03-24

    Updated Lithuanian translation

 po/lt.po | 192 +++++++++++++++++++++++++--------------------------------------
 1 file changed, 77 insertions(+), 115 deletions(-)

commit 12607c09413f7ff4a29a6e8acdc9a39e70f0c185
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2012-03-24

    Updated Hebrew translation.

 po/he.po | 113 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 64 insertions(+), 49 deletions(-)

commit 915232b8db899c7acf47208f3199efc269f954e6
Author: Daniel Nylander <po@danielnylander.se>
Date:   2012-03-24

    Updated Swedish translation

 po/sv.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c0499faff0506b14919d7bbffa32b0899130c2b4
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:   2012-03-24

    Uploaded Ukranian

 po/uk.po | 916 +++++++++++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 771 insertions(+), 145 deletions(-)

commit 9449f6915142739a83e355ae46413424e63615c2
Author: Enrico Nicoletto <liverig@gmail.com>
Date:   2012-03-21

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 362 ++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 232 insertions(+), 130 deletions(-)

commit 0c0cb52f4f4f1a0a3aea60449658d28053d93c7b
Author: Sasi Bhushan <sasi@swecha.net>
Date:   2012-03-20

    Updated Telugu Translation

 po/te.po | 359 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 222 insertions(+), 137 deletions(-)

commit e4dc3e38a8a71c16a78c02256b68470bafac8dcf
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-19

    Release version 3.3.92

 NEWS         | 6 ++++++
 configure.ac | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit e4ae418e3cc5a8087046d49429a1dbc390289088
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2012-03-19

    Updated Gujarati Translations

 po/gu.po | 412 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 253 insertions(+), 159 deletions(-)

commit a6ce2ec5b8cb62e273b10962af5fec6f87d27c6c
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   2012-03-19

    Updated Danish translation

 po/da.po | 113 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 64 insertions(+), 49 deletions(-)

commit 8659ee293c9543a0ba943379a573018f9ff2cff7
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2012-03-19

    [l10n]Updated Catalan (Valencian) translation

 po/ca@valencia.po | 365 ++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 228 insertions(+), 137 deletions(-)

commit 9156eef12f0f8a4c45b57b2f54bc9703ba50eb91
Author: Joan Duran <jodufi@gmail.com>
Date:   2012-03-19

    [l10n] Updated Catalan translation

 po/ca.po | 365 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 228 insertions(+), 137 deletions(-)

commit c0a85b1ab04407f748bde40586362e4925b5baa8
Author: Milo Casagrande <milo@ubuntu.com>
Date:   2012-03-18

    [l10n] Updated Italian translation

 po/it.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6bf82f657684ae050d39af94169e408e94739cea
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   2012-03-17

    Updated Portuguese translation

 po/pt.po | 367 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 229 insertions(+), 138 deletions(-)

commit 7ba686114bd490547c1deaf87bb44eee4a80cd74
Author: Jordi Mallach <jordi@debian.org>
Date:   2012-03-15

    Fix copyright headers.
    
    Many files were missing “Public” in “GNU Lesser General Public License”,
    and others replaced it with “Private”, probably due to a mass replace that
    went a bit too far. Restore the correct wording in all affected places.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=672189

 egg/egg-byte-array.c               | 6 +++---
 egg/egg-byte-array.h               | 6 +++---
 egg/egg-dh.c                       | 6 +++---
 egg/egg-dh.h                       | 6 +++---
 egg/egg-error.h                    | 6 +++---
 egg/egg-hex.c                      | 4 ++--
 egg/egg-hex.h                      | 4 ++--
 egg/egg-hkdf.c                     | 6 +++---
 egg/egg-hkdf.h                     | 6 +++---
 egg/egg-padding.c                  | 6 +++---
 egg/egg-padding.h                  | 6 +++---
 egg/egg-symkey.c                   | 4 ++--
 egg/egg-symkey.h                   | 4 ++--
 egg/egg-testing.c                  | 6 +++---
 egg/egg-testing.h                  | 6 +++---
 pkcs11/gkm/gkm-aes-mechanism.c     | 6 +++---
 pkcs11/gkm/gkm-aes-mechanism.h     | 6 +++---
 pkcs11/gkm/gkm-attributes.c        | 6 +++---
 pkcs11/gkm/gkm-attributes.h        | 6 +++---
 pkcs11/gkm/gkm-certificate.c       | 6 +++---
 pkcs11/gkm/gkm-certificate.h       | 6 +++---
 pkcs11/gkm/gkm-credential.c        | 6 +++---
 pkcs11/gkm/gkm-credential.h        | 6 +++---
 pkcs11/gkm/gkm-crypto.c            | 6 +++---
 pkcs11/gkm/gkm-crypto.h            | 6 +++---
 pkcs11/gkm/gkm-dh-mechanism.c      | 6 +++---
 pkcs11/gkm/gkm-dh-mechanism.h      | 6 +++---
 pkcs11/gkm/gkm-dh-private-key.c    | 6 +++---
 pkcs11/gkm/gkm-dh-private-key.h    | 6 +++---
 pkcs11/gkm/gkm-dsa-mechanism.c     | 6 +++---
 pkcs11/gkm/gkm-dsa-mechanism.h     | 6 +++---
 pkcs11/gkm/gkm-hkdf-mechanism.c    | 6 +++---
 pkcs11/gkm/gkm-hkdf-mechanism.h    | 6 +++---
 pkcs11/gkm/gkm-manager.c           | 6 +++---
 pkcs11/gkm/gkm-manager.h           | 6 +++---
 pkcs11/gkm/gkm-mock.c              | 6 +++---
 pkcs11/gkm/gkm-module-ep.h         | 6 +++---
 pkcs11/gkm/gkm-null-mechanism.c    | 6 +++---
 pkcs11/gkm/gkm-null-mechanism.h    | 6 +++---
 pkcs11/gkm/gkm-private-xsa-key.c   | 2 +-
 pkcs11/gkm/gkm-private-xsa-key.h   | 2 +-
 pkcs11/gkm/gkm-rsa-mechanism.c     | 6 +++---
 pkcs11/gkm/gkm-rsa-mechanism.h     | 6 +++---
 pkcs11/gkm/gkm-sexp-key.c          | 6 +++---
 pkcs11/gkm/gkm-sexp-key.h          | 6 +++---
 pkcs11/gkm/gkm-sexp.c              | 6 +++---
 pkcs11/gkm/gkm-sexp.h              | 6 +++---
 pkcs11/gkm/gkm-test.c              | 6 +++---
 pkcs11/gkm/gkm-timer.c             | 6 +++---
 pkcs11/gkm/gkm-timer.h             | 6 +++---
 pkcs11/gkm/gkm-util.c              | 6 +++---
 pkcs11/gkm/gkm-util.h              | 6 +++---
 pkcs11/wrap-layer/gkm-wrap-layer.c | 6 +++---
 53 files changed, 151 insertions(+), 151 deletions(-)

commit 0b27af1d6f659124550dce6367d247037ba9ec44
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2012-03-16

    Updated Hungarian translation

 po/hu.po | 134 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 70 insertions(+), 64 deletions(-)

commit 2940e2cffa629ed60d83f922f85839b6f3099818
Author: Milo Casagrande <milo@ubuntu.com>
Date:   2012-03-15

    [l10n] Updated Italian translation

 po/it.po | 363 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 226 insertions(+), 137 deletions(-)

commit 6b925ece9595d82c6b8dacb1ae87503e12092909
Author: William Jon McCann <jmccann@redhat.com>
Date:   2012-03-15

    Build fixes to rpc-layer Makefile

 pkcs11/rpc-layer/Makefile.am | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit bd6ef379df244fa83e6e07bf29e093ca2f990075
Author: William Jon McCann <jmccann@redhat.com>
Date:   2011-04-01

    Use runtime dir instead of tmp for sockets
    
    https://bugzilla.gnome.org/show_bug.cgi?id=646389

 daemon/gkd-util.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 023e810adb2b597d9f2fb945e768a6e10615c253
Author: A S Alam <aalam@users.sf.net>
Date:   2012-03-15

    update Punjabi Translation

 po/pa.po | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d79dce483e5ebe8bfc76cf19079c17c1baf4ba28
Author: A S Alam <aalam@users.sf.net>
Date:   2012-03-15

    update Punjabi Translation

 po/pa.po | 397 ++++++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 254 insertions(+), 143 deletions(-)

commit 78b770d227a15601aa86a49e7e4e4bdf70f1d996
Author: Mario Blättermann <mario.blaettermann@gmail.com>
Date:   2012-03-14

    [l10n] Updated German translation

 po/de.po | 377 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 231 insertions(+), 146 deletions(-)

commit 19d0502086cb8a570ba9997c92782e439b8ca171
Author: Bruno Brouard <annoa.b@gmail.com>
Date:   2012-03-14

    Updated French translation

 po/fr.po | 364 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 206 insertions(+), 158 deletions(-)

commit 54d576065201704785a2f84515ae008d9f6a1379
Author: Anita Reitere <nitalynx@gmail.com>
Date:   2012-03-14

    Updated Latvian translation.

 po/lv.po | 431 +++++++++++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 292 insertions(+), 139 deletions(-)

commit de59c6e209e72140e13f0a8966085bbe6f0f5134
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   2012-03-13

    Updated British English translation

 po/en_GB.po | 365 +++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 228 insertions(+), 137 deletions(-)

commit ecaa6ff6afe88e59d8bd738223229a113a626ea9
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2012-03-12

    Updated Norwegian bokmål translation

 po/nb.po | 113 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 64 insertions(+), 49 deletions(-)

commit 6fbdfcd098e8311260cbf273762190775e6751c5
Author: Daniel Nylander <po@danielnylander.se>
Date:   2012-03-12

    Updated Swedish translation

 po/sv.po | 113 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 64 insertions(+), 49 deletions(-)

commit 88acf2638a78e0068163a25c9019c2d025afb4a0
Author: Timo Jyrinki <timo@debian.org>
Date:   2012-03-12

    Finnish translation update from http://l10n.laxstrom.name/wiki/Gnome_3.4 translation sprint

 po/fi.po | 379 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 190 insertions(+), 189 deletions(-)

commit ffbf2f511da3689f9c234019dade4144bc51541d
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   2012-03-12

    Assamese translation completed

 po/as.po | 152 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 77 insertions(+), 75 deletions(-)

commit 6e72a4c99434c188150a68bbb6a02d9b20bfc582
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   2012-03-11

    Updated Russian translation

 po/ru.po | 148 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 77 insertions(+), 71 deletions(-)

commit 920e0869a17a73039fb8562731d659bfe22791e0
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   2012-03-10

    Updated Serbian translation

 po/sr.po       | 148 ++++++++++++++++++++++++++++++---------------------------
 po/sr@latin.po | 148 ++++++++++++++++++++++++++++++---------------------------
 2 files changed, 154 insertions(+), 142 deletions(-)

commit bf245e9cf71aac071e6faa7a54f445880911260a
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2012-03-10

    Updated Polish translation

 po/pl.po | 341 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 194 insertions(+), 147 deletions(-)

commit 7c8b0d9bc68b688d7ecce291d9183e4c842ea585
Author: Khoem Sokhem <khoemsokhem@khmeros.info>
Date:   2012-03-10

    Add initial Khmer translation

 po/LINGUAS |   1 +
 po/km.po   | 549 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 550 insertions(+)

commit ed97d17be69c7f26f6e5c7f9d88b4db604a9970d
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:   2012-03-10

    Updated Persian Translation

 po/fa.po | 1282 +++++++++++++++++++++++++++-----------------------------------
 1 file changed, 558 insertions(+), 724 deletions(-)

commit c420edb28b2b8ab2468e16b5295e5584c0cca47a
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:   2012-03-09

    Updated Belarusian translation.

 po/be.po | 150 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 83 insertions(+), 67 deletions(-)

commit 1ded1b4cc7cf889790dbe195b29964238d68621d
Author: Mattias Põldaru <mahfiaz@gmail.com>
Date:   2012-03-09

    [l10n] Updated Estonian translation

 po/et.po | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit c8ced19b024ba6f945e678bc4abb52daf3d64a8b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2012-03-09

    Updated Spanish translation

 po/es.po | 150 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 78 insertions(+), 72 deletions(-)

commit a6812d0b3792d2fec8515ebb5b4c9f9c78921167
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-09

    Release 3.3.91
    
     * Fix timer test

 NEWS                          |  7 +++++++
 configure.ac                  |  2 +-
 pkcs11/gkm/tests/test-timer.c | 14 +++++++-------
 3 files changed, 15 insertions(+), 8 deletions(-)

commit 45b79b43c4ec2763ffae52f6352eb256af4fba9c
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2012-03-08

    Updated Galician translations

 po/gl.po | 113 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 64 insertions(+), 49 deletions(-)

commit 97b5a0d2f3602e2472a0a8231439d7aade907367
Author: Stef Walter <stefw@gnome.org>
Date:   2012-03-08

    dbus: Fix changing keyring password
    
     * Fix various code paths during prompting for changing password
     * Regression due to prompting changes.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=671441

 daemon/dbus/gkd-secret-change.c | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit eef2891d18358ef01be7420726ca91699e761df9
Author: Alexander Shopov <ash@kambanaria.org>
Date:   2012-03-08

    Updated Bulgarian translation

 po/bg.po | 158 ++++++++++++++++++++++++++-------------------------------------
 1 file changed, 64 insertions(+), 94 deletions(-)

commit 42d2fbe552c1b631b6e5d8632c1c2169abb595df
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2012-03-08

    Updated Slovenian translation

 po/sl.po | 137 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 76 insertions(+), 61 deletions(-)

commit bf28759cad9a2c38a90c522d95b09461239e81ea
Author: Stef Walter <stefw@gnome.org>
Date:   2012-02-10

    daemon: Set button labels in prompts
    
     * Use "Unlock" for unlock prompts
    
    Related to: https://bugzilla.gnome.org/show_bug.cgi?id=652459

 daemon/dbus/gkd-secret-change.c      |  3 +++
 daemon/gpg-agent/gkd-gpg-agent-ops.c |  1 +
 pkcs11/wrap-layer/gkm-wrap-prompt.c  | 12 ++++++++++++
 3 files changed, 16 insertions(+)

commit a7e00d2953c2a36f2d239da6e18986e947eae2ac
Author: Nilamdyuti Goswami <nilamdyuti@gmail.com>
Date:   2012-03-08

    Assamese translation completed

 po/as.po | 1319 +++++++++++++++++++++++++++++---------------------------------
 1 file changed, 617 insertions(+), 702 deletions(-)

commit bc23855bffff3f692f010d99d12096597103d0b8
Author: Seong-ho Cho <darkcircle.0426@gmail.com>
Date:   2012-03-07

    Updated Korean translation

 po/ko.po | 347 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 213 insertions(+), 134 deletions(-)

commit c42fcf0377ff925d9f641247d53830fb24388c29
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2012-03-04

    Updated Basque language

 po/eu.po | 333 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 205 insertions(+), 128 deletions(-)

commit 7a70195df79540ace0715addb1e5dd1f7fe8f3ab
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2012-03-03

    Updated Hungarian translation

 po/hu.po | 358 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 220 insertions(+), 138 deletions(-)

commit 07942764cf8d77d6c3e05cb1e3762e4faa54a9a2
Author: Mattias Põldaru <mahfiaz@gmail.com>
Date:   2012-03-02

    [l10n] Updated Estonian translation

 po/et.po | 319 +++++++++++++++++++++++----------------------------------------
 1 file changed, 115 insertions(+), 204 deletions(-)

commit a62ebf1e8218cdbee95d945776a9bbbd6227bfe6
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   2012-02-28

    updated Tamil translation

 po/ta.po | 336 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 206 insertions(+), 130 deletions(-)

commit afbb3bfa4b7c39a0ec16b7f3f9d2be88ce58f39d
Author: Krasimir Chonov <mk2616@abv.bg>
Date:   2012-02-27

    Updated Bulgarian translation

 po/bg.po | 349 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 214 insertions(+), 135 deletions(-)

commit f21897179b150034b7cc3c3909176351d8b6b7fb
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   2012-02-20

    Updated Danish translation

 po/da.po | 333 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 205 insertions(+), 128 deletions(-)

commit 4ca2cd612e82971ae938f3a604277308d6fcfb4c
Author: Daniel Nylander <po@danielnylander.se>
Date:   2012-02-19

    Updated Swedish translation

 po/sv.po | 378 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 211 insertions(+), 167 deletions(-)

commit a726614f8bc8b16025f89ff19e259585ec4acc25
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   2012-02-15

    Updated Serbian translation

 po/sr.po       | 378 +++++++++++++++++++++++++++++++++++----------------------
 po/sr@latin.po | 360 +++++++++++++++++++++++++++++++++---------------------
 2 files changed, 455 insertions(+), 283 deletions(-)

commit cec5188c5a4276705d719134f91fe0552579b629
Author: Stef Walter <stefw@gnome.org>
Date:   2012-02-10

    gpg-agent: Fix assertion when cancelling prompt
    
     * Assertion when cancelling a password prompt because
       of null GError. Ignore null errors

 daemon/gpg-agent/gkd-gpg-agent-ops.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de327ab6ea69bbecf4b9ee9f3ff2c38da76817f0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2012-02-09

    Use a single ca certificates file by default
    
     * Defaults to either /etc/pki/tls/certs/ca-bundle.crt or
       /etc/ssl/certs/ca-certificates.crt like glib-networking
     * Also like glib-networking a different file can be specified
       with --with-ca-certificates=/path/to/file
     * To disable root CA list, use --with-ca-certificates=no
     * As before a full directory of certificate files can still
       be specified with: --with-root-certs=/etc/ssl/certs

 configure.ac                          | 55 +++++++++++++++++-----------
 daemon/gkd-pkcs11.c                   |  2 -
 pkcs11/roots-store/gkm-roots-module.c | 69 +++++++++++++++++++++++++----------
 3 files changed, 84 insertions(+), 42 deletions(-)

commit a1482b540e0418d6e5cf1d1399fe20674f4c990b
Author: Stef Walter <stefw@gnome.org>
Date:   2012-02-04

    Release 3.3.5

 NEWS         | 5 +++++
 configure.ac | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit bf4d66bcdf58cd94f9b66c793ecf3283bcfca439
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2012-01-30

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 306 ++++++++++++++++++++++++++++++++---------------------------
 po/zh_TW.po | 308 +++++++++++++++++++++++++++++++++---------------------------
 2 files changed, 336 insertions(+), 278 deletions(-)

commit 7a53d0d83d3f1a7b90d57ae808195d705034c3a0
Author: Stef Walter <stefw@gnome.org>
Date:   2012-01-27

    Fix the introspect data for SearchItems()
    
    https://bugzilla.gnome.org/show_bug.cgi?id=668757

 daemon/dbus/gkd-secret-introspect.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0f9d18b97d850c48f574f82667db4b3c232bbd75
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2012-01-25

    Updated Norwegian bokmål translation

 po/nb.po | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit ebc8c68500f4a038e737a23623cafabecdd47926
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2012-01-21

    Updated Slovenian translation

 po/sl.po | 256 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 142 insertions(+), 114 deletions(-)

commit b080a2d397732650b67e0790bccd950423a6b89f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2012-01-18

    daemon: Fix regression when an invalid password used to unlock
    
     * Fix regression which emitted an warning when an invalid password
       used to unlock a keyring.

 daemon/dbus/gkd-secret-error.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1951da8e0de972ae5e506e5c5bdf86168347978e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2012-01-16

    Release version 3.3.4

 NEWS         | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 94e3161cd6af567f74d9b02fc89ee3e6a48b587f
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2012-01-15

    Updated Galician translations

 po/gl.po | 298 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 166 insertions(+), 132 deletions(-)

commit c87d3f8d87c202940d970fd5ad2f279cf81e4d4d
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   2012-01-14

    Updated Lithuanian translation

 po/lt.po | 393 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 218 insertions(+), 175 deletions(-)

commit 007f3d57667c2c2f274c7566d9f056a6044c5995
Author: Ryan Lortie <desrt@desrt.ca>
Date:   2012-01-08

    gnome2-store: fix srcdir != builddir jhbuilds
    
    https://bugzilla.gnome.org/show_bug.cgi?id=667574

 pkcs11/gnome2-store/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit cf254e353b686c2ce11b492c0b4677e444a9f8f5
Author: Jovan Naumovski <jovan3.14@gmail.com>
Date:   2012-01-08

    Updated Macedonian translation.

 po/mk.po | 504 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 260 insertions(+), 244 deletions(-)

commit cf12a2a959b83a006ac1aeb009f4ae3a38af3c50
Author: Hideki Yamane <henrich@debian.org>
Date:   2012-01-07

    Updated Japanese translation

 po/ja.po | 396 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 236 insertions(+), 160 deletions(-)

commit 2172abeaf617d543a08e378b9a8c50bf931004d5
Author: Stas Solovey <whats_up@tut.by>
Date:   2012-01-05

    Updated Russian translation

 po/ru.po | 392 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 220 insertions(+), 172 deletions(-)

commit 33e9e01fd19fc7cca7932290f044e99ba4c124ca
Author: Muhammet Kara <muhammet.k@gmail.com>
Date:   2011-12-31

    [l10n]Updated Turkish translation

 po/tr.po | 348 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 212 insertions(+), 136 deletions(-)

commit 3d7e33de800a4b2ba583ffa6d5d1ebf96af9f270
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-12-30

    Updated Hebrew translation.

 po/he.po | 248 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 139 insertions(+), 109 deletions(-)

commit f68b5eca6603a7779cadf96bc927be3c914fc332
Author: Ihar Hrachyshka <ihar.hrachyshka@gmail.com>
Date:   2011-12-23

    Updated Belarusian translation.

 po/be.po | 307 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 171 insertions(+), 136 deletions(-)

commit 19f484a6a57a5b06e86a6a395e739259f2382808
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-22

    daemon: Update for changes in gck
    
     * Remove the gck_builder_add_owned function

 configure.ac                           |  2 +-
 daemon/dbus/gkd-secret-create.c        |  2 +-
 daemon/dbus/gkd-secret-objects.c       |  2 +-
 daemon/gpg-agent/gkd-gpg-agent-ops.c   |  6 +++---
 daemon/ssh-agent/gkd-ssh-agent-ops.c   |  4 ++--
 daemon/ssh-agent/gkd-ssh-agent-proto.c | 14 +++++++-------
 6 files changed, 15 insertions(+), 15 deletions(-)

commit 67b29749ad44009d8a8720c2b29e84a3e49b8ac8
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-12-22

    Updated Norwegian bokmål translation

 po/nb.po | 281 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 134 insertions(+), 147 deletions(-)

commit 8f6df8f43aa6218e4f8727188a96e6a0990d40fd
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-21

    Changes in version 3.3.3.1 are:
     * No message in gnome-keyring-pkcs11.so module, when no daemon running
     * Updated translations
     * Build fixes

 NEWS         | 5 +++++
 configure.ac | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit e3fdda07865dae42bb79811b374f8043235573ac
Author: Jürg Billeter <j@bitron.ch>
Date:   2011-12-20

    wrap-layer: Fix build
    
    gkm-wrap-prompt.c uses g_initable_init, which is part of GIO.

 pkcs11/wrap-layer/Makefile.am | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 51f8e221a6ed84ad79a0820b33843ff87bf4ec21
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-12-19

    Updated Spanish translation

 po/es.po | 285 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 166 insertions(+), 119 deletions(-)

commit 5ca7387952f99bf318d337df2d853f5bc3c0ddd2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-19

    rpc-layer: Correctly handle case where gnome-keyring-daemon not running
    
     * In the gnome-keyring-pkcs11.so module return stand in info
       when the gnome-keyring-daemon info is not running.
     * In addition no slots will be listed
    
    https://bugzilla.gnome.org/show_bug.cgi?id=665961

 pkcs11/rpc-layer/gkm-rpc-module.c | 195 +++++++++++++++++++++-----------------
 1 file changed, 106 insertions(+), 89 deletions(-)

commit da4cc3d28dfe16c4ab8ddf613f2a2baec9868b99
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-19

    Release version 3.3.3

 NEWS | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 458e94a557cdc796110b44ee3d2dfc0f786ea244
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-19

    daemon: Fix regressions in GckAttributes handling

 daemon/dbus/gkd-secret-change.c      | 13 +++++++------
 daemon/dbus/gkd-secret-create.c      |  1 -
 daemon/gpg-agent/gkd-gpg-agent-ops.c |  4 ++--
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 27e27ed41f4c5e1739c7dd259105b6a20f3528d4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-19

    daemon: Distribute correct desktop autostart files
    
     * Distribute xxx.in.in files instead of xxx.in files
    
    https://bugzilla.gnome.org/show_bug.cgi?id=664185

 daemon/Makefile.am                     | 14 ++++++++------
 daemon/gnome-keyring-gpg.desktop.in.in |  2 +-
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 084ce5e086cd9b1ac2a64157023e192747c8cd14
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-03

    Use GcrPrompt and GcrSystemPrompt for prompting
    
     * This is a dbus based prompting interface recently
       added to libgcr
    
    https://bugzilla.gnome.org/show_bug.cgi?id=656954

 Makefile.am                                        |    1 -
 configure.ac                                       |   10 +-
 daemon/Makefile.am                                 |    1 -
 daemon/dbus/gkd-secret-change.c                    |  317 +++--
 daemon/dbus/gkd-secret-change.h                    |    7 +-
 daemon/dbus/gkd-secret-create.c                    |  197 ++--
 daemon/dbus/gkd-secret-create.h                    |    2 +-
 daemon/dbus/gkd-secret-error.c                     |   35 +-
 daemon/dbus/gkd-secret-error.h                     |   12 +-
 daemon/dbus/gkd-secret-prompt.c                    |  127 +-
 daemon/dbus/gkd-secret-prompt.h                    |   24 +-
 daemon/dbus/gkd-secret-service.c                   |   15 +-
 daemon/dbus/gkd-secret-session.c                   |   29 +-
 daemon/dbus/gkd-secret-session.h                   |    2 +-
 daemon/dbus/gkd-secret-unlock.c                    |    8 +-
 daemon/dbus/gkd-secret-unlock.h                    |    2 +-
 daemon/gpg-agent/Makefile.am                       |    2 +-
 daemon/gpg-agent/gkd-gpg-agent-ops.c               |  143 +--
 docs/Makefile.am                                   |    5 +-
 docs/gnome-keyring-daemon/Makefile.am              |   22 -
 docs/gnome-keyring-daemon/docbook-params.xsl       |   39 -
 .../org.gnome.keyring.Prompter.xml                 |  103 --
 docs/tools/resolve-type.xsl                        |  122 --
 docs/tools/spec-to-docbook.xsl                     | 1242 --------------------
 docs/tools/spec-to-introspect.xsl                  |  147 ---
 pkcs11/wrap-layer/Makefile.am                      |    3 +-
 pkcs11/wrap-layer/gkm-wrap-prompt.c                |  630 +++++-----
 pkcs11/wrap-layer/gkm-wrap-prompt.h                |   16 +-
 pkcs11/wrap-layer/tests/Makefile.am                |    3 +-
 pkcs11/wrap-layer/tests/mock-secret-store.c        |    2 -
 pkcs11/wrap-layer/tests/test-create-credential.c   |   22 +-
 pkcs11/wrap-layer/tests/test-init-pin.c            |   16 +-
 pkcs11/wrap-layer/tests/test-login-auto.c          |   50 +-
 pkcs11/wrap-layer/tests/test-login-specific.c      |   22 +-
 pkcs11/wrap-layer/tests/test-login-user.c          |   22 +-
 pkcs11/wrap-layer/tests/test-set-pin.c             |   17 +-
 po/POTFILES.in                                     |    3 -
 ui/.gitignore                                      |    2 -
 ui/Makefile.am                                     |   94 --
 ui/gku-prompt-marshal.list                         |    1 -
 ui/gku-prompt-tool.c                               | 1208 -------------------
 ui/gku-prompt.c                                    | 1200 -------------------
 ui/gku-prompt.h                                    |  150 ---
 ui/gku-prompt.ui                                   |  357 ------
 ui/gnome-keyring-prompt.desktop.in.in              |    8 -
 ui/tests/Makefile.am                               |    3 -
 ui/tests/files/prompt-create                       |   12 -
 ui/tests/files/prompt-empty                        |    4 -
 ui/tests/files/prompt-full                         |   17 -
 ui/tests/files/prompt-test                         |    8 -
 50 files changed, 1001 insertions(+), 5483 deletions(-)

commit 186427537280bdfad06c72b0cfeb31a0f2509307
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    ui: Add and document interface for dbus based prompting
    
    https://bugzilla.gnome.org/show_bug.cgi?id=656954

 .gitignore                                         |    3 +
 configure.ac                                       |    1 +
 docs/Makefile.am                                   |    5 +-
 docs/gnome-keyring-daemon/Makefile.am              |   22 +
 docs/gnome-keyring-daemon/docbook-params.xsl       |   39 +
 .../org.gnome.keyring.Prompter.xml                 |  103 ++
 docs/tools/resolve-type.xsl                        |  122 ++
 docs/tools/spec-to-docbook.xsl                     | 1242 ++++++++++++++++++++
 docs/tools/spec-to-introspect.xsl                  |  147 +++
 9 files changed, 1683 insertions(+), 1 deletion(-)

commit d08d382f2a3a4d22b676f3787e8ad6f504947dd5
Merge: 7681245 45c20e1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-15

    Merge branch 'gnome-3-2'

commit 45c20e1d2613b780dc3de7e4614ee37667092fb7
Author: Steve Frécinaux <code@istique.net>
Date:   2011-12-03

    Do not crash when reading a seemingly valid but truncated keyring file
    
    The binary keyring parsing function used to trust the values written in
    the files a little too much. If for some reason the keyring file has
    been truncated, then a memcpy() was attempted but failed with a segfault
    because the actual file was smaller than its expected size.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=665510

 pkcs11/secret-store/gkm-secret-binary.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 3a7435329e4f5a23bec66b0fe9e16f5f79d57c5a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-01

    secret-store: Don't make generated collection identifier lower case
    
     * This is to work around problems with libgnome-keyring
       and how it uses labels to identify keyrings

 pkcs11/secret-store/gkm-secret-collection.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7681245859ced6fe50b3d38e5978a5e8e295597d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-06

    secret-store: Add test tool for dumping the keyring format
    
     * Lives in pkcs11/secret-store/tests/dump-keyring0-format
     * Outputs in the text GKeyFile style format

 .gitignore                                       |   1 +
 pkcs11/secret-store/tests/Makefile.am            |   2 +
 pkcs11/secret-store/tests/dump-keyring0-format.c | 662 +++++++++++++++++++++++
 3 files changed, 665 insertions(+)

commit aa137e31e47a753c24b603bba6f4dc1e9af0bd19
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-12-10

    Updated Hebrew translation.

 po/he.po | 153 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 88 insertions(+), 65 deletions(-)

commit d51c4a634fb0760f4ff5a79b02b855aab8ab4e38
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-09

    rpc-layer: Fix integer size mismatch on amd64
    
     * This was manifested by a problem returning the size of a
       C_Sign operation
     * sizeof (size_t) != sizeof (uint32_t)

 pkcs11/rpc-layer/gkm-rpc-module.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 79b509c918197aa646b7851f4a879ded5dbc23c8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-08

    Bump version number

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e10549d7f3a9ae2a649473cd771948914b15be79
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-06

    Update for GckBuilder changes in libgck
    
     * Updated for builder and immutable GckAttributes
     * Remove deprecated functions

 configure.ac                             |   2 +-
 daemon/dbus/gkd-secret-change.c          |  16 +-
 daemon/dbus/gkd-secret-create.c          |  28 ++--
 daemon/dbus/gkd-secret-lock.c            |  10 +-
 daemon/dbus/gkd-secret-objects.c         | 127 +++++++---------
 daemon/dbus/gkd-secret-property.c        | 111 ++++++++------
 daemon/dbus/gkd-secret-property.h        |   8 +-
 daemon/dbus/gkd-secret-service.c         |  22 +--
 daemon/dbus/gkd-secret-session.c         |  56 ++++---
 daemon/dbus/gkd-secret-unlock.c          |  45 +++---
 daemon/gpg-agent/gkd-gpg-agent-ops.c     |  83 ++++++-----
 daemon/login/gkd-login.c                 |  60 +++-----
 daemon/ssh-agent/gkd-ssh-agent-ops.c     | 247 +++++++++++++++++--------------
 daemon/ssh-agent/gkd-ssh-agent-private.h |  28 ++--
 daemon/ssh-agent/gkd-ssh-agent-proto.c   | 128 +++++++++-------
 daemon/ssh-agent/gkd-ssh-agent.c         |   4 +-
 tool/gkr-tool-import.c                   |   2 +-
 17 files changed, 499 insertions(+), 478 deletions(-)

commit bde64e94f83a6da4eaff6503744e200c9f1f0081
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-06

    Fix for deprecations in glib 2.31.x
    
     * Mainly g_mutex_new/g_mutex_free g_cond_new/g_cond_free
     * Since we like to build with the last stable version of glib,
       using #ifdef until these glib changes make it into a stable release.

 daemon/gkd-main.c                           |  1 -
 daemon/gpg-agent/gkd-gpg-agent-standalone.c |  3 -
 daemon/gpg-agent/gkd-gpg-agent.c            | 18 ++++++
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |  3 -
 daemon/ssh-agent/gkd-ssh-agent.c            | 18 ++++++
 egg/egg-libgcrypt.c                         | 10 ++++
 egg/egg-testing.c                           | 90 +++++++++++++++++++++++------
 pkcs11/gkm/gkm-timer.c                      | 45 ++++++++++++---
 pkcs11/gnome2-store/gkm-gnome2-standalone.c |  2 -
 pkcs11/roots-store/gkm-roots-standalone.c   |  3 -
 pkcs11/rpc-layer/gkm-rpc-dispatch.c         |  4 ++
 pkcs11/secret-store/gkm-secret-standalone.c |  3 -
 pkcs11/ssh-store/gkm-ssh-standalone.c       |  2 -
 pkcs11/xdg-store/gkm-xdg-standalone.c       |  2 -
 tool/gkr-tool.c                             |  3 +-
 ui/gku-prompt.c                             | 14 ++++-
 16 files changed, 172 insertions(+), 49 deletions(-)

commit acf382093414702102bc2ed076ccfb2394b65d15
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2011-12-03

    Updated Dutch translation by Wouter Bolsterlee

 po/nl.po | 204 ++++++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 149 insertions(+), 55 deletions(-)

commit 592ab2513d0738deaa7078c0fdf73bf0f4005a5f
Author: Andre Klapper <ak-47@gmx.net>
Date:   2011-11-26

    Rename GKR_SECURE_USE_FALLBACK to fix building with valgrind support
    
    https://bugzilla.gnome.org/show_bug.cgi?id=664850

 egg/egg-secure-memory.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef61d30ffa30c9803053766d2e911f1af6fc9731
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-11-23

    daemon: Fix ReadAlias() returning null when 'login' keyring exists
    
     * Internally we use the 'login' keyring as the automatic default
       when no default is explicitly set.
     * However this logic was not reflected in the result of the
       ReadAlias() secret serivce API call.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=664454

 daemon/dbus/gkd-secret-objects.c | 25 ++++++-------------------
 daemon/dbus/gkd-secret-service.c |  9 ++++++++-
 2 files changed, 14 insertions(+), 20 deletions(-)

commit 4659a01418d9e79fd6abc15e4fff15ce25f2cedf
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-12-01

    Updated Norwegian bokmål translation

 po/nb.po | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 160c386dcf563d9c7f38776c6b211001948de5e9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-12-01

    secret-store: Don't make generated collection identifier lower case
    
     * This is to work around problems with libgnome-keyring
       and how it uses labels to identify keyrings

 pkcs11/secret-store/gkm-secret-collection.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f34a9c4083e7d8627d3243cb46995248be7587e8
Author: Praveen Illa <mail2ipn@gmail.com>
Date:   2011-12-01

    Updated Telugu Translation

 po/te.po | 156 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 87 insertions(+), 69 deletions(-)

commit 1ac9bec0000652bfe17c7e2b5a677fd41b7116b9
Author: Andre Klapper <ak-47@gmx.net>
Date:   2011-11-26

    Rename GKR_SECURE_USE_FALLBACK to fix building with valgrind support
    
    https://bugzilla.gnome.org/show_bug.cgi?id=664850

 egg/egg-secure-memory.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3dd45201083370974f512055f342e976084efd90
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2011-11-25

    Updated Slovenian translation

 po/sl.po | 1111 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 1038 insertions(+), 73 deletions(-)

commit 1436c6bedd0fb7b0a81ab9d7d59766f24d03f745
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-11-23

    daemon: Fix ReadAlias() returning null when 'login' keyring exists
    
     * Internally we use the 'login' keyring as the automatic default
       when no default is explicitly set.
     * However this logic was not reflected in the result of the
       ReadAlias() secret serivce API call.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=664454

 daemon/dbus/gkd-secret-objects.c | 25 ++++++-------------------
 daemon/dbus/gkd-secret-service.c |  9 ++++++++-
 2 files changed, 14 insertions(+), 20 deletions(-)

commit ab0286d63e23c699ef4e63754e1f908981ba89cf
Author: IWAI, Masaharu <iwaim.sub@gmail.com>
Date:   2011-11-22

    Updated Japanese translation

 po/ja.po | 1160 +++++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 724 insertions(+), 436 deletions(-)

commit 892df9ab54d3d4c5d14f7e77a2f40e288f13d059
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-11-21

    Release version 3.3.2

 NEWS | 7 +++++++
 1 file changed, 7 insertions(+)

commit d2128ffc09d4c9b4aa6b5a0ed2d81819a0a2af1d
Merge: 01d4e6d 81f51c7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-11-21

    Merge branch 'gnome-3-2'

commit 81f51c700996c770c1743340baa39c4108757f9f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-11-14

    Release version 3.2.2
    
     * Disable requirement to distcheck without warnings, since glib
       has changed significantly.

 Makefile.am  | 2 +-
 NEWS         | 9 +++++++++
 configure.ac | 2 +-
 3 files changed, 11 insertions(+), 2 deletions(-)

commit 30915a6fc4b95bbe6a5da224f731480e78bbaf83
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-26

    Build correctly with glib 2.31
    
     * Link to gthread correctly.

 configure.ac                       |  3 +++
 daemon/Makefile.am                 | 12 +-----------
 daemon/gpg-agent/Makefile.am       | 10 ++--------
 daemon/ssh-agent/Makefile.am       |  8 ++------
 pkcs11/gkm/tests/Makefile.am       |  3 ++-
 pkcs11/xdg-store/tests/Makefile.am |  1 +
 6 files changed, 11 insertions(+), 26 deletions(-)

commit 01d4e6de0c827d3c2644b589fdc0f18a0a991887
Author: Vincent Untz <vuntz@gnome.org>
Date:   2011-11-08

    Do not make label selectionnable in prompt dialog
    
    https://bugzilla.gnome.org/show_bug.cgi?id=660108

 ui/gku-prompt.ui | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 15bf6c05a9ed4148ed212735a735c2fbe7289908
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-11-14

    ui: Fix problem with 'unsafe storage' prompt deadlocking
    
     * The grab handler wasn't being removed before showing the
       'unsafe storage' prompt.
     * This deadlock would occur when the user pressed <Enter> in
       a password field.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=661277

 ui/gku-prompt-tool.c         | 18 ++++++++++++------
 ui/tests/files/prompt-create | 12 ++++++++++++
 2 files changed, 24 insertions(+), 6 deletions(-)

commit 404b0616db15a0fe4934e9f88db282ad699b7ffb
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-11-13

    Updated Norwegian bokmål translation

 po/nb.po | 80 +++++++++++++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 61 insertions(+), 19 deletions(-)

commit 6b3ac9cfaad7f7303e58b6277e129583281893e1
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2011-11-10

    Updated Galician translations

 po/gl.po | 78 +++++++++++++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 60 insertions(+), 18 deletions(-)

commit 8bfe82ad35dcb18a8c7b3f2bd24c3f8c2715756b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-11-08

    Updated Spanish translation

 po/es.po | 1089 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 566 insertions(+), 523 deletions(-)

commit fa7e6c389d92a2ab829da348bad751da545682d6
Author: Guido Berhörster <gber@opensuse.org>
Date:   2011-11-06

    Remove XFCE & LXDE from OnlyShowIn for autostart files
    
    Since XFCE and LXDE don't support the dbus interface used by gnome-keyring in
    autostart to set the right environment variables for ssh agent, gpg agent,
    etc., XFCE and LXDE should not appear in OnlyShowIn.
    
    We might want to add XFCE back in the future, since XFCE devs might implement
    the dbus interface.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=660240

 daemon/gnome-keyring-gpg.desktop.in.in     | 2 +-
 daemon/gnome-keyring-pkcs11.desktop.in.in  | 2 +-
 daemon/gnome-keyring-secrets.desktop.in.in | 2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 280d4393173535fa2d73d97122c92cd946f4a8df
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2011-11-06

    Updated POTFILES.in

 po/POTFILES.in | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 9e7777200be971e9cf028b92232dd17bc0d82f7b
Author: Werner Koch <wk@gnupg.org>
Date:   2011-10-28

    Replace flock by dot file locking.
    
    flock as a couple of problems.  For example it does not work reliable
    on remote file systems.  In particular not with CIFS.  It does also
    not work with FAT systems (i.e. vfat).  A solution to this is to use a
    separate lock file and either use hardlinks or open(O_EXCL) to check
    for the existence of this file.  For details see the remarks in dotlock.c.
    
    The implementation uses a portable implementation named dotlock.c
    which is in its basic form in use for more than a decade.  It was
    recently enhanced to properly detect file systems without hardlink
    support and then fallback to a O_EXCL style locking.  It has been
    tested on ext3, ufs, nfs, cifs and on vfat.
    
    To keep the changes simple the implementation creates and locks
    immediately and does not separate lock file template creation from
    actual locking.  This can be improved by either using hacks in
    dotlock.c to re-use existing lock file templates or by integrating it
    closer into the gnome2-store.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657234

 configure.ac                             |    8 +
 egg/Makefile.am                          |    1 +
 egg/dotlock.c                            | 1301 ++++++++++++++++++++++++++++++
 egg/dotlock.h                            |  112 +++
 pkcs11/gnome2-store/gkm-gnome2-storage.c |  147 ++--
 5 files changed, 1481 insertions(+), 88 deletions(-)

commit 052fa8ebf4296b31df8c0424c4e85f9213eee159
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-11-01

    gnome2-store: Add additional tests for locking
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657234

 pkcs11/gnome2-store/gkm-gnome2-storage.c        |  72 +++++------
 pkcs11/gnome2-store/tests/test-gnome2-storage.c | 159 ++++++++++++++++++++++--
 2 files changed, 176 insertions(+), 55 deletions(-)

commit b29036a753e08e03d364f054d980e192563c772c
Author: Travis Reiter <travis.reitter@collabora.co.uk>
Date:   2011-11-01

    gcr: Fix build, link against glib
    
    https://bugzilla.gnome.org/show_bug.cgi?id=662647

 gcr/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit cbd06e76aa3ff1292537aacb8ff2e5c933ec951c
Author: Nilamdyuti Goswami <ngoswami@ngoswami.csb>
Date:   2011-10-31

    Assamese translation updated

 po/as.po | 112 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 49 insertions(+), 63 deletions(-)

commit af30db1a08d7ec0435dd47a91967d601b638fedd
Author: Nilamdyuti Goswami <ngoswami@ngoswami.csb>
Date:   2011-10-31

    Assamese translation updated

 po/as.po | 1293 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 1249 insertions(+), 44 deletions(-)

commit 83f3e698ce33146ff4d7bf945ebb168a2c002328
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-26

    Bump version number

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dff269621d45ecee6c236ee437b0b61c489366f9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-26

    Release version 3.3.1.1

 Makefile.am  | 2 +-
 NEWS         | 3 +++
 configure.ac | 2 +-
 3 files changed, 5 insertions(+), 2 deletions(-)

commit 3751ebf17134f724f8c28ef0a4b611ad1424903c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-26

    Build correctly with glib 2.31
    
     * Link to gthread correctly.

 configure.ac                       |  3 +++
 daemon/Makefile.am                 | 12 +-----------
 daemon/gpg-agent/Makefile.am       | 13 ++-----------
 daemon/ssh-agent/Makefile.am       | 10 ++--------
 pkcs11/gkm/tests/Makefile.am       |  3 ++-
 pkcs11/xdg-store/tests/Makefile.am |  1 +
 6 files changed, 11 insertions(+), 31 deletions(-)

commit 71bdb5dc967ec99b3b2fe9d5994de7996b4142c5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-24

    pkcs11: Use g_random_int_range() for pseudo-random hash iteration count
    
     * Used when hashing passwords into symmetric keys
     * Previous solution was overflowing
    
    https://bugzilla.gnome.org/show_bug.cgi?id=662025

 pkcs11/gkm/gkm-data-der.c               | 2 +-
 pkcs11/secret-store/gkm-secret-binary.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit fc922d8d80ec2c1f85e6d6d34583c19b864f9f00
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:   2011-10-24

    Updated Persian translation

 po/fa.po | 38 +++++++++++++++++---------------------
 1 file changed, 17 insertions(+), 21 deletions(-)

commit b8f1a049401a1ca1dd062938d470b777104082ca
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:   2011-10-24

    Updated Persian translation

 po/fa.po | 711 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 635 insertions(+), 76 deletions(-)

commit ad5a1c5bdb84f0f2f853d9c288743db56f08be39
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-24

    Bump version number

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a396f791b1e6b6d42c1566827b16970c3d596b05
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-24

    Release 3.3.1

 NEWS | 6 ++++++
 1 file changed, 6 insertions(+)

commit 471f694e6b08ce8b79e9ce9a53f780485c9ddf19
Merge: 54be473 bc01094
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-24

    Merge branch 'gnome-3-2'

commit bc01094411d724470ebda56d4515f45760f8d008
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-20

    secret-store: Return results with the most recent result first
    
     * This is to help programs that have erroneusly stored more than
       one password with given attributes, and keep finding the old one.
     * The most recent one is usually correct.

 pkcs11/secret-store/gkm-secret-search.c        | 79 +++++++++++++++-----------
 pkcs11/secret-store/tests/test-secret-search.c | 73 ++++++++++++++++++++++++
 2 files changed, 118 insertions(+), 34 deletions(-)

commit 6ffc5328ef6613521d43154a8a6ed196edb975ff
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-19

    pkcs11: Make clear source of warnings from the rpc module

 pkcs11/rpc-layer/gkm-rpc-util.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dfeff2209a8b1d109f8a334efa41eea9fdebca57
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-10-19

    Updated Vietnamese translation

 po/vi.po | 193 +++++++++++++++++++++++++++------------------------------------
 1 file changed, 81 insertions(+), 112 deletions(-)

commit 009f3de36f3a930835ee2741a6ec2f94d03cefde
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-10-19

    po/vi: import from Damned Lies

 po/vi.po | 1175 +++++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 735 insertions(+), 440 deletions(-)

commit 54be47350e65735cf4c68e23b7f5033fc639a3da
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-10-19

    Updated Vietnamese translation

 po/vi.po | 193 +++++++++++++++++++++++++++------------------------------------
 1 file changed, 81 insertions(+), 112 deletions(-)

commit 3d5c6ae3808289c451a9c04d1f96387b371a639c
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-10-19

    po/vi: import from Damned Lies

 po/vi.po | 1044 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 1007 insertions(+), 37 deletions(-)

commit 6d58181fcddc5c13762a1920a464787ebc27d4bc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-17

    Release version 3.2.1

 Makefile.am  |  6 +++++-
 NEWS         |  4 ++++
 configure.ac | 17 ++++++++++++-----
 3 files changed, 21 insertions(+), 6 deletions(-)

commit ae61fdfa6e464a0c9fd0f8d7b2c68193de62aaea
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    dbus: Free the object path of a prompt later
    
     * Saw an assertion where we were sending a signal after dispose
       had run once.

 daemon/dbus/gkd-secret-unlock.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d122fc55611791816f14cf97500a95eb22eca53c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: Fix precondition in gck_object_from_handles

 gck/gck-object.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d1f1ca62d69fde3943b4cb6b154779507e63d7c9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: Fix if _gck_debug was not called _gck_debugging doesn't work
    
     * Initialize debugging in both _gck_debug and _gck_debugging

 gck/gck-debug.c | 19 ++++++++++++++-----
 gck/gck-debug.h |  2 ++
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 49d16a7888d37af0cb1d6339351e1268487193d9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-15

    gnome2-store: Fix locking and add tests for locking
    
     * Fix locking and add tests for locking between processes
     * Fix bug when writing multiple values, which caused the file
       to be written out twice.

 .gitignore                                         |   3 +-
 pkcs11/gnome2-store/gkm-gnome2-module.c            |   8 +
 pkcs11/gnome2-store/gkm-gnome2-storage.c           |  95 ++++--
 pkcs11/gnome2-store/tests/Makefile.am              |   7 +-
 .../tests/files/Thawte_Personal_Premium_CA.cer     | Bin 0 -> 813 bytes
 .../gnome2-store/tests/files/test-certificate.cer  | Bin 0 -> 1857 bytes
 pkcs11/gnome2-store/tests/files/user.keystore      | Bin 0 -> 226 bytes
 pkcs11/gnome2-store/tests/mock-gnome2-module.c     | 111 ++++++
 pkcs11/gnome2-store/tests/mock-gnome2-module.h     |  43 +++
 pkcs11/gnome2-store/tests/test-gnome2-storage.c    | 374 +++++++++++++++++++++
 10 files changed, 612 insertions(+), 29 deletions(-)

commit f2bfd5b52e96636c04781080642faa8a38215da9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-15

    pkcs11: Add initial debug logging to gkm module

 pkcs11/gkm/Makefile.am |   1 +
 pkcs11/gkm/gkm-debug.c | 107 +++++++++++++++++++++++++++++++++++++++++++++++++
 pkcs11/gkm/gkm-debug.h |  85 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 193 insertions(+)

commit 7e0154fbe7d321411604d9005aa825ddebb50316
Author: Xandru Armesto <xandru@softastur.org>
Date:   2011-10-08

    updated asturian translation

 po/ast.po | 1784 ++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 864 insertions(+), 920 deletions(-)

commit 5194a40a4f20339b8f843fec61e2ed771694ec98
Author: Xandru Armesto <xandru@softastur.org>
Date:   2011-10-08

    updated asturian translation

 po/ast.po | 1039 +++++++++++++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 951 insertions(+), 88 deletions(-)

commit f1765dbccb3f02610c7e649d610305db60433042
Merge: 9922eae f28d3d7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-08

    Merge branch 'split'

commit 9922eae17ffb4ec08949f9a6e46363770b29039d
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-10-07

    Updated Spanish translation

 po/es.po | 689 ++++++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 502 insertions(+), 187 deletions(-)

commit f28d3d768f0e4057f727e8c3b93ba50c19f5db24
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-06

    Split Gcr and Gck libraries out of gnome-keyring

 .gitignore                                         |   52 -
 Makefile.am                                        |    7 -
 configure.ac                                       |  115 +-
 daemon/Makefile.am                                 |    1 -
 daemon/control/Makefile.am                         |    3 +-
 daemon/dbus/gkd-dbus-secrets.c                     |    2 +-
 daemon/dbus/gkd-secret-change.h                    |    2 +-
 daemon/dbus/gkd-secret-create.h                    |    2 +-
 daemon/dbus/gkd-secret-exchange.c                  |    2 +-
 daemon/dbus/gkd-secret-exchange.h                  |    2 -
 daemon/dbus/gkd-secret-objects.h                   |    2 +-
 daemon/dbus/gkd-secret-prompt.h                    |    2 +-
 daemon/dbus/gkd-secret-property.h                  |    2 +-
 daemon/dbus/gkd-secret-service.c                   |    2 +-
 daemon/dbus/gkd-secret-service.h                   |    2 +-
 daemon/dbus/gkd-secret-unlock.h                    |    2 +
 daemon/gkd-glue.c                                  |    4 +-
 daemon/gkd-main.c                                  |    1 +
 daemon/gpg-agent/Makefile.am                       |    4 +-
 daemon/gpg-agent/gkd-gpg-agent-ops.c               |    2 +-
 daemon/gpg-agent/gkd-gpg-agent-standalone.c        |    2 +-
 daemon/login/Makefile.am                           |    3 +-
 daemon/login/gkd-login.c                           |    2 +
 daemon/login/gkd-login.h                           |    2 -
 daemon/ssh-agent/Makefile.am                       |    3 +-
 daemon/ssh-agent/gkd-ssh-agent-ops.c               |    2 +-
 daemon/ssh-agent/gkd-ssh-agent-standalone.c        |    2 +-
 docs/Makefile.am                                   |    5 +-
 docs/reference/.gitignore                          |   11 -
 docs/reference/COPYING                             |   30 -
 docs/reference/Makefile.am                         |    2 -
 docs/reference/gck/.gitignore                      |    8 -
 docs/reference/gck/Makefile.am                     |  100 -
 docs/reference/gck/gck-docs.sgml                   |   35 -
 docs/reference/gck/gck-overrides.txt               |    2 -
 docs/reference/gck/gck-pkcs11-links.xml            |   25 -
 docs/reference/gck/gck-sections.txt                |  389 --
 docs/reference/gck/version.xml.in                  |    1 -
 docs/reference/gcr/.gitignore                      |    9 -
 docs/reference/gcr/Makefile.am                     |  169 -
 docs/reference/gcr/gcr-docs.sgml                   |   68 -
 docs/reference/gcr/gcr-overrides.txt               |    2 -
 docs/reference/gcr/gcr-sections.txt                |  642 ----
 docs/reference/gcr/gcr-shooter.c                   |  466 ---
 docs/reference/gcr/gcr-shooter.h                   |   23 -
 docs/reference/gcr/gcr-visual-index.xml            |   27 -
 docs/reference/gcr/gcr-widgets.c                   |  236 --
 docs/reference/gcr/gcr.types                       |   24 -
 docs/reference/gcr/images/certificate-widget.png   |  Bin 16144 -> 0 bytes
 docs/reference/gcr/images/combo-selector.png       |  Bin 7065 -> 0 bytes
 docs/reference/gcr/images/import-button.png        |  Bin 2925 -> 0 bytes
 docs/reference/gcr/images/key-widget.png           |  Bin 10159 -> 0 bytes
 docs/reference/gcr/images/list-selector.png        |  Bin 10123 -> 0 bytes
 docs/reference/gcr/images/tree-selector.png        |  Bin 10628 -> 0 bytes
 docs/reference/gcr/images/viewer-widget.png        |  Bin 13167 -> 0 bytes
 docs/reference/gcr/version.xml.in                  |    1 -
 egg/Makefile.am                                    |    1 -
 egg/egg-decimal.c                                  |  101 -
 egg/egg-decimal.h                                  |   33 -
 egg/tests/Makefile.am                              |    1 -
 egg/tests/test-decimal.c                           |  136 -
 egg/tests/test-hex.c                               |    2 +-
 gck/.gitignore                                     |    2 -
 gck/Makefile.am                                    |  161 -
 gck/gck-attributes.c                               | 1877 ----------
 gck/gck-call.c                                     |  542 ---
 gck/gck-debug.c                                    |  118 -
 gck/gck-debug.h                                    |   88 -
 gck/gck-deprecated.h                               |   51 -
 gck/gck-dump.c                                     |  361 --
 gck/gck-enum-types.c.template                      |   43 -
 gck/gck-enum-types.h.template                      |   28 -
 gck/gck-enumerator.c                               |  917 -----
 gck/gck-interaction.c                              |  176 -
 gck/gck-marshal.list                               |    3 -
 gck/gck-misc.c                                     |  465 ---
 gck/gck-mock.c                                     | 1808 ---------
 gck/gck-mock.h                                     |  420 ---
 gck/gck-module.c                                   |  748 ----
 gck/gck-modules.c                                  |  433 ---
 gck/gck-object.c                                   | 1326 -------
 gck/gck-password.c                                 |  255 --
 gck/gck-private.h                                  |  209 --
 gck/gck-session.c                                  | 2980 ---------------
 gck/gck-slot.c                                     | 1302 -------
 gck/gck-test.c                                     |  165 -
 gck/gck-test.h                                     |   64 -
 gck/gck-uri.c                                      |  365 --
 gck/gck.h                                          | 1324 -------
 gck/gck.pc.in                                      |   14 -
 gck/gck.symbols                                    |  237 --
 gck/pkcs11-trust-assertions.h                      |   56 -
 gck/pkcs11.h                                       |   30 -
 gck/tests/Makefile.am                              |   58 -
 gck/tests/mock-interaction.c                       |   97 -
 gck/tests/mock-interaction.h                       |   43 -
 gck/tests/mock-test-module.c                       |   10 -
 gck/tests/test-gck-attributes.c                    |  617 ---
 gck/tests/test-gck-crypto.c                        |  647 ----
 gck/tests/test-gck-enumerator.c                    |  359 --
 gck/tests/test-gck-module.c                        |  176 -
 gck/tests/test-gck-modules.c                       |  210 --
 gck/tests/test-gck-object.c                        |  419 ---
 gck/tests/test-gck-session.c                       |  319 --
 gck/tests/test-gck-slot.c                          |  257 --
 gck/tests/test-gck-uri.c                           |  556 ---
 gcr/.gitignore                                     |    7 -
 gcr/Makefile.am                                    |  376 --
 gcr/gcr-base.h                                     |   55 -
 gcr/gcr-base.pc.in                                 |   16 -
 gcr/gcr-base.symbols                               |  157 -
 gcr/gcr-callback-output-stream.c                   |  132 -
 gcr/gcr-callback-output-stream.h                   |   58 -
 gcr/gcr-certificate-basics-widget.c                |   75 -
 gcr/gcr-certificate-basics-widget.h                |   62 -
 gcr/gcr-certificate-chain.c                        |  825 ----
 gcr/gcr-certificate-chain.h                        |  113 -
 gcr/gcr-certificate-details-widget.c               |   75 -
 gcr/gcr-certificate-details-widget.h               |   62 -
 gcr/gcr-certificate-exporter.c                     |  567 ---
 gcr/gcr-certificate-exporter.h                     |   74 -
 gcr/gcr-certificate-extensions.c                   |  295 --
 gcr/gcr-certificate-extensions.h                   |   88 -
 gcr/gcr-certificate-renderer.c                     |  909 -----
 gcr/gcr-certificate-renderer.h                     |   77 -
 gcr/gcr-certificate-widget.c                       |  266 --
 gcr/gcr-certificate-widget.h                       |   67 -
 gcr/gcr-certificate.c                              | 1082 ------
 gcr/gcr-certificate.h                              |  130 -
 gcr/gcr-collection-model.c                         | 1575 --------
 gcr/gcr-collection-model.h                         |   89 -
 gcr/gcr-collection.c                               |  178 -
 gcr/gcr-collection.h                               |   82 -
 gcr/gcr-column.c                                   |   66 -
 gcr/gcr-column.h                                   |   55 -
 gcr/gcr-combo-selector.c                           |  269 --
 gcr/gcr-combo-selector.h                           |   67 -
 gcr/gcr-comparable.c                               |  146 -
 gcr/gcr-comparable.h                               |   54 -
 gcr/gcr-crypto-types.xml                           |  151 -
 gcr/gcr-debug.c                                    |  111 -
 gcr/gcr-debug.h                                    |   90 -
 gcr/gcr-deprecated-base.h                          |   73 -
 gcr/gcr-deprecated.h                               |   48 -
 gcr/gcr-dialog-util.c                              |  182 -
 gcr/gcr-dialog-util.h                              |   42 -
 gcr/gcr-display-scrolled.c                         |  176 -
 gcr/gcr-display-scrolled.h                         |   57 -
 gcr/gcr-display-view.c                             | 1243 -------
 gcr/gcr-display-view.h                             |  115 -
 gcr/gcr-enum-types.c.template                      |   43 -
 gcr/gcr-enum-types.h.template                      |   28 -
 gcr/gcr-failure-renderer.c                         |  224 --
 gcr/gcr-failure-renderer.h                         |   67 -
 gcr/gcr-fingerprint.c                              |  384 --
 gcr/gcr-fingerprint.h                              |   49 -
 gcr/gcr-gnupg-collection.c                         |  754 ----
 gcr/gcr-gnupg-collection.h                         |   70 -
 gcr/gcr-gnupg-importer.c                           |  333 --
 gcr/gcr-gnupg-importer.h                           |   67 -
 gcr/gcr-gnupg-key.c                                |  530 ---
 gcr/gcr-gnupg-key.h                                |   81 -
 gcr/gcr-gnupg-process.c                            | 1157 ------
 gcr/gcr-gnupg-process.h                            |  103 -
 gcr/gcr-gnupg-records.c                            |  267 --
 gcr/gcr-gnupg-records.h                            |   52 -
 gcr/gcr-gnupg-renderer.c                           |  853 -----
 gcr/gcr-gnupg-renderer.h                           |   77 -
 gcr/gcr-gnupg-util.c                               |   87 -
 gcr/gcr-gnupg-util.h                               |   41 -
 gcr/gcr-icons.c                                    |   55 -
 gcr/gcr-icons.h                                    |   46 -
 gcr/gcr-import-button.c                            |  560 ---
 gcr/gcr-import-button.h                            |   68 -
 gcr/gcr-import-interaction.c                       |  205 -
 gcr/gcr-import-interaction.h                       |   94 -
 gcr/gcr-importer.c                                 |  628 ----
 gcr/gcr-importer.h                                 |  107 -
 gcr/gcr-internal.h                                 |   37 -
 gcr/gcr-key-renderer.c                             |  404 --
 gcr/gcr-key-renderer.h                             |   68 -
 gcr/gcr-key-widget.c                               |  224 --
 gcr/gcr-key-widget.h                               |   61 -
 gcr/gcr-library.c                                  |  558 ---
 gcr/gcr-library.h                                  |   67 -
 gcr/gcr-list-selector-private.h                    |   40 -
 gcr/gcr-list-selector.c                            |  456 ---
 gcr/gcr-list-selector.h                            |   71 -
 gcr/gcr-live-search.c                              |  672 ----
 gcr/gcr-live-search.h                              |   84 -
 gcr/gcr-marshal.list                               |    7 -
 gcr/gcr-memory-icon.c                              |  225 --
 gcr/gcr-memory-icon.h                              |   66 -
 gcr/gcr-memory.c                                   |   92 -
 gcr/gcr-menu-button.c                              |  372 --
 gcr/gcr-menu-button.h                              |   61 -
 gcr/gcr-mkoids                                     |   85 -
 gcr/gcr-oids.list                                  |   22 -
 gcr/gcr-openpgp.c                                  | 1304 -------
 gcr/gcr-openpgp.h                                  |   66 -
 gcr/gcr-openssh.c                                  |  491 ---
 gcr/gcr-openssh.h                                  |   51 -
 gcr/gcr-parser.c                                   | 2934 ---------------
 gcr/gcr-parser.h                                   |  136 -
 gcr/gcr-pkcs11-certificate.c                       |  452 ---
 gcr/gcr-pkcs11-certificate.h                       |   79 -
 gcr/gcr-pkcs11-import-dialog.c                     |  278 --
 gcr/gcr-pkcs11-import-dialog.h                     |   67 -
 gcr/gcr-pkcs11-import-dialog.ui                    |  251 --
 gcr/gcr-pkcs11-import-interaction.c                |  259 --
 gcr/gcr-pkcs11-import-interaction.h                |   45 -
 gcr/gcr-pkcs11-importer.c                          |  910 -----
 gcr/gcr-pkcs11-importer.h                          |   62 -
 gcr/gcr-record.c                                   |  811 ----
 gcr/gcr-record.h                                   |  281 --
 gcr/gcr-renderer.c                                 |  294 --
 gcr/gcr-renderer.h                                 |   85 -
 gcr/gcr-secret-exchange.c                          |  848 -----
 gcr/gcr-secret-exchange.h                          |  109 -
 gcr/gcr-simple-certificate.c                       |  185 -
 gcr/gcr-simple-certificate.h                       |   67 -
 gcr/gcr-simple-collection.c                        |  208 --
 gcr/gcr-simple-collection.h                        |   66 -
 gcr/gcr-single-collection.c                        |  157 -
 gcr/gcr-single-collection.h                        |   55 -
 gcr/gcr-tree-selector.c                            |  361 --
 gcr/gcr-tree-selector.h                            |   70 -
 gcr/gcr-trust.c                                    |  878 -----
 gcr/gcr-trust.h                                    |  102 -
 gcr/gcr-types.h                                    |  116 -
 gcr/gcr-union-collection.c                         |  340 --
 gcr/gcr-union-collection.h                         |   76 -
 gcr/gcr-unlock-options-widget.c                    |  515 ---
 gcr/gcr-unlock-options-widget.h                    |   82 -
 gcr/gcr-unlock-options-widget.ui                   |  117 -
 gcr/gcr-unlock-options.h                           |   32 -
 gcr/gcr-unlock-renderer.c                          |  345 --
 gcr/gcr-unlock-renderer.h                          |   79 -
 gcr/gcr-util.c                                     |   66 -
 gcr/gcr-util.h                                     |   41 -
 gcr/gcr-viewer-tool.c                              |  130 -
 gcr/gcr-viewer-widget.c                            |  504 ---
 gcr/gcr-viewer-widget.h                            |   55 -
 gcr/gcr-viewer-window.c                            |  178 -
 gcr/gcr-viewer-window.h                            |   64 -
 gcr/gcr-viewer.c                                   |  191 -
 gcr/gcr-viewer.desktop.in.in                       |   10 -
 gcr/gcr-viewer.h                                   |   87 -
 gcr/gcr.h                                          |   60 -
 gcr/gcr.pc.in                                      |   16 -
 gcr/gcr.symbols                                    |  103 -
 gcr/icons/16x16/Makefile.am                        |   11 -
 gcr/icons/16x16/gcr-key-pair.png                   |  Bin 878 -> 0 bytes
 gcr/icons/16x16/gcr-key.png                        |  Bin 675 -> 0 bytes
 gcr/icons/16x16/gcr-smart-card.png                 |  Bin 509 -> 0 bytes
 gcr/icons/22x22/Makefile.am                        |    9 -
 gcr/icons/22x22/gcr-smart-card.png                 |  Bin 662 -> 0 bytes
 gcr/icons/24x24/Makefile.am                        |   11 -
 gcr/icons/24x24/gcr-key-pair.png                   |  Bin 1221 -> 0 bytes
 gcr/icons/24x24/gcr-key.png                        |  Bin 875 -> 0 bytes
 gcr/icons/24x24/gcr-smart-card.png                 |  Bin 636 -> 0 bytes
 gcr/icons/256x256/Makefile.am                      |    9 -
 gcr/icons/256x256/gcr-smart-card.png               |  Bin 9294 -> 0 bytes
 gcr/icons/32x32/Makefile.am                        |   11 -
 gcr/icons/32x32/gcr-key-pair.png                   |  Bin 1882 -> 0 bytes
 gcr/icons/32x32/gcr-key.png                        |  Bin 1201 -> 0 bytes
 gcr/icons/32x32/gcr-smart-card.png                 |  Bin 1093 -> 0 bytes
 gcr/icons/48x48/Makefile.am                        |   11 -
 gcr/icons/48x48/gcr-key-pair.png                   |  Bin 3480 -> 0 bytes
 gcr/icons/48x48/gcr-key.png                        |  Bin 2087 -> 0 bytes
 gcr/icons/48x48/gcr-smart-card.png                 |  Bin 1684 -> 0 bytes
 gcr/icons/Makefile.am                              |   20 -
 gcr/icons/key-and-keypair.svg                      | 3921 --------------------
 gcr/icons/render-icons.py                          |  174 -
 gcr/icons/src/gcr-smart-card.svg                   | 1165 ------
 gcr/tests/.gitignore                               |    5 -
 gcr/tests/Makefile.am                              |   68 -
 gcr/tests/files/RSA_Root_Certificate_1.pem         |   19 -
 gcr/tests/files/RSA_Security_1024_v3.pem           |   16 -
 gcr/tests/files/RSA_Security_2048_v3.pem           |   22 -
 gcr/tests/files/Thawte_Personal_Basic_CA.pem       |   20 -
 gcr/tests/files/Thawte_Personal_Freemail_CA.pem    |   21 -
 gcr/tests/files/Thawte_Personal_Premium_CA.pem     |   21 -
 gcr/tests/files/Thawte_Premium_Server_CA.pem       |   21 -
 gcr/tests/files/Thawte_Server_CA.pem               |   20 -
 gcr/tests/files/Thawte_Time_Stamping_CA.pem        |   18 -
 gcr/tests/files/ca-certificates.crt                | 2560 -------------
 gcr/tests/files/cacert.org.cer                     |  Bin 1857 -> 0 bytes
 gcr/tests/files/cacert.org.pem                     |   41 -
 gcr/tests/files/client.crt                         |  Bin 736 -> 0 bytes
 gcr/tests/files/client.key                         |   27 -
 gcr/tests/files/client.pem                         |   18 -
 gcr/tests/files/collabora-ca.cer                   |  Bin 1536 -> 0 bytes
 gcr/tests/files/der-certificate-dsa.cer            |  Bin 1639 -> 0 bytes
 gcr/tests/files/der-certificate.crt                |  Bin 747 -> 0 bytes
 gcr/tests/files/der-dsa-1024.key                   |  Bin 447 -> 0 bytes
 gcr/tests/files/der-key-PBE-MD5-DES.p8             |  Bin 677 -> 0 bytes
 gcr/tests/files/der-key-PBE-SHA1-3DES.p8           |  Bin 678 -> 0 bytes
 gcr/tests/files/der-key-PBE-SHA1-DES.p8            |  Bin 677 -> 0 bytes
 gcr/tests/files/der-key-PBE-SHA1-RC2-40.p8         |  Bin 678 -> 0 bytes
 gcr/tests/files/der-key-PBE-SHA1-RC4-128.p8        |  Bin 673 -> 0 bytes
 gcr/tests/files/der-key-dsa.p8                     |  Bin 335 -> 0 bytes
 gcr/tests/files/der-key-encrypted-pkcs5.p8         |  Bin 677 -> 0 bytes
 gcr/tests/files/der-key-v2-des.p8                  |  Bin 711 -> 0 bytes
 gcr/tests/files/der-key-v2-des3.p8                 |  Bin 714 -> 0 bytes
 gcr/tests/files/der-key.p8                         |  Bin 635 -> 0 bytes
 gcr/tests/files/der-rsa-1024.key                   |  Bin 609 -> 0 bytes
 gcr/tests/files/dhansak-collabora.cer              |  Bin 1200 -> 0 bytes
 gcr/tests/files/email.p12                          |  Bin 2488 -> 0 bytes
 gcr/tests/files/generic-dsa.crt                    |  Bin 918 -> 0 bytes
 gcr/tests/files/generic-dsa.key                    |   12 -
 gcr/tests/files/generic-dsa.pem                    |   22 -
 gcr/tests/files/gnupg-homedir/pubring.gpg          |  Bin 21969 -> 0 bytes
 gcr/tests/files/gnupg-homedir/secring.gpg          |  Bin 4398 -> 0 bytes
 gcr/tests/files/gnupg-homedir/trustdb.gpg          |  Bin 1400 -> 0 bytes
 gcr/tests/files/gnupg-mock/mock-arguments-environ  |   22 -
 gcr/tests/files/gnupg-mock/mock-echo               |    8 -
 gcr/tests/files/gnupg-mock/mock-fail-exit          |    6 -
 gcr/tests/files/gnupg-mock/mock-fail-signal        |    8 -
 gcr/tests/files/gnupg-mock/mock-simple-error       |    9 -
 gcr/tests/files/gnupg-mock/mock-simple-output      |    8 -
 .../files/gnupg-mock/mock-status-and-attribute     |   34 -
 gcr/tests/files/gnupg-mock/mock-status-and-output  |   24 -
 gcr/tests/files/gnupg-mock/mock-with-homedir       |   22 -
 gcr/tests/files/openssh_keys.pub                   |    2 -
 gcr/tests/files/pem-dsa-1024.key                   |   12 -
 gcr/tests/files/pem-pkcs8.key                      |   17 -
 gcr/tests/files/pem-rsa-enc.key                    |   18 -
 gcr/tests/files/personal.p12                       |  Bin 3396 -> 0 bytes
 gcr/tests/files/pubring.gpg                        |  Bin 21969 -> 0 bytes
 gcr/tests/files/secring.gpg                        |  Bin 4398 -> 0 bytes
 gcr/tests/files/test-x509-swiss.p7b                |  Bin 1002 -> 0 bytes
 gcr/tests/files/unclient.p12                       |  Bin 1476 -> 0 bytes
 gcr/tests/files/werner-koch.asc                    |   71 -
 gcr/tests/frob-certificate.c                       |   92 -
 gcr/tests/frob-combo-selector.c                    |   95 -
 gcr/tests/frob-gnupg-selector.c                    |   95 -
 gcr/tests/frob-key.c                               |   87 -
 gcr/tests/frob-openpgp.c                           |  122 -
 gcr/tests/frob-parser.c                            |  132 -
 gcr/tests/frob-tree-selector.c                     |  208 --
 gcr/tests/frob-unlock-options.c                    |   84 -
 gcr/tests/frob-unlock.c                            |  112 -
 gcr/tests/test-certificate-chain.c                 |  658 ----
 gcr/tests/test-certificate.c                       |  279 --
 gcr/tests/test-fingerprint.c                       |  212 --
 gcr/tests/test-gnupg-collection.c                  |  222 --
 gcr/tests/test-gnupg-key.c                         |  228 --
 gcr/tests/test-gnupg-process.c                     |  600 ---
 gcr/tests/test-memory-icon.c                       |  206 -
 gcr/tests/test-openpgp.c                           |  354 --
 gcr/tests/test-openssh.c                           |  196 -
 gcr/tests/test-parser.c                            |  249 --
 gcr/tests/test-pkcs11-certificate.c                |  279 --
 gcr/tests/test-record.c                            |  294 --
 gcr/tests/test-secret-exchange.c                   |  162 -
 gcr/tests/test-simple-certificate.c                |  104 -
 gcr/tests/test-trust.c                             |  327 --
 gcr/tests/test-util.c                              |  112 -
 pkcs11/Makefile.am                                 |    9 +-
 pkcs11/wrap-layer/Makefile.am                      |    3 +-
 pkcs11/wrap-layer/gkm-wrap-prompt.c                |    2 +-
 pkcs11/wrap-layer/tests/Makefile.am                |    2 +-
 po/POTFILES.in                                     |   30 -
 po/af.po                                           |  689 +---
 po/ar.po                                           | 1415 +------
 po/as.po                                           | 1277 +------
 po/ast.po                                          | 1330 ++-----
 po/az.po                                           |  664 ++--
 po/be.po                                           |  843 +----
 po/be@latin.po                                     | 1442 ++-----
 po/bg.po                                           |  636 +---
 po/bn.po                                           |  837 +----
 po/bn_IN.po                                        | 1441 ++-----
 po/bs.po                                           |  664 ++--
 po/ca.po                                           | 1429 +------
 po/ca@valencia.po                                  | 1429 +------
 po/cs.po                                           |  641 +---
 po/cy.po                                           |  684 ++--
 po/da.po                                           |  637 +---
 po/de.po                                           |  890 +----
 po/dz.po                                           |  767 ++--
 po/el.po                                           |  860 +----
 po/en@shaw.po                                      | 1094 ++----
 po/en_CA.po                                        |  694 ++--
 po/en_GB.po                                        | 1419 +------
 po/eo.po                                           |  711 +---
 po/es.po                                           | 1438 +------
 po/et.po                                           |  598 +--
 po/eu.po                                           |  951 +----
 po/fa.po                                           |  715 +---
 po/fi.po                                           |  932 +----
 po/fr.po                                           |  647 +---
 po/ga.po                                           | 1221 ++----
 po/gl.po                                           |  981 +----
 po/gu.po                                           |  733 +---
 po/he.po                                           | 1450 +-------
 po/hi.po                                           | 1424 ++-----
 po/hr.po                                           | 1092 ++----
 po/hu.po                                           |  638 +---
 po/id.po                                           |  716 +---
 po/is.po                                           |  548 ++-
 po/it.po                                           |  656 +---
 po/ja.po                                           |  811 +---
 po/ka.po                                           |  609 +--
 po/kn.po                                           | 1458 ++------
 po/ko.po                                           |  639 +---
 po/lt.po                                           |  785 +---
 po/lv.po                                           | 1347 +------
 po/mai.po                                          | 1244 ++-----
 po/mg.po                                           |  699 ++--
 po/mk.po                                           | 1209 ++----
 po/ml.po                                           | 1454 ++------
 po/mn.po                                           |  679 ++--
 po/mr.po                                           | 1425 ++-----
 po/ms.po                                           | 1241 ++-----
 po/nb.po                                           |  634 +---
 po/ne.po                                           |  720 ++--
 po/nl.po                                           |  843 +----
 po/nn.po                                           | 1102 +-----
 po/oc.po                                           |  573 ++-
 po/or.po                                           | 1099 ++----
 po/pa.po                                           | 1299 +------
 po/pl.po                                           |  641 +---
 po/pt.po                                           | 1421 +------
 po/pt_BR.po                                        | 1383 +------
 po/ro.po                                           | 1210 +-----
 po/ru.po                                           |  734 +---
 po/rw.po                                           |  662 ++--
 po/si.po                                           |  640 ++--
 po/sk.po                                           | 1125 +-----
 po/sl.po                                           | 1058 +-----
 po/sq.po                                           | 1236 ++----
 po/sr.po                                           |  935 +----
 po/sr@latin.po                                     |  935 +----
 po/sv.po                                           | 1367 +------
 po/ta.po                                           | 1284 +------
 po/te.po                                           |  637 +---
 po/th.po                                           | 1379 +------
 po/tr.po                                           | 1248 +------
 po/ug.po                                           | 1622 +++-----
 po/uk.po                                           |  808 +---
 po/vi.po                                           |  799 +---
 po/xh.po                                           |  676 ++--
 po/zh_CN.po                                        | 1369 +------
 po/zh_HK.po                                        |  637 +---
 po/zh_TW.po                                        |  633 +---
 schema/Makefile.am                                 |    7 +-
 schema/org.gnome.crypto.pgp.convert                |    6 -
 schema/org.gnome.crypto.pgp.gschema.xml            |   34 -
 schema/org.gnome.crypto.pgp_keyservers.convert     |    2 -
 testing/Makefile.am                                |    3 -
 testing/ca-example/certs/ca.crt                    |   23 -
 testing/ca-example/certs/client-future.crt         |   18 -
 testing/ca-example/certs/client-past.crt           |   18 -
 testing/ca-example/certs/client.crt                |   18 -
 testing/ca-example/certs/email.crt                 |   19 -
 testing/ca-example/certs/generic-dsa.crt           |   22 -
 testing/ca-example/certs/personal.crt              |   16 -
 testing/ca-example/certs/personal.p12              |  Bin 3396 -> 0 bytes
 testing/ca-example/certs/server-self.crt           |   11 -
 testing/ca-example/certs/server.crt                |   14 -
 testing/ca-example/commands.txt                    |   16 -
 testing/ca-example/database.txt                    |    0
 testing/ca-example/keys/ca.key                     |   15 -
 testing/ca-example/keys/client.key                 |   27 -
 testing/ca-example/keys/dsa.params                 |    9 -
 testing/ca-example/keys/email.key                  |   27 -
 testing/ca-example/keys/generic-dsa.key            |   12 -
 testing/ca-example/keys/personal.key               |   30 -
 testing/ca-example/keys/server.key                 |    9 -
 testing/ca-example/profiles/ca.conf                |   32 -
 testing/ca-example/profiles/extensions.conf        |   16 -
 testing/ca-example/profiles/request.conf           |   18 -
 testing/ca-example/requests/client.req             |   17 -
 testing/ca-example/requests/email.req              |   17 -
 testing/ca-example/requests/generic-dsa.req        |   16 -
 testing/ca-example/requests/personal.req           |   15 -
 testing/ca-example/requests/server.req             |    8 -
 testing/ca-example/serial.txt                      |    1 -
 testing/gnupg-example/pubring.gpg                  |  Bin 21969 -> 0 bytes
 testing/gnupg-example/secring.gpg                  |  Bin 4398 -> 0 bytes
 testing/gnupg-example/trustdb.gpg                  |  Bin 1400 -> 0 bytes
 testing/ssh-example/README                         |    1 -
 testing/ssh-example/id_dsa                         |   15 -
 testing/ssh-example/id_dsa.pub                     |    1 -
 testing/ssh-example/id_rsa                         |   30 -
 testing/ssh-example/id_rsa.pub                     |    1 -
 testing/ssh-example/identity                       |  Bin 988 -> 0 bytes
 testing/ssh-example/identity.pub                   |    1 -
 tool/Makefile.am                                   |   19 +-
 tool/gkr-tool-import.c                             |    4 +-
 tool/gkr-tool-trust.c                              |    5 +-
 tool/gkr-tool-version.c                            |    5 -
 ui/Makefile.am                                     |   23 +-
 ui/gku-prompt-tool.c                               |    2 +-
 ui/gku-prompt.c                                    |    2 +-
 497 files changed, 13041 insertions(+), 142615 deletions(-)

commit 626eef363c0ece57713c5be5939677784e8115cc
Author: Alberto Ruiz <aruiz@gnome.org>
Date:   2011-10-05

    gcr: Fix build issues, ui and atools not including gcr-base
    
     https://bugzilla.gnome.org/show_bug.cgi?id=660976

 tool/Makefile.am | 1 +
 ui/Makefile.am   | 1 +
 2 files changed, 2 insertions(+)

commit 142cef3a62843661ff3ba34ed35c16b429ed84e2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Make spinner on GcrImportButton actually spin

 gcr/gcr-import-button.c   | 6 ++++++
 gcr/gcr-pkcs11-importer.c | 1 +
 2 files changed, 7 insertions(+)

commit 4454017488a1af1645de9fc8bb6b4f9aadf24f68
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Fix build issues with gcr-icons.h header

 gcr/gcr-icons.h | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit d675e4836fe0fd79f08f6f0bee9d64c1c1786fb9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Properly get labels from the parser into the importer
    
     * Pull in the labels seen by the parser, but not in the attributes
     * Fix issues supplementing when no login is required

 gcr/gcr-pkcs11-import-interaction.c | 25 +++++++++++++------------
 gcr/gcr-pkcs11-importer.c           |  8 +++++++-
 gcr/gcr-pkcs11-importer.h           |  1 +
 3 files changed, 21 insertions(+), 13 deletions(-)

commit 50250a36df564b9851f90e96eb382837d071bb4e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Parse required attributes out of certificates
    
     * PKCS#11 requires the CKA_SUBJECT, CKA_ISSUER and
       CKA_SERIAL_NUMBER in new certificate objects, so we parse
       them in the parser.

 gcr/gcr-parser.c | 66 ++++++++++++++++++++++++++++++++++++++------------------
 1 file changed, 45 insertions(+), 21 deletions(-)

commit 60de0d8afc6bac2a749cd13cd4ec21b0b54a957c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Use the home directory for the NSS icon

 gcr/gcr-icons.c | 5 +++++
 1 file changed, 5 insertions(+)

commit f1d52789707ecc57fb4a7e673b825a7d5ec3c485
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Stop gcr-viewer process correctly when Close is clicked

 gcr/gcr-viewer-tool.c | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 0b191e5c7c4fba2a7b5ea9a862c5c91380427d70
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Rework how we get supplemental information for the import

 docs/reference/gcr/Makefile.am      |   2 +
 docs/reference/gcr/gcr-sections.txt |  14 +++-
 gcr/gcr-base.symbols                |   3 +-
 gcr/gcr-fingerprint.c               |   4 +-
 gcr/gcr-import-interaction.c        |  99 +++++++++++++++++----------
 gcr/gcr-import-interaction.h        |  13 ++--
 gcr/gcr-pkcs11-import-dialog.c      | 132 ++++++++----------------------------
 gcr/gcr-pkcs11-import-dialog.h      |   9 ++-
 gcr/gcr-pkcs11-import-interaction.c |  86 +++++++++++++----------
 gcr/gcr-pkcs11-importer.c           |  84 +++++++++++++++++++----
 10 files changed, 248 insertions(+), 198 deletions(-)

commit 5f8076ae918be22a31f8c822711137a5060fea04
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Fix PKCS#11 importer attribute cleanup before import
    
     * Add proper CKA_ID, CKA_DECRYPT, CKA_SIGN, CKA_SIGN_RECOVER
       CKA_UNWRAP, CKA_SENSITIVE, and CKA_PRIVATE attributes
     * Create pairs of keys and certificates, and import those
       first

 gcr/gcr-base.symbols      |  11 +++
 gcr/gcr-debug.c           |   1 +
 gcr/gcr-debug.h           |   3 +-
 gcr/gcr-pkcs11-importer.c | 222 +++++++++++++++++++++++++++++++++++++---------
 4 files changed, 196 insertions(+), 41 deletions(-)

commit 9cb0ef0cd2df8d507ea1abd0f7c4a6bd12a3773d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    Fix POTFILES.in for file name changes.

 po/POTFILES.in | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 45a729a4e53fc7e236969ca4e96a2af6760be608
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-05

    gcr: Complete and make gcr_fingerprint_xxx functions public
    
     * These functions create consistent key fingerpints for
       public, private and certificates.

 docs/reference/gcr/gcr-docs.sgml    |   1 +
 docs/reference/gcr/gcr-sections.txt |   7 ++
 gcr/Makefile.am                     |   3 +-
 gcr/gcr-certificate-renderer.c      |   2 +-
 gcr/gcr-fingerprint.c               | 219 +++++++++++++++++++++++++++++-------
 gcr/gcr-fingerprint.h               |  23 ++--
 gcr/gcr-key-renderer.c              |   8 +-
 gcr/tests/test-fingerprint.c        |  46 ++++++--
 8 files changed, 246 insertions(+), 63 deletions(-)

commit 3ed15e88675ef6055706cabe805a8ddf0f782e22
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-04

    egg: Fix parsing of unsigned integers in DER
    
     * When the unsigned integer had a high bit set, we would store/parse
       it incorrectly. We have to force these numbers to be unsigned so
       we prefix/strip an extra zero byte on the front.
     * Also make accessing raw and usg numbers in DER not have to copy
       the value, since these are often sensitive.

 egg/egg-asn1x.c                          | 125 +++++++++++++++++++++++++++----
 egg/egg-asn1x.h                          |  11 ++-
 egg/tests/test-asn1.c                    |  53 +++++++++++++
 gcr/gcr-certificate-renderer.c           |   8 +-
 gcr/gcr-certificate.c                    |   4 +-
 gcr/gcr-fingerprint.c                    |  14 ++--
 gcr/gcr-parser.c                         |  43 ++++++-----
 pkcs11/xdg-store/gkm-xdg-trust.c         |   5 +-
 pkcs11/xdg-store/tests/dump-trust-file.c |  12 +--
 pkcs11/xdg-store/tests/frob-trust-file.c |   6 +-
 10 files changed, 215 insertions(+), 66 deletions(-)

commit e97c283d65e2ba0bcd6676839b361eedb14c52dc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-04

    gcr: Import keys first when importing via PKCS#11
    
     * This is what some smartcards seem to require, an easy enough fix
       so just work around this problem.

 gcr/gcr-pkcs11-importer.c | 24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit c85bfed61146381120814392d756b12e6d3b724b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-04

    gck: Include CKK_XXX values in debug output correctly

 gck/gck-attributes.c | 45 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit 502a03e5c9e4bd1e43bea46620a4004c9005f7ba
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-04

    gcr: Complete the PKCS#11 import dialog
    
     * Add GcrImportInteraction interface which importers
     * Hookup between non-GUI importers and import interaction
       isn't yet completely thought out.

 gcr/Makefile.am                     |   8 +-
 gcr/gcr-deprecated.h                |   1 -
 gcr/gcr-dialog-util.c               | 182 ++++++++++++++
 gcr/gcr-dialog-util.h               |  42 ++++
 gcr/gcr-gnupg-importer.c            |  14 +-
 gcr/gcr-import-button.c             |  12 +
 gcr/gcr-import-dialog.c             | 459 ------------------------------------
 gcr/gcr-import-dialog.h             |  82 -------
 gcr/gcr-import-dialog.ui            | 128 ----------
 gcr/gcr-import-interaction.c        | 178 ++++++++++++++
 gcr/gcr-import-interaction.h        |  89 +++++++
 gcr/gcr-importer.c                  |  54 ++++-
 gcr/gcr-importer.h                  |  45 ++--
 gcr/gcr-parser.c                    |   1 -
 gcr/gcr-pkcs11-import-dialog.c      | 350 +++++++++++++++++++++++++++
 gcr/gcr-pkcs11-import-dialog.h      |  62 +++++
 gcr/gcr-pkcs11-import-dialog.ui     | 251 ++++++++++++++++++++
 gcr/gcr-pkcs11-import-interaction.c | 240 +++++++++++++++++++
 gcr/gcr-pkcs11-import-interaction.h |  45 ++++
 gcr/gcr-pkcs11-importer.c           | 184 +++++++++++----
 gcr/gcr-pkcs11-importer.h           |  14 +-
 21 files changed, 1686 insertions(+), 755 deletions(-)

commit f680420c4cf35d04d0095c9f1ebe242b5d5dae7b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-04

    gck: Add support for setting attributes in an array
    
     * Either change the attribute to the new value, or add an
       attribute if one doesn't exist.

 docs/reference/gck/gck-sections.txt |   4 ++
 gck/gck-attributes.c                | 112 ++++++++++++++++++++++++++++++++++++
 gck/gck.h                           |  16 ++++++
 gck/gck.symbols                     |   4 ++
 4 files changed, 136 insertions(+)

commit 31d109c1114afb6e74424c8190c03797bb16f159
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-03

    gck: Integrate GTlsInteraction into libgck
    
     * Deprecate the GckModule signals which were used for password auth
     * Fire deprecated GckModule signals from a compat GTlsInteraction
     * Add some tests for this integration

 docs/reference/gck/gck-sections.txt |  23 ++
 gck/Makefile.am                     |   2 +
 gck/gck-enumerator.c                | 311 ++++++++++-------
 gck/gck-interaction.c               | 176 ++++++++++
 gck/gck-misc.c                      |  15 +
 gck/gck-module.c                    |  82 +----
 gck/gck-modules.c                   |  12 +-
 gck/gck-password.c                  | 255 ++++++++++++++
 gck/gck-private.h                   |  48 ++-
 gck/gck-session.c                   | 643 +++++++++++++++++++++++-------------
 gck/gck-slot.c                      | 184 ++++++++---
 gck/gck.h                           |  56 +++-
 gck/gck.symbols                     |   9 +
 gck/tests/Makefile.am               |   4 +
 gck/tests/mock-interaction.c        |  97 ++++++
 gck/tests/mock-interaction.h        |  43 +++
 gck/tests/test-gck-crypto.c         |   2 +
 gck/tests/test-gck-enumerator.c     |  76 +++++
 gck/tests/test-gck-session.c        |   2 +
 19 files changed, 1543 insertions(+), 497 deletions(-)

commit 9c63434fa8bc7fe6bd3715c13a89c3c1865b9519
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    gcr: Check that secret exchanged data has correct protocol prefix
    
     * This is for future backward compatibility, so when we have more
       than one protocol, we can be sure we can identify the old one.

 gcr/gcr-secret-exchange.c | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit be083721fc84d24a1513867d8c6ab932bfd7cecf
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    ui: Disable dumping of prompt communication (again)
    
     * Was enabled for debugging during the last few commits

 ui/gku-prompt.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit db4f39bb74c0fa7cca2dd1e1fef6ae5034256d63
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    gcr: Documentation fixes for secret exchange commits

 docs/reference/gcr/Makefile.am      |  3 +++
 docs/reference/gcr/gcr-sections.txt | 29 ++---------------------------
 gcr/gcr-secret-exchange.c           |  2 +-
 3 files changed, 6 insertions(+), 28 deletions(-)

commit 08454bb7d33f08fe38468025d92287734e8fd8a6
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    ui: Use GcrSecretExchange for passing passwords to/from prompt
    
     * And integrate this with our credential stuff inside of the
       dbus secret service prompts
     * Fix a bug in GcrSecretService if key already derived, and data
       is received.

 daemon/dbus/Makefile.am             |   4 +-
 daemon/dbus/gkd-secret-exchange.c   | 237 ++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-exchange.h   |  50 ++++++
 daemon/dbus/gkd-secret-prompt.c     | 120 +++------------
 daemon/dbus/gkd-secret-prompt.h     |   2 -
 daemon/dbus/gkd-secret-secret.c     |  14 ++
 daemon/dbus/gkd-secret-secret.h     |   6 +
 daemon/dbus/gkd-secret-types.h      |   1 +
 egg/Makefile.am                     |   2 +-
 gcr/gcr-secret-exchange.c           |  10 +-
 pkcs11/wrap-layer/tests/Makefile.am |   1 +
 ui/Makefile.am                      |   8 +-
 ui/gku-prompt-tool.c                | 108 +++----------
 ui/gku-prompt-util.c                | 224 ---------------------------
 ui/gku-prompt-util.h                |  49 ------
 ui/gku-prompt.c                     | 298 +++++++++++-------------------------
 ui/gku-prompt.h                     |  18 +--
 ui/tests/Makefile.am                |  26 ----
 ui/tests/test-util.c                | 166 --------------------
 19 files changed, 457 insertions(+), 887 deletions(-)

commit 03191799af4ee3bd7109151118e77593f6e6b445
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    gcr: More work on the GcrSecretExchange
    
     * Expose the concept of which protocol is being used although
       currently only one is supported.
     * Add virtual method hooks so all crypto stuff can be swapped
       out with other implementations.
     * Build, documentation and test fixes
    
    https://bugzilla.gnome.org/show_bug.cgi?id=656955

 gcr/Makefile.am                  |   2 +-
 gcr/gcr-base.symbols             |   7 +
 gcr/gcr-secret-exchange.c        | 699 +++++++++++++++++++++++++++------------
 gcr/gcr-secret-exchange.h        |  38 ++-
 gcr/tests/test-secret-exchange.c |   4 +-
 5 files changed, 526 insertions(+), 224 deletions(-)

commit f108c3c6a07c05eb81b5c8191130693cba7ec06a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-23

    gcr: Add documentation for GcrSecretExchange
    
    https://bugzilla.gnome.org/show_bug.cgi?id=656955

 docs/reference/gcr/gcr-docs.sgml    |   1 +
 docs/reference/gcr/gcr-sections.txt |  20 +++++++
 gcr/gcr-secret-exchange.c           | 101 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-secret-exchange.h           |   4 +-
 4 files changed, 124 insertions(+), 2 deletions(-)

commit 45ef0a8bcff34b14f3813fea46cb0053b98c9c5b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-20

    gcr: Refactor GcrSecretExchange
    
     * Use the GcrSecretExchange object on both sides.
     * Allow exchange of multiple secrets, and in both directions.
     * Add tests

 .gitignore                       |   1 +
 gcr/gcr-base.h                   |   2 +
 gcr/gcr-secret-exchange.c        | 220 +++++++++++++++------------------------
 gcr/gcr-secret-exchange.h        |  25 ++---
 gcr/tests/Makefile.am            |   1 +
 gcr/tests/test-secret-exchange.c | 162 ++++++++++++++++++++++++++++
 6 files changed, 261 insertions(+), 150 deletions(-)

commit 47b881feec299d56ada232c803d30f564063d792
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-10

    gcr: Implement GcrSecretExchange
    
    * Class which allows exchanging secrets over an unsecure or logged
       channel.
     * Does *NOT* protect against active attacks like MITM.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=656955

 gcr/Makefile.am           |   2 +
 gcr/gcr-secret-exchange.c | 523 ++++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-secret-exchange.h |  78 +++++++
 3 files changed, 603 insertions(+)

commit 3907fb62b7af09a9a0986f6653b342d971f31156
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    gcr: More documentation fixes

 gcr/gcr-certificate-chain.c    |  1 +
 gcr/gcr-certificate-renderer.c |  4 ++--
 gcr/gcr-gnupg-collection.c     |  2 +-
 gcr/gcr-gnupg-process.c        | 10 +++++-----
 4 files changed, 9 insertions(+), 8 deletions(-)

commit 35b9baa1313cd58cea1437c82c063b292275722d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-10-01

    Fix up exported symbols for recent changes
    
     * Including one symbol removal, but since this was added during
       this unstable cycle, no problem changing it.

 gck/gck.symbols      | 20 ++++++++++++++++++++
 gcr/gcr-base.symbols |  2 +-
 2 files changed, 21 insertions(+), 1 deletion(-)

commit 2a32cc487d33b9b86aa917277d3ddf17e9025f39
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-09-30

    Updated Hebrew translation.

 po/he.po | 567 ++++++++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 400 insertions(+), 167 deletions(-)

commit 5745cac7b6a4af55ab5c2a2beddf1e878e1ca062
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-30

    gck: Fix more argument types
    
     * and mark up introspection annotations on some more arrays

 gck/gck-object.c | 12 ++++++------
 gck/gck-slot.c   |  8 +++++---
 gck/gck.h        | 14 +++++++-------
 3 files changed, 18 insertions(+), 16 deletions(-)

commit cd72f81f26e7d3bd1c03261c486f40107be3b5b7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: More introspection tweaks, checking for parameters which allow none

 gck/gck-attributes.c               |  6 ++---
 gck/gck-misc.c                     |  4 +--
 gck/gck-module.c                   |  4 ++-
 gck/gck-modules.c                  | 14 +++++++---
 gck/gck-object.c                   |  6 ++---
 gck/gck-session.c                  | 52 +++++++++++++++++++++++---------------
 gck/gck-slot.c                     | 11 +++++---
 gck/gck-uri.c                      |  2 +-
 gck/gck.h                          | 24 +++++++++---------
 gcr/gcr-certificate-chain.c        | 32 +++++++++++++----------
 gcr/gcr-certificate-chain.h        |  3 ++-
 gcr/gcr-certificate-renderer.c     | 12 ++++-----
 gcr/gcr-certificate-widget.c       | 10 ++++----
 gcr/gcr-certificate.c              | 47 +++++++++++++++++++++-------------
 gcr/gcr-collection-model.c         |  6 ++---
 gcr/gcr-combo-selector.c           |  2 +-
 gcr/gcr-failure-renderer.c         |  2 +-
 gcr/gcr-gnupg-collection.c         |  2 +-
 gcr/gcr-gnupg-importer.c           |  1 +
 gcr/gcr-gnupg-process.c            | 10 ++++----
 gcr/gcr-import-button.c            |  2 +-
 gcr/gcr-key-renderer.c             |  8 +++---
 gcr/gcr-key-widget.c               |  6 ++---
 gcr/gcr-library.c                  |  8 +++---
 gcr/gcr-live-search.c              |  1 +
 gcr/gcr-menu-button.c              |  1 +
 gcr/gcr-parser.c                   | 39 +++++++++++++++-------------
 gcr/gcr-renderer.c                 |  6 ++---
 gcr/gcr-types.h                    |  1 +
 gcr/gcr-viewer-widget.c            |  2 +-
 gcr/gcr-viewer.c                   |  2 +-
 gcr/tests/test-certificate-chain.c |  2 +-
 32 files changed, 189 insertions(+), 139 deletions(-)

commit 2c7e52817c4d125859c7fe500fee76eb98784738
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gcr: Annotate which types are being returned
    
     * If the C function is returning a base type, then annotate
       what derived type is actually being returned.

 gcr/gcr-callback-output-stream.c     |  5 +++++
 gcr/gcr-certificate-basics-widget.c  | 15 +++++++++++++--
 gcr/gcr-certificate-details-widget.c | 16 +++++++++++-----
 gcr/gcr-failure-renderer.c           |  2 +-
 gcr/gcr-gnupg-collection.c           |  2 +-
 gcr/gcr-gnupg-importer.c             |  5 +++++
 gcr/gcr-live-search.c                |  5 +++++
 gcr/gcr-memory-icon.c                |  2 +-
 gcr/gcr-menu-button.c                |  5 +++++
 gcr/gcr-pkcs11-importer.c            |  5 +++++
 gcr/gcr-simple-certificate.c         |  4 ++--
 gcr/gcr-simple-collection.c          |  4 ++--
 gcr/gcr-union-collection.c           |  4 ++--
 gcr/gcr-unlock-options-widget.c      |  4 ++--
 gcr/gcr-viewer-window.c              |  2 +-
 15 files changed, 61 insertions(+), 19 deletions(-)

commit 99d7466f2b099c63fc7e54ba10cadd6a10568952
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gcr: Add gcr_viewer_widget_get_parser()
    
     * This property returns the parser currently in use by the viewer widget

 docs/reference/gcr/gcr-sections.txt |  1 +
 gcr/gcr-viewer-widget.c             | 48 +++++++++++++++++++++++++++++++++++++
 gcr/gcr-viewer-widget.h             |  2 ++
 gcr/gcr.symbols                     |  1 +
 4 files changed, 52 insertions(+)

commit 548c427bd61253bfb7bc822346539bd89443ff8d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: Fix precondition in gck_object_from_handles

 gck/gck-object.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8edab1121205ae42c9005219f474af38881d8572
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gcr: More introspection and documentation cleanup
    
     * Tag proper transfer on return values
     * Use guchar * for arrays of bytes

 docs/reference/gcr/gcr-docs.sgml     |  4 +++
 gcr/gcr-certificate-basics-widget.c  |  4 +--
 gcr/gcr-certificate-chain.c          |  6 ++---
 gcr/gcr-certificate-details-widget.c |  4 +--
 gcr/gcr-certificate-renderer.c       | 23 +++++++++---------
 gcr/gcr-certificate-widget.c         | 12 ++++-----
 gcr/gcr-certificate.c                |  6 +++--
 gcr/gcr-certificate.h                |  3 ++-
 gcr/gcr-collection-model.c           | 10 +++++---
 gcr/gcr-collection.c                 | 14 +++++++++++
 gcr/gcr-comparable.c                 |  2 +-
 gcr/gcr-import-button.c              |  4 +--
 gcr/gcr-key-renderer.c               |  4 +--
 gcr/gcr-library.c                    | 28 +++++++++++++++++++++
 gcr/gcr-list-selector.c              |  6 ++---
 gcr/gcr-parser.c                     | 47 ++++++++++++++++++++++++++++++------
 gcr/gcr-parser.h                     |  2 +-
 gcr/gcr-pkcs11-certificate.c         |  5 ++--
 gcr/gcr-renderer.c                   | 11 +++++++++
 gcr/gcr-simple-certificate.c         | 17 +++++++------
 gcr/gcr-simple-certificate.h         |  4 +--
 gcr/gcr-tree-selector.c              |  8 +++---
 gcr/gcr-types.h                      |  4 +--
 gcr/gcr-viewer-widget.c              | 21 +++++++++++++++-
 gcr/gcr-viewer-widget.h              |  2 +-
 gcr/gcr-viewer-window.c              | 16 +++++++++++-
 gcr/gcr-viewer.c                     |  8 ++++++
 gcr/tests/frob-parser.c              |  2 +-
 gcr/tests/test-certificate-chain.c   |  2 +-
 gcr/tests/test-certificate.c         |  6 ++---
 gcr/tests/test-parser.c              |  4 +--
 gcr/tests/test-trust.c               |  2 +-
 32 files changed, 216 insertions(+), 75 deletions(-)

commit 86841eb8e1f297840e91c7e252bbeba109ddf56b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: More introspection and documentation cleanup
    
     * In particular, use guchar * for arrays of bytes.

 daemon/dbus/gkd-secret-property.c    |   4 +-
 daemon/gpg-agent/gkd-gpg-agent-ops.c |   2 +-
 gck/gck-attributes.c                 | 143 ++++++++++++++---------------------
 gck/gck-misc.c                       |  23 +++---
 gck/gck-mock.c                       |   8 +-
 gck/gck-module.c                     |   8 +-
 gck/gck-object.c                     |  29 +++----
 gck/gck-session.c                    |  45 +++++++----
 gck/gck-slot.c                       |  32 ++++----
 gck/gck-uri.c                        |   4 +-
 gck/gck.h                            |  14 ++--
 gck/tests/test-gck-attributes.c      |  20 ++---
 gck/tests/test-gck-crypto.c          |  20 ++---
 gck/tests/test-gck-object.c          |   2 +-
 gck/tests/test-gck-uri.c             |   2 +-
 15 files changed, 174 insertions(+), 182 deletions(-)

commit 037872981e140ff86df03ca61b9d62527419c383
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: Fix if _gck_debug was not called _gck_debugging doesn't work
    
     * Initialize debugging in both _gck_debug and _gck_debugging

 gck/gck-debug.c | 19 ++++++++++++++-----
 gck/gck-debug.h |  2 ++
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 7755ae74eedbdfb5a734fc3470728422c6fe436d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: Documentation, introspection, and header fixes

 .gitignore                              |  2 ++
 docs/reference/gck/Makefile.am          |  2 +-
 docs/reference/gck/gck-docs.sgml        |  3 ++
 docs/reference/gck/gck-pkcs11-links.xml |  4 +--
 docs/reference/gck/gck-sections.txt     | 60 ++++++++++++++++++++++++++++-----
 gck/Makefile.am                         | 20 +++++++++--
 gck/gck-attributes.c                    | 16 ++++-----
 gck/gck-enum-types.c.template           | 43 +++++++++++++++++++++++
 gck/gck-enum-types.h.template           | 28 +++++++++++++++
 gck/gck-misc.c                          | 21 ++++++++----
 gck/gck-module.c                        | 22 ++++++++++--
 gck/gck-modules.c                       |  8 +++++
 gck/gck-object.c                        |  6 ++--
 gck/gck-session.c                       | 25 +++++++++++---
 gck/gck-slot.c                          | 30 +++++++++++++++--
 gck/gck-uri.c                           | 57 +++++++++++++++++++++++++++----
 gck/gck.h                               | 29 ++++++++--------
 17 files changed, 314 insertions(+), 62 deletions(-)

commit b5df026ef2887fddca85bd4bfa7cef6319f1a3c4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: Work around g-ir-scanner syntax problem
    
     * Separate typedef from structure declaration.

 gck/gck.h | 30 ++++++++++++++++++++----------
 1 file changed, 20 insertions(+), 10 deletions(-)

commit f300deeab290f6fabc8ea409cf0b9d57ce683eca
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    Gck: GckAttribute value field is a byte array

 gck/gck-attributes.c |  2 +-
 gck/gck-dump.c       |  4 ++--
 gck/gck.h            | 14 +++++++++-----
 3 files changed, 12 insertions(+), 8 deletions(-)

commit 6750233d9cc631e737503abe43ec6ebdbd303cd3
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-29

    gck: Gck introspection doesn't depend on gtk

 gck/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 28c0f14a101d7513fd60c2c3759f6c0d95dff211
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-28

    gcr: Complete introspection annotations for gcr library
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655651

 gcr/Makefile.am                      | 26 ++++++-------
 gcr/gcr-certificate-basics-widget.c  | 14 ++++++-
 gcr/gcr-certificate-chain.c          | 11 +++---
 gcr/gcr-certificate-details-widget.c | 15 ++++++++
 gcr/gcr-certificate-renderer.c       |  4 +-
 gcr/gcr-certificate-widget.c         |  4 +-
 gcr/gcr-certificate.c                | 74 ++++++++++++++++--------------------
 gcr/gcr-certificate.h                |  6 +--
 gcr/gcr-collection-model.c           | 14 +++----
 gcr/gcr-collection.c                 | 39 +++----------------
 gcr/gcr-combo-selector.c             |  8 ++--
 gcr/gcr-deprecated-base.h            |  2 +
 gcr/gcr-deprecated.h                 |  2 +
 gcr/gcr-failure-renderer.c           | 17 +++++++++
 gcr/gcr-icons.c                      | 10 ++++-
 gcr/gcr-icons.h                      |  2 +-
 gcr/gcr-importer.c                   | 12 +++---
 gcr/gcr-key-renderer.c               |  2 +-
 gcr/gcr-library.c                    | 16 ++++----
 gcr/gcr-list-selector.c              |  9 +++--
 gcr/gcr-parser.c                     | 15 ++++----
 gcr/gcr-parser.h                     |  4 +-
 gcr/gcr-pkcs11-certificate.c         | 12 +++---
 gcr/gcr-pkcs11-importer.c            |  2 +-
 gcr/gcr-renderer.c                   | 28 ++++----------
 gcr/gcr-renderer.h                   |  1 +
 gcr/gcr-simple-certificate.c         |  8 ++--
 gcr/gcr-simple-collection.c          |  6 +--
 gcr/gcr-tree-selector.c              | 19 ++++-----
 gcr/gcr-types.h                      | 13 +++++++
 gcr/gcr-union-collection.c           |  6 +--
 gcr/gcr-viewer.c                     | 12 +++---
 32 files changed, 220 insertions(+), 193 deletions(-)

commit 573515295e6616b3a0187f04ce634d7d11962e7e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-28

    gck: Fix introspection warnings and complete introspection annotations
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655651

 .gitignore                  |   2 +
 configure.ac                |   3 ++
 gck/Makefile.am             |  53 +++++++++++++++---
 gck/gck-attributes.c        |  51 ++++++++++++------
 gck/gck-deprecated.h        |  51 ++++++++++++++++++
 gck/gck-enumerator.c        |  10 ++--
 gck/gck-misc.c              |  14 +++--
 gck/gck-module.c            |  47 +++++++++++++---
 gck/gck-modules.c           |  56 +++++++++++--------
 gck/gck-object.c            |  81 +++++++++++++++++-----------
 gck/gck-session.c           | 110 +++++++++++++++++++++++++-------------
 gck/gck-slot.c              | 127 ++++++++++++++++++++++++++++++++++++--------
 gck/gck-uri.c               |  42 +++++++++++++++
 gck/gck.h                   | 105 ++++++++++++++++++++++++------------
 gck/tests/test-gck-crypto.c |   3 +-
 gck/tests/test-gck-object.c |   6 +--
 gck/tests/test-gck-slot.c   |   2 +-
 17 files changed, 574 insertions(+), 189 deletions(-)

commit ed7ac9fa1cf4af666f98eab616a222ccd935b2cb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    Display configure status of introspection

 configure.ac | 1 +
 1 file changed, 1 insertion(+)

commit db23c00cf5640a4a20574940000fce59284c1d5b
Author: Evan Nemerson <evan@coeus-group.com>
Date:   2011-07-30

    gcr: mark many fields as private

 gcr/gcr-certificate-exporter.h | 1 +
 gcr/gcr-certificate-widget.c   | 3 +--
 gcr/gcr-display-scrolled.h     | 1 +
 gcr/gcr-display-view.h         | 1 +
 gcr/gcr-gnupg-collection.h     | 1 +
 gcr/gcr-gnupg-key.h            | 3 +--
 gcr/gcr-gnupg-process.h        | 1 +
 gcr/gcr-import-dialog.h        | 1 +
 gcr/gcr-live-search.h          | 3 +--
 gcr/gcr-memory-icon.h          | 3 +--
 10 files changed, 10 insertions(+), 8 deletions(-)

commit 2ccaf2e8ea2f750d924192f53ab6b3fe33e3c789
Author: Evan Nemerson <evan@coeus-group.com>
Date:   2011-07-30

    gcr: add GObject introspection support
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655651

 configure.ac    |  4 ++++
 gcr/.gitignore  |  2 ++
 gcr/Makefile.am | 29 +++++++++++++++++++++++++++++
 3 files changed, 35 insertions(+)

commit def5a1535efa3983988b0e3145eb7ea42d3f1b70
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Fix logic in GcrImportButton when unlocking is going on (again)

 gcr/gcr-import-button.c | 47 +++++++++++++++++++++++------------------------
 1 file changed, 23 insertions(+), 24 deletions(-)

commit a9b04f12ba0e53e469beb5c5f978cc205d1dbb18
Author: Yuri Matsuk <yuri@matsuk.net>
Date:   2011-09-28

    Updated Belarusian translation.

 po/be.po | 1202 +++++++++++++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 996 insertions(+), 206 deletions(-)

commit 2b759c73f930c32268606c21659084e5fd125804
Author: Yuri Matsuk <yuri@matsuk.net>
Date:   2011-09-28

    Updated Belarusian translation.

 po/be.po | 1440 +++++++++++++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 1235 insertions(+), 205 deletions(-)

commit 280e18a03dcb3c134c0145b2a3d521435b1fc7a4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: More deprecation tweaking so we can build on FC16

 gcr/gcr-library.c     | 2 +-
 gcr/gcr-live-search.c | 8 ++++----
 gcr/gcr-parser.c      | 4 ++++
 3 files changed, 9 insertions(+), 5 deletions(-)

commit 334029b587866028ef1c52c89b916b4431744d40
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Fix logic in GcrImportButton when unlocking is going on
    
     * Don't show the spinner when no importers are ready even though
       initializing

 gcr/gcr-import-button.c | 45 ++++++++++++++++++++++++---------------------
 1 file changed, 24 insertions(+), 21 deletions(-)

commit 375bf3a14d695e8b88abe4d86f21e224a6968d83
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Fix problem with unlock prompt
    
     * Signal handling of the authenticate was in the wrong order.

 gcr/gcr-viewer-widget.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c6d34ef32a6e6ffff38bdbc7f177a88c9e6bf680
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Fix documentation, abi, and translation issues

 docs/reference/gcr/Makefile.am      |   3 ++
 docs/reference/gcr/gcr-sections.txt |  22 +++++---
 docs/reference/gcr/gcr.types        |   1 +
 gcr/Makefile.am                     |   4 +-
 gcr/gcr-base.symbols                |  19 ++++++-
 gcr/gcr-collection-model.c          |  21 +++++++-
 gcr/gcr-combo-selector.c            |   2 +-
 gcr/gcr-combo-selector.h            |   2 -
 gcr/gcr-deprecated-base.h           |  16 ++++++
 gcr/gcr-import-button.c             |  15 ++++++
 gcr/gcr-import-button.h             |   2 +-
 gcr/gcr-importer.c                  | 104 +++++++++++++++++++++++++++++++++++-
 gcr/gcr-list-selector.c             |   4 +-
 gcr/gcr-list-selector.h             |   2 -
 gcr/gcr-parser.c                    |  42 ++++++++++++++-
 gcr/gcr-viewer-tool.c               |   4 +-
 gcr/gcr-viewer-window.c             |  16 +++---
 gcr/gcr-viewer-window.h             |  14 +++--
 gcr/gcr.symbols                     |  10 ++++
 gcr/tests/frob-unlock.c             |   2 +-
 po/POTFILES.in                      |   3 ++
 21 files changed, 270 insertions(+), 38 deletions(-)

commit 0153e2bd9fb47ccb83bff6010713d14f8f75c349
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Fix invalid memory access in _gcr_record_set_base64

 gcr/gcr-record.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7da76e0b2887b03d51d456c5d622770e0ce8bbfc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Use correct icon in the PKCS#11 importer

 gcr/Makefile.am           |  2 +-
 gcr/gcr-icons.h           |  2 ++
 gcr/gcr-pkcs11-importer.c | 15 +++++++--------
 3 files changed, 10 insertions(+), 9 deletions(-)

commit 61040577ebb5f6dfbb4d07a30edde91205abd7a9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Refactor GcrParser and delay listing of importers
    
     * PKCS#11 takes a long time to initialize with certain smart cards
       (several seconds). So we can't block the UI.
     * Expose the PKCS#11 initialization functions publicly.
     * Refactor GcrParser so that the current parsed item can be held
       around until later in the form of a GcrParsed structure.
     * Queue parsed items in GcrImportButton until PKCS#11 is initialized.

 gcr/gcr-gnupg-importer.c     |  14 +--
 gcr/gcr-import-button.c      |  48 ++++++++-
 gcr/gcr-import-button.h      |   2 +-
 gcr/gcr-importer.c           |  40 +++++--
 gcr/gcr-importer.h           |  26 ++---
 gcr/gcr-internal.h           |  10 --
 gcr/gcr-library.c            |  18 ++--
 gcr/gcr-library.h            |  10 ++
 gcr/gcr-parser.c             | 246 ++++++++++++++++++++++++++++++++-----------
 gcr/gcr-parser.h             |  22 ++++
 gcr/gcr-pkcs11-certificate.c |   4 +-
 gcr/gcr-pkcs11-importer.c    |  41 +++++---
 gcr/gcr-pkcs11-importer.h    |   3 +
 gcr/gcr-trust.c              |   8 +-
 gcr/gcr-viewer-widget.c      |   9 +-
 gcr/gcr-viewer-window.c      |   4 +-
 tool/gkr-tool-import.c       |   6 +-
 17 files changed, 362 insertions(+), 149 deletions(-)

commit 6cf14cf7397de26f80257dc49c741ec17f446a51
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Add GcrSingleCollection internal class

 gcr/Makefile.am             |   1 +
 gcr/gcr-single-collection.c | 157 ++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-single-collection.h |  55 ++++++++++++++++
 3 files changed, 213 insertions(+)

commit fb23b74a8488b781b74d9f2d2fbb50e9bdc85f70
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-23

    gcr: Show warnings about keys that have not been verified
    
     * And emblem icons that have not been verified.

 gcr/gcr-display-view.c   | 71 ++++++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-display-view.h   |  5 ++++
 gcr/gcr-gnupg-records.c  | 31 ++++++++++++++++++---
 gcr/gcr-gnupg-renderer.c | 43 +++++++++++++++--------------
 gcr/gcr-parser.c         |  4 ++-
 5 files changed, 128 insertions(+), 26 deletions(-)

commit 137f0ddfd3d4f0bea59a90d90acb796f3e3010f8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-22

    gcr: Fixes for the import button and viewer widget
    
     * Update the button before anything queued.
     * Fix viewer widget arguments

 gcr/gcr-import-button.c | 120 ++++++++++++++++++++++++------------------------
 gcr/gcr-viewer-widget.c |   2 +-
 gcr/gcr-viewer-widget.h |   2 +-
 3 files changed, 63 insertions(+), 61 deletions(-)

commit 3bf15d00c29a8a17e2fe6c41c7492a9689fa684c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-22

    gcr: Distribute new headers properly.

 gcr/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9a2399cb14f6522b1d59843ef388b65b342f1822
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-22

    gcr: Fix up documentation images

 docs/reference/gcr/gcr-visual-index.xml | 22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit d94dd8459298bac84b70190fd8db0ef2b480db49
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-22

    gcr: Complete GcrViewerWidget and GcrImportButton
    
     * Cleanup documentation
     * Rework how the GcrViewerWindow works so that it can be used
       elsewhere.
     * Create GcrImportButton which can import certificates and widgets.

 docs/reference/gcr/Makefile.am                   |  13 +-
 docs/reference/gcr/gcr-docs.sgml                 |   2 +
 docs/reference/gcr/gcr-sections.txt              |  46 ++-
 docs/reference/gcr/gcr-widgets.c                 |  46 ++-
 docs/reference/gcr/gcr.types                     |  23 +-
 docs/reference/gcr/images/certificate-widget.png | Bin 15090 -> 16144 bytes
 docs/reference/gcr/images/import-button.png      | Bin 0 -> 2925 bytes
 docs/reference/gcr/images/key-widget.png         | Bin 10159 -> 10159 bytes
 docs/reference/gcr/images/viewer-widget.png      | Bin 0 -> 13167 bytes
 gcr/Makefile.am                                  |  15 +-
 gcr/gcr-base.h                                   |   1 +
 gcr/gcr-collection-model.c                       |   1 -
 gcr/gcr-combo-selector.c                         |   1 -
 gcr/gcr-failure-renderer.c                       |  32 +-
 gcr/gcr-failure-renderer.h                       |  11 +-
 gcr/gcr-gnupg-process.c                          |  62 ++-
 gcr/gcr-import-button.c                          | 485 +++++++++++++++++++++++
 gcr/gcr-import-button.h                          |  68 ++++
 gcr/gcr-list-selector.c                          |   1 -
 gcr/gcr-marshal.list                             |   2 +
 gcr/gcr-pkcs11-importer.c                        |   2 +-
 gcr/gcr-simple-collection.c                      |   1 -
 gcr/gcr-tree-selector.c                          |   1 -
 gcr/gcr-union-collection.c                       |   1 -
 gcr/gcr-unlock-renderer.c                        |  98 ++---
 gcr/gcr-unlock-renderer.h                        |  12 +-
 gcr/gcr-viewer-tool.c                            |   6 +-
 gcr/gcr-viewer-widget.c                          | 436 ++++++++++++++++++++
 gcr/gcr-viewer-widget.h                          |  53 +++
 gcr/gcr-viewer-window.c                          | 371 ++++-------------
 gcr/gcr-viewer-window.h                          |  12 +-
 gcr/gcr-viewer.c                                 |  27 +-
 gcr/gcr.h                                        |   8 +-
 gcr/tests/Makefile.am                            |   4 +
 gcr/tests/frob-unlock.c                          |   3 +-
 35 files changed, 1366 insertions(+), 478 deletions(-)

commit c1e1f9ebd3e2795a5bf873e157caddd79cc374cb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-22

    gcr: Fix up documentation for importer and menu button

 docs/reference/gcr/Makefile.am |  1 +
 gcr/gcr-importer.c             | 14 ++++++++++----
 gcr/gcr-importer.h             |  1 +
 3 files changed, 12 insertions(+), 4 deletions(-)

commit f03758232bcd6ca38ec9e4852aa3f4f7501c1cff
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-21

    gcr: Implement GcrMenuButton which is copied from gnome-contacts
    
     * The standard clickable button which drops down a menu.

 gcr/Makefile.am       |   1 +
 gcr/gcr-menu-button.c | 366 ++++++++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-menu-button.h |  61 +++++++++
 3 files changed, 428 insertions(+)

commit 01098245b36a76321b6fc38dca50efa64b0a6b8e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-21

    gcr: Refactor the importer with multiple registered importers
    
     * Allow multiple importers to register, and have a way for
       them to identify whether something is importable by the
       importer or not.
     * Create a new GnuPG keyring importer.
     * Add boxed type for a GList of GObject
     * Some other minor cleanups.

 docs/reference/gck/gck-sections.txt |    2 +
 docs/reference/gcr/Makefile.am      |    4 +
 docs/reference/gcr/gcr-sections.txt |   79 +--
 gck/gck-misc.c                      |   12 +
 gck/gck.h                           |    4 +
 gck/gck.symbols                     |    1 +
 gcr/Makefile.am                     |    4 +-
 gcr/gcr-base.symbols                |   12 +
 gcr/gcr-certificate-widget.c        |    7 -
 gcr/gcr-deprecated-base.h           |    6 +
 gcr/gcr-deprecated.h                |    5 -
 gcr/gcr-gnupg-importer.c            |  315 ++++++++++
 gcr/gcr-gnupg-importer.h            |   67 ++
 gcr/gcr-gnupg-process.c             |    7 +
 gcr/gcr-gnupg-process.h             |    2 +
 gcr/gcr-import-dialog.c             |   15 +-
 gcr/gcr-import-dialog.h             |   17 +-
 gcr/gcr-importer.c                  | 1144 ++++++++++-------------------------
 gcr/gcr-importer.h                  |  109 ++--
 gcr/gcr-internal.h                  |    1 +
 gcr/gcr-key-widget.c                |    7 -
 gcr/gcr-pkcs11-importer.c           |  582 ++++++++++++++++++
 gcr/gcr-pkcs11-importer.h           |   68 +++
 gcr/gcr-record.h                    |   11 +
 gcr/gcr.symbols                     |   14 -
 po/POTFILES.in                      |    1 +
 tool/gkr-tool-import.c              |  138 ++++-
 27 files changed, 1602 insertions(+), 1032 deletions(-)

commit 95296d139236df1cb3d916b89f30a1bc31572c1f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-20

    gcr: Add Renderer for Gnupg keys
    
     * Uses the colon style GcrRecord data to render gnupg key.

 docs/reference/gcr/gcr-sections.txt |  10 +
 gcr/Makefile.am                     |   6 +
 gcr/gcr-gnupg-collection.c          |   5 +-
 gcr/gcr-gnupg-key.c                 | 127 +-----
 gcr/gcr-gnupg-key.h                 |   4 -
 gcr/gcr-gnupg-records.c             | 244 +++++++++++
 gcr/gcr-gnupg-records.h             |  52 +++
 gcr/gcr-gnupg-renderer.c            | 852 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-gnupg-renderer.h            |  77 ++++
 gcr/gcr-openpgp.c                   |  55 +--
 gcr/gcr-openpgp.h                   |   8 +
 gcr/gcr-parser.c                    |  20 +-
 gcr/gcr-record.c                    | 150 ++++---
 gcr/gcr-record.h                    |  33 +-
 gcr/gcr-renderer.c                  |   2 +
 gcr/gcr-types.h                     |  10 +
 gcr/tests/test-gnupg-collection.c   |   2 +-
 gcr/tests/test-gnupg-key.c          |   3 +-
 gcr/tests/test-openpgp.c            |  16 +
 gcr/tests/test-record.c             |   4 +-
 po/POTFILES.in                      |   1 +
 21 files changed, 1439 insertions(+), 242 deletions(-)

commit 46e02e0a3ef23367caebb4fb0b4c123beee346bf
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-16

    gcr: Implement parsing of openpgp packet contents into records.
    
     * Also centralize our timegm() implementation for dumb OS's.
     * Add tests for openpgp packet parsing
     * Produces with-colons format in the gnupg style, slight differences
       but not incompatible.

 .gitignore                          |    1 +
 docs/reference/gcr/gcr-sections.txt |   10 +
 egg/Makefile.am                     |    1 +
 egg/egg-asn1x.c                     |   31 +-
 egg/egg-timegm.c                    |   58 ++
 egg/egg-timegm.h                    |   33 +
 gck/gck-slot.c                      |   35 +-
 gcr/gcr-gnupg-collection.c          |    2 +-
 gcr/gcr-gnupg-key.c                 |    4 +-
 gcr/gcr-gnupg-util.c                |   59 +-
 gcr/gcr-openpgp.c                   | 1125 ++++++++++++++++++++++++++++++++++-
 gcr/gcr-openpgp.h                   |    9 +
 gcr/gcr-parser.c                    |    4 +-
 gcr/gcr-record.c                    |  611 +++++++++++++++++--
 gcr/gcr-record.h                    |  142 ++++-
 gcr/tests/Makefile.am               |    1 +
 gcr/tests/files/secring.gpg         |  Bin 0 -> 4398 bytes
 gcr/tests/frob-openpgp.c            |  122 ++++
 gcr/tests/test-openpgp.c            |  270 ++++++++-
 gcr/tests/test-record.c             |   22 -
 pkcs11/gkm/gkm-attributes.c         |   33 +-
 21 files changed, 2309 insertions(+), 264 deletions(-)

commit 97c01e9b0f5121082f49e1dc4c6286b390e8d00a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-14

    gcr: Implement input for GcrGnupgProcess
    
     * Use io streams for input and output

 docs/reference/gcr/gcr-sections.txt               |   9 +
 gcr/Makefile.am                                   |   1 +
 gcr/gcr-callback-output-stream.c                  | 127 ++++++++
 gcr/gcr-callback-output-stream.h                  |  58 ++++
 gcr/gcr-gnupg-collection.c                        |  54 ++--
 gcr/gcr-gnupg-process.c                           | 373 ++++++++++++++++++----
 gcr/gcr-gnupg-process.h                           |  19 +-
 gcr/tests/files/gnupg-mock/mock-arguments-environ |   2 +-
 gcr/tests/files/gnupg-mock/mock-echo              |   8 +
 gcr/tests/test-gnupg-process.c                    | 148 +++++++--
 po/POTFILES.in                                    |   1 +
 11 files changed, 666 insertions(+), 134 deletions(-)

commit 10ace51a6d5596691596c3786f99ebe2445d9203
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-14

    gcr: GcrParser now reports current format for block parsed
    
     * The current format represents the inner most block
     * Refactor GcrParser so that we can accurately track the state of
       the parsed items when multiple functions contribute to that state.

 docs/reference/gcr/gcr-sections.txt |   1 +
 gcr/gcr-base.symbols                |   1 +
 gcr/gcr-parser.c                    | 664 +++++++++++++++++++++---------------
 gcr/gcr-parser.h                    |   8 +-
 gcr/gcr-types.h                     |   3 +-
 gcr/tests/test-parser.c             |   9 +-
 6 files changed, 410 insertions(+), 276 deletions(-)

commit 1e36c52404938d521ce3cb11632f393689308ac6
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-13

    gcr: Implement recognizing of OpenPGP packets
    
     * Doesn't actually parse keys or anything else about OpenPGP (yet).
     * Generalize the PEM code so that it works for PGP armor.

 .gitignore                            |   1 +
 docs/reference/gcr/gcr-sections.txt   |   1 +
 egg/Makefile.am                       |   1 +
 egg/egg-armor.c                       | 407 ++++++++++++++++++++++++++++++++++
 egg/egg-armor.h                       |  50 +++++
 egg/egg-openssl.c                     | 350 -----------------------------
 egg/egg-openssl.h                     |  18 --
 egg/tests/test-openssl.c              |  17 +-
 gcr/Makefile.am                       |   1 +
 gcr/gcr-certificate-exporter.c        |   7 +-
 gcr/gcr-openpgp.c                     | 226 +++++++++++++++++++
 gcr/gcr-openpgp.h                     |  49 ++++
 gcr/gcr-parser.c                      |  87 ++++++--
 gcr/gcr-types.h                       |   3 +
 gcr/tests/Makefile.am                 |   1 +
 gcr/tests/files/pubring.gpg           | Bin 0 -> 21969 bytes
 gcr/tests/files/werner-koch.asc       |  71 ++++++
 gcr/tests/test-openpgp.c              |  94 ++++++++
 pkcs11/gkm/tests/test-data-der.c      |   3 +-
 pkcs11/roots-store/gkm-roots-module.c |   3 +-
 pkcs11/ssh-store/gkm-ssh-openssh.c    |   5 +-
 21 files changed, 999 insertions(+), 396 deletions(-)

commit ad4fc192b5cf9c51ed73306b43e43fb36747ab22
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-13

    gcr: Implement OpenSSH public key parser
    
     * And add tests for various formats.

 .gitignore                          |   1 +
 docs/reference/gcr/gcr-sections.txt |   1 +
 gcr/Makefile.am                     |   1 +
 gcr/gcr-internal.h                  |   3 +
 gcr/gcr-live-search.c               |  19 +-
 gcr/gcr-openssh.c                   | 491 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-openssh.h                   |  51 ++++
 gcr/gcr-parser.c                    | 108 ++++++--
 gcr/gcr-types.h                     |   2 +
 gcr/tests/Makefile.am               |   1 +
 gcr/tests/files/openssh_keys.pub    |   2 +
 gcr/tests/test-openssh.c            | 196 ++++++++++++++
 testing/ssh-example/README          |   1 +
 testing/ssh-example/id_dsa          |  15 ++
 testing/ssh-example/id_dsa.pub      |   1 +
 testing/ssh-example/id_rsa          |  30 +++
 testing/ssh-example/id_rsa.pub      |   1 +
 testing/ssh-example/identity        | Bin 0 -> 988 bytes
 testing/ssh-example/identity.pub    |   1 +
 19 files changed, 908 insertions(+), 17 deletions(-)

commit 9050ad6a4112097b219e6f781ea1d3ecaf1bdd22
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-12

    egg: Add decoder for decimal data, analogous to the hex decoder.

 .gitignore               |   1 +
 egg/Makefile.am          |   1 +
 egg/egg-decimal.c        | 101 +++++++++++++++++++++++++++++++++++
 egg/egg-decimal.h        |  33 ++++++++++++
 egg/tests/Makefile.am    |   1 +
 egg/tests/test-decimal.c | 136 +++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 273 insertions(+)

commit 71fdbb795e368641579bcd6f8f45945f5a383f4c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Remove stock icon code, add gcr_icon_for_token_info()
    
     * gcr-icons.h is public
     * Remove old stock icon code, and use themed icons properly
     * Add gcr_icon_for_token_info() function which looks up an
       appropriate icon for a token.

 gcr/Makefile.am                |  1 +
 gcr/gcr-base.h                 |  1 +
 gcr/gcr-certificate-renderer.c |  1 -
 gcr/gcr-failure-renderer.c     |  2 --
 gcr/gcr-icons.c                | 70 ++++++++----------------------------------
 gcr/gcr-icons.h                |  7 +++--
 gcr/gcr-key-renderer.c         |  2 --
 gcr/gcr-unlock-renderer.c      |  2 --
 8 files changed, 20 insertions(+), 66 deletions(-)

commit f6e3f6636c7210c1fe1766fcad2b128ef8a656a8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-27

    gcr: Compatiblity fix for glib 2.28.x

 gcr/gcr-library.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 0c1fa2c226de72bba54c203645ebfb81b27cf54e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-23

    gcr: Add icons for smart card
    
     * Copy a bit of infrastructure from gnome-icon-theme
    
    https://bugzilla.gnome.org/show_bug.cgi?id=659951

 configure.ac                         |    1 +
 gcr/icons/16x16/Makefile.am          |    1 +
 gcr/icons/16x16/gcr-smart-card.png   |  Bin 0 -> 509 bytes
 gcr/icons/22x22/Makefile.am          |    1 +
 gcr/icons/22x22/gcr-smart-card.png   |  Bin 0 -> 662 bytes
 gcr/icons/24x24/Makefile.am          |    1 +
 gcr/icons/24x24/gcr-smart-card.png   |  Bin 0 -> 636 bytes
 gcr/icons/256x256/Makefile.am        |    9 +
 gcr/icons/256x256/gcr-smart-card.png |  Bin 0 -> 9294 bytes
 gcr/icons/32x32/Makefile.am          |    1 +
 gcr/icons/32x32/gcr-smart-card.png   |  Bin 0 -> 1093 bytes
 gcr/icons/48x48/Makefile.am          |    1 +
 gcr/icons/48x48/gcr-smart-card.png   |  Bin 0 -> 1684 bytes
 gcr/icons/Makefile.am                |    9 +-
 gcr/icons/render-icons.py            |  174 +++++
 gcr/icons/src/gcr-smart-card.svg     | 1165 ++++++++++++++++++++++++++++++++++
 16 files changed, 1362 insertions(+), 1 deletion(-)

commit 436c4aeac4184741b0025c521b6f20c0dacf3f67
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    gcr: Fix for more glib deprecations

 configure.ac              |  2 +-
 gcr/gcr-library.c         |  2 +-
 gcr/gcr-live-search.c     | 10 ++++------
 gcr/gcr-unlock-renderer.c |  2 +-
 4 files changed, 7 insertions(+), 9 deletions(-)

commit b5dbcb5e61ec47e857dc2756212816a8dbcc30f4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    dbus: Fix errors introduced by previous introspection patch

 daemon/dbus/gkd-secret-objects.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b2231e0b7a27764d84d6008a167ca866a0d7a36e
Merge: f575afb e337f08
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    Merge branch 'introspect-nodes'

commit f575afb81aad66d66cb969aab52e4180ce811014
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    Rework configure build options based on recent mailing list posts
    
     * --enable-strict to enable -Werror, fatal warnings and disable
       deprecations
     * --disable-debug to G_DISABLE_ASSERT
     * default debug for -g, WITH_DEBUG
     * --enable-debug to -OO

 HACKING                             |  19 ++++-
 Makefile.am                         |  13 +--
 configure.ac                        | 164 +++++++++++++++++-------------------
 daemon/control/Makefile.am          |   7 +-
 daemon/dbus/Makefile.am             |   8 +-
 daemon/dbus/gkd-dbus-secrets.c      |   2 +-
 daemon/dbus/gkd-dbus.c              |   2 +-
 daemon/gkd-main.c                   |  12 +--
 daemon/gkd-pkcs11.c                 |   2 +-
 egg/Makefile.am                     |   8 +-
 gck/Makefile.am                     |  12 +--
 gcr/Makefile.am                     |  12 +--
 pkcs11/gkm/Makefile.am              |   8 +-
 pkcs11/gnome2-store/Makefile.am     |   8 +-
 pkcs11/roots-store/Makefile.am      |   8 +-
 pkcs11/secret-store/Makefile.am     |   9 +-
 pkcs11/ssh-store/Makefile.am        |   8 +-
 pkcs11/wrap-layer/Makefile.am       |   8 +-
 pkcs11/wrap-layer/tests/Makefile.am |   4 +-
 pkcs11/xdg-store/Makefile.am        |   8 +-
 ui/Makefile.am                      |  12 +--
 21 files changed, 124 insertions(+), 210 deletions(-)

commit e337f08d3eaf17b65d739b791618da29ebefd25e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    dbus: Implement <node> children in DBus introspection data
    
     * This allows tools like d-feet to see what's going on in
       the service.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=660127

 daemon/dbus/gkd-dbus-util.c         |  65 +++++++-
 daemon/dbus/gkd-dbus-util.h         |   4 +-
 daemon/dbus/gkd-secret-introspect.c |   9 ++
 daemon/dbus/gkd-secret-introspect.h |   1 +
 daemon/dbus/gkd-secret-objects.c    | 291 +++++++++++++++++++++++-------------
 daemon/dbus/gkd-secret-objects.h    |  16 ++
 daemon/dbus/gkd-secret-prompt.c     |   3 +-
 daemon/dbus/gkd-secret-service.c    |  72 ++++++++-
 daemon/dbus/gkd-secret-session.c    |   3 +-
 daemon/dbus/gkd-secret-unlock.c     |   3 +-
 10 files changed, 356 insertions(+), 111 deletions(-)

commit c9c33166230fbac29eb49f5e5c34337a0f4fdf6d
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2011-09-26

    [l10n]Updated Catalan (Valencian) translation

 po/ca@valencia.po | 1054 ++++++++++++++++++++++++++++++-----------------------
 1 file changed, 596 insertions(+), 458 deletions(-)

commit b627a03450394fc6e3c3320e75abc13d2c5c082d
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2011-09-26

    [l10n]Updated Catalan (Valencian) translation

 po/ca@valencia.po | 1038 ++++++++++++++++++++++++++++++-----------------------
 1 file changed, 588 insertions(+), 450 deletions(-)

commit a30d6325588070aacc40c171edc429b4680b36e0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    Split the gcr library into base and ui components.
    
     * Different pkg-config files gcr-3.pc and gcr-base-3.pc
     * The base library doesn't link to GTK+ or anything that
       is used in the UI. It can be used by non-ui programs.

 .gitignore                          |   2 +
 configure.ac                        |   1 +
 gcr/Makefile.am                     | 177 +++++++++++++++++++++++-------------
 gcr/gcr-base.h                      |  51 +++++++++++
 gcr/gcr-base.pc.in                  |  16 ++++
 gcr/gcr-base.symbols                | 110 ++++++++++++++++++++++
 gcr/gcr-certificate-chain.h         |   5 +-
 gcr/gcr-certificate-exporter.h      |   4 +-
 gcr/gcr-certificate-extensions.h    |   4 +-
 gcr/gcr-certificate-renderer.h      |   4 +-
 gcr/gcr-certificate-widget.h        |   4 +-
 gcr/gcr-certificate.h               |   4 +-
 gcr/gcr-combo-selector.c            |   2 -
 gcr/gcr-deprecated-base.h           |  49 ++++++++++
 gcr/gcr-deprecated.h                |  27 ++----
 gcr/gcr-enum-types.c.template       |  10 +-
 gcr/gcr-enum-types.h.template       |   2 +-
 gcr/gcr-failure-renderer.h          |   4 +-
 gcr/gcr-gnupg-collection.h          |   2 +-
 gcr/gcr-gnupg-key.c                 |   1 -
 gcr/gcr-gnupg-key.h                 |   5 +-
 gcr/gcr-gnupg-process.h             |   2 +-
 gcr/gcr-gnupg-util.h                |   4 +-
 gcr/gcr-import-dialog.c             |   2 -
 gcr/gcr-importer.c                  |   2 -
 gcr/gcr-importer.h                  |   4 +-
 gcr/gcr-key-renderer.h              |   4 +-
 gcr/gcr-key-widget.h                |   4 +-
 gcr/gcr-library.c                   |  73 +--------------
 gcr/gcr-library.h                   |   4 +-
 gcr/gcr-list-selector.c             |   2 -
 gcr/gcr-memory.c                    |  92 +++++++++++++++++++
 gcr/gcr-parser.h                    |   4 +-
 gcr/gcr-pkcs11-certificate.h        |   4 +-
 gcr/gcr-record.h                    |   4 +-
 gcr/gcr-simple-certificate.h        |   6 +-
 gcr/gcr-simple-collection.c         |   3 +-
 gcr/gcr-simple-collection.h         |   2 +-
 gcr/gcr-tree-selector.c             |   2 -
 gcr/gcr-trust.c                     |   2 +-
 gcr/gcr-trust.h                     |   4 +-
 gcr/gcr-types.h                     |   4 +-
 gcr/gcr-union-collection.h          |   2 +-
 gcr/gcr-unlock-options-widget.h     |   4 +-
 gcr/gcr-unlock-renderer.h           |   4 +-
 gcr/gcr.h                           |  16 +---
 gcr/gcr.pc.in                       |   2 +-
 gcr/gcr.symbols                     | 106 ---------------------
 gcr/tests/frob-parser.c             |   6 +-
 gcr/tests/test-certificate-chain.c  |   2 +-
 gcr/tests/test-certificate.c        |   2 +-
 gcr/tests/test-fingerprint.c        |   2 +-
 gcr/tests/test-gnupg-collection.c   |   2 +-
 gcr/tests/test-gnupg-process.c      |   2 +-
 gcr/tests/test-parser.c             |   2 +-
 gcr/tests/test-pkcs11-certificate.c |   2 +-
 gcr/tests/test-simple-certificate.c |   2 +-
 gcr/tests/test-trust.c              |   2 +-
 gcr/tests/test-util.c               |   2 +-
 59 files changed, 517 insertions(+), 355 deletions(-)

commit 3af52c3b24704e3ae9f38d62184219057ffdd35f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    Bump version number for unstable branch

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11e02c37d374f200804802470c554582d8c1e402
Merge: 6f9ad5f 0c592c2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    Merge branch 'gnome-3-2'

commit 0c592c29d85c1e7d73589cdc195d0d97dd11264a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-26

    Release version 3.2.0

 Makefile.am  |  3 ++-
 NEWS         |  4 ++++
 configure.ac | 21 ++++++++++++++-------
 3 files changed, 20 insertions(+), 8 deletions(-)

commit 6f9ad5f2cf6dc4c51dc51396eea0614ceb7b05ce
Author: Marek Černocký <marek@manet.cz>
Date:   2011-09-25

    Updated Czech translation

 po/cs.po | 280 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 175 insertions(+), 105 deletions(-)

commit 902ec5cf69acf8c3499f31dfadf38cf63cb104e1
Author: Marek Černocký <marek@manet.cz>
Date:   2011-09-25

    Updated Czech translation

 po/cs.po | 1056 ++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 512 insertions(+), 544 deletions(-)

commit 4bfab18c41a6642670dde1a66f297e9b0d812c2b
Author: Marek Černocký <marek@manet.cz>
Date:   2011-09-25

    Updated Czech translation

 po/cs.po | 996 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 549 insertions(+), 447 deletions(-)

commit a0077e975f5b054b7016e5a944570fbdbd32e5e4
Author: Andika Triwidada <andika@gmail.com>
Date:   2011-09-25

    Updated Indonesian translation

 po/id.po | 90 ++++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 54 insertions(+), 36 deletions(-)

commit cb62569fcaafe8277211f0de319630f28f91cb6a
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2011-09-24

    Updated Basque language

 po/eu.po | 1142 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 691 insertions(+), 451 deletions(-)

commit 3c65128277910e6742de55d145ca544fb34aa704
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2011-09-24

    Updated Basque language

 po/eu.po | 1146 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 693 insertions(+), 453 deletions(-)

commit 598c79d7695170c14a906d77b2d0db69a651df6f
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-09-24

    [l10n] Updated German translation

 po/de.po | 31 ++++++++++++++++---------------
 1 file changed, 16 insertions(+), 15 deletions(-)

commit 67dfaf3a35d3bcea56cb2a8aa33032be33aa6b4a
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-09-24

    [l10n] Updated German translation

 po/de.po | 31 ++++++++++++++++---------------
 1 file changed, 16 insertions(+), 15 deletions(-)

commit fbd1e501e5a2f2664bdc0de379a0eea40adc0d93
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   2011-09-24

    Updated Lithuanian translation

 po/lt.po | 748 +++++++++++++++++++++------------------------------------------
 1 file changed, 252 insertions(+), 496 deletions(-)

commit 4747a7d8245db06595b608b8c0e120f96fe1a62e
Author: ipraveen <mail2ipn@gmail.com>
Date:   2011-09-23

    Updated Telugu Translation

 po/te.po | 1758 ++++++++++++++++++++++++++------------------------------------
 1 file changed, 739 insertions(+), 1019 deletions(-)

commit 52b4f0623cf0078c1582ccc10650c8fbedfcb402
Author: Joan Duran <jodufi@gmail.com>
Date:   2011-09-23

    [l10n]Updated Catalan translation

 po/ca.po | 1110 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 662 insertions(+), 448 deletions(-)

commit c70c41d7f52c6111c14d898442512290ec3e891a
Author: Joan Duran <jodufi@gmail.com>
Date:   2011-09-23

    [l10n]Updated Catalan translation

 po/ca.po | 1126 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 670 insertions(+), 456 deletions(-)

commit b46e7e04fe5793888f7c27a02782300f074f2a60
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-09-23

    Updated Hebrew translation.

 po/he.po | 227 +++++++++++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 154 insertions(+), 73 deletions(-)

commit 42205b76ddeec4d744fec6a1caafc89ca7461ca1
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2011-09-23

    Updated Korean translation

 po/ko.po | 1358 ++++++++++++++++++++------------------------------------------
 1 file changed, 424 insertions(+), 934 deletions(-)

commit f63b6b21aa05e3926bffbf34e65a57a492e5443d
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2011-09-23

    Updated Korean translation

 po/ko.po | 1358 ++++++++++++++++++++------------------------------------------
 1 file changed, 424 insertions(+), 934 deletions(-)

commit 3d3a2fc30b3ef855a415f5c5d3045abc49860a5a
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:   2011-09-22

    Updated Assamese Translations:bugzilla#659595

 po/as.po | 2447 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 1390 insertions(+), 1057 deletions(-)

commit 48c9abfae44928a95fc1c0c6a771d7cee724dfcf
Author: Nilamdyuti Goswami <ngoswami@redhat.com>
Date:   2011-09-22

    Updated Assamese Translations:bugzilla#659595

 po/as.po | 2447 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 1390 insertions(+), 1057 deletions(-)

commit d115384c5f5df3f0e66b3668b864e1f25df6103c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-21

    Clarify HACKING about function definition style.

 HACKING | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit da507d8753444252dc77aaf1757014859480cc27
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-21

    Update symbols files for recently added API.

 gck/gck.symbols | 2 ++
 gcr/gcr.symbols | 9 +++++++++
 2 files changed, 11 insertions(+)

commit bf628df7571856d2ffd176a245ab722578106a2d
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   2011-09-20

    Updated Serbian translation

 po/sr.po       | 1100 ++++++++++++++++++++++++++++++++++----------------------
 po/sr@latin.po | 1100 ++++++++++++++++++++++++++++++++++----------------------
 2 files changed, 1332 insertions(+), 868 deletions(-)

commit 40407006a71138778224b93bc4e746cd1b8f6d16
Author: Мирослав Николић <miroslavnikolic@rocketmail.com>
Date:   2011-09-20

    Updated Serbian translation

 po/sr.po       | 1100 ++++++++++++++++++++++++++++++++++----------------------
 po/sr@latin.po | 1100 ++++++++++++++++++++++++++++++++++----------------------
 2 files changed, 1332 insertions(+), 868 deletions(-)

commit 02b4b6b9a47ccab6fb99ca91d550023d8418175d
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2011-09-20

    Updated Hungarian translation

 po/hu.po | 852 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 428 insertions(+), 424 deletions(-)

commit 490ad3520669ddb690891e3431e0b30318dec30d
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2011-09-20

    Updated Hungarian translation

 po/hu.po | 852 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 428 insertions(+), 424 deletions(-)

commit 0cfc0007805f7d4b1e10bae57075b7033fa788ff
Author: Gabriel Speckhahn <gabspeck@gmail.com>
Date:   2011-09-19

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 1159 +++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 692 insertions(+), 467 deletions(-)

commit b305d5747aac1274ae8fe5a113c7ede3ad01ec06
Author: Gabriel Speckhahn <gabspeck@gmail.com>
Date:   2011-09-19

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 1159 +++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 692 insertions(+), 467 deletions(-)

commit c06f3036b942d6fa3bc4c35db69d10a88db981e2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-19

    Fix pkcs11 related pkg-config variables and build output.
    
     * These were accidentally missed in earlier commits related
       to p11-kit 0.6

 configure.ac  | 1 -
 gcr/gcr.pc.in | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit bf288c4300b8f649422440847a36ea22b4c5cb9f
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   2011-09-19

    Updated British English translation

 po/en_GB.po | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit fb824bb8395284d12b6a02c5ddf6f2762fd1c47f
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   2011-09-19

    Updated British English translation

 po/en_GB.po | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit c869b40578ffc87c204e82c0c26c445ffdeebc47
Author: Aron Xu <aronxu@gnome.org>
Date:   2011-09-19

    Update simplified Chinese translation.

 po/zh_CN.po | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 5684b3e902a59637521be8531f8bcb8feb447242
Author: Aron Xu <aronxu@gnome.org>
Date:   2011-09-19

    Update simplified Chinese translation.

 po/zh_CN.po | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit d5629603cc2d6785e4add32326c333ef327d7562
Merge: 26fb02a 3f60c65
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-19

    Merge branch 'track-memory'

commit 26fb02aced1b403f2bd316fe5953a6d1640f9019
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-19

    gck: Documentation fix

 docs/reference/gck/gck-sections.txt | 1 +
 1 file changed, 1 insertion(+)

commit 325533c3e934ee90da403e0355f18b1c5bd0cb68
Merge: 3e0d0bb 03b4084
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-19

    Merge branch 'sort-values'

commit 3e0d0bbc831f5053dab772e44055472558306d92
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-19

    daemon: Don't install setuid when filesystem capabilities not avail.
    
    The code that dropped setuid was removed in commit
    66bd5dd32836a770647b8acf3476fb7922be71eb, but Makefile.am didn't
    match.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=659402

 daemon/Makefile.am | 11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

commit 8f76378a92a616ada5b588e77d75d574860bdac0
Author: Joe Hansen <joedalton2@yahoo.dk>
Date:   2011-09-18

    Updated Danish translation

 po/da.po | 1294 +++++++++++++++++++-------------------------------------------
 1 file changed, 396 insertions(+), 898 deletions(-)

commit ed1e502f8fc10bdc9fcc5cf50595168b002536db
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:   2011-09-18

    Updated Latvian translation.

 po/lv.po | 42 +++++++++++++++++++-----------------------
 1 file changed, 19 insertions(+), 23 deletions(-)

commit 3008fb4b7937f9b1680c1148ca03baf26fb9951a
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2011-09-18

    Updated Thai translation.

 po/th.po | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit d977859e2bfd7b6ab30a227b8382e21784a7fa02
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2011-09-18

    Updated Thai translation.

 po/th.po | 1112 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 665 insertions(+), 447 deletions(-)

commit 3726b64e474d0621b7e9de7387cf7ee6e62f7381
Author: Milo Casagrande <milo@ubuntu.com>
Date:   2011-09-18

    [l10n] Updated Italian translation

 po/it.po | 975 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 453 insertions(+), 522 deletions(-)

commit 6cd3c90446a32857c7df40e9750422fcb35ea2e0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-18

    Release version 3.1.92

 NEWS         | 11 +++++++++++
 configure.ac |  2 +-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit b835768b45e7def7a312166ebf1fbc0afb28e8e6
Author: A S Alam <aalam@users.sf.net>
Date:   2011-09-18

    update Punjabi Translation

 po/pa.po | 43 ++++++++++++++++++-------------------------
 1 file changed, 18 insertions(+), 25 deletions(-)

commit 213c36d7ec95ae07872bc5581f832e55f1180252
Author: Bastien Nocera <hadess@hadess.net>
Date:   2011-09-17

    build: Fix parallel compilation
    
    We need to tell Makefile how to generate gcr-oids.h

 gcr/Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit 61b641939ecc319e29c121cfa0b92eeaf4bd01fa
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2011-09-17

    Updated Slovenian translation

 po/sl.po | 301 +++++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 198 insertions(+), 103 deletions(-)

commit 909c0ccb11ff10e1ae3f7f53df09b0595ab85dd1
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   2011-09-17

    Updated Russian translation

 po/ru.po | 38 ++++++++++++++++++--------------------
 1 file changed, 18 insertions(+), 20 deletions(-)

commit f2f838bf16740f9eaa606fb385df5d8859c81b98
Author: Alexander Shopov <ash@kambanaria.org>
Date:   2011-09-17

    Updated Bulgarian translation

 po/bg.po | 845 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 422 insertions(+), 423 deletions(-)

commit 848199bb021ca5318da40f21e6f65b94c3d14d26
Author: Yinghua Wang <wantinghard@gmail.com>
Date:   2011-09-17

    update Simplified Chinese (zh_CN) translation

 po/zh_CN.po | 874 +++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 450 insertions(+), 424 deletions(-)

commit 1e3646599b3889a00034b6a288e893e024fb4d1d
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-09-16

    [l10n] Updated German translation

 po/de.po | 178 +++++++++++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 122 insertions(+), 56 deletions(-)

commit c5186540d7366603e3a5a6e23b88329b362032f3
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-15

    doc: Add back the file format "documentation".

 docs/file-format.txt   |  68 ++++++++++++++++++++++
 docs/keyring-intro.txt | 151 +++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 219 insertions(+)

commit 847edb04d34af6f1358bc031530342bc27a14072
Author: Bastien Nocera <hadess@hadess.net>
Date:   2011-09-15

    Make .desktop file match process
    
    The keyring prompt was showing up without a nice icon or
    application name in the shell. Turns out that the binary
    name didn't match the one in the .desktop file.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=658750

 ui/gnome-keyring-prompt.desktop.in.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 84737ca00028bb73148ad5664ff31a20ec5daa6a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-15

    pkcs11: Fix packaging issues installing the pkcs11 module
    
     * Packagers have problems installing the gnome-keyring-module file
       because the same file (with different contents) exists on both
       32-bit and 64-bit packages.
     * p11-kit 0.6 fixes this by supporting relative paths for module
       configuration. We use that relative path stuff here to automatically
       load the appropriate (32-bit or 64-bit) from the right directory.
    
    Discussed on the p11-glue mailing list.

 configure.ac                             | 28 +++++++++++++++++-----------
 pkcs11/rpc-layer/Makefile.am             |  4 ++--
 pkcs11/rpc-layer/gnome-keyring-module.in |  5 ++---
 3 files changed, 21 insertions(+), 16 deletions(-)

commit 0c79fff27d840d5791cbb5abc838fb30463e3efa
Author: Michael Terry <michael.terry@canonical.com>
Date:   2011-09-14

    gpg-agent: return correct error code for unimplemented GETINFO requests
    
    https://bugzilla.gnome.org/show_bug.cgi?id=659080

 daemon/gpg-agent/gkd-gpg-agent-ops.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2877bd24afd8ddb60cbdb0c6269851caac44e99d
Author: dmustieles <daniel.mustieles@gmail.com>
Date:   2011-09-14

    Updated Spanish translation

 po/es.po | 41 +++++++++++++++++------------------------
 1 file changed, 17 insertions(+), 24 deletions(-)

commit 15ba5b967532556d87c321c7341a84a06be37b85
Author: Anass Ahmed <anass.1430@gmail.com>
Date:   2011-09-13

    Updated Arabic translation

 po/ar.po | 1149 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 694 insertions(+), 455 deletions(-)

commit 27a38e1d1123cd8c8916f12498c51e6bb86d09d1
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   2011-09-13

    updated Tamil translation

 po/ta.po | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit d964a78348276c7d991b0f05471e794b0f1f0207
Author: Andre Klapper <a9016009@gmx.de>
Date:   2011-09-13

    Change online URL from library.g.o to developer.g.o

 docs/reference/gck/gck-docs.sgml | 4 ++--
 docs/reference/gcr/gcr-docs.sgml | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 7154f8b8c6c93bebbaa836ba8d33e027169fce5a
Author: Fran Dieguez <fran@openhost.es>
Date:   2011-09-12

    Updated galician translations for documentation

 po/gl.po | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 3279564e4d2b97e206d1b71698003c16f72174d3
Author: Bruno Brouard <annoa.b@gmail.com>
Date:   2011-09-12

    Updated French translation

 po/fr.po | 768 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 350 insertions(+), 418 deletions(-)

commit f1f2340427fe4e67dd70362f97d8924f624a399f
Author: Daniel Nylander <po@danielnylander.se>
Date:   2011-09-12

    Updated Swedish translation

 po/sv.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cbeea0ea57cedf9065ab6bab98608d32a707c8bf
Author: Daniel Nylander <po@danielnylander.se>
Date:   2011-09-12

    Updated Swedish translation

 po/sv.po | 536 ++++++++++++++++++++++++---------------------------------------
 1 file changed, 200 insertions(+), 336 deletions(-)

commit 18c0141822c3311631afbf1e40acb36a7d9850bf
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-09-12

    Updated Norwegian bokmål translation

 po/nb.po | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit e58e985b13a02a8803ab418d8d71019c22f2835f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-12

    gcr: Accept slightly invalid PKCS#12 files
    
     * In particular when the order of a SET OF is incorrect as is generated
       by certain implementations.
     * Revert cbecc802e8cf5803aac9fbd3c546b539773220b2 since this fix was
       wrong.
     * Add egg_asn1x_decode_no_validate() so that callers can validate on
       their own and specify validation options.

 egg/egg-asn1x.c  | 70 +++++++++++++++++++++++++++++++++++++-------------------
 egg/egg-asn1x.h  |  7 +++++-
 gcr/gcr-parser.c | 58 ++++++++++++++++++++++++++++++++++++++++------
 3 files changed, 103 insertions(+), 32 deletions(-)

commit 75053b66d6943205bbe2ed280f8691625aab87c2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-12

    gcr: Verify PKCS#12 MAC
    
     * This also has the nice effect of sanifying the prompting for unlock
       passwords for PKCS#12 file, since it's done by the parser before
       looking inside the various parts of the file.

 egg/egg-symkey.c | 140 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 egg/egg-symkey.h |  22 +++++++--
 gcr/gcr-parser.c |  96 ++++++++++++++++++++++++++++++++++++--
 3 files changed, 250 insertions(+), 8 deletions(-)

commit 02d3f7eb3072c49fe8d498da24331ee8ea6aca8e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-12

    gcr: Fix memory leak while parsing PKCS#8 encrypted keys.

 gcr/gcr-parser.c | 1 +
 1 file changed, 1 insertion(+)

commit dc959e935eb8e25b123d58bfec8ac0ab87dc4a2f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-12

    egg: Fix issue generating PKCS#12 symkey from password
    
     * If the key needed was longer than the hash size we would
       generate the incorrect key.
     * Right align the calculated number correctly in the buffer

 egg/egg-symkey.c | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit cbecc802e8cf5803aac9fbd3c546b539773220b2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-12

    egg: Fix ASN.1 issues validating order of SETOF
    
     * Compare just the value, rather than the entire TLV
     * This fixes some corner cases parsing PKCS#12 files

 egg/egg-asn1x.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ee35bf099d98164f19a750fa02c48461c2b389a1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-06-13

    dbus: Provide way to get an internal PKCS#11 session.
    
     * Normally we request PKCS#11 sessions on behalf of the client.
     * For the NTLM stuff we need a PKCS#11 on behalf of the daemon,
       so that we can access sensitive values in the store.

 daemon/dbus/gkd-secret-service.c | 67 +++++++++++++++++++++++++++++++++++-----
 daemon/dbus/gkd-secret-service.h |  2 ++
 2 files changed, 62 insertions(+), 7 deletions(-)

commit 6d8c3300097d2e3efece5bf1b2b0b853eedfb599
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-06-07

    pkcs11: Allow daemon to access value for credentials.
    
     * This allows the daemon code to use the master passwords for
       keyring collections in various algorithms.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=652070

 pkcs11/gkm/gkm-credential.c         | 12 +++++++-
 pkcs11/gkm/gkm-module.c             |  6 ++--
 pkcs11/gkm/gkm-session.c            | 43 ++++++++++++++------------
 pkcs11/gkm/gkm-session.h            |  4 ++-
 pkcs11/gkm/tests/test-credential.c  | 61 +++++++++++++++++++++++++++++++++++++
 pkcs11/rpc-layer/gkm-rpc-dispatch.c |  8 +++++
 6 files changed, 109 insertions(+), 25 deletions(-)

commit 5590b05fb95e8bdbe0313b07d5c9aa0e4f1bbeab
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:   2011-09-11

    Updated Latvian translation.

 po/lv.po | 354 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 221 insertions(+), 133 deletions(-)

commit f4a72c256696e7730a443615911e909410043e95
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   2011-09-11

    Updated Portuguese translation

 po/pt.po | 1123 +++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 670 insertions(+), 453 deletions(-)

commit e7f713aa74aed6aac55750bd35353952458803e6
Author: Javier Jardón <jjardon@gnome.org>
Date:   2011-09-11

    configure.ac: use maintainer mode by default
    
    See
    https://mail.gnome.org/archives/desktop-devel-list/2011-September/msg00064.html

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3f60c65cc0f535362ad6eb77ec08e63c235110e2
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-14

    Secure memory tagging
    
     * Tag all secure memory with strings, and print out diagnostic
       report of what's in use, upon request.

 daemon/control/gkd-control-client.c     |   2 +
 daemon/control/gkd-control-server.c     |   2 +
 daemon/dbus/gkd-secret-unlock.c         |   2 +
 daemon/gkd-main.c                       |  60 +++++++
 daemon/gpg-agent/gkd-gpg-agent-ops.c    |   2 +
 daemon/ssh-agent/gkd-ssh-agent-ops.c    |   3 +-
 daemon/ssh-agent/gkd-ssh-agent.c        |   2 +
 egg/egg-dh.c                            |   2 +
 egg/egg-entry-buffer.c                  |   2 +
 egg/egg-libgcrypt.c                     |   2 +
 egg/egg-openssl.c                       |   2 +
 egg/egg-secure-memory.c                 | 309 ++++++++++++++++++++------------
 egg/egg-secure-memory.h                 |  31 +++-
 egg/egg-symkey.c                        |   2 +
 egg/tests/test-secmem.c                 |  24 +--
 gcr/gcr-parser.c                        |   2 +
 pkcs11/gkm/gkm-aes-key.c                |   2 +
 pkcs11/gkm/gkm-aes-mechanism.c          |   2 +
 pkcs11/gkm/gkm-data-der.c               |   2 +
 pkcs11/gkm/gkm-dh-mechanism.c           |   2 +
 pkcs11/gkm/gkm-generic-key.c            |   2 +
 pkcs11/gkm/gkm-hkdf-mechanism.c         |   2 +
 pkcs11/gkm/gkm-null-mechanism.c         |   2 +
 pkcs11/gkm/gkm-secret.c                 |   2 +
 pkcs11/gnome2-store/gkm-gnome2-file.c   |   2 +
 pkcs11/secret-store/gkm-secret-binary.c |   2 +
 pkcs11/wrap-layer/gkm-wrap-login.c      |   2 +
 ui/gku-prompt-tool.c                    |   2 +
 ui/gku-prompt-util.c                    |   2 +
 ui/gku-prompt.c                         |   2 +
 ui/tests/test-util.c                    |   2 +
 31 files changed, 342 insertions(+), 137 deletions(-)

commit ede0677d030ab147f84db7a14d2e951dd4bae6a8
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2011-09-10

    Updated Polish translation

 po/pl.po | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 992095d71ab53185c6bb6ddc48eb0d120f8e3c6e
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-09-10

    Updated Spanish translation

 po/es.po | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 3b76a48e894f1691ed2c9f11ce65110f562a3d24
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-09-10

    Updated Spanish translation

 po/es.po | 40 +++++++++++++++++++++-------------------
 1 file changed, 21 insertions(+), 19 deletions(-)

commit 49d58f0dfcf810d15534c8fd7e31f3d2e651baff
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2011-09-10

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 8 ++++----
 po/zh_TW.po | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 73b1ef9914933d6748c9295d7ba3e7410c1633dc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-10

    Fix typo in GcrUnlockRenderer
    
    https://bugzilla.gnome.org/show_bug.cgi?id=658668

 gcr/gcr-unlock-renderer.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 03b40841cc3468ad15bc0e2ef7633d0d63a2716f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-09

    gck: Add functions for matching uri to modules and tokens

 docs/reference/gck/gck-sections.txt |  2 ++
 gck/gck-module.c                    | 31 ++++++++++++++++++++++++++++++
 gck/gck-slot.c                      | 38 +++++++++++++++++++++++++++++++++++++
 gck/gck.h                           | 14 ++++++++++++--
 4 files changed, 83 insertions(+), 2 deletions(-)

commit a33d38d1efc6c74b878680c00d94316cc57e3712
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-09

    gcr: Add gcr_union_collection_have() and gcr_union_collection_size()
    
     * Used to check wether a collection is part of the union.

 docs/reference/gcr/gcr-sections.txt |  2 ++
 gcr/gcr-union-collection.c          | 34 ++++++++++++++++++++++++++++++++++
 gcr/gcr-union-collection.h          |  5 +++++
 3 files changed, 41 insertions(+)

commit ce3ded8c43d219ca954d9987f7d3d23cace58828
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2011-09-08

    Updated Polish translation

 po/pl.po | 851 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 424 insertions(+), 427 deletions(-)

commit 9d04f2c04781d01423c620348650d9bae30970fb
Author: Andika Triwidada <andika@gmail.com>
Date:   2011-09-08

    Updated Indonesian translation

 po/id.po | 258 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 153 insertions(+), 105 deletions(-)

commit 1e0ce6ea5e8aca27585d3d1bba166a69263fad1f
Author: Timo Jyrinki <timo@debian.org>
Date:   2011-09-08

    Update Finnish translation

 po/fi.po | 1712 ++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 931 insertions(+), 781 deletions(-)

commit 83a2b949660442315f161e8aed3173da78b0e9c2
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   2011-09-07

    Updated British English translation

 po/en_GB.po | 1117 +++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 670 insertions(+), 447 deletions(-)

commit 15efaf1a8397e5aa4c52c8d78b9cacbd0fe3440c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-07

    gcr: Fix extra object reference in gcr_union_collection_take()

 gcr/gcr-union-collection.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82088d3d8eff24d01b8051501632222284c68e44
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-07

    gcr: Fix null pointer dereference when finalizing GcrCollectionModel

 gcr/gcr-collection-model.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 1fe42af19f34cf988dc3f0d0e3ef1ec43710a105
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:   2011-09-06

    Updated Persian translation

 po/fa.po | 310 ++++++++++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 208 insertions(+), 102 deletions(-)

commit 7896f36d0227a5eb44fa028781020cff41498378
Author: Travis Reitter <treitter@gmail.com>
Date:   2011-09-06

    gcr: Fix gcr-viewer build errors
    
    https://bugzilla.gnome.org/show_bug.cgi?id=658319

 gcr/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 1321a46a20a4200903a03afca8f13e9e4c2586f9
Author: Rodrigo Moya <rodrigo@gnome-db.org>
Date:   2011-09-06

    gcr: Fix linking of gcr-viewer
    
    https://bugzilla.gnome.org/show_bug.cgi?id=658249

 gcr/Makefile.am | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 996f26e844ccfea77168484532996de548af061e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-06

    gcr: Add GcrUnionCollection class
    
     * A GcrCollection which combines the contents of other collections
       into a single collection.

 docs/reference/gcr/gcr-sections.txt |  23 ++-
 gcr/Makefile.am                     |   2 +
 gcr/gcr-collection.c                |   1 +
 gcr/gcr-union-collection.c          | 307 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-union-collection.h          |  71 +++++++++
 gcr/gcr.h                           |   1 +
 6 files changed, 403 insertions(+), 2 deletions(-)

commit cf701150ca5e37e74f573c9249ab9e309c7da81b
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2011-09-06

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 276 ++++++++++++++++++++++++++++++++++++++++--------------------
 po/zh_TW.po | 276 ++++++++++++++++++++++++++++++++++++++++--------------------
 2 files changed, 374 insertions(+), 178 deletions(-)

commit c51050d81eae663e949f8794758931237a7f0b30
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-05

    gcr: gcr_collection_model_set_columns() now returns number of columns
    
     * Return the number of real columns added (not including the
       possible selected column).
     * Fix several crashers in GcrCollectionModel as well.

 gcr/gcr-collection-model.c | 23 +++++++++++++++++------
 gcr/gcr-collection-model.h |  2 +-
 2 files changed, 18 insertions(+), 7 deletions(-)

commit 34e1858639eaaffbae0aaf407c2299e4f0ac0b8e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-05

    gcr: Add gcr_collection_model_get_collection()
    
     * A way to get the collection that collection model is based on.

 docs/reference/gcr/gcr-sections.txt |  1 +
 gcr/gcr-collection-model.c          | 15 +++++++++++++++
 gcr/gcr-collection-model.h          |  2 ++
 3 files changed, 18 insertions(+)

commit 1f25d9c2798f6f16b54f86e88410e51592704962
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-05

    gcr: Add gcr_collection_contains() as a virtual interface method.
    
     * And deprecate gcr_simple_collection_contains()
     * This is because this method is hard to implement at a higher layer
       efficiently, and the collection itself needs to get involved.

 docs/reference/gcr/gcr-sections.txt |  5 +++--
 gcr/gcr-collection.c                | 18 ++++++++++++++++++
 gcr/gcr-collection.h                | 10 ++++++++--
 gcr/gcr-deprecated.h                |  4 ++++
 gcr/gcr-gnupg-collection.c          | 17 +++++++++++++++++
 gcr/gcr-simple-collection.c         | 14 +++++++++++++-
 gcr/gcr-simple-collection.h         |  3 ---
 7 files changed, 63 insertions(+), 8 deletions(-)

commit 5852b6fe527896a0cdc88913bf51a731ca94aee0
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   2011-09-05

    updated Tamil translation

 po/ta.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 33081258fb1e448d796b59d71d9114b62c00273d
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   2011-09-05

    updated Tamil translation

 po/ta.po | 1071 ++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 627 insertions(+), 444 deletions(-)

commit 77bec21769670365a25004087e2eb56955b20249
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-02

    gcr: Add support for GcrCollectionModel to have child rows
    
     * A child row is represented by an object that implements the
       GcrCollection

 gcr/gcr-collection-model.c     | 571 ++++++++++++++++++++++++++++-------------
 gcr/gcr-collection-model.h     |   7 -
 gcr/tests/frob-tree-selector.c | 114 +++++++-
 3 files changed, 499 insertions(+), 193 deletions(-)

commit 76561373624e3ab976ce8b7251823e810409b6d4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-02

    gcr: Add GtkTreeSortable interface to GcrCollectionModel
    
     * Can now sort based on values, which simplifies callers of
       GcrCollectionModel.
     * Needed for use in seahorse.

 gcr/gcr-collection-model.c     | 482 ++++++++++++++++++++++++++++++++++++++---
 gcr/gcr-collection-model.h     |   7 +
 gcr/gcr-tree-selector.c        | 103 +--------
 gcr/tests/frob-tree-selector.c |   4 +-
 4 files changed, 460 insertions(+), 136 deletions(-)

commit 1369343363a80e8d584ef3286aa47fd5c53c397e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-05

    Release 3.1.91

 NEWS         | 11 +++++++++++
 configure.ac |  2 +-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit f1c9c63eaf8b9343a28fed39cdf5eecc21e19de9
Author: Saleem Abdulrasool <compnerd@compnerd.org>
Date:   2011-05-10

    optionalise libcap-ng check
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649936

 configure.ac | 32 ++++++++++++++++++++++----------
 1 file changed, 22 insertions(+), 10 deletions(-)

commit 06bd6a1a2952c80bbffa4ee220585e4c6e90a7b0
Author: Kalev Lember <kalevlember@gmail.com>
Date:   2011-08-31

    gcr: Don't update the MIME database if DESTDIR is set
    
    This way the configure defaults work for binary distributions and they
    don't need to pass --disable-update-mime to configure.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=657871

 gcr/Makefile.am | 24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 45d3a767e4bdfd1c115b02298e848dfb4a0a7eaf
Author: Fran Dieguez <fran@openhost.es>
Date:   2011-09-04

    Updated galician translations

 po/gl.po | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 449902a94795864a74f65def543b5a9789e96a99
Author: Fran Dieguez <fran@openhost.es>
Date:   2011-09-04

    Updated galician translations

 po/gl.po | 181 +++++++++++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 125 insertions(+), 56 deletions(-)

commit fc69ea4dd1d056bf838661e3eb22091513fdf13f
Author: A S Alam <aalam@users.sf.net>
Date:   2011-09-04

    update PunjabiTranslation

 po/pa.po | 363 +++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 224 insertions(+), 139 deletions(-)

commit bd04a1e107f8763f58414791d5ffaa2519d38181
Author: Frédéric Péters <fpeters@0d.be>
Date:   2011-09-04

    build: install gcr-viewer-window.h header file
    
    https://bugzilla.gnome.org/show_bug.cgi?id=658147

 gcr/Makefile.am | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit cda9b5837c3cd07594c44a1b200f9505b22ead0d
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-09-03

    Added Norwegian bokmål translation

 po/nb.po | 73 +++++++++++++++++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 59 insertions(+), 14 deletions(-)

commit 72c5bdb912861204cf0d560f4817b92453d2170e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-02

    gcr: Stop parsing PKCS#12 bag if locked
    
     * This allows GcrUnlockRenderer to work correctly for certain
       types of PKCS#12 files it was screwing up on before.

 gcr/gcr-parser.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 68c6da75deac176d589fcac7869b5edbd479923a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-02

    gcr: Proper flags for GcrColumnFlags
    
     * Include GCR_COLUMN_NONE
     * Use << instead of hex numbers

 gcr/gcr-column.c | 1 +
 gcr/gcr-column.h | 7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 861205d79712f8f36a60d147403e9316af51aef6
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-09-01

    Updated Spanish translation

 po/es.po | 3733 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 1893 insertions(+), 1840 deletions(-)

commit d2c7739096fa5f41f044d72904988caf796b2de2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-01

    gcr: Add support for getting friendly name out of a PKCS#12 file.

 egg/egg-asn1x.c   | 19 +++++++++++++++++++
 egg/egg-asn1x.h   |  2 ++
 gcr/gcr-oids.list |  3 +++
 gcr/gcr-parser.c  | 56 ++++++++++++++++++++++++++++++++++++++++++++++++-------
 4 files changed, 73 insertions(+), 7 deletions(-)

commit 3f3aea982006c85aca0186f3bf33a782f4bda4ff
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-01

    gcr: Support multiple items inside a PKCS#12 bag.
    
     * This is how (at least) openssl sends along additional certs in
       a PKCS#12 file.
     * Create a new file personal.p12 to test this.

 gcr/gcr-parser.c                         |  13 ++++---------
 gcr/tests/files/personal.p12             | Bin 0 -> 3396 bytes
 testing/ca-example/certs/personal.crt    |  16 ++++++++++++++++
 testing/ca-example/certs/personal.p12    | Bin 0 -> 3396 bytes
 testing/ca-example/commands.txt          |  17 +++++++++++++++--
 testing/ca-example/keys/personal.key     |  30 ++++++++++++++++++++++++++++++
 testing/ca-example/requests/personal.req |  15 +++++++++++++++
 testing/ca-example/serial.txt            |   2 +-
 8 files changed, 81 insertions(+), 12 deletions(-)

commit a00376ad13792d3e2d9fef332487da4dd7c2a877
Author: Yuri Kozlov <yuray@komyakino.ru>
Date:   2011-09-01

    Updated Russian translation

 po/ru.po | 840 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 374 insertions(+), 466 deletions(-)

commit eed4146a886704249a5a6feceb495fc3d2d8c137
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-01

    gcr: Use place holder text in viewer unlock prompt.
    
     * Displays 'Password' in the box where the user types the password.

 gcr/gcr-unlock-renderer.c | 3 +++
 1 file changed, 3 insertions(+)

commit 0519b9b01461b5ce6aa22c8466fae1177420010e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-09-01

    gcr: Documentation, testing and distcheck fixes
    
     * Update symbols for new APIs
     * Update docs with new APIs
     * Change how tests find fixture files.

 daemon/dbus/tests/Makefile.am         |  2 +-
 docs/reference/gcr/Makefile.am        |  2 ++
 docs/reference/gcr/gcr-sections.txt   |  1 +
 egg/egg-testing.c                     | 21 ---------------
 egg/egg-testing.h                     |  2 --
 egg/tests/Makefile.am                 |  2 +-
 egg/tests/test-asn1x.c                |  2 --
 egg/tests/test-openssl.c              |  1 -
 gck/Makefile.am                       |  3 ++-
 gck/gck.symbols                       |  1 +
 gck/tests/Makefile.am                 |  2 +-
 gcr/gcr-parser.c                      |  7 ++---
 gcr/gcr.symbols                       |  2 ++
 gcr/tests/Makefile.am                 |  2 +-
 gcr/tests/frob-certificate.c          | 27 ++-----------------
 gcr/tests/frob-combo-selector.c       | 22 ---------------
 gcr/tests/frob-key.c                  | 27 ++-----------------
 gcr/tests/frob-tree-selector.c        | 22 ---------------
 gcr/tests/frob-unlock-options.c       | 22 ---------------
 gcr/tests/test-fingerprint.c          | 51 +++++++++++++++++++----------------
 gcr/tests/test-gnupg-collection.c     | 12 +--------
 gcr/tests/test-gnupg-process.c        | 19 +++----------
 pkcs11/gkm/tests/Makefile.am          |  2 +-
 pkcs11/gnome2-store/tests/Makefile.am |  2 +-
 pkcs11/roots-store/tests/Makefile.am  |  2 +-
 pkcs11/secret-store/tests/Makefile.am |  2 +-
 pkcs11/ssh-store/tests/Makefile.am    |  2 +-
 pkcs11/wrap-layer/tests/Makefile.am   |  2 +-
 pkcs11/xdg-store/tests/Makefile.am    |  2 +-
 po/POTFILES.in                        |  2 ++
 ui/tests/Makefile.am                  |  2 +-
 31 files changed, 60 insertions(+), 210 deletions(-)

commit 2034ab902b07a6581b0ba9a59a59d71b79dbcf66
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    gcr: Expose correct outer block for PEM in GcrParser

 gcr/gcr-parser.c | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit c80fcdeb016e197be54ad7ebbefeeb9823d76155
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    egg: Make OpenSSL PEM routines return outer block as well.
    
     * We expose this in GcrParser so that we can reparse a block that needs
       a password.

 egg/egg-openssl.c                     | 40 +++++++++++++++++++++++++++--------
 egg/egg-openssl.h                     |  9 ++++++--
 egg/tests/test-openssl.c              |  9 ++++++--
 gcr/gcr-parser.c                      |  9 ++++++--
 pkcs11/gkm/tests/test-data-der.c      |  9 ++++++--
 pkcs11/roots-store/gkm-roots-module.c |  9 ++++++--
 pkcs11/ssh-store/gkm-ssh-openssh.c    | 18 ++++++++++++----
 7 files changed, 80 insertions(+), 23 deletions(-)

commit 08aa3f057147d345b8e8e14affbec01750e7c4cf
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    gcr: Display errors in the gcr-viewer
    
     * Add GcrFailureRenderer which shows errors with reason and icon

 gcr/Makefile.am            |   1 +
 gcr/gcr-failure-renderer.c | 209 +++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-failure-renderer.h |  68 +++++++++++++++
 gcr/gcr-viewer-window.c    |  32 ++++---
 4 files changed, 297 insertions(+), 13 deletions(-)

commit 02dd8275c8afa984c0389da1088abb680bdb9aa3
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    gcr: Add support for unlocking files in gcr-viewer
    
     * Add a GcrRenderer which displays unlock widgets
     * Add method to GcrViewer which allows insertion of renderer before another
     * Functionality in GcrDisplayView for showing dialog like widgets in view
     * Fixes for removing renderer from view
     * Parser fixes for enabling all formats
     * Parser fixes for PKCS#12 parsing with locked data

 .gitignore                 |   1 +
 gcr/Makefile.am            |   1 +
 gcr/gcr-display-scrolled.c |  10 ++
 gcr/gcr-display-view.c     | 141 ++++++++++++++---
 gcr/gcr-display-view.h     |   4 +
 gcr/gcr-parser.c           |  43 +++---
 gcr/gcr-unlock-renderer.c  | 368 +++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-unlock-renderer.h  |  69 +++++++++
 gcr/gcr-viewer-window.c    | 125 ++++++++++++++-
 gcr/gcr-viewer.c           |  56 ++++---
 gcr/gcr-viewer.h           |  27 +++-
 gcr/gcr.h                  |   1 +
 gcr/tests/Makefile.am      |   3 +-
 gcr/tests/frob-unlock.c    | 111 ++++++++++++++
 14 files changed, 885 insertions(+), 75 deletions(-)

commit 37310efb89dc5d50e77e8843c6e464df38761781
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gcr: Support get surrounding data block from GcrParser
    
     * This is needed for importing parsed data into other places
       than PKCS#11 tokens.
     * Going to use this in seahorse.

 docs/reference/gcr/gcr-sections.txt |   1 +
 gcr/gcr-parser.c                    | 118 ++++++++++++++++++++++++++----------
 gcr/gcr-parser.h                    |   3 +
 gcr/tests/test-parser.c             |  27 +++++++++
 4 files changed, 118 insertions(+), 31 deletions(-)

commit d7a21115eec6e6098bb6d1b829283272c06e6eb5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gcr: Test GcrParser with null and empty data

 gcr/gcr-parser.c        | 24 +++++++++++++-----------
 gcr/tests/test-parser.c | 33 +++++++++++++++++++++++++++++++++
 2 files changed, 46 insertions(+), 11 deletions(-)

commit ca905fe12020ff425688f2f95fee2ad02ed7f4a3
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gcr: Refactor the parser tests
    
     * Make one test per file, and give them descriptive names.
     * Make the tests quieter as well.

 gcr/tests/test-parser.c | 83 +++++++++++++++++++++++++++++--------------------
 1 file changed, 50 insertions(+), 33 deletions(-)

commit cc0a08917b98f0b51a52ea0eae2b4c023c061741
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-08-31

    Updated Norwegian bokmål translation

 po/nb.po | 102 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 61 insertions(+), 41 deletions(-)

commit 1e76736ec569b67a4607cfda83fa9e788a1e87be
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-08-31

    Updated Spanish translation

 po/es.po | 3675 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 1838 insertions(+), 1837 deletions(-)

commit a1125bd44ef47944326625de0e50d9bcf1dfd23d
Author: Friedel Wolff <friedel@translate.org.za>
Date:   2011-08-31

    Typo in translatable string
    
    https://bugzilla.gnome.org/show_bug.cgi?id=656599

 gck/gck-uri.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 70d390e8c2a1abcb8110ed4b6a3077cb11e64b27
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    xdg-store: Use the peer name in a trust assertion as file name
    
     * Use the peer name in a trust assertion as a possible file name
       for the object on disk.

 pkcs11/xdg-store/gkm-xdg-module.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 616e971d01fdd86c6022039e7b8c09c811ef6afb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    gck: Fix tests for new PKCS#11 URI revesion
    
     * Some of the attribute names changed to include dashes

 gck/tests/test-gck-uri.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit df6c5aede841c516820a7952595de56304186842
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    gck: Add gck_modules_tokens_for_uri() function
    
     * Returns multilpe tokens matching a URI
     * We use this when looking up the trust slots

 docs/reference/gck/gck-sections.txt |  1 +
 gck/gck-modules.c                   | 80 ++++++++++++++++++++++++++++---------
 gcr/gcr-library.c                   |  7 +---
 3 files changed, 64 insertions(+), 24 deletions(-)

commit 3aab45fee247303f4d7c5f2fd29f7cb9a7bd8d47
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    gck: Add debug output to GckEnumerator and bits of GckSession
    
     * Also fix up Gcr debugging
     * And add debugging to trust stuff.

 docs/reference/gck/Makefile.am |   4 +-
 gck/Makefile.am                |   2 +
 gck/gck-attributes.c           | 350 +++++++++++++++++++++++++++++++++++++++++
 gck/gck-debug.c                | 109 +++++++++++++
 gck/gck-debug.h                |  86 ++++++++++
 gck/gck-enumerator.c           |  70 +++++++--
 gck/gck-misc.c                 |  97 ++++++++++++
 gck/gck-private.h              |   4 +
 gck/gck-session.c              |  27 +++-
 gck/gck.h                      |   4 +
 gck/pkcs11-trust-assertions.h  |  56 +++++++
 gcr/Makefile.am                |   3 +-
 gcr/gcr-debug.c                |   1 +
 gcr/gcr-debug.h                |   3 +-
 gcr/gcr-trust.c                |   8 +
 15 files changed, 808 insertions(+), 16 deletions(-)

commit e490b881a2326b1fe4f0a6339a4df030da8c9038
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-31

    daemon: Wait a moment after replacing another daemon
    
     * This allows the other daemon to close before we try to open the
       same sockets and stuff.

 daemon/gkd-main.c | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 2993b5a32d46c9104b5f265a16ae1a2aff66f175
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-30

    gcr: Fix library initialization bugs, and add some debug statements.
    
     * Fix problems loading trust URIS and initializing modules.
     * Better debug output about library initialization.

 gcr/gcr-debug.c   |  1 +
 gcr/gcr-library.c | 53 ++++++++++++++++++++++++++++++++++++++++++++---------
 2 files changed, 45 insertions(+), 9 deletions(-)

commit fabe045574b391aa453dc8a35f2d2f7e2f33bfc8
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-08-30

    Updated Spanish translation

 po/es.po | 123 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 71 insertions(+), 52 deletions(-)

commit f591c2326710dbc685a39eb6056eb7734219f181
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-30

    Fix compile warnings when building with --disable-debug

 daemon/dbus/gkd-secret-property.c           | 8 ++++----
 daemon/ssh-agent/gkd-ssh-agent-ops.c        | 2 +-
 egg/egg-asn1x.c                             | 4 +---
 egg/egg-secure-memory.c                     | 4 ++++
 gcr/gcr-certificate-renderer.c              | 2 +-
 gcr/gcr-parser.c                            | 2 +-
 pkcs11/gnome2-store/gkm-gnome2-storage.c    | 2 +-
 pkcs11/secret-store/gkm-secret-collection.c | 2 +-
 8 files changed, 14 insertions(+), 12 deletions(-)

commit 533b8043c55724976f481b1b159c80180e4f798c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-30

    gcr: Fix up GcrViewerWindow documentation

 docs/reference/gcr/gcr-sections.txt | 18 ++++++++++++++++++
 gcr/gcr-viewer-window.c             | 36 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-viewer-window.h             |  2 ++
 3 files changed, 56 insertions(+)

commit be87bd7bb1eb019ab61d8e4f07d559a66367378b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-30

    Release 3.1.90
    
     * Fix build issues to do with mime database
     * Fix testing issues in pkcs11 trust assertion database
     * Fix distribution issues.

 Makefile.am                          |  3 ++-
 NEWS                                 | 12 ++++++++++++
 configure.ac                         |  2 +-
 gcr/Makefile.am                      |  5 +++--
 gcr/gcr.symbols                      |  4 ++++
 pkcs11/xdg-store/gkm-xdg-assertion.c |  6 +++---
 po/POTFILES.in                       |  1 +
 7 files changed, 26 insertions(+), 7 deletions(-)

commit dea26785fa21607a399207133c25f0bac5eefb80
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-22

    gcr: Add better xdg-mime files for identifying crypto related file types
    
     * Add hook up gcr-viewer to view most of those types.
     * Rename test file extensions to match the proper ones

 configure.ac                                       |   9 ++
 gcr/.gitignore                                     |   2 +
 gcr/Makefile.am                                    |  31 +++++
 gcr/gcr-crypto-types.xml                           | 151 +++++++++++++++++++++
 gcr/gcr-viewer.desktop.in.in                       |  10 ++
 gcr/tests/files/der-key-PBE-MD5-DES.p8             | Bin 0 -> 677 bytes
 gcr/tests/files/der-key-PBE-SHA1-3DES.p8           | Bin 0 -> 678 bytes
 gcr/tests/files/der-key-PBE-SHA1-DES.p8            | Bin 0 -> 677 bytes
 gcr/tests/files/der-key-PBE-SHA1-RC2-40.p8         | Bin 0 -> 678 bytes
 gcr/tests/files/der-key-PBE-SHA1-RC4-128.p8        | Bin 0 -> 673 bytes
 gcr/tests/files/der-key-dsa.p8                     | Bin 0 -> 335 bytes
 gcr/tests/files/der-key-encrypted-pkcs5.p8         | Bin 0 -> 677 bytes
 gcr/tests/files/der-key-v2-des.p8                  | Bin 0 -> 711 bytes
 gcr/tests/files/der-key-v2-des3.p8                 | Bin 0 -> 714 bytes
 gcr/tests/files/der-key.p8                         | Bin 0 -> 635 bytes
 gcr/tests/files/der-pkcs8-PBE-MD5-DES.key          | Bin 677 -> 0 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-3DES.key        | Bin 678 -> 0 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-DES.key         | Bin 677 -> 0 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-RC2-40.key      | Bin 678 -> 0 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-RC4-128.key     | Bin 673 -> 0 bytes
 gcr/tests/files/der-pkcs8-dsa.key                  | Bin 335 -> 0 bytes
 gcr/tests/files/der-pkcs8-encrypted-pkcs5.key      | Bin 677 -> 0 bytes
 gcr/tests/files/der-pkcs8-v2-des.key               | Bin 711 -> 0 bytes
 gcr/tests/files/der-pkcs8-v2-des3.key              | Bin 714 -> 0 bytes
 gcr/tests/files/der-pkcs8.key                      | Bin 635 -> 0 bytes
 pkcs11/gkm/tests/files/der-key-PBE-MD5-DES.p8      | Bin 0 -> 677 bytes
 pkcs11/gkm/tests/files/der-key-PBE-SHA1-3DES.p8    | Bin 0 -> 678 bytes
 pkcs11/gkm/tests/files/der-key-PBE-SHA1-DES.p8     | Bin 0 -> 677 bytes
 pkcs11/gkm/tests/files/der-key-PBE-SHA1-RC2-40.p8  | Bin 0 -> 678 bytes
 pkcs11/gkm/tests/files/der-key-PBE-SHA1-RC4-128.p8 | Bin 0 -> 673 bytes
 pkcs11/gkm/tests/files/der-key-dsa.p8              | Bin 0 -> 335 bytes
 pkcs11/gkm/tests/files/der-key-encrypted-pkcs5.p8  | Bin 0 -> 677 bytes
 pkcs11/gkm/tests/files/der-key-v2-des.p8           | Bin 0 -> 711 bytes
 pkcs11/gkm/tests/files/der-key-v2-des3.p8          | Bin 0 -> 714 bytes
 pkcs11/gkm/tests/files/der-key.p8                  | Bin 0 -> 635 bytes
 pkcs11/gkm/tests/files/der-pkcs8-PBE-MD5-DES.key   | Bin 677 -> 0 bytes
 pkcs11/gkm/tests/files/der-pkcs8-PBE-SHA1-3DES.key | Bin 678 -> 0 bytes
 pkcs11/gkm/tests/files/der-pkcs8-PBE-SHA1-DES.key  | Bin 677 -> 0 bytes
 .../gkm/tests/files/der-pkcs8-PBE-SHA1-RC2-40.key  | Bin 678 -> 0 bytes
 .../gkm/tests/files/der-pkcs8-PBE-SHA1-RC4-128.key | Bin 673 -> 0 bytes
 pkcs11/gkm/tests/files/der-pkcs8-dsa.key           | Bin 335 -> 0 bytes
 .../gkm/tests/files/der-pkcs8-encrypted-pkcs5.key  | Bin 677 -> 0 bytes
 pkcs11/gkm/tests/files/der-pkcs8-v2-des.key        | Bin 711 -> 0 bytes
 pkcs11/gkm/tests/files/der-pkcs8-v2-des3.key       | Bin 714 -> 0 bytes
 pkcs11/gkm/tests/files/der-pkcs8.key               | Bin 635 -> 0 bytes
 pkcs11/gkm/tests/test-data-der.c                   |   4 +-
 46 files changed, 205 insertions(+), 2 deletions(-)

commit 8a64c160a7def6363fef332324b6c5a2e28f9e63
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-22

    gcr: Fix up GcrDisplayView bugs and look
    
     * Separators between items.
     * Clicking details doesn't remove items when more than one
       is displayed.
     * Better spacing.

 gcr/gcr-certificate-renderer.c |   7 +-
 gcr/gcr-display-view.c         | 193 +++++++++++++++++++++++++++++++++--------
 gcr/gcr-display-view.h         |   5 +-
 gcr/gcr-key-renderer.c         |   9 +-
 4 files changed, 172 insertions(+), 42 deletions(-)

commit a973f429fb67242b51582fc408679c3efed259cb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-31

    Add function for registering well known renderers.
    
    Renderers for certificates and keys are registered.

 gcr/gcr-renderer.c | 12 ++++++++++++
 gcr/gcr-renderer.h |  2 ++
 2 files changed, 14 insertions(+)

commit 2f12eaa7b9a3ad4587e4b9c16d9e662372cc304d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-25

    Implement basic little viewer window.
    
    Doesn't yet layout correctly, and is pretty plain, but displays
    certificates.

 .gitignore              |   2 +
 gcr/Makefile.am         |  15 ++++
 gcr/gcr-viewer-tool.c   | 131 ++++++++++++++++++++++++++++
 gcr/gcr-viewer-window.c | 222 ++++++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-viewer-window.h |  56 ++++++++++++
 5 files changed, 426 insertions(+)

commit 7b076eaba5802c218386f38d8a2fbb3221c6bdbe
Author: Fran Dieguez <fran@openhost.es>
Date:   2011-08-28

    Updated galician translations

 po/gl.po | 31 ++++++++++++++++++++++++++++---
 1 file changed, 28 insertions(+), 3 deletions(-)

commit 4619705cc53912e4b72630794137a2b2ad5dc6c1
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-08-28

    [l10n] Updated German translation

 po/de.po | 178 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 106 insertions(+), 72 deletions(-)

commit dddb8d513e7cba5ba8987ddc04ed4e794bdc8309
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-08-26

    Updated Spanish translation

 po/es.po | 60 +++++++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 39 insertions(+), 21 deletions(-)

commit 338cafbbf2c5219281d97f5820c585c018e665f4
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-08-26

    Updated Norwegian bokmål translation

 po/nb.po | 31 ++++++++++++++++++++++++++++---
 1 file changed, 28 insertions(+), 3 deletions(-)

commit d95d74a50c585392772c9a784ecb6cd3c8b12b7f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    Fix up documentation warning.

 docs/reference/gcr/gcr-sections.txt | 2 ++
 1 file changed, 2 insertions(+)

commit 0211c4b844e0cc84370ec1ef46ede8d1bffef209
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gcr: Don't initialize pkcs11 modules automatically.
    
    Only load and initialize the pkcs11 modules when they're needed rather
    than when anything in gcr is touched. For starters this is lighter,
    and secondly modules can block while loading.
    
    Add async initialization functions, and treat the initialization
    of PkcS#11 modules as something that can block.

 gcr/gcr-certificate.c        |   2 +-
 gcr/gcr-combo-selector.c     |   2 +-
 gcr/gcr-gnupg-collection.c   |   2 +-
 gcr/gcr-import-dialog.c      |   2 +-
 gcr/gcr-importer.c           |   2 +-
 gcr/gcr-internal.h           |  12 +-
 gcr/gcr-library.c            | 179 +++++++++++++++++-----
 gcr/gcr-list-selector.c      |   2 +-
 gcr/gcr-parser.c             |   4 +-
 gcr/gcr-pkcs11-certificate.c |  96 ++++++------
 gcr/gcr-simple-certificate.c |   2 +-
 gcr/gcr-simple-collection.c  |   2 +-
 gcr/gcr-tree-selector.c      |   2 +-
 gcr/gcr-trust.c              | 346 +++++++++++++++++--------------------------
 14 files changed, 354 insertions(+), 301 deletions(-)

commit a0fd491d3c8b6e09fbd8d54643d1e06228bd225a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    Don't keep going after tests fail
    
     * Remove -k from gtester arguments

 daemon/dbus/tests/Makefile.am         | 2 +-
 egg/tests/Makefile.am                 | 2 +-
 pkcs11/gnome2-store/tests/Makefile.am | 2 +-
 pkcs11/secret-store/tests/Makefile.am | 2 +-
 pkcs11/ssh-store/tests/Makefile.am    | 2 +-
 pkcs11/wrap-layer/tests/Makefile.am   | 2 +-
 pkcs11/xdg-store/tests/Makefile.am    | 2 +-
 ui/tests/Makefile.am                  | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit 4d98f86bd22393e1dadd4098af40e864283c25be
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gcr: Remove template files

 gcr/template/gcr-xxx.c | 149 -------------------------------------------------
 gcr/template/gcr-xxx.h |  57 -------------------
 gcr/template/gcr-zzz.c |  59 --------------------
 gcr/template/gcr-zzz.h |  45 ---------------
 4 files changed, 310 deletions(-)

commit 1e300a834e889deba1331be074905b7c84d33897
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    Bump version number, which wasn't done after last release.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9bda5ed162eadecc6122e6a542ea2808e839ac78
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gck: Cleanup gck API for consistency
    
     * The GCK library is incrementing its major library version number
       this release cycle. So take that advantage to cleanup the API
       a little bit before stable releases.

 daemon/gpg-agent/gkd-gpg-agent-standalone.c |  2 +-
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |  2 +-
 gck/gck-module.c                            |  4 +++-
 gck/gck-modules.c                           | 21 +++++++++++----------
 gck/gck.h                                   |  4 +++-
 gck/gck.symbols                             |  9 +++++++--
 gck/tests/test-gck-crypto.c                 |  2 +-
 gck/tests/test-gck-enumerator.c             |  2 +-
 gck/tests/test-gck-module.c                 |  6 +++---
 gck/tests/test-gck-modules.c                |  2 +-
 gck/tests/test-gck-object.c                 |  2 +-
 gck/tests/test-gck-session.c                |  2 +-
 gck/tests/test-gck-slot.c                   |  2 +-
 gcr/gcr-library.c                           |  9 +++++++--
 14 files changed, 42 insertions(+), 27 deletions(-)

commit 273ddd8bc0df79ce8197cb91e4aac5337b351181
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gcr: ABI fixes for gcr library
    
     * The gcr library has not iterated its major version
     * Move deprecated stuff into separate headers
     * Also fix problem with enum-types header.

 docs/reference/gcr/gcr-sections.txt |  1 +
 gcr/Makefile.am                     | 20 +++++++-----
 gcr/gcr-deprecated.h                | 61 +++++++++++++++++++++++++++++++++++++
 gcr/gcr-importer.h                  |  9 ------
 gcr/gcr-renderer.c                  | 17 +++++++++++
 gcr/gcr-types.h                     |  8 -----
 gcr/gcr.h                           |  8 +----
 7 files changed, 92 insertions(+), 32 deletions(-)

commit cae8d5f914579df7e116af0e8f6e969f4253c50c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    Put ABI symbol checks into 'make check'
    
     * We have files in which all public symbols for the gck and gcr
       libraries, and then check these against the linked libraries.
     * Not a panacea for ABI changes, but at least a simple check

 .gitignore      |   2 +-
 gck/Makefile.am |  26 ++++++--
 gck/gck.symbols | 195 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 gcr/Makefile.am |  20 +++++-
 gcr/gcr.symbols | 197 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 430 insertions(+), 10 deletions(-)

commit 25b32cc25c7bf5a2707204743c04fed63c7e2e18
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-25

    gck: Add async initialization functions.
    
     * PKCS#11 modules can take indeterminate time to initialize
     * Allow initialization in a separate thread

 docs/reference/gck/gck-sections.txt |   8 +-
 gck/gck-call.c                      |   7 +-
 gck/gck-module.c                    | 150 ++++++++++++++++++++++++++++--------
 gck/gck-modules.c                   | 108 ++++++++++++++++++++++----
 gck/gck.h                           |  17 +++-
 gck/tests/Makefile.am               |   2 +-
 gck/tests/test-gck-module.c         |  51 ++++++++++--
 po/POTFILES.in                      |   2 +
 8 files changed, 281 insertions(+), 64 deletions(-)

commit 97eddad9553c4f4d695d2509b419ec5cbe711d2c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-08-24

    Updated Norwegian bokmål translation

 po/nb.po | 152 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 80 insertions(+), 72 deletions(-)

commit 580ce2cbedcc15e21b75af501f096cfffc226f26
Author: Fran Dieguez <fran@openhost.es>
Date:   2011-08-24

    Updated Galician translations

 po/gl.po | 140 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 74 insertions(+), 66 deletions(-)

commit 94a8af5d6c50af87b6e50e5895dba33108b69a3b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-08-19

    Updated Spanish translation

 po/es.po | 154 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 82 insertions(+), 72 deletions(-)

commit 9977b1eb7bd0d30c5ede7290528bffe27e7e8648
Author: Marek Černocký <marek@manet.cz>
Date:   2011-08-19

    Updated Czech translation

 po/cs.po | 878 +++++++++++++++++++++++++++------------------------------------
 1 file changed, 380 insertions(+), 498 deletions(-)

commit f90691950bcd2e8c324ac618d5808150d1aacf41
Author: Andika Triwidada <andika@gmail.com>
Date:   2011-08-19

    Updated Indonesian translation

 po/id.po | 839 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 395 insertions(+), 444 deletions(-)

commit cddb2186488c49bb7b728ad5a2a5af3f07e93109
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-08-18

    Updated Hebrew translation.

 po/he.po | 152 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 80 insertions(+), 72 deletions(-)

commit f7b26d1f09ee16a854b558e7c428d101d2b8e00c
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2011-08-18

    Updated Dutch translation by Wouter Bolsterlee

 po/nl.po | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 0ee73272a750a900615ac8f85997645a51472f0a
Author: Rachid <rachidbm@ubuntu.com>
Date:   2011-08-18

    Updated Dutch translation by Rachid

 po/nl.po | 1394 +++++++++++++++++++++++++-------------------------------------
 1 file changed, 549 insertions(+), 845 deletions(-)

commit 73ac0ac4b752af59750c4dfa28448a4776339c50
Merge: 29d81c6 2ef650d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-17

    Merge branch 'parse-other-names'

commit 29d81c67073e4e2cbf6bc149a59db202b5c7c3b5
Author: Fran Dieguez <fran@openhost.es>
Date:   2011-08-16

    Updated Galician translations

 po/gl.po | 618 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 277 insertions(+), 341 deletions(-)

commit 8aa6aff2f994eb515b84f84c388ff0736ed23d90
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2011-08-13

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 850 +++++++++++++++++++++++-------------------------------------
 po/zh_TW.po | 850 +++++++++++++++++++++++-------------------------------------
 2 files changed, 646 insertions(+), 1054 deletions(-)

commit 2ef650d1fa43fad0dc560533acc04a6c13175570
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-03

    gcr: Display otherName subject-alt-name for xmppAddr and DNS SRV
    
     * Display the xmppAddr and DNS SRV otherName type subject alt names
       correctly. These are displayed as simple strings.
     * Also fix the critical warning when these were encountered.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=655902

 gcr/gcr-certificate-extensions.c | 25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit 20e7b94fce5163bc1c4aa73a77872fe9eb547cda
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-08-03

    gcr: Reorganize how gcr oids are generated
    
     * Use script gcr-mkoids to generate oid quark code.
     * Call _gcr_oids_init() before using any GCR_OID_XXX symbols.

 .gitignore                       |  1 +
 gcr/Makefile.am                  |  8 +++-
 gcr/gcr-certificate-extensions.c |  3 ++
 gcr/gcr-certificate-renderer.c   | 23 ++++-------
 gcr/gcr-certificate.c            | 11 +++---
 gcr/gcr-fingerprint.c            | 31 +++------------
 gcr/gcr-mkoids                   | 85 ++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-oids.list                | 19 +++++++++
 gcr/gcr-parser.c                 | 57 +++++++++------------------
 9 files changed, 150 insertions(+), 88 deletions(-)

commit 2b6136a13aa71b6f906722b366bc979e165db090
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-29

    Revert accidental change which incremented libgcr major libtool version
    
     * Accidentally decremented libtool major version during merge.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e54c64c8555bc876d24f6bc05bb6183e1a7a2ee
Author: Daniel Nylander <po@danielnylander.se>
Date:   2011-07-29

    Updated Swedish translation

 po/sv.po | 1176 ++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 724 insertions(+), 452 deletions(-)

commit 6b9d6a98993859f0749cd8ad01bc80e179d03d06
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-27

    schema: Add support for keyservers in o.g.crypto.pgp schema
    
     * This is needed by seahorse's GSettings migration.
     * This keyservers setting is here, because it's a desktop
       wide setting, rather than seahorse specific.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=622401

 schema/Makefile.am                             | 3 ++-
 schema/org.gnome.crypto.pgp.gschema.xml        | 5 +++++
 schema/org.gnome.crypto.pgp_keyservers.convert | 2 ++
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 456041b6cac4c0677b1583cc80a3e1b3a1657398
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-25

    Release version 3.1.4
    
     * Include some changes to make comparing symbols easier.
     * Fix some issues that came up when doing make distcheck

 .gitignore                 |   1 +
 NEWS                       |  11 +++
 configure.ac               |   2 +-
 gck/Makefile.am            |   6 ++
 gcr/Makefile.am            |  18 +++--
 gcr/libgcr.symbols         | 183 ---------------------------------------------
 gcr/tests/test-gnupg-key.c |   2 +-
 7 files changed, 30 insertions(+), 193 deletions(-)

commit feae041c4d96a4579a5c3189013eac1b509d1261
Author: Ross Burton <ross@linux.intel.com>
Date:   2011-07-19

    gcr: install the enum headers
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654896

 gcr/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 79c5168b60829af778ee32dd37c65a0a51cf7687
Author: Arash Mousavi <amousavi@src.gnome.org>
Date:   2011-07-19

    Updated Persian translations

 po/fa.po | 1258 +++++++++++++++++++++++++++-----------------------------------
 1 file changed, 545 insertions(+), 713 deletions(-)

commit e701de2b59e03a99493f890143a46b103df022e7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-18

    gck: Fix PKCS#11 URI documentation.

 gck/gck-uri.c | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 551843b52009417d2a46739fc275d0ab329ea0de
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-18

    gcr: Use glib-mkenums to generate types for enums and flags
    
     * And remove manually coded type registration in GcrCertificateChain

 .gitignore                          |  2 +-
 configure.ac                        |  1 +
 docs/reference/gcr/gcr-sections.txt |  9 ++++++++
 gcr/Makefile.am                     | 17 +++++++++++----
 gcr/gcr-certificate-chain.c         | 41 -------------------------------------
 gcr/gcr-certificate-chain.h         | 20 ++----------------
 gcr/gcr-enum-types.c.template       | 35 +++++++++++++++++++++++++++++++
 gcr/gcr-enum-types.h.template       | 28 +++++++++++++++++++++++++
 gcr/gcr.h                           |  2 ++
 9 files changed, 91 insertions(+), 64 deletions(-)

commit a69bdf20715703de9c1a1d283137d9f19d6bb419
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-18

    Cleanup doc sections a bit.

 docs/reference/gcr/gcr-sections.txt | 6 ++++++
 1 file changed, 6 insertions(+)

commit d739f96614965c76cab67d1f5d25f25b1f4764ef
Merge: f2bfa48 73f773b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-18

    Merge branch 'list-selector'

commit f2bfa4832d17bae6d2d53d2ba1d953a84fe4290f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-07-15

    Updated Hebrew translation.

 po/he.po | 619 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 278 insertions(+), 341 deletions(-)

commit 8e949277c8255fc4f02a389e02026283c10f941f
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-07-14

    [l10n] Updated German translation

 po/de.po | 1014 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 579 insertions(+), 435 deletions(-)

commit 4e30ec8bf2de8d633811fb65cb14ef10f49db2d9
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2011-07-14

    Updated Slovenian translation

 po/sl.po | 623 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 279 insertions(+), 344 deletions(-)

commit 92124ddf8bebeb1d31506627d8c8015847068b8f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-13

    gcr: Better markup for PGP keys.

 gcr/gcr-gnupg-key.c | 105 +++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 99 insertions(+), 6 deletions(-)

commit 73f773ba26bf25b27886885b30f41d3c7820959f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-12

    gcr: Document GcrListSelector

 docs/reference/gcr/Makefile.am              |   7 +++--
 docs/reference/gcr/gcr-docs.sgml            |   1 +
 docs/reference/gcr/gcr-sections.txt         |  20 ++++++++++++++
 docs/reference/gcr/gcr-visual-index.xml     |   3 +++
 docs/reference/gcr/gcr-widgets.c            |  39 ++++++++++++++++++++++++++++
 docs/reference/gcr/images/list-selector.png | Bin 0 -> 10123 bytes
 gcr/gcr-list-selector.c                     |   8 +++---
 7 files changed, 73 insertions(+), 5 deletions(-)

commit cfb39360f9f6316f01ce963e5c66ae1f9c8cb111
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-12

    gcr: Add the list selector and live search.
    
     * Use live search from Empathy.
     * Selector has [x] boxes next to each object.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=654484

 gcr/Makefile.am                 |   3 +
 gcr/gcr-list-selector-private.h |  40 +++
 gcr/gcr-list-selector.c         | 456 ++++++++++++++++++++++++++++
 gcr/gcr-list-selector.h         |  73 +++++
 gcr/gcr-live-search.c           | 651 ++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-live-search.h           |  85 ++++++
 gcr/gcr-marshal.list            |   1 +
 gcr/gcr.h                       |   1 +
 gcr/tests/frob-gnupg-selector.c |  18 +-
 9 files changed, 1324 insertions(+), 4 deletions(-)

commit c03d3260eeb5ed9c6d7ca531f970d4df8c7b15ec
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-13

    gcr: Better markup for PGP keys.

 gcr/gcr-gnupg-key.c | 102 ++++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 96 insertions(+), 6 deletions(-)

commit f64341b5da3e03495ed1019a0164dc0dacacef53
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-13

    Fix some distcheck problems

 gcr/tests/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cc8184c4f66ce7f2a8a2d4e2474708590c2b3e6f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-13

    gcr: Update doc images
    
     * And fix some issues with building shooter executable

 docs/reference/gcr/Makefile.am                   |   6 +++---
 docs/reference/gcr/gcr-shooter.c                 |   6 +-----
 docs/reference/gcr/images/certificate-widget.png | Bin 17514 -> 15090 bytes
 docs/reference/gcr/images/combo-selector.png     | Bin 7855 -> 7065 bytes
 docs/reference/gcr/images/key-widget.png         | Bin 8311 -> 10159 bytes
 docs/reference/gcr/images/tree-selector.png      | Bin 11930 -> 10628 bytes
 6 files changed, 4 insertions(+), 8 deletions(-)

commit cbce2b1d248899d46609e11c5c04533ca58a74cc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-13

    gcr: Add icons for key and keypair
    
    https://bugzilla.gnome.org/show_bug.cgi?id=651862

 configure.ac                     |    6 +
 gcr/Makefile.am                  |    2 +-
 gcr/gcr-gnupg-key.c              |    8 +-
 gcr/gcr-icons.c                  |    3 +-
 gcr/gcr-icons.h                  |    3 +-
 gcr/gcr-key-renderer.c           |    2 +-
 gcr/icons/16x16/Makefile.am      |   10 +
 gcr/icons/16x16/gcr-key-pair.png |  Bin 0 -> 878 bytes
 gcr/icons/16x16/gcr-key.png      |  Bin 0 -> 675 bytes
 gcr/icons/22x22/Makefile.am      |    8 +
 gcr/icons/24x24/Makefile.am      |   10 +
 gcr/icons/24x24/gcr-key-pair.png |  Bin 0 -> 1221 bytes
 gcr/icons/24x24/gcr-key.png      |  Bin 0 -> 875 bytes
 gcr/icons/32x32/Makefile.am      |   10 +
 gcr/icons/32x32/gcr-key-pair.png |  Bin 0 -> 1882 bytes
 gcr/icons/32x32/gcr-key.png      |  Bin 0 -> 1201 bytes
 gcr/icons/48x48/Makefile.am      |   10 +
 gcr/icons/48x48/gcr-key-pair.png |  Bin 0 -> 3480 bytes
 gcr/icons/48x48/gcr-key.png      |  Bin 0 -> 2087 bytes
 gcr/icons/Makefile.am            |   13 +
 gcr/icons/key-and-keypair.svg    | 3921 ++++++++++++++++++++++++++++++++++++++
 21 files changed, 4000 insertions(+), 6 deletions(-)

commit 42999a5cabd59db3f171c47217e90637954e7b32
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-07-13

    Updated Spanish translation

 po/es.po | 43 ++++++++++++++++++++++++++-----------------
 1 file changed, 26 insertions(+), 17 deletions(-)

commit de0f65b1d8ec04a4c8d3589dd588cc8a1fade4f0
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:   2011-07-12

    Updated Latvian translation.

 po/lv.po | 1096 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 619 insertions(+), 477 deletions(-)

commit 974f8b2767b7238a5a568117dcdb588a3f158fa7
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-07-12

    Add missing file

 po/POTFILES.in | 1 +
 1 file changed, 1 insertion(+)

commit cdd3ef6a0d703c0349665252c7732aa8a2ebfc94
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-07-12

    Updated Norwegian bokmål translation

 po/nb.po | 379 +++++++--------------------------------------------------------
 1 file changed, 38 insertions(+), 341 deletions(-)

commit 7f2f8f33ee6316015661c0668fe3f63493a6e14b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-12

    gcr: Review fixes for gnupg icon support
    
     * Reviewed by Phillip Withnall
     * Memory leak fixes.
     * Documentation
     * Other minor bits.

 gcr/gcr-gnupg-collection.c        |  5 +++++
 gcr/gcr-gnupg-key.c               | 38 +++++++++++++++++++++++++++++---------
 gcr/gcr-gnupg-util.c              | 12 ++++++++++++
 gcr/gcr-memory-icon.c             | 34 ++++++++++++++++++++++++++++++++--
 gcr/gcr-memory-icon.h             |  2 +-
 gcr/gcr-record.c                  | 10 ++++++++++
 gcr/tests/test-gnupg-collection.c |  5 +++++
 gcr/tests/test-memory-icon.c      |  2 +-
 8 files changed, 95 insertions(+), 13 deletions(-)

commit 9938f392505415b5d8c622424a9c57e492c43298
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-13

    gcr: Display photo as icon for Gnupg keys.
    
     * Load the first photo uid and use as icon for Gnupg Keys.
     * Add GcrMemoryIcon which is a GLoadableIcon which loads from
       data in memory.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650433

 .gitignore                          |   1 +
 docs/reference/gcr/gcr-sections.txt |  10 ++
 gcr/Makefile.am                     |   1 +
 gcr/gcr-gnupg-key.c                 |  85 ++++++++++++++-
 gcr/gcr-gnupg-key.h                 |   2 +
 gcr/gcr-memory-icon.c               | 195 ++++++++++++++++++++++++++++++++++
 gcr/gcr-memory-icon.h               |  67 ++++++++++++
 gcr/gcr-record.c                    |  14 +++
 gcr/gcr-record.h                    |   4 +
 gcr/tests/Makefile.am               |   1 +
 gcr/tests/test-memory-icon.c        | 206 ++++++++++++++++++++++++++++++++++++
 gcr/tests/test-record.c             |  18 +++-
 12 files changed, 599 insertions(+), 5 deletions(-)

commit dac5daa5fbe0013a712ecfd241800f1242920e27
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-12

    gcr: Implement loading of attributes in GcrGnupgCollection
    
     * These attributes can contain photo ids.
     * Add various definitions for dealing with attributes.
     * Since we like everything in the --with-colons gnupg format,
       we implement our own record type 'xa1' and cram the attribute
       (photo id) into there, along with all data.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650433

 docs/reference/gcr/gcr-sections.txt |   6 ++
 gcr/Makefile.am                     |   1 +
 gcr/gcr-gnupg-collection.c          | 161 +++++++++++++++++++++++++++++++++---
 gcr/gcr-gnupg-key.c                 |  11 +++
 gcr/gcr-gnupg-key.h                 |   2 +
 gcr/gcr-gnupg-util.c                | 102 +++++++++++++++++++++++
 gcr/gcr-gnupg-util.h                |  41 +++++++++
 gcr/gcr-record.h                    |  43 +++++++++-
 gcr/tests/test-gnupg-collection.c   |  45 ++++++++--
 9 files changed, 393 insertions(+), 19 deletions(-)

commit 73e11d9b3bc2680b90ec8ab1c10bcc7ba8524f50
Merge: 20b7ec0 e2ca61d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-12

    Merge branch 'gnupg-process'

commit e2ca61d312291a71075a1c30d7dbb3826ce0d16d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-12

    gcr: Review changes for GcrGnupgProcess from Phillip Withnall
    
     * Better docs
     * Disconnect signal handlers properly.
     * Cleanup tests.
     * Other bits

 gcr/gcr-gnupg-collection.c                         |  26 +++--
 gcr/gcr-gnupg-process.c                            |  85 ++++++++++++---
 gcr/gcr-gnupg-process.h                            |   3 +-
 .../files/gnupg-mock/mock-status-and-attribute     |   2 +-
 gcr/tests/test-gnupg-process.c                     | 117 ++++++++++++++++++---
 5 files changed, 193 insertions(+), 40 deletions(-)

commit 9a9fa2d72cc7ee1f661b101c522ae23c12a15305
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-12

    gcr: Refactor gnupg process execution into its own class.
    
     * Support getting user attribute data from keyring.
     * Support getting status messages from gpg.
     * Better cancellation api.
     * Control over LOCALE
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650336

 .gitignore                                         |   1 +
 docs/reference/gcr/gcr-sections.txt                |  12 +-
 gcr/Makefile.am                                    |   1 +
 gcr/gcr-gnupg-collection.c                         | 156 ++--
 gcr/gcr-gnupg-collection.h                         |  10 +-
 gcr/gcr-gnupg-process.c                            | 866 +++++++++++++++++++++
 gcr/gcr-gnupg-process.h                            |  88 +++
 gcr/gcr-marshal.list                               |   2 +
 gcr/tests/Makefile.am                              |   3 +-
 gcr/tests/files/gnupg-mock/mock-arguments-environ  |  22 +
 gcr/tests/files/gnupg-mock/mock-fail-exit          |   6 +
 gcr/tests/files/gnupg-mock/mock-fail-signal        |   8 +
 gcr/tests/files/gnupg-mock/mock-simple-error       |   9 +
 gcr/tests/files/gnupg-mock/mock-simple-output      |   8 +
 .../files/gnupg-mock/mock-status-and-attribute     |  34 +
 gcr/tests/files/gnupg-mock/mock-status-and-output  |  24 +
 gcr/tests/files/gnupg-mock/mock-with-homedir       |  22 +
 gcr/tests/test-gnupg-collection.c                  |   1 -
 gcr/tests/test-gnupg-process.c                     | 446 +++++++++++
 19 files changed, 1609 insertions(+), 110 deletions(-)

commit 20b7ec068267b8c20de7cf3713c01522fddf050e
Author: A S Alam <aalam@users.sf.net>
Date:   2011-07-10

    update Punjabi Translation

 po/pa.po | 1216 ++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 699 insertions(+), 517 deletions(-)

commit d29adebcc8f069d65bb26adac7fa2a4f0b5695c8
Author: Muhammet Kara <muhammet.k@gmail.com>
Date:   2011-07-10

    [l10n]Updated Turkish translation

 po/tr.po | 2345 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 1332 insertions(+), 1013 deletions(-)

commit 707caf81303cd7c367516be62bc0277c5f22b5f6
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-07-10

    Updated Spanish translation

 po/es.po | 620 +++++++++++++++++++++++++++------------------------------------
 1 file changed, 266 insertions(+), 354 deletions(-)

commit 70199ca9eb7d3ee70a3272fe9cfc561a9e200b59
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-09

    gcr: Fixes for the gcr-3.pc file
    
     * Proper Name: field
     * Fix GTK dependency

 gcr/gcr.pc.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0f5caa9eae67353eb0c640ce1007d65e3f8c51ea
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-09

    gck: Dump major version number due to recent API refactoring.
    
     * API is not yet stable, but we increase the major version so that we
       don't piss off packagers.

 configure.ac                   |  2 +-
 daemon/Makefile.am             |  2 +-
 daemon/gpg-agent/Makefile.am   |  2 +-
 daemon/login/Makefile.am       |  2 +-
 daemon/ssh-agent/Makefile.am   |  2 +-
 docs/reference/gcr/Makefile.am |  2 +-
 gck/Makefile.am                | 15 +++++++-------
 gck/gck.pc.in                  |  6 +++---
 gcr/Makefile.am                |  2 +-
 gcr/libgcr.symbols             | 46 +++++++++++++++++++++++++++++++++++++++++-
 pkcs11/Makefile.am             |  2 +-
 tool/Makefile.am               |  2 +-
 ui/Makefile.am                 |  2 +-
 13 files changed, 66 insertions(+), 21 deletions(-)

commit 36b62bbad78bced6da5545000e4d73f376d7b8f5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-08

    More build fixes after recent changes.
    
     * Use proper library names for gcr
     * Use lib64 properly for pam modules when default is configured.

 configure.ac    | 2 +-
 gcr/Makefile.am | 4 ++--
 gcr/gcr.pc.in   | 6 +++---
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 176924344174f1510c3b5caa52399170d225acfc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-13

    Remove support for GTK+2.
    
     * Simplifies things going forward. Now that GTK+3 is in stable distros
       we can depend on it.
     * This was raised on the mailing list a while back.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650144

 configure.ac                   | 36 ++-------------------------
 docs/reference/gcr/Makefile.am |  2 +-
 gcr/Makefile.am                | 20 +++++++--------
 gcr/gcr-display-scrolled.c     |  6 -----
 gcr/gcr-display-view.c         | 56 ------------------------------------------
 tool/Makefile.am               | 16 ++++++------
 ui/Makefile.am                 | 20 +++++++--------
 ui/gku-prompt-tool.c           | 24 ------------------
 8 files changed, 29 insertions(+), 151 deletions(-)

commit e1e311edaa7c153e9d20ef21c6ce4851b9ee2715
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-06

    gck: Update GckUriFlags to match p11-kit

 gck/gck-modules.c        |  6 ++++--
 gck/gck-uri.c            | 21 ++++++++++++-------
 gck/gck.h                | 18 +++++++++++++----
 gck/tests/test-gck-uri.c | 52 ++++++++++++++++++++++++------------------------
 4 files changed, 58 insertions(+), 39 deletions(-)

commit 59b08405aedb9fdfad4e7d6d613a667357f2aa8f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-06-07

    Properly load directory to install p11-kit config to.

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1d22919750fba04c967ce3df9a5a646d7dba1a68
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-05

    Use p11-kit to lookup trust uris.

 gcr/Makefile.am                          |  1 +
 gcr/gcr-library.c                        | 38 +++++++++++++++++++++++---------
 pkcs11/rpc-layer/gnome-keyring-module.in |  4 ++++
 3 files changed, 32 insertions(+), 11 deletions(-)

commit c509fbddecb86b61e58943c22a7bddc42ccca229
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-05

    Install a proper p11-kit module configuration file

 .gitignore                               |  6 ++++--
 configure.ac                             | 15 +++++++++++++--
 pkcs11/rpc-layer/Makefile.am             |  7 +++++++
 pkcs11/rpc-layer/gnome-keyring-module.in |  4 ++++
 4 files changed, 28 insertions(+), 4 deletions(-)

commit de7b628ac6e501b200500e42a6d1f169915e2779
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-05

    Remove extraneous argument from gck_module_new and gck_module_initialize
    
     * Since the signature of these functions changed anyway (API not yet
       stable, we are going to clean them up a bit more.
     * The xxx_full versions may be needed in the future if more options
       show up.

 daemon/dbus/gkd-dbus-secrets.c              |  2 +-
 daemon/gpg-agent/gkd-gpg-agent-standalone.c |  2 +-
 daemon/gpg-agent/gkd-gpg-agent.c            |  2 +-
 daemon/login/gkd-login.c                    |  2 +-
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |  2 +-
 daemon/ssh-agent/gkd-ssh-agent.c            |  2 +-
 gck/gck-module.c                            | 10 ++++------
 gck/gck-modules.c                           |  5 ++---
 gck/gck-private.h                           |  3 +--
 gck/gck.h                                   |  6 ++----
 gck/tests/test-gck-crypto.c                 |  2 +-
 gck/tests/test-gck-enumerator.c             |  2 +-
 gck/tests/test-gck-module.c                 |  8 ++++----
 gck/tests/test-gck-modules.c                |  2 +-
 gck/tests/test-gck-object.c                 |  2 +-
 gck/tests/test-gck-session.c                |  2 +-
 gck/tests/test-gck-slot.c                   |  4 ++--
 gcr/gcr-library.c                           |  4 ++--
 gcr/tests/test-certificate-chain.c          |  2 +-
 gcr/tests/test-pkcs11-certificate.c         |  2 +-
 gcr/tests/test-trust.c                      |  2 +-
 21 files changed, 31 insertions(+), 37 deletions(-)

commit dc463d6f93dcfc8f6b11bb8385c76735df31f333
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-21

    gck: Use p11-kit for module loading, messages, and uri parsing.

 configure.ac                                |  13 +-
 daemon/gpg-agent/gkd-gpg-agent-standalone.c |   2 +-
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |   2 +-
 docs/reference/gck/gck-sections.txt         |  10 +-
 gck/Makefile.am                             |   3 +
 gck/gck-enumerator.c                        |  12 +-
 gck/gck-misc.c                              | 212 +++----------
 gck/gck-module.c                            | 131 ++++----
 gck/gck-modules.c                           | 136 +++------
 gck/gck-private.h                           |  21 +-
 gck/gck-slot.c                              | 147 ++++++---
 gck/gck-uri.c                               | 456 ++++++++--------------------
 gck/gck.h                                   |  52 ++--
 gck/gck.pc.in                               |   2 +-
 gck/tests/test-gck-crypto.c                 |   2 +-
 gck/tests/test-gck-enumerator.c             |  64 ++--
 gck/tests/test-gck-module.c                 |   6 +-
 gck/tests/test-gck-modules.c                |   2 +-
 gck/tests/test-gck-object.c                 |   2 +-
 gck/tests/test-gck-session.c                |   2 +-
 gck/tests/test-gck-slot.c                   |   2 +-
 gck/tests/test-gck-uri.c                    | 320 +++++++++----------
 gcr/Makefile.am                             |   6 +-
 gcr/gcr-collection-model.c                  |   4 +-
 gcr/gcr-library.c                           |   6 +-
 gcr/gcr-library.h                           |   2 +-
 gcr/gcr.pc.in                               |   2 +-
 27 files changed, 645 insertions(+), 974 deletions(-)

commit e75e8bc13f6568186b9f9fb05d9ad30ac3e95e59
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-06

    pkcs11: Fix deprecated use of g_atomic_int_exchange_and_add()

 pkcs11/gkm/gkm-util.c | 4 ++++
 1 file changed, 4 insertions(+)

commit a21619b1a21f506aa9eaa4dae8049841dd94578f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-07-06

    gnome2-store: Fix logic error when filename is already used.
    
     * Would fail to generate new unique filename without iterating.

 pkcs11/gnome2-store/gkm-gnome2-file.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79ef2cfd2079569b92f9452baeef2c1bec7b448d
Author: Michael Terry <michael.terry@canonical.com>
Date:   2011-07-05

    Add Unity to OnlyShowIn
    
    https://bugzilla.gnome.org/show_bug.cgi?id=653753

 daemon/gnome-keyring-gpg.desktop.in.in     | 2 +-
 daemon/gnome-keyring-pkcs11.desktop.in.in  | 2 +-
 daemon/gnome-keyring-secrets.desktop.in.in | 2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit a05ed09e02347470a36b1eca84b715b024f4762a
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-07-02

    Updated Norwegian bokmål translation

 po/nb.po | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit cfeb2dd76ad1623ba313b163580932155b5a3f84
Author: Yinghua Wang <wantinghard@gmail.com>
Date:   2011-07-01

    update Simplified Chinese (zh_CN) translation

 po/zh_CN.po | 620 +++++++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 404 insertions(+), 216 deletions(-)

commit 94b377833eeb7a3c3a5ba56b90161dc09e1db086
Author: Aurimas Černius <aurisc4@gmail.com>
Date:   2011-06-29

    Updated Lithuanian translation.

 po/lt.po | 1404 +++++++++++++++++++++++++++-----------------------------------
 1 file changed, 618 insertions(+), 786 deletions(-)

commit 36a43f4df31ef898b859388e2b299ff85fdc2057
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2011-06-13

    Updated Slovenian translation

 po/sl.po | 322 ++++++++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 226 insertions(+), 96 deletions(-)

commit 6f3cf4638596f9fa00cd9c4ee2d1e369626c69a6
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-06-09

    Updated Norwegian bokmål translation

 po/nb.po | 338 +++++++++++++++++++++++++++++++++++++++++++++------------------
 1 file changed, 242 insertions(+), 96 deletions(-)

commit 91e325609b630f73df12c33ab493ddf4745d82a5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-06-07

    pkcs11: Stop pkcs11 tests on failure.

 pkcs11/gkm/tests/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06d89c6e2578655b7380c6c47a27ed2cd3e48897
Merge: 8008e3f 6bd797c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-06-07

    Merge branch 'gnome-3-0'

commit 6bd797cff9d4d402a8ef906d259dac0bf707e70d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-06-07

    Fix build with GCC 4.6.0

 configure.in                     | 1 +
 daemon/gkd-main.c                | 2 +-
 daemon/gpg-agent/gkd-gpg-agent.c | 2 +-
 daemon/ssh-agent/gkd-ssh-agent.c | 2 +-
 4 files changed, 4 insertions(+), 3 deletions(-)

commit 8008e3f660a0d026a7f8b7fefa2caec103069423
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2011-06-06

    Updated Galician translations

 po/gl.po | 351 ++++++++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 244 insertions(+), 107 deletions(-)

commit 2f021a066290580458963e5d6ab3593f9e2e01cf
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-06-04

    Updated Spanish translation

 po/es.po | 263 +++++++++++++++++++++++++++++++++++++++++++++++----------------
 1 file changed, 196 insertions(+), 67 deletions(-)

commit c48a80d8704ddba6d1f22e36cdc5e95423ad6810
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-06-04

    Updated Hebrew translation.

 po/he.po | 308 ++++++++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 218 insertions(+), 90 deletions(-)

commit f555936f6cc4de65d1cdb67257836b5fd58b6f3b
Merge: afdd535 65c9d54
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-06-04

    Merge remote-tracking branch 'stefw/display-extensions'

commit 3098bd4d5a4abc6e7bc83e6dccd64aa359c9dc49
Author: Joshua Roys <roysjosh@gmail.com>
Date:   2011-05-31

    Fix algorithm check in prepare_and_encode_pkcs8_cipher

 pkcs11/gkm/gkm-data-der.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit afdd535fa2c8ad57cc1f14a073ac90275d2bd14e
Merge: 68551ba 5b3e79b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-31

    Merge branch 'gnome-3-0'

commit 5b3e79b3b2a06dbc6b65d9c2521209c51ed699c1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-30

    pkcs11: Simulate a log out when application closes last session.
    
     * After the last session is closed by an application, we should return
       to a logged out state.
     * Simulate that log out, if the application didn't do it explicitly.

 pkcs11/gkm/gkm-module.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 74f990b8beab63c57fbf9a6ae3df04f1be572b55
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-30

    gcr: Login properly when importing private keys.

 gcr/gcr-importer.c | 18 +++++++++++++++---
 gcr/gcr-parser.c   | 11 +++++++++++
 2 files changed, 26 insertions(+), 3 deletions(-)

commit 39198027cd6f1faae6ea6a8283a7171458b03372
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-30

    gcr: Fix warnings using the importer.

 gcr/gcr-importer.c     | 2 +-
 gcr/gcr-parser.c       | 2 +-
 tool/gkr-tool-import.c | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 68551ba68ebe3d90fe46db595bc50d876984cb68
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2011-05-29

    [l10n]Updated Catalan (Valencian) translation

 po/ca@valencia.po | 675 +++++++++++++++++++++++++++++++++---------------------
 1 file changed, 418 insertions(+), 257 deletions(-)

commit 85564aaf1b8e6de71b028abdf5982ce87bc8dae4
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2011-05-29

    [l10n]Updated Catalan (Valencian) translation

 po/ca@valencia.po | 574 +++++++++++++++++++++++++++++++-----------------------
 1 file changed, 327 insertions(+), 247 deletions(-)

commit 2b8db8b075478dde8a7aa768cdb3a9a302999191
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   2011-05-28

    Updated Russian translation

 po/ru.po | 504 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 295 insertions(+), 209 deletions(-)

commit b6928fd48a08f380fae02d0d2ea39a361c697825
Merge: 8674d10 17ad20f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-26

    Merge branch 'gnome-3-0'
    
    Conflicts:
    	NEWS
    	configure.ac
    	docs/reference/gcr/Makefile.am
    	docs/reference/gcr/gcr-visual-index.xml
    	docs/reference/gcr/gcr-widgets.c
    	docs/reference/gcr/images/key-widget.png
    	gcr/Makefile.am

commit 17ad20f549fffab0e3fb0dcd6ee863826309fb5a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-26

    Release version 3.0.3

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit 8674d10429d9b47428bef5762626ce7bcb817a4b
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-05-25

    Updated Spanish translation

 po/es.po | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 65795bed43dba42997ecfd539815f9a841d61a7e
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-05-24

    Added screenshots

 po/es.po | 121 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 68 insertions(+), 53 deletions(-)

commit 7cefac2b4edd88b87b741d7930959757d1d00c77
Author: Antoine Jacoutot <ajacoutot@openbsd.org>
Date:   2011-05-24

    egg: adapt SO_PEERCRED usage for OpenBSD
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650886

 egg/egg-unix-credentials.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 65c9d546623d31f35b15f4c0d412513ae82df6fd
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-06

    gcr: Parse and display certificate extensions.
    
     * Subject Alt Name
     * Basic Constraints
     * Extended Key Usage
     * Key Usage
     * Subject Key Identifier
    
    https://bugzilla.gnome.org/show_bug.cgi?id=646907

 egg/egg-oid.c                    |  31 ++---
 gcr/Makefile.am                  |   1 +
 gcr/gcr-certificate-extensions.c | 269 +++++++++++++++++++++++++++++++++++++++
 gcr/gcr-certificate-extensions.h |  88 +++++++++++++
 gcr/gcr-certificate-renderer.c   | 216 ++++++++++++++++++++++++++++---
 gcr/gcr-display-view.h           |   2 +
 po/POTFILES.in                   |   1 +
 7 files changed, 578 insertions(+), 30 deletions(-)

commit 8510dcb39aeeb9e4b7230da4401f24f1bd64d614
Merge: 40fb2e4 0f84906
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-24

    Merge branch 'key-fingerprints'
    
    Conflicts:
    	gcr/Makefile.am

commit 40fb2e404ede6dc8b16dff865c3feec06ac3518f
Merge: 2468d94 e037705
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-24

    Merge branch 'display-hex'

commit 2468d94afdd30afa9713abd8d35a36046aababe7
Merge: 1705a85 7b5e4e3
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-24

    Merge branch 'split-selector'
    
    Conflicts:
    	gcr/Makefile.am
    	gcr/gcr-collection-model.c
    	gcr/gcr-tree-selector.c

commit 26c03d71fb085ee644550c27238b4c8dfbb22fc2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-23

    secrets: Don't prompt multiple times for simultaneous unlocks
    
     * Serialize unlock requests for keyrings.
     * This has the effect of not prompting multiple times when simultaneous
       unlock requests come in for the same keyring.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649572

 daemon/dbus/gkd-secret-unlock.c | 72 ++++++++++++++++++++++++++++++++++-------
 1 file changed, 61 insertions(+), 11 deletions(-)

commit 1705a8555b8c3776eabe366b0f7c51b2b4dcf6be
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-17

    gcr: Fix ununitialized memory in GcrColumns.

 gcr/gcr-collection-model.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b6cb789d94b723e9d50c501413dff3c3e0414296
Author: Bruno Brouard <annoa.b@gmail.com>
Date:   2011-05-22

    Updated French translation

 po/fr.po | 431 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 250 insertions(+), 181 deletions(-)

commit 5b30194ff78834b5c9f79090aa2522306455f1cb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-19

    Bump version number.

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e08c45da2f655c8e299ba75d314a1ee21856c2f2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-19

    Release version 3.0.2

 NEWS               | 5 +++++
 configure.in       | 2 +-
 gcr/libgcr.symbols | 1 +
 3 files changed, 7 insertions(+), 1 deletion(-)

commit 528317789ba56c874e64093481689c8ff985b1d7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-19

    gcr: Export list of symbols when making distribution.

 gcr/Makefile.am    |  10 +++-
 gcr/libgcr.symbols | 138 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 146 insertions(+), 2 deletions(-)

commit a894adc8a0790565130b094b7538562a30123d01
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-19

    Revert "Bump libtool version of gnome-keyring library for 3.0"
    
    This reverts commit aebb7bf381694c3b72e456c2c1d19c0853d18836.
    
     * We also add back the deprecated symbol, and just leave it
       hanging around.

 configure.in      | 4 ++--
 gcr/gcr-library.c | 9 +++++++++
 gcr/gcr-types.h   | 8 ++++++++
 3 files changed, 19 insertions(+), 2 deletions(-)

commit ad67edd5fb25fca974f10f568c31a2316d728b79
Author: Vincent Untz <vuntz@gnome.org>
Date:   2011-05-06

    Accept to run if ipc_lock capability is not available
    
    We print a warning about potential use of unsecure memory, but still
    run (and drop unneeded capabilities if we have some). This is better
    than nothing.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649560

 daemon/gkd-capability.c | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 11a5d410d9d2c9006d78cff05ee42759cc7731b1
Author: Vincent Untz <vuntz@gnome.org>
Date:   2011-05-06

    Improved checks for fs capabilities, and drop unneeded ones
    
    If we have fs capabilities, we first need to check that we really do
    have ipc_lock, and if that's the case we just keep ipc_lock and drop
    everything else.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649560

 daemon/gkd-capability.c | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit 89efa77a605078c501eff393f201911d24604565
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-16

    gcr: Cleanup GcrRecord after review.
    
     * Use G_DEFINE_BOXED_TYPE
     * Fix some test corner cases.
     * Locale independent integer parsing.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650255

 gcr/gcr-record.c        | 22 +++-------------------
 gcr/gcr-record.h        |  4 ++--
 gcr/tests/test-record.c |  4 ++++
 3 files changed, 9 insertions(+), 21 deletions(-)

commit 2383cf15f17f79240c442456488c2e4886e0811c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-13

    gcr: More record functionality.
    
     * Add boxed type for records
     * Allow parsing of space delimited records.
     * Lookup unsigned integers in records.
     * More tests for GcrRecord
    
    https://bugzilla.gnome.org/show_bug.cgi?id=650255

 docs/reference/gcr/gcr-sections.txt |   1 +
 gcr/gcr-record.c                    | 138 +++++++++++++++++++++++++++++++-----
 gcr/gcr-record.h                    |  15 ++++
 gcr/tests/test-record.c             | 122 ++++++++++++++++++++++++++++++-
 4 files changed, 257 insertions(+), 19 deletions(-)

commit 17dd000b0c401a9e5da861086c8379b044aaea91
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Fix 'make dist' of doc directory.

 docs/reference/gcr/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 948688d39a4d6e4ff3cf0d8af6c069901cdc6222
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-12

    gcr: Rename GcrColons to GcrRecord
    
     * These records can be used for other purposes as well. Can represent
       any data with uniform single character delimiters

 .gitignore                          |   1 +
 docs/reference/gcr/gcr-sections.txt |  16 ++--
 gcr/Makefile.am                     |   2 +-
 gcr/gcr-colons.c                    | 152 ------------------------------
 gcr/gcr-colons.h                    | 106 ---------------------
 gcr/gcr-gnupg-collection.c          |  80 ++++++++--------
 gcr/gcr-gnupg-key.c                 | 162 ++++++++++++++++----------------
 gcr/gcr-gnupg-key.h                 |  14 +--
 gcr/gcr-record.c                    | 162 ++++++++++++++++++++++++++++++++
 gcr/gcr-record.h                    | 109 ++++++++++++++++++++++
 gcr/tests/Makefile.am               |   2 +-
 gcr/tests/test-colons.c             | 180 ------------------------------------
 gcr/tests/test-gnupg-collection.c   |   8 +-
 gcr/tests/test-gnupg-key.c          |  94 +++++++++----------
 gcr/tests/test-record.c             | 180 ++++++++++++++++++++++++++++++++++++
 15 files changed, 642 insertions(+), 626 deletions(-)

commit c20711439758710fe38a5df58f5dd0557fb28a94
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Fix race condition in gnupg collection async tests.

 gcr/tests/test-gnupg-collection.c | 1 +
 1 file changed, 1 insertion(+)

commit c8a1239eb53110bff2e5b0610036c95e96075b26
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Stop tests when a failure occurs

 gcr/tests/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33955d6f34ea8d428d72cfa328820ca77645bd9b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Fix tests for GcrGnupgKey keyid and short-keyid properties

 gcr/tests/test-gnupg-key.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 3e668233e98f1c27ac8fcc34888b3d44ec4b2d64
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Fix annotation of _gcr_gnupg_key_get_secret_dataset

 gcr/gcr-gnupg-key.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74a4ec824f826cb81e6bf6f8204d779f4341d0e2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Fixes and debugging for GcrGnupgCollection.
    
     * Comments and review changes.
     * Add tests for collection loading and reloading.
     * Debug logging
     * Remove racy pid tracking. Will solve this in another branch.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648019

 gcr/gcr-debug.c                           |   1 +
 gcr/gcr-debug.h                           |   1 +
 gcr/gcr-gnupg-collection.c                |  61 ++++++++------
 gcr/tests/Makefile.am                     |   1 +
 gcr/tests/files/gnupg-homedir/pubring.gpg | Bin 19689 -> 21969 bytes
 gcr/tests/files/gnupg-homedir/secring.gpg | Bin 0 -> 4398 bytes
 gcr/tests/files/gnupg-homedir/trustdb.gpg | Bin 1200 -> 1400 bytes
 gcr/tests/test-gnupg-collection.c         | 136 +++++++++++++++++++++++++++---
 testing/gnupg-example/random_seed         | Bin 600 -> 0 bytes
 9 files changed, 161 insertions(+), 39 deletions(-)

commit 00607c3b767b03955af981f5586ec4fb72a46ae4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Make GcrGnupgKey::keyid full keyid and add short-keyid for display.
    
     * More documentation fixes and cleanup.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648019

 gcr/gcr-gnupg-key.c        | 42 ++++++++++++++++++++++++++++++++++--------
 gcr/gcr-gnupg-key.h        |  2 ++
 gcr/tests/test-gnupg-key.c | 31 +++++++++++++++++++++++++++++++
 3 files changed, 67 insertions(+), 8 deletions(-)

commit 2499a975104818217e83b1685ed390fcfb6661b5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-15

    gcr: Documentation and naming fixes.
    
     * Fixes after review.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648019

 gcr/gcr-gnupg-collection.c | 45 ++++++++++++++++++++--------------
 gcr/gcr-gnupg-key.c        | 61 +++++++++++++++++++++++++++++++++-------------
 2 files changed, 71 insertions(+), 35 deletions(-)

commit 046d8f51c8217dd26f054e2b27cf21c90c663a98
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-14

    gcr: Build GcrCertificateDetailsWidget and GcrCertificateBasicsWidget properly.
    
     * Forgot to inlcude these in the build.

 gcr/Makefile.am                      | 2 ++
 gcr/gcr-certificate-details-widget.h | 1 +
 2 files changed, 3 insertions(+)

commit 0f84906348a2a7654847c3ca679fff816657846c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-09

    gcr: Fix creation of fingerprints, make tests pass.
    
     * Fix encoding of test files.
     * Always encode NULL in RSA keys as the parameter.

 egg/pk.asn                      |   2 ++
 gcr/gcr-fingerprint.c           |  15 +++++++++++++--
 gcr/tests/files/client.crt      | Bin 1054 -> 736 bytes
 gcr/tests/files/client.pem      |  18 ++++++++++++++++++
 gcr/tests/files/generic-dsa.crt | Bin 1298 -> 918 bytes
 gcr/tests/files/generic-dsa.pem |  22 ++++++++++++++++++++++
 gcr/tests/test-fingerprint.c    |   8 ++++----
 7 files changed, 59 insertions(+), 6 deletions(-)

commit 0c68a6f28958d21d5f76815217e343842dc96766
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-09

    egg: Add support for encoding NULL in ASN.1

 egg/egg-asn1x.c       | 13 +++++++++++++
 egg/egg-asn1x.h       |  2 ++
 egg/tests/test-asn1.c | 25 +++++++++++++++++++++++++
 egg/tests/test.asn    |  2 ++
 4 files changed, 42 insertions(+)

commit 28552e70b824a6c1327882291dc6e61fdaf5447e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-08

    gcr: Add tests for creation of fingerprints

 .gitignore                      |   1 +
 gcr/tests/Makefile.am           |   1 +
 gcr/tests/files/client.crt      |  18 ++++
 gcr/tests/files/client.key      |  27 ++++++
 gcr/tests/files/generic-dsa.crt |  22 +++++
 gcr/tests/files/generic-dsa.key |  12 +++
 gcr/tests/test-fingerprint.c    | 181 ++++++++++++++++++++++++++++++++++++++++
 7 files changed, 262 insertions(+)

commit 2d10ec93e02076b5df4d83284b208a29d5fb564e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-06

    gcr: Make key widget scroll and size properly.
    
    Also fix the test program.

 gcr/gcr-key-widget.c | 13 +++----------
 1 file changed, 3 insertions(+), 10 deletions(-)

commit c150351ec342697aed59ba2ebd396f6c0bd62063
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-09

    Implement calculation of fingerprints for keys.
    
    These are derived from subjectPublicKeyInfo
    
    https://bugzilla.gnome.org/show_bug.cgi?id=646905

 egg/egg-asn1x.c                |   4 +-
 egg/egg-asn1x.h                |   2 +-
 gcr/Makefile.am                |   3 +-
 gcr/gcr-certificate-renderer.c |  19 ++-
 gcr/gcr-fingerprint.c          | 255 +++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-fingerprint.h          |  40 +++++++
 gcr/gcr-key-renderer.c         |  20 +++-
 7 files changed, 331 insertions(+), 12 deletions(-)

commit e037705a72287f48218d62c4c198bf77f04f8e8d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-06

    gcr: Add _gcr_display_view_append_hex() function.
    
    Displays value as a hex string, rather than just converting to hex
    everywhere and duplicating the same code.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=646901

 gcr/gcr-certificate-renderer.c | 31 ++++++++-----------------------
 gcr/gcr-display-view.c         | 16 ++++++++++++----
 gcr/gcr-display-view.h         |  6 ++++++
 gcr/gcr-key-renderer.c         |  2 --
 4 files changed, 26 insertions(+), 29 deletions(-)

commit b5fd76a82785ee4d5d056541b3425a217a548e5e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-12

    gcr: More testing for secret gnupg keys.
    
     * Create an example keyring
     * Change signature of _gcr_gnupg_key_new so it also accepts
       the secret part.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648019

 gcr/gcr-gnupg-collection.c        |   2 +-
 gcr/gcr-gnupg-key.c               |  50 ++++++++++++++++++++++++++++------
 gcr/gcr-gnupg-key.h               |   3 +-
 gcr/tests/test-gnupg-key.c        |  56 ++++++++++++++++++++++++++++++++++++--
 testing/gnupg-example/pubring.gpg | Bin 0 -> 21969 bytes
 testing/gnupg-example/random_seed | Bin 0 -> 600 bytes
 testing/gnupg-example/secring.gpg | Bin 0 -> 4398 bytes
 testing/gnupg-example/trustdb.gpg | Bin 0 -> 1400 bytes
 8 files changed, 98 insertions(+), 13 deletions(-)

commit abfe89a22746a263f0cdec9f9c0802dc16920829
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-26

    gcr: Add support for listing secret gnupg keys.
    
     * Also add support to GcrGnupgKey for holding the secret info.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648019

 docs/reference/gcr/gcr-sections.txt |   2 +
 gcr/gcr-colons.h                    |   9 ++
 gcr/gcr-gnupg-collection.c          | 186 ++++++++++++++++++++++++++----------
 gcr/gcr-gnupg-key.c                 | 109 ++++++++++++++++-----
 gcr/gcr-gnupg-key.h                 |   9 +-
 5 files changed, 236 insertions(+), 79 deletions(-)

commit 0e2ae7fea4298e191ecfac108912d2f363822d98
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-13

    gcr: Fix problem loading translation for NULL column names.
    
     * Just use empty string.

 gcr/gcr-selector.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 929d0a377217e139574817d5c004312b40da5cc9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-12

    gcr: Fix logic issue in collection model
    
     * Was refering to the wrong column.

 gcr/gcr-collection-model.c | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 311e3ed6c596fe729d0e7c486728d2c8ecb85c9b
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-05-13

    Updated Hebrew translation.

 po/he.po | 53 +++++++++++++++++++++++++++++++----------------------
 1 file changed, 31 insertions(+), 22 deletions(-)

commit 7b5e4e3c1e8cf94a03f1bd21eacb53991b32f6c6
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-11

    gcr: Split GcrSelector into GcrComboSelector and GcrTreeSelector
    
     * GcrComboSelector allows selecting one object at a time
       and uses 'markup' property to display the object.
     * GcrTreeSelector uses various columns, and a checkbox so that multiple
       objects can be selected at once.
     * Add images for both of the above.
     * Derive directly from GtkComboBox and GtkTreeView respectively.

 .gitignore                                   |   2 +
 docs/reference/gcr/Makefile.am               |  10 +-
 docs/reference/gcr/gcr-docs.sgml             |   4 +-
 docs/reference/gcr/gcr-sections.txt          |  60 ++-
 docs/reference/gcr/gcr-visual-index.xml      |   6 +
 docs/reference/gcr/gcr-widgets.c             |  99 ++++-
 docs/reference/gcr/images/combo-selector.png | Bin 0 -> 7855 bytes
 docs/reference/gcr/images/key-widget.png     | Bin 8634 -> 8311 bytes
 docs/reference/gcr/images/tree-selector.png  | Bin 0 -> 11930 bytes
 gcr/Makefile.am                              |   6 +-
 gcr/gcr-certificate.c                        |   2 +-
 gcr/gcr-collection-model.c                   |  73 +++-
 gcr/gcr-collection-model.h                   |   9 +-
 gcr/gcr-column.c                             |   4 +-
 gcr/gcr-combo-selector.c                     | 272 +++++++++++++
 gcr/gcr-combo-selector.h                     |  69 ++++
 gcr/gcr-selector.c                           | 566 ---------------------------
 gcr/gcr-selector.h                           |  69 ----
 gcr/gcr-tree-selector.c                      | 464 ++++++++++++++++++++++
 gcr/gcr-tree-selector.h                      |  70 ++++
 gcr/gcr.h                                    |   3 +-
 gcr/tests/Makefile.am                        |   5 +-
 gcr/tests/frob-combo-selector.c              | 117 ++++++
 gcr/tests/frob-gnupg-selector.c              |  14 +-
 gcr/tests/frob-selector.c                    | 106 -----
 gcr/tests/frob-tree-selector.c               | 124 ++++++
 26 files changed, 1356 insertions(+), 798 deletions(-)

commit 28c2950d1072f7c0ddc93848c1568160006c6315
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2011-05-11

    Updated Slovenian translation

 po/sl.po | 452 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 260 insertions(+), 192 deletions(-)

commit 05ec5fb326989acfb5ae0845e84df04c0476ab98
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-10

    docs: Add images for gcr widgets.

 .gitignore                                       |   1 +
 docs/reference/gcr/Makefile.am                   |  35 +-
 docs/reference/gcr/gcr-docs.sgml                 |   4 +
 docs/reference/gcr/gcr-shooter.c                 | 470 +++++++++++++++++++++++
 docs/reference/gcr/gcr-shooter.h                 |  23 ++
 docs/reference/gcr/gcr-visual-index.xml          |  12 +
 docs/reference/gcr/gcr-widgets.c                 |  86 +++++
 docs/reference/gcr/images/certificate-widget.png | Bin 0 -> 17514 bytes
 docs/reference/gcr/images/key-widget.png         | Bin 0 -> 8634 bytes
 gcr/tests/files/cacert.org.cer                   | Bin 0 -> 1857 bytes
 10 files changed, 629 insertions(+), 2 deletions(-)

commit 46948bf6b5be27aee150adca1e7939c25d2d2a4e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-10

    docs: Add images for gcr widgets.

 .gitignore                                       |   4 +
 docs/reference/gcr/Makefile.am                   |  35 +-
 docs/reference/gcr/gcr-docs.sgml                 |   4 +
 docs/reference/gcr/gcr-shooter.c                 | 470 +++++++++++++++++++++++
 docs/reference/gcr/gcr-shooter.h                 |  23 ++
 docs/reference/gcr/gcr-visual-index.xml          |  12 +
 docs/reference/gcr/gcr-widgets.c                 |  86 +++++
 docs/reference/gcr/images/certificate-widget.png | Bin 0 -> 17514 bytes
 docs/reference/gcr/images/key-widget.png         | Bin 0 -> 8634 bytes
 gcr/tests/files/cacert.org.cer                   | Bin 0 -> 1857 bytes
 10 files changed, 632 insertions(+), 2 deletions(-)

commit 03554850e651df419badebeeed215ea66b503b3d
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-05-09

    Updated Spanish translation

 po/es.po | 62 ++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 34 insertions(+), 28 deletions(-)

commit 4e1e0f607a6581f03fe2ea73e776b1be20cd70c7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-09

    Bump version number

 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 05d2b474e62b16baed087af8c74575f596196966
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-09

    Release version 3.1.1

 NEWS           | 13 +++++++++++++
 configure.ac   |  2 +-
 po/POTFILES.in |  3 ++-
 3 files changed, 16 insertions(+), 2 deletions(-)

commit 4b36d7578819ade6986f7c85cbbeb20265d6bce8
Merge: 89b8c29 aebb7bf
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-09

    Merge branch 'gnome-3-0'
    
    Conflicts:
    	gck/Makefile.am
    	gcr/Makefile.am

commit aebb7bf381694c3b72e456c2c1d19c0853d18836
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-09

    Bump libtool version of gnome-keyring library for 3.0
    
    Unneeded unused API was removed.

 configure.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bf84b9234b49459160fdcbf2f008ac48379b1bf4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-05-09

    Fix build with --no-add-needed
    
    https://bugzilla.gnome.org/show_bug.cgi?id=649754

 gck/Makefile.am | 4 ++--
 gcr/Makefile.am | 4 +++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 89b8c2937e5dabde31a4a75c9200767954553b68
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   2011-03-13

    Updated Russian translation

 po/ru.po | 619 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 326 insertions(+), 293 deletions(-)

commit b73a1580605649f919f0837ef09ce9af67eb1ff4
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-05-09

    Update Hebrew translation.

 po/he.po | 377 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 215 insertions(+), 162 deletions(-)

commit 066ebbd8ba1d81a4f80a3eacdbef017435e9c91d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-30

    daemon: Fix logic for calling UnregisterClient() on the session.
    
     * Don't unregister client if "Disconnected" signal was received.
     * Don't block on UnregisterClient(), just send and flush.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648958

 daemon/dbus/gkd-dbus-session.c | 16 +++-------------
 1 file changed, 3 insertions(+), 13 deletions(-)

commit 03a9d6ac6fd6a008aa6eb7daca24d5fd61409b62
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-05-04

    Updated Norwegian bokmål translation

 po/nb.po | 23 +++++++++++++++--------
 1 file changed, 15 insertions(+), 8 deletions(-)

commit 77423f80cce48a56520ce01e15c288154e4b4fcb
Author: Abduxukur Abdurixit <abdurixit@gmail.com>
Date:   2011-05-02

    Added UG translation

 po/ug.po | 2127 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 1095 insertions(+), 1032 deletions(-)

commit 398bc6cd42fb4eee0414d79ea5dff21e019dd961
Author: Abduxukur Abdurixit <abdurixit@gmail.com>
Date:   2011-05-02

    Added UG translation

 po/ug.po | 2161 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 1095 insertions(+), 1066 deletions(-)

commit de331747b50730ac58459d552855c99ec9dd2e03
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2011-04-30

    Updated galician translations

 po/gl.po | 374 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 213 insertions(+), 161 deletions(-)

commit 27248dfe48f94fcad7d0b468c246202d81551442
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-04-27

    Updated Spanish translation

 po/es.po | 53 +++++++++++++++++++++++++++++++++--------------------
 1 file changed, 33 insertions(+), 20 deletions(-)

commit d914606f8dc4cefd5d128af6f9a566a42f102e87
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-27

    Fix Makefiles so testable libraries are rebuilt when source changes.

 gck/Makefile.am | 4 ++--
 gcr/Makefile.am | 1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ddb36b22490c70a84ac7b656817c8e7d91f5263d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-25

    Rename configure.in to configure.ac

 autogen.sh   |   2 +-
 configure.ac | 805 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.in | 805 -----------------------------------------------------------
 3 files changed, 806 insertions(+), 806 deletions(-)

commit 410aa647a4514bb20867164b0946173f514d0710
Merge: ba0956a 2ac257d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-25

    Merge branch 'gnome-3-0'
    
    Conflicts:
    	gcr/Makefile.am
    	gcr/tests/Makefile.am

commit 2ac257db441417eb2a521c77937e7ab7e09efef2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-25

    Release version 3.0.1

 NEWS         | 10 ++++++++++
 configure.in |  2 +-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit f3fe9e23eb27fa264d33e4c38453b4701a2c46ca
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-25

    secret-store: Add more example keyrings to parse.
    
     * From RHEL and Solaris OpenCSW
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647766

 .../tests/files/created-on-rhel.keyring            | Bin 0 -> 105 bytes
 .../tests/files/created-on-solaris-opencsw.keyring | Bin 0 -> 105 bytes
 pkcs11/secret-store/tests/test-secret-binary.c     |  74 +++++++++++++--------
 3 files changed, 48 insertions(+), 26 deletions(-)

commit 9454565c1c17d38a7720da433d9eeb8a436a4ceb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-24

    ui: Fix clicking buttons in 'unsafe storage' dialog on GTK+3
    
    https://bugzilla.gnome.org/show_bug.cgi?id=646178

 ui/gku-prompt-tool.c | 53 +++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 38 insertions(+), 15 deletions(-)

commit 1746971a616aa822c08992ac59a2d38e75197f47
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-24

    Build with GTK+3 by default.
    
     * Accept arguments like --with-gtk=2 and --with-gtk=3 instead
       of strict --with-gtk=3.0.

 configure.in | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 24983752cb3e452b255306695fd7217256add905
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-24

    Modernize the remainder of the tests.
    
     * Bring up to date with gtester running and individual binaries.
     * Make the tests run in make distcheck

 .gitignore                                         |   42 +
 Makefile.am                                        |    4 +-
 daemon/control/tests/Makefile.am                   |   32 +-
 daemon/control/tests/frob-control-change.c         |   31 +
 daemon/control/tests/frob-control-init.c           |   31 +
 daemon/control/tests/frob-control-quit.c           |   26 +
 daemon/control/tests/frob-control-unlock.c         |   25 +
 daemon/control/tests/test-control-change.c         |   30 -
 daemon/control/tests/test-control-init.c           |   30 -
 daemon/control/tests/test-control-quit.c           |   25 -
 daemon/control/tests/test-control-unlock.c         |   24 -
 daemon/dbus/tests/Makefile.am                      |    4 +-
 egg/tests/Makefile.am                              |   10 +-
 egg/tests/test-asn1.c                              |   10 +-
 egg/tests/test-asn1x.c                             |   23 +-
 egg/tests/test-cleanup.c                           |    2 +-
 egg/tests/test-dh.c                                |    6 +-
 egg/tests/test-dn.c                                |   12 +-
 egg/tests/test-hex.c                               |    2 +-
 egg/tests/test-hkdf.c                              |    6 +-
 egg/tests/test-oid.c                               |    2 +-
 egg/tests/test-openssl.c                           |   10 +-
 egg/tests/test-padding.c                           |    4 +-
 egg/tests/test-secmem.c                            |    2 +-
 egg/tests/test-spawn.c                             |   20 +-
 egg/tests/test-symkey.c                            |    6 +-
 gck/tests/Makefile.am                              |    8 +-
 gck/tests/test-gck-crypto.c                        |    8 +-
 gck/tests/test-gck-enumerator.c                    |    8 +-
 gck/tests/test-gck-module.c                        |   10 +-
 gck/tests/test-gck-modules.c                       |    8 +-
 gck/tests/test-gck-object.c                        |    8 +-
 gck/tests/test-gck-session.c                       |    8 +-
 gck/tests/test-gck-slot.c                          |    8 +-
 gck/tests/test-gck-uri.c                           |    6 -
 gcr/tests/Makefile.am                              |    8 +-
 gcr/tests/frob-certificate.c                       |    2 +-
 gcr/tests/frob-key.c                               |    2 +-
 gcr/tests/test-certificate-chain.c                 |   12 +-
 gcr/tests/test-certificate.c                       |   12 +-
 gcr/tests/test-parser.c                            |   10 +-
 gcr/tests/test-pkcs11-certificate.c                |   12 +-
 gcr/tests/test-simple-certificate.c                |   10 +-
 gcr/tests/test-trust.c                             |   10 +-
 pkcs11/gkm/tests/Makefile.am                       |   10 +-
 pkcs11/gkm/tests/mock-module.c                     |    2 +-
 pkcs11/gkm/tests/test-data-asn1.c                  |    2 +-
 pkcs11/gkm/tests/test-data-der.c                   |   12 +-
 pkcs11/gkm/tests/test-object.c                     |    2 +-
 pkcs11/gnome2-store/tests/Makefile.am              |   56 +-
 pkcs11/gnome2-store/tests/check-gnome2-module.c    |   68 +
 pkcs11/gnome2-store/tests/dump-gnome2-file.c       |   96 -
 pkcs11/gnome2-store/tests/files/.gitempty          |    0
 .../tests/files/data-file-private.store            |  Bin 0 -> 494 bytes
 .../tests/files/data-file-public.store             |  Bin 0 -> 216 bytes
 pkcs11/gnome2-store/tests/frob-gnome2-file.c       |   98 +
 pkcs11/gnome2-store/tests/test-data/.gitempty      |    0
 .../tests/test-data/data-file-private.store        |  Bin 494 -> 0 bytes
 .../tests/test-data/data-file-public.store         |  Bin 216 -> 0 bytes
 pkcs11/gnome2-store/tests/test-gnome2-file.c       |  642 +++++
 pkcs11/gnome2-store/tests/test-module.c            |   34 -
 pkcs11/gnome2-store/tests/unit-test-gnome2-file.c  |  592 -----
 pkcs11/roots-store/tests/Makefile.am               |   40 +-
 pkcs11/roots-store/tests/check-roots-module.c      |   68 +
 .../tests/files/RSA_Root_Certificate_1.pem         |   19 +
 .../tests/files/RSA_Security_1024_v3.pem           |   16 +
 .../tests/files/RSA_Security_2048_v3.pem           |   22 +
 .../tests/files/Thawte_Personal_Basic_CA.pem       |   20 +
 .../tests/files/Thawte_Personal_Freemail_CA.pem    |   21 +
 .../tests/files/Thawte_Personal_Premium_CA.pem     |   21 +
 .../tests/files/Thawte_Premium_Server_CA.pem       |   21 +
 .../roots-store/tests/files/Thawte_Server_CA.pem   |   20 +
 .../tests/files/Thawte_Time_Stamping_CA.pem        |   18 +
 pkcs11/roots-store/tests/files/ca-certificates.crt | 2560 ++++++++++++++++++++
 pkcs11/roots-store/tests/files/cacert.org.pem      |   41 +
 pkcs11/roots-store/tests/files/der-certificate.crt |  Bin 0 -> 747 bytes
 .../tests/test-data/RSA_Root_Certificate_1.pem     |   19 -
 .../tests/test-data/RSA_Security_1024_v3.pem       |   16 -
 .../tests/test-data/RSA_Security_2048_v3.pem       |   22 -
 .../tests/test-data/Thawte_Personal_Basic_CA.pem   |   20 -
 .../test-data/Thawte_Personal_Freemail_CA.pem      |   21 -
 .../tests/test-data/Thawte_Personal_Premium_CA.pem |   21 -
 .../tests/test-data/Thawte_Premium_Server_CA.pem   |   21 -
 .../tests/test-data/Thawte_Server_CA.pem           |   20 -
 .../tests/test-data/Thawte_Time_Stamping_CA.pem    |   18 -
 .../tests/test-data/ca-certificates.crt            | 2560 --------------------
 pkcs11/roots-store/tests/test-data/cacert.org.pem  |   41 -
 .../tests/test-data/der-certificate.crt            |  Bin 747 -> 0 bytes
 pkcs11/roots-store/tests/test-module.c             |   34 -
 pkcs11/secret-store/gkm-secret-binary.c            |    4 +-
 pkcs11/secret-store/gkm-secret-binary.h            |    4 +-
 pkcs11/secret-store/gkm-secret-collection.c        |    2 +-
 pkcs11/secret-store/gkm-secret-textual.c           |    4 +-
 pkcs11/secret-store/gkm-secret-textual.h           |    4 +-
 pkcs11/secret-store/tests/Makefile.am              |   61 +-
 pkcs11/secret-store/tests/files/encrypted.keyring  |  Bin 0 -> 733 bytes
 .../tests/files/plain-bad-number.keyring           |   23 +
 pkcs11/secret-store/tests/files/plain.keyring      |   55 +
 pkcs11/secret-store/tests/mock-secret-module.c     |  300 +++
 pkcs11/secret-store/tests/mock-secret-module.h     |   51 +
 .../secret-store/tests/test-data/encrypted.keyring |  Bin 733 -> 0 bytes
 .../tests/test-data/plain-bad-number.keyring       |   23 -
 pkcs11/secret-store/tests/test-data/plain.keyring  |   55 -
 pkcs11/secret-store/tests/test-secret-binary.c     |  222 ++
 pkcs11/secret-store/tests/test-secret-collection.c |  598 +++++
 pkcs11/secret-store/tests/test-secret-compat.c     |  130 +
 pkcs11/secret-store/tests/test-secret-data.c       |  245 ++
 pkcs11/secret-store/tests/test-secret-fields.c     |  439 ++++
 pkcs11/secret-store/tests/test-secret-item.c       |  482 ++++
 pkcs11/secret-store/tests/test-secret-module.c     |  267 --
 pkcs11/secret-store/tests/test-secret-module.h     |   50 -
 pkcs11/secret-store/tests/test-secret-object.c     |  302 +++
 pkcs11/secret-store/tests/test-secret-search.c     |  380 +++
 pkcs11/secret-store/tests/test-secret-textual.c    |  205 ++
 .../secret-store/tests/unit-test-secret-binary.c   |  200 --
 .../tests/unit-test-secret-collection.c            |  563 -----
 .../secret-store/tests/unit-test-secret-compat.c   |  115 -
 pkcs11/secret-store/tests/unit-test-secret-data.c  |  215 --
 .../secret-store/tests/unit-test-secret-fields.c   |  387 ---
 pkcs11/secret-store/tests/unit-test-secret-item.c  |  438 ----
 .../secret-store/tests/unit-test-secret-object.c   |  269 --
 .../secret-store/tests/unit-test-secret-search.c   |  353 ---
 .../secret-store/tests/unit-test-secret-textual.c  |  184 --
 pkcs11/ssh-store/gkm-ssh-openssh.c                 |    5 +-
 pkcs11/ssh-store/gkm-ssh-openssh.h                 |    4 +-
 pkcs11/ssh-store/tests/Makefile.am                 |   58 +-
 pkcs11/ssh-store/tests/check-ssh-module.c          |   68 +
 pkcs11/ssh-store/tests/files/id_dsa_encrypted      |   15 +
 pkcs11/ssh-store/tests/files/id_dsa_encrypted.pub  |    1 +
 pkcs11/ssh-store/tests/files/id_dsa_plain          |   12 +
 pkcs11/ssh-store/tests/files/id_dsa_plain.pub      |    1 +
 pkcs11/ssh-store/tests/files/id_dsa_test.pub       |    7 +
 pkcs11/ssh-store/tests/files/id_rsa_encrypted      |   30 +
 pkcs11/ssh-store/tests/files/id_rsa_encrypted.pub  |    1 +
 pkcs11/ssh-store/tests/files/id_rsa_plain          |   27 +
 pkcs11/ssh-store/tests/files/id_rsa_plain.pub      |    1 +
 pkcs11/ssh-store/tests/files/id_rsa_test.pub       |    1 +
 pkcs11/ssh-store/tests/mock-ssh-module.c           |  110 +
 pkcs11/ssh-store/tests/mock-ssh-module.h           |   43 +
 pkcs11/ssh-store/tests/test-data/id_dsa_encrypted  |   15 -
 .../ssh-store/tests/test-data/id_dsa_encrypted.pub |    1 -
 pkcs11/ssh-store/tests/test-data/id_dsa_plain      |   12 -
 pkcs11/ssh-store/tests/test-data/id_dsa_plain.pub  |    1 -
 pkcs11/ssh-store/tests/test-data/id_dsa_test.pub   |    7 -
 pkcs11/ssh-store/tests/test-data/id_rsa_encrypted  |   30 -
 .../ssh-store/tests/test-data/id_rsa_encrypted.pub |    1 -
 pkcs11/ssh-store/tests/test-data/id_rsa_plain      |   27 -
 pkcs11/ssh-store/tests/test-data/id_rsa_plain.pub  |    1 -
 pkcs11/ssh-store/tests/test-data/id_rsa_test.pub   |    1 -
 pkcs11/ssh-store/tests/test-private-key.c          |  102 +
 pkcs11/ssh-store/tests/test-ssh-module.c           |  113 -
 pkcs11/ssh-store/tests/test-ssh-module.h           |   43 -
 pkcs11/ssh-store/tests/test-ssh-openssh.c          |  134 +
 pkcs11/ssh-store/tests/unit-test-private-key.c     |   97 -
 pkcs11/ssh-store/tests/unit-test-ssh-openssh.c     |  117 -
 pkcs11/wrap-layer/tests/Makefile.am                |   52 +-
 pkcs11/wrap-layer/tests/mock-secret-store.c        |    4 +-
 pkcs11/wrap-layer/tests/test-create-credential.c   |   88 +-
 pkcs11/wrap-layer/tests/test-init-pin.c            |   60 +-
 pkcs11/wrap-layer/tests/test-login-auto.c          |  129 +-
 pkcs11/wrap-layer/tests/test-login-hints.c         |   19 +-
 pkcs11/wrap-layer/tests/test-login-keyring.c       |   92 +-
 pkcs11/wrap-layer/tests/test-login-specific.c      |   74 +-
 pkcs11/wrap-layer/tests/test-login-user.c          |   94 +-
 pkcs11/wrap-layer/tests/test-set-pin.c             |   58 +-
 pkcs11/xdg-store/tests/Makefile.am                 |   65 +-
 pkcs11/xdg-store/tests/check-xdg-module.c          |   68 +
 pkcs11/xdg-store/tests/diddle-trust-file.c         |  233 --
 .../xdg-store/tests/files/test-certificate-1.cer   |  Bin 0 -> 813 bytes
 .../xdg-store/tests/files/test-certificate-2.cer   |  Bin 0 -> 813 bytes
 pkcs11/xdg-store/tests/files/test-refer-1.trust    |  Bin 0 -> 241 bytes
 pkcs11/xdg-store/tests/frob-trust-file.c           |  233 ++
 pkcs11/xdg-store/tests/mock-xdg-module.c           |  214 ++
 pkcs11/xdg-store/tests/mock-xdg-module.h           |   51 +
 .../tests/test-data/test-certificate-1.cer         |  Bin 813 -> 0 bytes
 .../tests/test-data/test-certificate-2.cer         |  Bin 813 -> 0 bytes
 .../xdg-store/tests/test-data/test-refer-1.trust   |  Bin 241 -> 0 bytes
 pkcs11/xdg-store/tests/test-xdg-module.c           |  257 +-
 pkcs11/xdg-store/tests/test-xdg-module.h           |   45 -
 pkcs11/xdg-store/tests/test-xdg-trust.c            |  352 +--
 testing/Makefile.am                                |   18 +-
 testing/testing-build.sh                           |  139 --
 testing/testing.c                                  |  394 ---
 testing/testing.h                                  |  104 -
 testing/testing.make                               |   77 -
 ui/tests/Makefile.am                               |   35 +-
 ui/tests/files/prompt-empty                        |    4 +
 ui/tests/files/prompt-full                         |   17 +
 ui/tests/files/prompt-test                         |    8 +
 ui/tests/test-data/prompt-empty                    |    4 -
 ui/tests/test-data/prompt-full                     |   17 -
 ui/tests/test-data/prompt-test                     |    8 -
 ui/tests/test-util.c                               |  164 ++
 ui/tests/unit-test-util.c                          |  136 --
 194 files changed, 9664 insertions(+), 9248 deletions(-)

commit eedfc9755323f68a26c39ff2374a11dbc18ada32
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-23

    Better testing configure options.
    
     * --enable-tests=yes/no/full
     * With 'full' the testing hooks in gnome-keyring-daemon are built
     * Different libraries are built in testable and non-testable versions.

 configure.in                        | 25 ++++++++++++++-----------
 daemon/dbus/gkd-dbus-secrets.c      |  2 +-
 daemon/dbus/gkd-dbus.c              |  2 +-
 daemon/dbus/tests/Makefile.am       |  4 +---
 daemon/gkd-main.c                   |  4 ++--
 daemon/gkd-pkcs11.c                 |  2 +-
 egg/tests/Makefile.am               |  4 +---
 egg/tests/test-dh.c                 |  7 +++++--
 gck/Makefile.am                     | 21 +++++++++++++--------
 gck/gck-mock.h                      |  6 +-----
 gck/gck-test.h                      |  4 ----
 gck/tests/Makefile.am               | 13 ++++++-------
 gcr/Makefile.am                     | 13 ++++++++-----
 gcr/tests/Makefile.am               | 10 ++++------
 pkcs11/gkm/tests/Makefile.am        |  4 +---
 pkcs11/wrap-layer/tests/Makefile.am |  5 ++++-
 ui/Makefile.am                      |  9 +++++++--
 ui/gku-prompt.c                     |  4 ++--
 ui/gku-prompt.h                     |  4 ++--
 19 files changed, 74 insertions(+), 69 deletions(-)

commit 17d6b046561220bc80f9d6cf0306f70b2f8c6fa7
Author: Marc Plano-Lesay <marc.planolesay@gmail.com>
Date:   2011-04-23

    Fix more gcc 4.6 warnings.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647315

 daemon/gkd-main.c                        |  2 --
 daemon/ssh-agent/gkd-ssh-agent-ops.c     |  2 --
 pkcs11/gkm/tests/test-data-der.c         |  3 ---
 pkcs11/gnome2-store/gkm-gnome2-file.c    |  3 ---
 pkcs11/roots-store/gkm-roots-module.c    |  3 +--
 pkcs11/rpc-layer/gkm-rpc-module.c        | 10 +++++++---
 pkcs11/secret-store/gkm-secret-textual.c |  4 ----
 pkcs11/ssh-store/gkm-ssh-module.c        |  3 ---
 8 files changed, 8 insertions(+), 22 deletions(-)

commit ba0956a99d1efdc6629aaeb04ee0f4f9e746ae24
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2011-04-22

    Updated Thai translation.

 po/th.po | 1048 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 585 insertions(+), 463 deletions(-)

commit 8ebab4dac01ac4c8895ccc4f91589f921287c297
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2011-04-22

    Updated Thai translation.

 po/th.po | 1048 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 585 insertions(+), 463 deletions(-)

commit 28298a8fccac5ecb0deca8c9fd8e5f709d052e16
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-21

    gcr: Fix build warning.

 gcr/gcr-colons.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fab2b464b3cc73bc3c2f42ac34fb5a2bf03ece2b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-15

    gcr: Implement tool for playing with the parser

 .gitignore              |   1 +
 gcr/tests/Makefile.am   |   1 +
 gcr/tests/frob-parser.c | 134 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 136 insertions(+)

commit 2a45c4bc0bb500d6e33f237d73568671a01c4d64
Merge: 1cfa84f 433e014
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-21

    Merge branch 'gnome-3-0'

commit 433e014654564fb7dfe013c7968c4b9c027a6f34
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-21

    gck: Fix linking issue due to type in Makefile.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648338

 gck/tests/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fcfe39834e3581819a592e4393201958211a29a0
Author: Laurent Bigonville <l.bigonville@edpnet.be>
Date:   2011-04-20

    Expand path in gnome-keyring-prompt.desktop properly
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647385

 configure.in | 3 +++
 1 file changed, 3 insertions(+)

commit 22c86f22dc3441af04daf9c82cf44f1d85a9ffec
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-20

    egg: Run the hkdf tests
    
     * These seem to have dropped out during a previous refactoring

 .gitignore            | 1 +
 egg/tests/Makefile.am | 1 +
 2 files changed, 2 insertions(+)

commit 33c2185da08e665eb949b155f9edaa8c4618d0f0
Author: Marc Plano-Lesay <marc.planolesay@gmail.com>
Date:   2011-04-09

    fix unused-but-set-variable warnings
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647315

 egg/egg-hkdf.c                  | 4 ++--
 gck/gck-slot.c                  | 3 ---
 gcr/tests/test-parser.c         | 2 ++
 pkcs11/gkm/gkm-attributes.c     | 3 ---
 pkcs11/gkm/gkm-null-mechanism.c | 4 ----
 5 files changed, 4 insertions(+), 12 deletions(-)

commit c8bdfed5775dccb7e255107dfd627a78c25233ff
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-03-29

    Remove #include <config.h> from headers to make sure it's not included more than once

 egg/egg-libgcrypt.h                | 2 --
 pkcs11/rpc-layer/gkm-rpc-private.h | 2 --
 testing/testing.h                  | 2 --
 3 files changed, 6 deletions(-)

commit 1cfa84f0e80905017a17db4be5dd1416014a504c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-03-29

    Remove #include <config.h> from headers to make sure it's not included more than once

 egg/egg-libgcrypt.h                | 2 --
 pkcs11/rpc-layer/gkm-rpc-private.h | 2 --
 testing/testing.h                  | 2 --
 3 files changed, 6 deletions(-)

commit 681cc443cc514a7fe9df81da014bc07eaf99324b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-19

    gcr: Add review fixes and documentation.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647885

 docs/reference/gcr/gcr-sections.txt |  31 ++++++++++
 gcr/gcr-colons.c                    |  27 ++++-----
 gcr/gcr-colons.h                    |   8 +--
 gcr/gcr-debug.c                     |   1 +
 gcr/gcr-debug.h                     |   1 +
 gcr/gcr-gnupg-collection.c          | 110 +++++++++++++++++++++++-------------
 gcr/gcr-gnupg-key.c                 |  51 ++++++++++++++---
 gcr/gcr-library.c                   |   8 +++
 gcr/gcr-util.c                      |  11 +++-
 gcr/tests/test-colons.c             |  13 -----
 10 files changed, 178 insertions(+), 83 deletions(-)

commit 17f8d347b84c58df39c4b1a1dcc71154861d931d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-18

    gcr: Add more comments for new colons and collection code.

 gcr/gcr-colons.c           |  1 +
 gcr/gcr-colons.h           | 27 +++++++++++++++++++++++++++
 gcr/gcr-gnupg-collection.c | 14 ++++++++++++++
 gcr/gcr-util.c             |  6 ++++++
 4 files changed, 48 insertions(+)

commit 82700571fd647598dc2258b04ec0e32650f55b2e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-15

    gcr: A rudimentary Gnupg Collection implementation.
    
     * Loads basic GPG keys.
     * No splitting of UIDs yet.
     * No monitoring yet.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=647885

 .gitignore                                |   5 +
 configure.in                              |   6 +
 gcr/Makefile.am                           |   4 +
 gcr/gcr-colons.c                          | 154 ++++++++++
 gcr/gcr-colons.h                          |  74 +++++
 gcr/gcr-gnupg-collection.c                | 480 ++++++++++++++++++++++++++++++
 gcr/gcr-gnupg-collection.h                |  69 +++++
 gcr/gcr-gnupg-key.c                       | 249 ++++++++++++++++
 gcr/gcr-gnupg-key.h                       |  75 +++++
 gcr/gcr-util.c                            |  55 ++++
 gcr/gcr-util.h                            |  41 +++
 gcr/tests/Makefile.am                     |  10 +-
 gcr/tests/files/gnupg-homedir/pubring.gpg | Bin 0 -> 19689 bytes
 gcr/tests/files/gnupg-homedir/secring.gpg |   0
 gcr/tests/files/gnupg-homedir/trustdb.gpg | Bin 0 -> 1200 bytes
 gcr/tests/frob-gnupg-selector.c           |  79 +++++
 gcr/tests/test-colons.c                   | 193 ++++++++++++
 gcr/tests/test-gnupg-collection.c         |  82 +++++
 gcr/tests/test-gnupg-key.c                | 132 ++++++++
 gcr/tests/test-util.c                     | 112 +++++++
 20 files changed, 1818 insertions(+), 2 deletions(-)

commit adc1e51a0dba25e2f4f74f62f02b6d20ae762448
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-19

    gcr: GcrColumn.label should be translated with context.
    
     * Translate the label strings when using them.
     * Require that the 'column' context is used.

 gcr/gcr-certificate.c |  6 +++---
 gcr/gcr-column.c      |  7 +++++++
 gcr/gcr-selector.c    | 10 ++++++++--
 3 files changed, 18 insertions(+), 5 deletions(-)

commit 3d2da6e6e51bb9b02690fc6208af6ecdae8e7134
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-19

    gcr: Fix reference to test-data directory in frob-selector

 gcr/tests/frob-selector.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1079959f96c4526386d4bc2be7bfcd4a35b6e2cf
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-19

    gcr: Fix remaining references to test-data directory

 gcr/tests/Makefile.am        | 2 +-
 gcr/tests/frob-certificate.c | 2 +-
 gcr/tests/frob-key.c         | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 008c81f0951a7e17a7113af8bd61cdf95d29eb29
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-19

    gcr: Fix memory leak in GcrSelector dispose

 gcr/gcr-selector.c | 4 ++++
 1 file changed, 4 insertions(+)

commit eb11123302e70c1b81a346db0b713d9ec0c99929
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-19

    gcr: In test-parser don't try to parse directories.

 gcr/tests/test-parser.c | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 63283a8a1023a25ca227ffbee79f962e7ce7cd5c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-19

    Remove non-ascii characters from configure.in

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2c7a6d8bcab79aa4262dc29c028f0bbb792f2bfa
Author: Corentin Chary <corentin.chary>
Date:   2011-04-18

    rpc-layer: Fix bad handshake length macro.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=648105

 pkcs11/rpc-layer/gkm-rpc-private.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25f9f98f8bb5bdaeaf836fa3fdb1d675416decb7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-18

    gcr: Remove extraneous virtual function.
    
    Accidentally included during a broken rebase or merge.

 gcr/gcr-renderer.h | 2 --
 1 file changed, 2 deletions(-)

commit e4faefb8ed07f6e6fa220c96c4591bc7b5f004e7
Merge: c0dc972 0005213
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-18

    Merge branch 'gnome-3-0'
    
    Conflicts:
    	docs/reference/gcr/gcr-sections.txt
    	gcr/Makefile.am
    	gcr/gcr-library.c

commit c0dc9725f6674090e05301b9fb8b4295be468d6a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-15

    gcr: Build a testable version with all functions exported.
    
    Build a testable version of the gcr library, which has all the
    functions exported including those with _gcr_ prefixes.

 gcr/Makefile.am       | 55 ++++++++++++++++++++++++++++++++++-----------------
 gcr/tests/Makefile.am |  4 ++--
 2 files changed, 39 insertions(+), 20 deletions(-)

commit 00052136a0fd42b23956dfd76892912f7fb58e00
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-18

    pkcs11: Fix up gkm tests to more modern gtest style tests.

 .gitignore                                         |   13 +
 pkcs11/gkm/tests/Makefile.am                       |   94 +-
 pkcs11/gkm/tests/files/ca-certificates.crt         | 3601 ++++++++++++++++++++
 pkcs11/gkm/tests/files/der-pkcs8-PBE-MD5-DES.key   |  Bin 0 -> 677 bytes
 pkcs11/gkm/tests/files/der-pkcs8-PBE-SHA1-3DES.key |  Bin 0 -> 678 bytes
 pkcs11/gkm/tests/files/der-pkcs8-PBE-SHA1-DES.key  |  Bin 0 -> 677 bytes
 .../gkm/tests/files/der-pkcs8-PBE-SHA1-RC2-40.key  |  Bin 0 -> 678 bytes
 .../gkm/tests/files/der-pkcs8-PBE-SHA1-RC4-128.key |  Bin 0 -> 673 bytes
 pkcs11/gkm/tests/files/der-pkcs8-dsa.key           |  Bin 0 -> 335 bytes
 .../gkm/tests/files/der-pkcs8-encrypted-pkcs5.key  |  Bin 0 -> 677 bytes
 pkcs11/gkm/tests/files/der-pkcs8-v2-des.key        |  Bin 0 -> 711 bytes
 pkcs11/gkm/tests/files/der-pkcs8-v2-des3.key       |  Bin 0 -> 714 bytes
 pkcs11/gkm/tests/files/der-pkcs8.key               |  Bin 0 -> 635 bytes
 pkcs11/gkm/tests/files/pem-rsa-enc.key             |   18 +
 pkcs11/gkm/tests/files/test-certificate-1.der      |  Bin 0 -> 813 bytes
 pkcs11/gkm/tests/files/test-certificate-2.der      |  Bin 0 -> 1346 bytes
 pkcs11/gkm/tests/mock-locked-object.h              |    4 +-
 pkcs11/gkm/tests/mock-module.c                     |  126 +
 pkcs11/gkm/tests/mock-module.h                     |   45 +
 pkcs11/gkm/tests/test-attributes.c                 |  913 +++++
 pkcs11/gkm/tests/test-credential.c                 |  314 ++
 pkcs11/gkm/tests/test-data-asn1.c                  |  111 +
 pkcs11/gkm/tests/test-data-der.c                   |  601 ++++
 pkcs11/gkm/tests/test-data/ca-certificates.crt     | 3601 --------------------
 .../gkm/tests/test-data/der-pkcs8-PBE-MD5-DES.key  |  Bin 677 -> 0 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-3DES.key    |  Bin 678 -> 0 bytes
 .../gkm/tests/test-data/der-pkcs8-PBE-SHA1-DES.key |  Bin 677 -> 0 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-RC2-40.key  |  Bin 678 -> 0 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-RC4-128.key |  Bin 673 -> 0 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8-dsa.key       |  Bin 335 -> 0 bytes
 .../tests/test-data/der-pkcs8-encrypted-pkcs5.key  |  Bin 677 -> 0 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8-v2-des.key    |  Bin 711 -> 0 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8-v2-des3.key   |  Bin 714 -> 0 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8.key           |  Bin 635 -> 0 bytes
 pkcs11/gkm/tests/test-data/pem-rsa-enc.key         |   18 -
 pkcs11/gkm/tests/test-data/test-certificate-1.der  |  Bin 813 -> 0 bytes
 pkcs11/gkm/tests/test-data/test-certificate-2.der  |  Bin 1346 -> 0 bytes
 pkcs11/gkm/tests/test-file-tracker.c               |  244 ++
 pkcs11/gkm/tests/test-memory-store.c               |  482 +++
 pkcs11/gkm/tests/test-module.c                     |  114 -
 pkcs11/gkm/tests/test-module.h                     |   45 -
 pkcs11/gkm/tests/test-object.c                     |  305 ++
 pkcs11/gkm/tests/test-secret.c                     |  206 ++
 pkcs11/gkm/tests/test-sexp.c                       |  154 +
 pkcs11/gkm/tests/test-store.c                      |  102 +
 pkcs11/gkm/tests/test-timer.c                      |  175 +
 pkcs11/gkm/tests/test-transaction.c                |  477 +++
 pkcs11/gkm/tests/unit-test-attributes.c            |  779 -----
 pkcs11/gkm/tests/unit-test-credential.c            |  285 --
 pkcs11/gkm/tests/unit-test-data-asn1.c             |   95 -
 pkcs11/gkm/tests/unit-test-data-der.c              |  550 ---
 pkcs11/gkm/tests/unit-test-file-tracker.c          |  221 --
 pkcs11/gkm/tests/unit-test-memory-store.c          |  438 ---
 pkcs11/gkm/tests/unit-test-object.c                |  277 --
 pkcs11/gkm/tests/unit-test-secret.c                |  178 -
 pkcs11/gkm/tests/unit-test-sexp.c                  |  132 -
 pkcs11/gkm/tests/unit-test-store.c                 |   85 -
 pkcs11/gkm/tests/unit-test-timer.c                 |  144 -
 pkcs11/gkm/tests/unit-test-transaction.c           |  432 ---
 59 files changed, 7957 insertions(+), 7422 deletions(-)

commit aa2c68cac2fb76a3b3d1dc1115d608e5a1b9e402
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-18

    Use gpointer instead of guchar in several places.
    
    This makes for cleaner and simpler code.

 egg/egg-openssl.c         |  8 +++----
 egg/egg-openssl.h         |  2 +-
 pkcs11/gkm/gkm-data-der.c | 58 +++++++++++++++++++++++------------------------
 pkcs11/gkm/gkm-data-der.h | 58 +++++++++++++++++++++++------------------------
 4 files changed, 63 insertions(+), 63 deletions(-)

commit 908351a45a37e66fc2bc45883961f21385789045
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-13

    gcr: Implement debug tracing
    
     * Instrument the certificate chain code.

 docs/reference/gcr/gcr-sections.txt |   4 +-
 gcr/Makefile.am                     |   3 +-
 gcr/gcr-certificate-chain.c         |  46 +++++++++++++++-
 gcr/gcr-debug.c                     | 106 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-debug.h                     |  86 +++++++++++++++++++++++++++++
 gcr/gcr-library.c                   |   4 ++
 gcr/tests/frob-certificate.c        |   1 +
 gcr/tests/frob-key.c                |   1 +
 gcr/tests/frob-unlock-options.c     |   1 +
 gcr/tests/test-certificate-chain.c  |   1 +
 gcr/tests/test-certificate.c        |   1 +
 gcr/tests/test-parser.c             |   1 +
 gcr/tests/test-pkcs11-certificate.c |   1 +
 gcr/tests/test-simple-certificate.c |   1 +
 gcr/tests/test-trust.c              |   1 +
 15 files changed, 254 insertions(+), 4 deletions(-)

commit 8fa67d657227eb2634adc7969c677be6b2d5b37d
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-04-17

    Updated Norwegian bokmål translation

 po/nb.po | 397 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 230 insertions(+), 167 deletions(-)

commit e251dea4a54f1733dc09ea5e6764c9875cbbae64
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-04-17

    Add missing file to POTFILES.in

 po/POTFILES.in | 1 +
 1 file changed, 1 insertion(+)

commit 94fe1022cee3cff3d4f5c63a5fb814f1b841ad97
Author: Takayoshi OKANO <kano@na.rim.or.jp>
Date:   2011-04-14

    Updated Japanese translation

 po/ja.po | 648 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 370 insertions(+), 278 deletions(-)

commit e21d614b6e4a6560b9a4de196089d8e40bd09b38
Author: Takayoshi OKANO <kano@na.rim.or.jp>
Date:   2011-04-14

    Updated Japanese translation

 po/ja.po | 648 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 370 insertions(+), 278 deletions(-)

commit d2c87042072fa0ad0785fe91ef79d2acec519538
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-04-12

    Updated Spanish translation

 po/es.po | 356 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 197 insertions(+), 159 deletions(-)

commit 93e0450c2581b11ae2481b1ecf206f16949b495a
Merge: 26d111d 771b9b9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-09

    Merge branch 'gnome-3-0'

commit 771b9b90900ef5c8800483d22b56bd5ad53e6c1c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-09

    Remove accidentally committed file.

 gcr/tests/frob-selector | 148 ------------------------------------------------
 1 file changed, 148 deletions(-)

commit 98af3a2f4b79c88ba91f7a9f8a0668bd0eec8d8e
Author: Kristjan SCHMIDT <kristjan.schmidt@googlemail.com>
Date:   2011-04-09

    Add Esperanto translation

 po/LINGUAS |    1 +
 po/eo.po   | 1112 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1113 insertions(+)

commit 26d111dc56230e7fbba987be231e7054938ffe98
Author: Kristjan SCHMIDT <kristjan.schmidt@googlemail.com>
Date:   2011-04-09

    Add Esperanto translation

 po/LINGUAS |    1 +
 po/eo.po   | 1112 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1113 insertions(+)

commit af8002698e7c381024864da108c0ced10fe72e8b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-09

    Fix the building of the tests when not explicitly enabled.

 configure.in | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d3c2b197e5ebe8a5968e00a260f1cb4acdc1454f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-06

    gcr: Complete documentation for new components

 docs/reference/gcr/gcr-docs.sgml    |  11 ++-
 docs/reference/gcr/gcr-sections.txt | 118 ++++++++++++++++++++++++++++--
 gcr/gcr-certificate-renderer.c      |  24 +++++-
 gcr/gcr-certificate-renderer.h      |   2 -
 gcr/gcr-certificate.c               |  34 ++++++++-
 gcr/gcr-certificate.h               |   2 +-
 gcr/gcr-collection-model.c          | 141 ++++++++++++++++++++++++++++++++++--
 gcr/gcr-collection-model.h          |   9 +--
 gcr/gcr-collection.c                |  46 +++++++++++-
 gcr/gcr-collection.h                |   1 +
 gcr/gcr-column.c                    |  58 +++++++++++++++
 gcr/gcr-column.h                    |   6 +-
 gcr/gcr-comparable.c                |  43 +++++++++++
 gcr/gcr-importer.c                  |   2 +-
 gcr/gcr-importer.h                  |   2 +-
 gcr/gcr-key-renderer.c              |   1 -
 gcr/gcr-parser.c                    |   2 +-
 gcr/gcr-renderer.c                  |  14 +++-
 gcr/gcr-renderer.h                  |   6 --
 gcr/gcr-selector.c                  |  94 ++++++++++++++++++++++++
 gcr/gcr-selector.h                  |  12 +--
 gcr/gcr-simple-collection.c         |  55 ++++++++++++++
 gcr/gcr-simple-collection.h         |   2 +
 gcr/gcr-viewer.c                    |   1 +
 24 files changed, 634 insertions(+), 52 deletions(-)

commit ada423fe67eab15804955c4774b2df5a5788e84d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-08

    gcr: Hide the widget class structs, until we finalize their super classes.
    
    Hide the following GcrCertificateWidget, GcrCertificateWidgetClass,
    GcrKeyWidget, GcrKeyWidgetClass, GcrUnlockOptionsWidget,
    GcrUnlockOptionsWidgetClass
    
    Currently these are derived from GtkAlignment, because we haven't yet
    figured out their implementation correctly. We want them to be derived
    from GtkWidget, or GtkBin (if it makes sense to have a child widget).

 gcr/gcr-certificate-widget.c    | 13 ++++++++++++-
 gcr/gcr-certificate-widget.h    | 15 ++++-----------
 gcr/gcr-key-widget.c            | 13 ++++++++++++-
 gcr/gcr-key-widget.h            | 15 ++++-----------
 gcr/gcr-unlock-options-widget.c | 13 +++++++++++--
 gcr/gcr-unlock-options-widget.h | 14 ++++----------
 6 files changed, 47 insertions(+), 36 deletions(-)

commit 8d2c4d90144d85937d31c7c5739cfa6594b3dbfb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-08

    gcr: Hide the widget class structs, until we finalize their super classes.
    
    Hide the following GcrCertificateWidget, GcrCertificateWidgetClass,
    GcrKeyWidget, GcrKeyWidgetClass, GcrUnlockOptionsWidget,
    GcrUnlockOptionsWidgetClass
    
    Currently these are derived from GtkAlignment, because we haven't yet
    figured out their implementation correctly. We want them to be derived
    from GtkWidget, or GtkBin (if it makes sense to have a child widget).

 gcr/gcr-certificate-widget.c    | 13 ++++++++++++-
 gcr/gcr-certificate-widget.h    | 15 ++++-----------
 gcr/gcr-key-widget.c            | 13 ++++++++++++-
 gcr/gcr-key-widget.h            | 15 ++++-----------
 gcr/gcr-unlock-options-widget.c | 13 +++++++++++--
 gcr/gcr-unlock-options-widget.h | 14 ++++----------
 6 files changed, 47 insertions(+), 36 deletions(-)

commit 4557d759ccf929ad80d2244bc14fe10ac2f06560
Merge: 843fdea 122c6a6
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-08

    Merge branch 'gnome-3-0'
    
    Conflicts:
    	.gitignore
    	gcr/gcr-certificate-renderer.c
    	gcr/gcr-parser.c
    	gcr/tests/Makefile.am
    	gcr/tests/frob-key.c
    	gcr/tests/frob-selector.c
    	gcr/tests/test-certificate-chain.c
    	gcr/tests/ui-test-key.c

commit 122c6a6c541fd7cb323525f4c9a96d9386ea5b24
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-08

    Fine tune debug and test build options
    
     * Enable test building by default, use --disable-tests to disable
     * Enable logging by default, use --disable-debug to disable
     * Use --enable-debug=full to build without optimizations and with
       disabled deprecated symbols, etc.

 configure.in | 42 +++++++++++++++++++++++++-----------------
 1 file changed, 25 insertions(+), 17 deletions(-)

commit a6db3ef195bc38d6d655807aa4d5bc35b0669c90
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-06

    gcr: Complete documentation

 docs/reference/gcr/Makefile.am      |  15 +-
 docs/reference/gcr/gcr-docs.sgml    |  10 +-
 docs/reference/gcr/gcr-sections.txt | 214 +++++++++++++++++++------
 gcr/gcr-certificate-chain.c         |  32 ++++
 gcr/gcr-certificate-chain.h         |   2 +
 gcr/gcr-certificate-renderer.c      |  65 +++++++-
 gcr/gcr-certificate-renderer.h      |   6 +-
 gcr/gcr-certificate-widget.c        |  74 ++++++++-
 gcr/gcr-certificate-widget.h        |   7 +-
 gcr/gcr-certificate.c               |  12 ++
 gcr/gcr-certificate.h               |   1 +
 gcr/gcr-importer.c                  | 170 ++++++++++++++++++--
 gcr/gcr-importer.h                  |   6 +-
 gcr/gcr-initializer.h               |  85 ----------
 gcr/gcr-key-renderer.c              |  40 +++++
 gcr/gcr-key-renderer.h              |   2 +
 gcr/gcr-key-widget.c                |  53 ++++++
 gcr/gcr-key-widget.h                |   3 +
 gcr/gcr-library.c                   |  16 +-
 gcr/gcr-parser.c                    | 312 +++++++++++++++++++++++++++++++-----
 gcr/gcr-parser.h                    |  25 +--
 gcr/gcr-pkcs11-certificate.c        |  12 ++
 gcr/gcr-pkcs11-certificate.h        |   3 +
 gcr/gcr-renderer.c                  |  80 +++++++++
 gcr/gcr-renderer.h                  |   1 +
 gcr/gcr-simple-certificate.c        |  13 ++
 gcr/gcr-simple-certificate.h        |   2 +
 gcr/gcr-trust.c                     |   2 +-
 gcr/gcr-types.h                     |  22 ++-
 gcr/gcr-unlock-options-widget.c     | 132 +++++++++++++++
 gcr/gcr-unlock-options-widget.h     |   2 +
 gcr/gcr-viewer.c                    |  81 +++++++++-
 gcr/gcr-viewer.h                    |   3 +-
 33 files changed, 1266 insertions(+), 237 deletions(-)

commit e61a7b36b008541843fc7385e45d157701232ed1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-06

    gcr: Modernize tests. Use standard gtest type setup.

 .gitignore                                         |    9 +
 gcr/gcr-parser.c                                   |    2 +-
 gcr/gcr-parser.h                                   |    2 +-
 gcr/tests/Makefile.am                              |   92 +-
 gcr/tests/files/RSA_Root_Certificate_1.pem         |   19 +
 gcr/tests/files/RSA_Security_1024_v3.pem           |   16 +
 gcr/tests/files/RSA_Security_2048_v3.pem           |   22 +
 gcr/tests/files/Thawte_Personal_Basic_CA.pem       |   20 +
 gcr/tests/files/Thawte_Personal_Freemail_CA.pem    |   21 +
 gcr/tests/files/Thawte_Personal_Premium_CA.pem     |   21 +
 gcr/tests/files/Thawte_Premium_Server_CA.pem       |   21 +
 gcr/tests/files/Thawte_Server_CA.pem               |   20 +
 gcr/tests/files/Thawte_Time_Stamping_CA.pem        |   18 +
 gcr/tests/files/ca-certificates.crt                | 2560 ++++++++++++++++++++
 gcr/tests/files/cacert.org.pem                     |   41 +
 gcr/tests/files/collabora-ca.cer                   |  Bin 0 -> 1536 bytes
 gcr/tests/files/der-certificate-dsa.cer            |  Bin 0 -> 1639 bytes
 gcr/tests/files/der-certificate.crt                |  Bin 0 -> 747 bytes
 gcr/tests/files/der-dsa-1024.key                   |  Bin 0 -> 447 bytes
 gcr/tests/files/der-pkcs8-PBE-MD5-DES.key          |  Bin 0 -> 677 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-3DES.key        |  Bin 0 -> 678 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-DES.key         |  Bin 0 -> 677 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-RC2-40.key      |  Bin 0 -> 678 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-RC4-128.key     |  Bin 0 -> 673 bytes
 gcr/tests/files/der-pkcs8-dsa.key                  |  Bin 0 -> 335 bytes
 gcr/tests/files/der-pkcs8-encrypted-pkcs5.key      |  Bin 0 -> 677 bytes
 gcr/tests/files/der-pkcs8-v2-des.key               |  Bin 0 -> 711 bytes
 gcr/tests/files/der-pkcs8-v2-des3.key              |  Bin 0 -> 714 bytes
 gcr/tests/files/der-pkcs8.key                      |  Bin 0 -> 635 bytes
 gcr/tests/files/der-rsa-1024.key                   |  Bin 0 -> 609 bytes
 gcr/tests/files/dhansak-collabora.cer              |  Bin 0 -> 1200 bytes
 gcr/tests/files/email.p12                          |  Bin 0 -> 2488 bytes
 gcr/tests/files/pem-dsa-1024.key                   |   12 +
 gcr/tests/files/pem-pkcs8.key                      |   17 +
 gcr/tests/files/pem-rsa-enc.key                    |   18 +
 gcr/tests/files/test-x509-swiss.p7b                |  Bin 0 -> 1002 bytes
 gcr/tests/files/unclient.p12                       |  Bin 0 -> 1476 bytes
 gcr/tests/frob-certificate.c                       |  111 +
 gcr/tests/frob-key.c                               |  109 +
 gcr/tests/frob-selector                            |  148 ++
 gcr/tests/frob-unlock-options.c                    |  105 +
 gcr/tests/test-certificate-chain.c                 |  227 +-
 gcr/tests/test-certificate.c                       |  197 +-
 gcr/tests/test-data/RSA_Root_Certificate_1.pem     |   19 -
 gcr/tests/test-data/RSA_Security_1024_v3.pem       |   16 -
 gcr/tests/test-data/RSA_Security_2048_v3.pem       |   22 -
 gcr/tests/test-data/Thawte_Personal_Basic_CA.pem   |   20 -
 .../test-data/Thawte_Personal_Freemail_CA.pem      |   21 -
 gcr/tests/test-data/Thawte_Personal_Premium_CA.pem |   21 -
 gcr/tests/test-data/Thawte_Premium_Server_CA.pem   |   21 -
 gcr/tests/test-data/Thawte_Server_CA.pem           |   20 -
 gcr/tests/test-data/Thawte_Time_Stamping_CA.pem    |   18 -
 gcr/tests/test-data/ca-certificates.crt            | 2560 --------------------
 gcr/tests/test-data/cacert.org.pem                 |   41 -
 gcr/tests/test-data/collabora-ca.cer               |  Bin 1536 -> 0 bytes
 gcr/tests/test-data/der-certificate-dsa.cer        |  Bin 1639 -> 0 bytes
 gcr/tests/test-data/der-certificate.crt            |  Bin 747 -> 0 bytes
 gcr/tests/test-data/der-dsa-1024.key               |  Bin 447 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-MD5-DES.key      |  Bin 677 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-3DES.key    |  Bin 678 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-DES.key     |  Bin 677 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-RC2-40.key  |  Bin 678 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-RC4-128.key |  Bin 673 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-dsa.key              |  Bin 335 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-encrypted-pkcs5.key  |  Bin 677 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-v2-des.key           |  Bin 711 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-v2-des3.key          |  Bin 714 -> 0 bytes
 gcr/tests/test-data/der-pkcs8.key                  |  Bin 635 -> 0 bytes
 gcr/tests/test-data/der-rsa-1024.key               |  Bin 609 -> 0 bytes
 gcr/tests/test-data/dhansak-collabora.cer          |  Bin 1200 -> 0 bytes
 gcr/tests/test-data/email.p12                      |  Bin 2488 -> 0 bytes
 gcr/tests/test-data/pem-dsa-1024.key               |   12 -
 gcr/tests/test-data/pem-pkcs8.key                  |   17 -
 gcr/tests/test-data/pem-rsa-enc.key                |   18 -
 gcr/tests/test-data/test-x509-swiss.p7b            |  Bin 1002 -> 0 bytes
 gcr/tests/test-data/unclient.p12                   |  Bin 1476 -> 0 bytes
 gcr/tests/test-parser.c                            |  167 ++
 gcr/tests/test-pkcs11-certificate.c                |  130 +-
 gcr/tests/test-simple-certificate.c                |   63 +-
 gcr/tests/test-trust.c                             |  150 +-
 gcr/tests/ui-test-certificate.c                    |  111 -
 gcr/tests/ui-test-key.c                            |  109 -
 gcr/tests/ui-test-unlock-options.c                 |  105 -
 gcr/tests/unit-test-parser.c                       |  142 --
 84 files changed, 4015 insertions(+), 3616 deletions(-)

commit 3fe36de1ef0e93c86021d7a0a256db189ce1e4f1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-05

    gck: Cleanup the documentation

 docs/reference/gck/Makefile.am          |  14 +-
 docs/reference/gck/gck-docs.sgml        |   6 +-
 docs/reference/gck/gck-pkcs11-links.xml |  25 +++
 docs/reference/gck/gck-sections.txt     | 137 +++++++++++--
 docs/reference/gck/gck.types            |   4 -
 gck/gck-attributes.c                    | 125 +++++++-----
 gck/gck-dump.c                          |  12 ++
 gck/gck-enumerator.c                    |  68 ++++++-
 gck/gck-misc.c                          |  34 +++-
 gck/gck-module.c                        |  47 ++---
 gck/gck-modules.c                       | 123 ++++++++++--
 gck/gck-object.c                        | 154 +++++++--------
 gck/gck-session.c                       | 267 ++++++++++++++------------
 gck/gck-slot.c                          | 103 ++++------
 gck/gck-uri.c                           |  23 ++-
 gck/gck.h                               | 331 ++++++++------------------------
 16 files changed, 812 insertions(+), 661 deletions(-)

commit 843fdea648fdf6e9e02797e1142b945a4cdb5adf
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-06

    gcr: Modernize tests. Use standard gtest type setup.

 .gitignore                                         |   10 +
 gcr/gcr-parser.c                                   |    2 +-
 gcr/gcr-parser.h                                   |    2 +-
 gcr/tests/Makefile.am                              |   70 +-
 gcr/tests/files/RSA_Root_Certificate_1.pem         |   19 +
 gcr/tests/files/RSA_Security_1024_v3.pem           |   16 +
 gcr/tests/files/RSA_Security_2048_v3.pem           |   22 +
 gcr/tests/files/Thawte_Personal_Basic_CA.pem       |   20 +
 gcr/tests/files/Thawte_Personal_Freemail_CA.pem    |   21 +
 gcr/tests/files/Thawte_Personal_Premium_CA.pem     |   21 +
 gcr/tests/files/Thawte_Premium_Server_CA.pem       |   21 +
 gcr/tests/files/Thawte_Server_CA.pem               |   20 +
 gcr/tests/files/Thawte_Time_Stamping_CA.pem        |   18 +
 gcr/tests/files/ca-certificates.crt                | 2560 ++++++++++++++++++++
 gcr/tests/files/cacert.org.pem                     |   41 +
 gcr/tests/files/collabora-ca.cer                   |  Bin 0 -> 1536 bytes
 gcr/tests/files/der-certificate-dsa.cer            |  Bin 0 -> 1639 bytes
 gcr/tests/files/der-certificate.crt                |  Bin 0 -> 747 bytes
 gcr/tests/files/der-dsa-1024.key                   |  Bin 0 -> 447 bytes
 gcr/tests/files/der-pkcs8-PBE-MD5-DES.key          |  Bin 0 -> 677 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-3DES.key        |  Bin 0 -> 678 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-DES.key         |  Bin 0 -> 677 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-RC2-40.key      |  Bin 0 -> 678 bytes
 gcr/tests/files/der-pkcs8-PBE-SHA1-RC4-128.key     |  Bin 0 -> 673 bytes
 gcr/tests/files/der-pkcs8-dsa.key                  |  Bin 0 -> 335 bytes
 gcr/tests/files/der-pkcs8-encrypted-pkcs5.key      |  Bin 0 -> 677 bytes
 gcr/tests/files/der-pkcs8-v2-des.key               |  Bin 0 -> 711 bytes
 gcr/tests/files/der-pkcs8-v2-des3.key              |  Bin 0 -> 714 bytes
 gcr/tests/files/der-pkcs8.key                      |  Bin 0 -> 635 bytes
 gcr/tests/files/der-rsa-1024.key                   |  Bin 0 -> 609 bytes
 gcr/tests/files/dhansak-collabora.cer              |  Bin 0 -> 1200 bytes
 gcr/tests/files/email.p12                          |  Bin 0 -> 2488 bytes
 gcr/tests/files/pem-dsa-1024.key                   |   12 +
 gcr/tests/files/pem-pkcs8.key                      |   17 +
 gcr/tests/files/pem-rsa-enc.key                    |   18 +
 gcr/tests/files/test-x509-swiss.p7b                |  Bin 0 -> 1002 bytes
 gcr/tests/files/unclient.p12                       |  Bin 0 -> 1476 bytes
 gcr/tests/frob-certificate.c                       |  114 +
 gcr/tests/frob-key.c                               |  109 +
 gcr/tests/frob-selector.c                          |  106 +
 gcr/tests/frob-unlock-options.c                    |  105 +
 gcr/tests/test-certificate-chain.c                 |  230 +-
 gcr/tests/test-certificate.c                       |  197 +-
 gcr/tests/test-data/RSA_Root_Certificate_1.pem     |   19 -
 gcr/tests/test-data/RSA_Security_1024_v3.pem       |   16 -
 gcr/tests/test-data/RSA_Security_2048_v3.pem       |   22 -
 gcr/tests/test-data/Thawte_Personal_Basic_CA.pem   |   20 -
 .../test-data/Thawte_Personal_Freemail_CA.pem      |   21 -
 gcr/tests/test-data/Thawte_Personal_Premium_CA.pem |   21 -
 gcr/tests/test-data/Thawte_Premium_Server_CA.pem   |   21 -
 gcr/tests/test-data/Thawte_Server_CA.pem           |   20 -
 gcr/tests/test-data/Thawte_Time_Stamping_CA.pem    |   18 -
 gcr/tests/test-data/ca-certificates.crt            | 2560 --------------------
 gcr/tests/test-data/cacert.org.pem                 |   41 -
 gcr/tests/test-data/collabora-ca.cer               |  Bin 1536 -> 0 bytes
 gcr/tests/test-data/der-certificate-dsa.cer        |  Bin 1639 -> 0 bytes
 gcr/tests/test-data/der-certificate.crt            |  Bin 747 -> 0 bytes
 gcr/tests/test-data/der-dsa-1024.key               |  Bin 447 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-MD5-DES.key      |  Bin 677 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-3DES.key    |  Bin 678 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-DES.key     |  Bin 677 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-RC2-40.key  |  Bin 678 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-PBE-SHA1-RC4-128.key |  Bin 673 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-dsa.key              |  Bin 335 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-encrypted-pkcs5.key  |  Bin 677 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-v2-des.key           |  Bin 711 -> 0 bytes
 gcr/tests/test-data/der-pkcs8-v2-des3.key          |  Bin 714 -> 0 bytes
 gcr/tests/test-data/der-pkcs8.key                  |  Bin 635 -> 0 bytes
 gcr/tests/test-data/der-rsa-1024.key               |  Bin 609 -> 0 bytes
 gcr/tests/test-data/dhansak-collabora.cer          |  Bin 1200 -> 0 bytes
 gcr/tests/test-data/email.p12                      |  Bin 2488 -> 0 bytes
 gcr/tests/test-data/pem-dsa-1024.key               |   12 -
 gcr/tests/test-data/pem-pkcs8.key                  |   17 -
 gcr/tests/test-data/pem-rsa-enc.key                |   18 -
 gcr/tests/test-data/test-x509-swiss.p7b            |  Bin 1002 -> 0 bytes
 gcr/tests/test-data/unclient.p12                   |  Bin 1476 -> 0 bytes
 gcr/tests/test-parser.c                            |  167 ++
 gcr/tests/test-pkcs11-certificate.c                |  130 +-
 gcr/tests/test-simple-certificate.c                |   63 +-
 gcr/tests/test-trust.c                             |  150 +-
 gcr/tests/test-ui-selector.c                       |  106 -
 gcr/tests/ui-test-certificate.c                    |  114 -
 gcr/tests/ui-test-key.c                            |  109 -
 gcr/tests/ui-test-unlock-options.c                 |  105 -
 gcr/tests/unit-test-parser.c                       |  142 --
 85 files changed, 3983 insertions(+), 3700 deletions(-)

commit 41240de34206df42a3d5fc87baddef9deebc99af
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-05

    gck: Cleanup the documentation

 docs/reference/gck/Makefile.am          |  14 +-
 docs/reference/gck/gck-docs.sgml        |   6 +-
 docs/reference/gck/gck-pkcs11-links.xml |  25 +++
 docs/reference/gck/gck-sections.txt     | 137 +++++++++++--
 docs/reference/gck/gck.types            |   4 -
 gck/gck-attributes.c                    | 125 +++++++-----
 gck/gck-dump.c                          |  12 ++
 gck/gck-enumerator.c                    |  68 ++++++-
 gck/gck-misc.c                          |  34 +++-
 gck/gck-module.c                        |  47 ++---
 gck/gck-modules.c                       | 123 ++++++++++--
 gck/gck-object.c                        | 154 +++++++--------
 gck/gck-session.c                       | 267 ++++++++++++++------------
 gck/gck-slot.c                          | 103 ++++------
 gck/gck-uri.c                           |  23 ++-
 gck/gck.h                               | 331 ++++++++------------------------
 16 files changed, 812 insertions(+), 661 deletions(-)

commit 67d57140601c00227704dcb4fb90901954c0816e
Merge: 60c77d9 a4f19ca
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-05

    Merge branch 'gnome-3-0'

commit a4f19ca990862b67712107b89eb2768b8c1a4a1d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-05

    prompt: Make sure to run the appropriate GTK version of prompt tool.

 ui/Makefile.am  | 4 +---
 ui/gku-prompt.c | 2 +-
 2 files changed, 2 insertions(+), 4 deletions(-)

commit f8a5d4161fbba864b8ccb631f14e61bfe83315a5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-31

    gcr: Fix invalid assertions when using gcr_parser_parse_stream_xxx()

 gcr/gcr-parser.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 284c5399f278a13b3f8b31abd297649fbbe9ab47
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-30

    gcr: Implement gcr_certificate_basics_xxx() stubs properly.

 gcr/gcr-certificate-basics-widget.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 053ee388aa32cc9c46cd30909600e7827936c606
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-25

    Add correct version numbers to documentation.

 .gitignore                        |  2 ++
 configure.in                      |  4 +++-
 docs/reference/gck/gck-docs.sgml  | 10 ++++++----
 docs/reference/gck/version.xml.in |  1 +
 docs/reference/gcr/gcr-docs.sgml  | 12 +++++++-----
 docs/reference/gcr/version.xml.in |  1 +
 6 files changed, 20 insertions(+), 10 deletions(-)

commit 2649d459708c6177ffd2f67444dd4f8e70ed812e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-23

    Modernise the gck tests.

 .gitignore                      |  11 ++
 egg/Makefile.am                 |  12 +-
 gck/tests/Makefile.am           |  51 +++---
 gck/tests/test-gck-attributes.c | 148 ++++++++++++----
 gck/tests/test-gck-crypto.c     | 375 +++++++++++++++++++++++++---------------
 gck/tests/test-gck-enumerator.c | 151 +++++++++++-----
 gck/tests/test-gck-module.c     | 169 ++++++++----------
 gck/tests/test-gck-modules.c    | 130 ++++++++++----
 gck/tests/test-gck-object.c     | 323 ++++++++++++++++++++--------------
 gck/tests/test-gck-session.c    | 230 +++++++++++++++---------
 gck/tests/test-gck-slot.c       | 137 ++++++++++-----
 gck/tests/test-gck-uri.c        | 148 ++++++++++++----
 gck/tests/test-gck.h            |  43 -----
 13 files changed, 1240 insertions(+), 688 deletions(-)

commit 4120b036fb7f1938845ab7bd1a6fc35603ca4a8e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-20

    Remove unused files.

 gcr/gkm-test.c | 60 --------------------------------------------------------
 gcr/gkm-test.h | 62 ----------------------------------------------------------
 2 files changed, 122 deletions(-)

commit 60c77d997d71510195743d54ac4305638364aeb0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-23

    gcr: Sortable selector

 gcr/gcr-certificate.c      |  41 +++--
 gcr/gcr-collection-model.c | 409 ++++++++++++++++++++++-----------------------
 gcr/gcr-collection-model.h |   8 +-
 gcr/gcr-column.h           |  17 +-
 gcr/gcr-selector.c         | 146 +++++++++++++---
 gcr/gcr-selector.h         |   9 -
 6 files changed, 363 insertions(+), 267 deletions(-)

commit fa1f8bc0e794d7a40150623361076dc3d7498999
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-20

    [gcr] More implementation of selector widget.
    
     * Add a certificate base class to augment interface with default props.
     * All properties come from certificate rather than renderer.
     * Certificates are comparable.

 .gitignore                          |   3 +
 docs/reference/gcr/gcr-sections.txt |   4 +
 gcr/Makefile.am                     |   5 +
 gcr/gcr-certificate-renderer.c      | 111 +++--------
 gcr/gcr-certificate-renderer.h      |   2 -
 gcr/gcr-certificate.c               | 283 +++++++++++++++++++++++++++-
 gcr/gcr-certificate.h               |  37 +++-
 gcr/gcr-collection-model.c          | 106 ++++++++++-
 gcr/gcr-collection-model.h          |  16 +-
 gcr/gcr-column.h                    |   5 +-
 gcr/gcr-comparable.c                | 103 ++++++++++
 gcr/gcr-comparable.h                |  54 ++++++
 gcr/gcr-library.c                   |   6 +-
 gcr/gcr-pkcs11-certificate.c        |  13 +-
 gcr/gcr-renderer.c                  |  33 ----
 gcr/gcr-renderer.h                  |   5 -
 gcr/gcr-selector.c                  | 364 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-selector.h                  |  82 ++++++++
 gcr/gcr-simple-certificate.c        |  32 ++--
 gcr/gcr.h                           |   1 +
 gcr/tests/test-ui-selector.c        |  82 +-------
 21 files changed, 1097 insertions(+), 250 deletions(-)

commit ddffc3ec8456f100906fb50fad3a548b6d0b7a0a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-17

    [gcr] Partial implementation of data for tree columns.

 gcr/gcr-certificate-renderer.c | 42 +++++++++++++++++++++--
 gcr/gcr-certificate-renderer.h |  5 +++
 gcr/gcr-collection-model.c     | 24 ++++++++-----
 gcr/gcr-collection-model.h     | 13 ++-----
 gcr/gcr-column.h               | 40 ++++++++++++++++++++++
 gcr/gcr-renderer.c             | 21 ++++++++++++
 gcr/gcr-renderer.h             | 34 +++++++++----------
 gcr/tests/test-ui-selector.c   | 77 +++++++++++++++++++++++++++++++++---------
 8 files changed, 200 insertions(+), 56 deletions(-)

commit 66d822848be5117eccd4cf338b304759342ebd3a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-15

    [gcr] Add functionality for renderers to populate tree models.
    
     * Add markup, icon and description properties to renderers.
     * Add GcrSimpleCollection which implements collections.
     * Use GIcon instead of stock ids.
     * Rough example test certificate selector.

 gcr/Makefile.am                |   2 +
 gcr/gcr-certificate-renderer.c |  69 +++++++++++++++-----
 gcr/gcr-collection-model.c     |   4 +-
 gcr/gcr-display-view.c         |  42 ++++++++----
 gcr/gcr-display-view.h         |   4 +-
 gcr/gcr-key-renderer.c         |  12 +++-
 gcr/gcr-library.c              |   8 ++-
 gcr/gcr-renderer.c             |  18 +++++-
 gcr/gcr-renderer.h             |  21 +++++-
 gcr/gcr-simple-collection.c    | 143 +++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-simple-collection.h    |  67 +++++++++++++++++++
 gcr/gcr.h                      |   3 +
 gcr/tests/.gitignore           |   1 +
 gcr/tests/Makefile.am          |  43 +++----------
 gcr/tests/test-ui-selector.c   | 129 +++++++++++++++++++++++++++++++++++++
 15 files changed, 492 insertions(+), 74 deletions(-)

commit 6af00cea721bce2039ccb63cf69c261d7df34e7e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-12

    [gcr] GcrCertificateRenderer takes either attrs or cert.
    
    Take either attributes or a GcrCertificate. That way when using renderer
    in the (future) selector, we won't have lots of extra objects.

 gcr/gcr-certificate-renderer.c | 133 +++++++++++++++++++++++++----------------
 gcr/gcr-certificate-renderer.h |   3 +
 2 files changed, 85 insertions(+), 51 deletions(-)

commit 8917f27be36d0bb1e9ba4f224a17461edf5251e5
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-06

    [gcr] Add collection iface for objects lists and GtkTreeModel
    
    Will be used in various selectors to provide a list of things
    to select from.

 gcr/Makefile.am            |   6 +-
 gcr/gcr-collection-model.c | 643 +++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-collection-model.h |  76 ++++++
 gcr/gcr-collection.c       | 128 +++++++++
 gcr/gcr-collection.h       |  75 ++++++
 5 files changed, 927 insertions(+), 1 deletion(-)

commit c62b7542b560ce04e43012c17e462bec6ab1035b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-04-04

    Release version 3.0.0

 NEWS                                | 3 +++
 configure.in                        | 2 +-
 docs/reference/gck/Makefile.am      | 2 +-
 docs/reference/gcr/Makefile.am      | 2 +-
 egg/egg-asn1x.c                     | 5 ++++-
 gcr/gcr-display-view.c              | 2 +-
 gcr/gcr-parser.c                    | 2 +-
 pkcs11/rpc-layer/gkm-rpc-dispatch.c | 2 +-
 pkcs11/wrap-layer/gkm-wrap-prompt.c | 2 +-
 pkcs11/xdg-store/gkm-xdg-trust.c    | 2 +-
 ui/gku-prompt-tool.c                | 2 +-
 11 files changed, 16 insertions(+), 10 deletions(-)

commit 9e8b14ee925a16aaa742b443019d443707d0bb9c
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:   2011-04-04

    Updated Bengali translation

 po/bn.po | 1275 ++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 704 insertions(+), 571 deletions(-)

commit feb2a69b3116485bda4036fffb6a6c640984968e
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:   2011-04-04

    Updated Bengali translation

 po/bn.po | 1275 ++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 704 insertions(+), 571 deletions(-)

commit d38c1b4e67413b6184363e2f29678188744fab94
Author: Rodrigo Padula de Oliveira <contato@rodrigopadula.com>
Date:   2011-04-03

    Updated Brazilian Portuguese translation. Reviewed by Antonio Fernandes C. Neto.

 po/pt_BR.po | 640 ++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 360 insertions(+), 280 deletions(-)

commit 292677ecfd26d76e1894d776db36feefb9f76439
Author: Rodrigo Padula de Oliveira <contato@rodrigopadula.com>
Date:   2011-04-03

    Updated Brazilian Portuguese translation. Reviewed by Antonio Fernandes C. Neto.

 po/pt_BR.po | 640 ++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 360 insertions(+), 280 deletions(-)

commit ce0d521207d3310a7f0960b145dfe6e70feef6b4
Author: Luca Ferretti <lferrett@gnome.org>
Date:   2011-04-03

    Updated Italian translation

 po/it.po | 751 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 420 insertions(+), 331 deletions(-)

commit 0ba4160793a2576d959cb0358d9b740c0beff74e
Author: Luca Ferretti <lferrett@gnome.org>
Date:   2011-04-03

    Updated Italian translation

 po/it.po | 751 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 420 insertions(+), 331 deletions(-)

commit 5ee89a75825c36ef9beb47ba88148152b50f6619
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-04-03

    Updated Vietnamese translation

 po/vi.po | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 7f37e7722089ea85335ef0840d0fde89913c6713
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-04-03

    po/vi.po: import from Damned Lies

 po/vi.po | 85 ++++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 45 insertions(+), 40 deletions(-)

commit 83cbb542acb99b731c7135bc4673e8005d578f40
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-04-03

    Updated Vietnamese translation

 po/vi.po | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 1f12ce2d81571ae27df72a090e817c93d3a44bd5
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-04-03

    po/vi.po: import from Damned Lies

 po/vi.po | 85 ++++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 45 insertions(+), 40 deletions(-)

commit 3246ea5d4cc4ef6ed01eee5b82ae4844ffb7e8ac
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2011-04-01

    Updated Gujarati Translations

 po/gu.po | 1434 ++++++++++++++++++++++++++------------------------------------
 1 file changed, 598 insertions(+), 836 deletions(-)

commit 70d40650d21cda989b0ce839b338c6b71c21274a
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2011-04-01

    Updated Gujarati Translations

 po/gu.po | 1434 ++++++++++++++++++++++++++------------------------------------
 1 file changed, 598 insertions(+), 836 deletions(-)

commit 00f2ba1f47282314b4f84a1a29f9469d060ab5cb
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   2011-04-01

    Updated Tamil translation

 po/ta.po | 664 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 372 insertions(+), 292 deletions(-)

commit 1b3a8bde761e96cb2804e45c73ab1a5d18dc57a6
Author: Dr.T.Vasudevan <agnihot3@gmail.com>
Date:   2011-04-01

    Updated Tamil translation

 po/ta.po | 685 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 403 insertions(+), 282 deletions(-)

commit cbbd1f24358f6c5d2373054624f17151c7fab5c2
Author: Amitakhya Phukan <amitakhya@svn.gnome.org>
Date:   2011-03-31

    Updated Assamese translations

 po/as.po | 1889 +++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 1012 insertions(+), 877 deletions(-)

commit 0f83a210c4d7b16fbcf74ed2e521bef969808672
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-31

    gcr: Fix invalid assertions when using gcr_parser_parse_stream_xxx()

 gcr/gcr-parser.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cf533064a9e6643763129c9815d8df7d6b7eb19c
Author: Miroslav Nikolić <miroslavnikolic@rocketmail.com>
Date:   2011-03-31

    Updated Serbian translation

 po/sr.po       | 1118 +++++++++++++++++++-------------------------------------
 po/sr@latin.po | 1118 +++++++++++++++++++-------------------------------------
 2 files changed, 752 insertions(+), 1484 deletions(-)

commit 38f9d7aa01de87dc888aa1d3e0907de656c9458c
Author: Miroslav Nikolić <miroslavnikolic@rocketmail.com>
Date:   2011-03-31

    Updated Serbian translation

 po/sr.po       | 1118 +++++++++++++++++++-------------------------------------
 po/sr@latin.po | 1118 +++++++++++++++++++-------------------------------------
 2 files changed, 752 insertions(+), 1484 deletions(-)

commit ee2e7963367fffa00bfabce655034bcf2df353d3
Author: Kris Thomsen <lakristho@gmail.com>
Date:   2011-03-30

    Updated Danish translation

 po/da.po | 634 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 357 insertions(+), 277 deletions(-)

commit 45e418b817c6fd671475d544ef138477da42d581
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2011-03-30

    Updated Basque language

 po/eu.po | 163 ++++++++++++---------------------------------------------------
 1 file changed, 31 insertions(+), 132 deletions(-)

commit e302d93ae8a5055d54d86dcf79818884479464a7
Author: Kris Thomsen <lakristho@gmail.com>
Date:   2011-03-30

    Updated Danish translation

 po/da.po | 657 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 390 insertions(+), 267 deletions(-)

commit a9ac0911ce27c82aa19c2652704b2783b399bfb4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-30

    gcr: Mark strings as translatable.

 gcr/gcr-certificate-renderer.c | 2 +-
 gcr/gcr-display-view.c         | 6 +++++-
 po/POTFILES.in                 | 2 ++
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 9eb4d9d104c695e2b29005fd953d2c5138c0d75e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-30

    gcr: Implement gcr_certificate_basics_xxx() stubs properly.

 gcr/gcr-certificate-basics-widget.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 3b8d6d0c270030effdcf8a0187a4f4ff87be798f
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:   2011-03-29

    Updated Indonesian translation

 po/id.po | 162 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 93 insertions(+), 69 deletions(-)

commit ed04b0b2aeae138ed61444c60dec89cd81dfc79e
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2011-03-29

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 49 ++++++++++++++++++++++++++++++-------------------
 po/zh_TW.po | 49 ++++++++++++++++++++++++++++++-------------------
 2 files changed, 60 insertions(+), 38 deletions(-)

commit 933a61fa582c6ea861be8b3a8ab03f365f0e3c58
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2011-03-29

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 105 ++++++++++++++++++++++++++++++++++--------------------------
 po/zh_TW.po | 105 ++++++++++++++++++++++++++++++++++--------------------------
 2 files changed, 120 insertions(+), 90 deletions(-)

commit 2873bafa7254d526fb6d746130a7a315cb786b53
Author: Abduxukur Abdurixit <abdurixit@gmail.com>
Date:   2011-03-27

    Added UG translation

 po/ug.po | 350 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 192 insertions(+), 158 deletions(-)

commit 0303db362188cb5d195f35e03321691f57c4cd5e
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:   2011-03-27

    Uploaded Ukranian

 po/uk.po | 1149 ++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 640 insertions(+), 509 deletions(-)

commit bc8b07b5e61a895cc54a79b690f23b3b561ea5dc
Author: Alexander Shopov <ash@kambanaria.org>
Date:   2011-03-25

    Updated Bulgarian translation

 po/bg.po | 44 ++++++++++++++++++++++++++------------------
 1 file changed, 26 insertions(+), 18 deletions(-)

commit e534a4d549a4657a0cc93b744b4779eb8b1695d4
Author: Alexander Shopov <ash@kambanaria.org>
Date:   2011-03-25

    Updated Bulgarian translation

 po/bg.po | 100 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 56 insertions(+), 44 deletions(-)

commit f75e07deb290457c2ffb5a9958dd3cd2b460c731
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-25

    Add correct version numbers to documentation.

 .gitignore                        |  2 ++
 configure.in                      |  4 +++-
 docs/reference/gck/gck-docs.sgml  | 10 ++++++----
 docs/reference/gck/version.xml.in |  1 +
 docs/reference/gcr/gcr-docs.sgml  | 12 +++++++-----
 docs/reference/gcr/version.xml.in |  1 +
 6 files changed, 20 insertions(+), 10 deletions(-)

commit 419f8555ae01265ed736b5db9401ddab17fcbfb5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-23

    Modernise the gck tests.

 .gitignore                      |  11 ++
 egg/Makefile.am                 |  12 +-
 gck/tests/Makefile.am           |  51 +++---
 gck/tests/test-gck-attributes.c | 148 ++++++++++++----
 gck/tests/test-gck-crypto.c     | 375 +++++++++++++++++++++++++---------------
 gck/tests/test-gck-enumerator.c | 151 +++++++++++-----
 gck/tests/test-gck-module.c     | 169 ++++++++----------
 gck/tests/test-gck-modules.c    | 130 ++++++++++----
 gck/tests/test-gck-object.c     | 323 ++++++++++++++++++++--------------
 gck/tests/test-gck-session.c    | 230 +++++++++++++++---------
 gck/tests/test-gck-slot.c       | 137 ++++++++++-----
 gck/tests/test-gck-uri.c        | 148 ++++++++++++----
 gck/tests/test-gck.h            |  43 -----
 13 files changed, 1240 insertions(+), 688 deletions(-)

commit cb743436cd66480c43de5fad382f44237d6c3abb
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-20

    Remove unused files.

 gcr/gkm-test.c | 60 --------------------------------------------------------
 gcr/gkm-test.h | 62 ----------------------------------------------------------
 2 files changed, 122 deletions(-)

commit 4079668c76d98d40a607bae61d37949ddf7a7d86
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-03-22

    Updated Norwegian bokmål translation

 po/nb.po | 47 +++++++++++++++++++++++++++++------------------
 1 file changed, 29 insertions(+), 18 deletions(-)

commit 468e7c6e50e54384a21315d6d117cd194934a04b
Author: Joan Duran <jodufi@gmail.com>
Date:   2011-03-22

    Updated Catalan translation

 po/ca.po | 74 ++++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 42 insertions(+), 32 deletions(-)

commit efdfca67fb3dbe3eb2107ee4c1cdfe88c0655920
Author: Joan Duran <jodufi@gmail.com>
Date:   2011-03-22

    Updated Catalan translation

 po/ca.po | 133 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 74 insertions(+), 59 deletions(-)

commit 1a9d4a4e5f5a9667a331f0d6882756f3d017c661
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-21

    Release version 2.91.93

 NEWS         | 7 +++++++
 configure.in | 2 +-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 28d69e02a62399a588123afdd0e42223c060cbad
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:   2011-03-20

    Updated Latvian translation.

 po/lv.po | 552 ++++-----------------------------------------------------------
 1 file changed, 35 insertions(+), 517 deletions(-)

commit d18cd987671f08bd2db51d2d7bb0d230f613af3d
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2011-03-19

    Updated Dutch translation by Wouter Bolsterlee

 po/nl.po | 48 ++++++++++++++++++++++++++++--------------------
 1 file changed, 28 insertions(+), 20 deletions(-)

commit a92ba0d0f306d4eaa6bf5eb5503a7ec71afa530e
Merge: 2b2c163 eeeddb5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-19

    Merge branch 'gnome-3-0'

commit eeeddb5760050ef3ffe39925737982c309c53f9b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-19

    Use full interface.Property form for CreateCollection and CreateItem
    
    This is a change in the spec so that we can handle future extensibility
    on various interfaces properly.

 daemon/dbus/gkd-secret-objects.c  |  2 +-
 daemon/dbus/gkd-secret-property.c | 25 +++++++++++++++++++------
 daemon/dbus/gkd-secret-property.h |  1 +
 daemon/dbus/gkd-secret-service.c  |  4 ++--
 4 files changed, 23 insertions(+), 9 deletions(-)

commit f4da9ff72aba674b13485f0364c4d758630371f9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-18

    [gcr] Add deprecated functions for symbols lost since 2.32.x
    
     * gcr_certificate_basics_xxx
     * gcr_certificate_details_xxx
     * gcr_importer_xxx_parser

 gcr/Makefile.am                      |  2 ++
 gcr/gcr-certificate-basics-widget.c  | 54 +++++++++++++++++++++++++++++++
 gcr/gcr-certificate-basics-widget.h  | 62 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-certificate-details-widget.c | 54 +++++++++++++++++++++++++++++++
 gcr/gcr-certificate-details-widget.h | 61 +++++++++++++++++++++++++++++++++++
 gcr/gcr-importer.c                   | 19 +++++++++++
 gcr/gcr-importer.h                   |  9 ++++++
 gcr/gcr.h                            |  7 ++++
 8 files changed, 268 insertions(+)

commit 2b2c163ddc051c7f41191fe09aec8d9c41542ac8
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2011-03-19

    Updated Dutch translation by Wouter Bolsterlee

 po/nl.po | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit e6997c1ea236c7d226e0f74497545c73f54f30ab
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2011-03-19

    Updated Korean translation

 po/ko.po | 46 +++++++++++++++++++++++++++++-----------------
 1 file changed, 29 insertions(+), 17 deletions(-)

commit 4e00b36bfa45ab13f4e22a37f8527eede0adb6c4
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2011-03-19

    Updated Korean translation

 po/ko.po | 46 +++++++++++++++++++++++++++++-----------------
 1 file changed, 29 insertions(+), 17 deletions(-)

commit 027df204b4c54aca36382a899af76fc4a84606e9
Author: Friedel Wolff <friedel@translate.org.za>
Date:   2011-03-19

    New translation for Afrikaans (af)

 po/LINGUAS |    1 +
 po/af.po   | 1101 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1102 insertions(+)

commit ad16ca19b568f5748e0885696e0405d35fa36b84
Author: Friedel Wolff <friedel@translate.org.za>
Date:   2011-03-19

    New translation for Afrikaans (af)

 po/LINGUAS |    1 +
 po/af.po   | 1101 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1102 insertions(+)

commit 2f6a7c049dfffed20e3f78e3f51a8cca8735f2d3
Author: Tomas Bzatek <tbzatek@redhat.com>
Date:   2011-03-18

    Set correct daemon SELinux context when started from pam module
    
    With confined users we want to run the gnome-keyring-daemon as
    sgkeyringd_staff_t (Fedora case), but currently this does not
    work properly from the pam module.
    
    This patch will fix the problem.  We are ignoring error conditions
    since for most users the errors will not effect unconfined users,
    and on a confined user it would still partially work but generate
    an AVC.
    
    Patch by Daniel Walsh <dwalsh@redhat.com>
    https://bugzilla.redhat.com/show_bug.cgi?id=684225

 configure.in         | 19 +++++++++++++++++++
 pam/Makefile.am      |  1 +
 pam/gkr-pam-module.c | 34 ++++++++++++++++++++++++++++++++++
 3 files changed, 54 insertions(+)

commit 6594d2c7b079d7043626b1c5bb157203ff428a29
Author: Aron Xu <aronxu@gnome.org>
Date:   2011-03-18

    Update Simplified Chinese translation.

 po/zh_CN.po | 41 ++++++++++++++++++++++++-----------------
 1 file changed, 24 insertions(+), 17 deletions(-)

commit ba4cb92d160b4da7638b22599e5b1bbb64fa3080
Author: Aron Xu <aronxu@gnome.org>
Date:   2011-03-18

    Update Simplified Chinese translation.

 po/zh_CN.po | 101 ++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 57 insertions(+), 44 deletions(-)

commit 630e17c0b614105dea91fe9b75de5063dd2404e3
Author: Bruno Brouard <annoa.b@gmail.com>
Date:   2011-03-17

    Updated French translation

 po/fr.po | 37 ++++++++++++++++++++++++-------------
 1 file changed, 24 insertions(+), 13 deletions(-)

commit d136066d2b53d74165fbc0aa8c5fadfe2c34e6fd
Author: Bruno Brouard <annoa.b@gmail.com>
Date:   2011-03-17

    Updated French translation

 po/fr.po | 37 ++++++++++++++++++++++++-------------
 1 file changed, 24 insertions(+), 13 deletions(-)

commit d566a357f76071c9861a4db9ab8c6abda351dcbe
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-03-17

    [l10n] Updated German translation

 po/de.po | 135 ++++++++++++++-------------------------------------------------
 1 file changed, 30 insertions(+), 105 deletions(-)

commit 8287c81d049e0819f9c31ffb528cc435bd401458
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-03-17

    [l10n] Updated German translation

 po/de.po | 135 ++++++++++++++-------------------------------------------------
 1 file changed, 30 insertions(+), 105 deletions(-)

commit b9d69a5751c421cca2bee9bab78c1067e1d1acac
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-16

    If we're using linux capabilities then use setcap instead of setuid.
    
    Only use setuid when not using linux capabilities. Run this on
    install when we are using caps:
    
    setcap cap_ipc_lock=ep $(DESTDIR)$(bindir)/gnome-keyring-daemon

 configure.in       |  4 +++-
 daemon/Makefile.am | 12 ++++++++++--
 2 files changed, 13 insertions(+), 3 deletions(-)

commit b5847250179e861ee4edbedb347e8be0fe069463
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-16

    [gpg-agent] Don't assert when no keyid is sent from gpg.

 daemon/gpg-agent/gkd-gpg-agent-ops.c | 107 ++++++++++++++++++++---------------
 1 file changed, 61 insertions(+), 46 deletions(-)

commit 36922882260ce4574813bc11956ec6ad86818cea
Author: Fran Diéguez <fran@openhost.es>
Date:   2011-03-15

    Updated Galician translations

 po/gl.po | 54 +++++++++++++++++++++++++++++++++---------------------
 1 file changed, 33 insertions(+), 21 deletions(-)

commit 3d88624ce277405a6a04418b6bbef81472ee8482
Author: Marek Černocký <marek@manet.cz>
Date:   2011-03-15

    Updated Czech translation

 po/cs.po | 47 +++++++++++++++++++++++++++++------------------
 1 file changed, 29 insertions(+), 18 deletions(-)

commit 66dd2d546b89a49091701d07dac0ec876c10497a
Author: Fran Diéguez <fran@openhost.es>
Date:   2011-03-15

    Updated Galician translations

 po/gl.po | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 547c868edd212a4c919bbc78db30374a19bed61c
Author: Fran Diéguez <fran@openhost.es>
Date:   2011-03-15

    Updated Galician translations

 po/gl.po | 112 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 64 insertions(+), 48 deletions(-)

commit 184ed319c08670af673f5c4d6723262408ffc2f5
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:   2011-03-14

    Updated Romanian translation

 po/ro.po | 147 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 77 insertions(+), 70 deletions(-)

commit 957ddf41cdcdc3728a6a1612123017c615be84f2
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:   2011-03-14

    Fix gck_uri_parse error message
    
    Signed-off-by: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>

 gck/gck-uri.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 592b3b6e306ee512660117bfb44e657c8d96c0d6
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:   2011-03-14

    Updated Romanian translation

 po/ro.po | 77 +++++++++++++++++++++++++++-------------------------------------
 1 file changed, 32 insertions(+), 45 deletions(-)

commit 91eede0ccb71ad57bd045b3675e4b72617ce9cf5
Author: Daniel Șerbănescu <cyber19rider@gmail.com>
Date:   2011-03-14

    Updated Romanian translation

 po/ro.po | 79 ++++++++++++++++++++++++++++++++++++++++++++++------------------
 1 file changed, 57 insertions(+), 22 deletions(-)

commit 5da5e26cc61b659b33b3a3c2ad19887ba241b1e1
Author: Ivar Smolin <okul@linux.ee>
Date:   2011-03-13

    [l10n] Updated Estonian translation

 po/et.po | 18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

commit 40d6a8358439936ed3df77ecba3775b070afbcb2
Author: Yuri Myasoedov <omerta13@yandex.ru>
Date:   2011-03-13

    Updated Russian translation

 po/ru.po | 619 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 326 insertions(+), 293 deletions(-)

commit 00535a9a70bd38c9b019068901fbf21632dc8ef8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-13

    Consistent use of 'Secret' vs 'Secrets' in introspection XML.
    
    And in the comments.

 daemon/dbus/gkd-secret-introspect.c | 10 +++++-----
 daemon/dbus/gkd-secret-objects.c    | 12 ++++++------
 daemon/dbus/gkd-secret-prompt.c     |  4 ++--
 daemon/dbus/gkd-secret-session.c    |  2 +-
 daemon/dbus/gkd-secret-unlock.c     |  4 ++--
 5 files changed, 16 insertions(+), 16 deletions(-)

commit 255d854887ba0abfe77bf16c1d0a97093c2a1175
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2011-03-12

    Updated Dutch translation by Wouter Bolsterlee

 po/nl.po | 97 ++++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 54 insertions(+), 43 deletions(-)

commit 921f649ce2f7e210d002542c30efb7ac59726fc7
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   2011-03-12

    Updated Portuguese translation

 po/pt.po | 673 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 379 insertions(+), 294 deletions(-)

commit 5439076b0aafec075fdbdcc66520fa22c552fa5c
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   2011-03-12

    Updated Portuguese translation

 po/pt.po | 673 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 379 insertions(+), 294 deletions(-)

commit 5dfc19b1dee78baf4d41823c65725c062055b4ca
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   2011-03-12

    Updated British English translation

 po/en_GB.po | 670 +++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 374 insertions(+), 296 deletions(-)

commit b54fe9bcba39f650be17983a5c9da9461b64f03f
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-03-12

    Updated Spanish translation

 po/es.po | 77 ++++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 43 insertions(+), 34 deletions(-)

commit 508a8c06dd1432dd4f3c5ead71459b62cf7a0cfe
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2011-03-10

    Updated Hungarian translation

 po/hu.po | 601 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 309 insertions(+), 292 deletions(-)

commit d4310f04423d2283314aee3b620521c0a0a25509
Author: Daniel Nylander <po@danielnylander.se>
Date:   2011-03-11

    Updated Swedish translation

 po/sv.po | 91 +++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 53 insertions(+), 38 deletions(-)

commit d55c982403cf1946e84286c34bc21cf7450f593c
Author: Daniel Nylander <po@danielnylander.se>
Date:   2011-03-11

    Updated Swedish translation

 po/sv.po | 91 +++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 53 insertions(+), 38 deletions(-)

commit cc3b89ab291d65fce74efe2d5f7358b672d51347
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-03-11

    Updated Hebrew translation.

 po/he.po | 46 +++++++++++++++++++++++++++++-----------------
 1 file changed, 29 insertions(+), 17 deletions(-)

commit 3bc5c22ae836494d5559affa2a0106768780df7d
Author: Daniel Korostil <ted.korostiled@gmail.com>
Date:   2011-03-10

    Uploaded Ukranian

 po/uk.po | 1150 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 641 insertions(+), 509 deletions(-)

commit f73ef6b76ea232924789ae8de67fb388ef88a5d5
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2011-03-10

    Updated Hungarian translation

 po/hu.po | 601 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 309 insertions(+), 292 deletions(-)

commit cb807fa056d5ceaf757fcd352bc5b4b3fbf2136c
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-03-10

    Updated Spanish translation

 po/es.po | 79 ++++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 42 insertions(+), 37 deletions(-)

commit 71f53677372702199405f4dc1def2081da5d981a
Author: Bruce Cowan <bruce@bcowan.me.uk>
Date:   2011-03-10

    Updated British English translation

 po/en_GB.po | 672 ++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 377 insertions(+), 295 deletions(-)

commit 060b7551060869f3c968f860d2109ee4cd7ec45e
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-03-10

    Updated Hebrew translation.

 po/he.po | 102 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 59 insertions(+), 43 deletions(-)

commit 66bd5dd32836a770647b8acf3476fb7922be71eb
Author: Steve Grubb <sgrubb@redhat.com>
Date:   2011-03-10

    Use file system based capabilities as a way of getting ipc-lock
    
    https://bugzilla.redhat.com/show_bug.cgi?id=668831

 configure.in            |  16 +++----
 daemon/gkd-capability.c | 112 ++++++++++++++++--------------------------------
 2 files changed, 45 insertions(+), 83 deletions(-)

commit 84856504a7396950aa72af9157f04ce0eea9a718
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-10

    Release version 2.91.92

 NEWS | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit a1aa3f498a651db6dbffec4ec761014c1d9954aa
Author: Ivar Smolin <okul@linux.ee>
Date:   2011-03-10

    [l10n] Updated Estonian translation

 po/et.po | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit ebce824e81ace74a25cbf879c63c462679862993
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2011-03-09

    Updated Polish translation

 po/pl.po | 583 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 301 insertions(+), 282 deletions(-)

commit c3b6b89d2f64885814ae2f95207e2054af380307
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2011-03-09

    Updated Polish translation

 po/pl.po | 587 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 305 insertions(+), 282 deletions(-)

commit 5f50b09b92d8cc29a73100c1242a1c1893d6559f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-08

    [gcr] Add 'Export Certificate' right click in cert widget.
    
    Users can right click on the certificate widget, and export the
    certificate to DER or PEM format.

 gcr/Makefile.am                 |   1 +
 gcr/gcr-certificate-exporter.c  | 566 ++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-certificate-exporter.h  |  73 ++++++
 gcr/gcr-certificate-renderer.c  |  79 +++++-
 gcr/gcr-display-view.c          |  68 +++++
 gcr/gcr-renderer.c              |   9 +
 gcr/gcr-renderer.h              |   6 +
 gcr/tests/ui-test-certificate.c |  23 +-
 8 files changed, 813 insertions(+), 12 deletions(-)

commit 54f1deb412c0aa426868f1ae989e2b4df5ccb610
Author: Daniel Mustieles <daniel.mustieles@gmail.com>
Date:   2011-03-09

    Updated Spanish translation

 po/es.po | 67 ++++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 38 insertions(+), 29 deletions(-)

commit ae1c102543acc4b6c607cb1462107b8a4d4409d3
Author: Laurent Bigonville <l.bigonville@edpnet.be>
Date:   2011-03-09

    [pam] Do not leak login name when logging error
    
    Don't include unrecognized user names in log messages, as they
    could be mistyped passwords.

 pam/gkr-pam-module.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1099a753b6bb502316ad9561c9999474639a3e10
Author: Laurent Bigonville <l.bigonville@edpnet.be>
Date:   2011-03-09

    Also start daemon for Xfce
    
    https://bugzilla.gnome.org/show_bug.cgi?id=644305

 daemon/gnome-keyring-gpg.desktop.in.in     | 2 +-
 daemon/gnome-keyring-pkcs11.desktop.in.in  | 2 +-
 daemon/gnome-keyring-secrets.desktop.in.in | 2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit e826634d7a846f796a81a1a57c2cd78405099c48
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-09

    [wrap-layer] Fix inability to save password for other keyrings.
    
    Fix the "Automatically unlock this keyring whenever I'm logged in"
    The logic for enabling the setting was inversed.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=642001

 pkcs11/wrap-layer/gkm-wrap-prompt.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f76a2ac2cfb0015f9497753db9fc642985fe0dba
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2011-03-09

    Updated Slovenian translation

 po/sl.po | 84 +++++++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 62 insertions(+), 22 deletions(-)

commit e4dbcf5a5d86b8e5d432bfadcfd1b27bbd84b7b6
Author: Craig Keogh <cskeogh@adam.com.au>
Date:   2011-02-05

    Honor aclocal flags (GNOME bug 641583)

 Makefile.am | 2 ++
 1 file changed, 2 insertions(+)

commit a79d05f2acfe738bbf6da7108c652cf886ddca14
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-09

    [dbus] Support removal of aliases via the secret service API
    
    Passing '/' to SetAlias() clears the default keyring.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=636473

 daemon/dbus/gkd-secret-service.c | 32 ++++++++++++++++++++------------
 1 file changed, 20 insertions(+), 12 deletions(-)

commit 655e0e90a4f96de76348f84cab0c64014078fdbb
Merge: ced422b a26d779
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-09

    Merge branch 'with-hkdf'

commit ced422b8770ba321ae0c3271b8344ee031d55748
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-09

    Change warning on bad certificate data to a simple message.

 pkcs11/gkm/gkm-certificate.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c8b3144f36edb54f3af4d08bd0cb65acca5bf4e9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-09

    [dbus] Pass an alias argument along to a CreateCollection dbus method.
    
    This is new in the specification and prevents problems with race
    conditions and multiple applications all trying to create the
    default keyring.

 daemon/dbus/gkd-secret-create.c     | 112 ++++++++++++++++++++++--
 daemon/dbus/gkd-secret-create.h     |   3 +-
 daemon/dbus/gkd-secret-introspect.c |   3 +-
 daemon/dbus/gkd-secret-objects.c    |  23 +----
 daemon/dbus/gkd-secret-objects.h    |   7 --
 daemon/dbus/gkd-secret-prompt.c     |  16 +++-
 daemon/dbus/gkd-secret-prompt.h     |   2 +
 daemon/dbus/gkd-secret-service.c    | 164 +++++++++++++++++++++++-------------
 daemon/dbus/gkd-secret-service.h    |  11 +++
 daemon/dbus/gkd-secret-unlock.c     |  45 +++++++---
 daemon/dbus/gkd-secret-unlock.h     |   8 +-
 11 files changed, 283 insertions(+), 111 deletions(-)

commit f8540ad1a48cce9662f4738bb5802621d2a65523
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2011-03-09

    Updated Arabic translation

 po/ar.po | 29 ++++++++++++++++++++---------
 1 file changed, 20 insertions(+), 9 deletions(-)

commit e4df658ea0751ce78598b8783664899b0ad54a52
Author: Matthias Clasen <mclasen@redhat.com>
Date:   2011-02-26

    Add a desktop file for gnome-keyring-prompt
    
    This is necessary for gnome-shell to pick up a meaningful
    name and icon to display in the application menu while the
    dialog is shown.
    https://bugzilla.gnome.org/show_bug.cgi?id=643229

 .gitignore                            |  3 +++
 configure.in                          |  1 +
 po/POTFILES.in                        |  1 +
 po/POTFILES.skip                      |  1 +
 ui/Makefile.am                        | 15 +++++++++++++++
 ui/gnome-keyring-prompt.desktop.in.in |  8 ++++++++
 6 files changed, 29 insertions(+)

commit a78de9fffce4ef2ac669e389b2283e0efbb6feb2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-08

    [egg] Complete implementation of openssl sytle PEM writing
    
    The openssl PEM parser is particularly fragile, so write some
    stringent tests to check.

 egg/egg-openssl.c        | 46 +++++++++++++++++++++++++++++-----------------
 egg/tests/test-openssl.c | 29 +++++++++++++++++++++++++++++
 2 files changed, 58 insertions(+), 17 deletions(-)

commit 47c1a921dde3debe8245cea69e6f975f8ab3c836
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-07

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e5f757ff73a4dd6453f1fbf528a9978899c68c8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-07

    Release version 2.91.91

 NEWS         | 15 +++++++++++++++
 configure.in |  2 +-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit b68e42fd236fdbf39d0f52386be1f4ed479c90c5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-07

    [gck] Fix uri library-manufacturer test.

 gck/tests/test-gck-uri.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit df789cf19cc4d81de3f1e0c305ac7687a8821337
Author: Rudolfs Mazurs <rudolfs.mazurs@gmail.com>
Date:   2011-03-05

    Updated Latvian translation.

 po/lv.po | 1156 +++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 623 insertions(+), 533 deletions(-)

commit 4a4aa90e209bccb9b06ef26b5a0807eea819a879
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-04

    Transfer the color properly onto the certificate widget expander.
    
     * Remains white when a text selection surrounds it, this is harder
       to fix.
     * Highlights properly on mouse over.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=643892

 gcr/gcr-display-view.c | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 57fec1af8b412bc8ce6822d7d1b7d7f413fe7c5f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-04

    Calculate the minimal/natural size of certificate widget  better.
    
     * These are still just gueseses. But they're guesses that look good.
     * Added a new GcrViewer implementation that is a scrolled viewer.
       We use this in GcrCertificateWidget instead of using GtkScrolledWindow
       directly.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=643892

 gcr/Makefile.am                 |   1 +
 gcr/gcr-certificate-widget.c    |  13 +--
 gcr/gcr-display-scrolled.c      | 172 ++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-display-scrolled.h      |  56 +++++++++++++
 gcr/gcr-display-view.c          | 105 ++++++++++++++++++++++++
 gcr/gcr-viewer.c                |   7 ++
 gcr/gcr-viewer.h                |   2 +
 gcr/tests/ui-test-certificate.c |   1 -
 8 files changed, 346 insertions(+), 11 deletions(-)

commit 66747703344009d06984a76a10b99b4011cfb32d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-04

    Fix prompt-tool for GTK+3 release.
    
     * Replace gdk_keyboard_grab with a boatload of code.

 ui/gku-prompt-tool.c | 94 ++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 76 insertions(+), 18 deletions(-)

commit 8e4ee958d05807c040a0810ed79664cd82ec911a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-02

    Make the library-manufacturer in the trust uris actually match.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=641121

 gcr/gcr-library.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8cc5ce855a1566f18cd8fa6f0655903bdc6b89b9
Author: Wei Li <lw124124@gmail.com>
Date:   2011-03-03

    Update Simplified Chinese translation.

 po/zh_CN.po | 61 ++++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 44 insertions(+), 17 deletions(-)

commit a4603fcce976caf9192b3dc3d143a08a51df7d33
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-01

    [gck] Support 'library-manufacturer' in PKCS#11 URIs properly.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=643574

 gck/gck-uri.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88f1bdf12908c7fa77cf263fd2aa6cf6bfea1b3c
Merge: 077170f 24d586d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-01

    Merge branch 'secret-content-type'

commit 077170f8eb5937809d229fccfd1ce286edc3766e
Merge: c4fa069 9ba7ec4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-03-01

    Merge branch 'hard-code-config'

commit c4fa06918c5d0b115928822dce79a3a842c14991
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-19

    If DBus couldn't be initialized when starting up try again.
    
    Try again when we are asked to initialize a certain component. This allows
    gnome-keyring-daemon --start (when run a second time later on) to make
    dbus work in the first daemon.

 daemon/dbus/gkd-dbus.c |  5 +++--
 daemon/dbus/gkd-dbus.h |  2 +-
 daemon/gkd-main.c      | 20 +++++++++++++++-----
 3 files changed, 19 insertions(+), 8 deletions(-)

commit 3547f09db3da07d300a114d1d59809d8d960a0a5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-28

    [dbus] Include introspect files as C strings.
    
    Don't distribute files, partially because it's more fragile and
    partially because they were causing this complaint:
    
    https://bugzilla.gnome.org/show_bug.cgi?id=637579

 configure.in                          |   1 -
 daemon/Makefile.am                    |   3 +-
 daemon/data/.gitignore                |   1 -
 daemon/data/Makefile.am               |  12 --
 daemon/data/introspect-collection.xml |  59 --------
 daemon/data/introspect-item.xml       |  47 ------
 daemon/data/introspect-prompt.xml     |  23 ---
 daemon/data/introspect-service.xml    |  93 ------------
 daemon/data/introspect-session.xml    |  16 --
 daemon/dbus/Makefile.am               |   2 +-
 daemon/dbus/gkd-dbus-util.c           |  19 +--
 daemon/dbus/gkd-dbus-util.h           |   2 +-
 daemon/dbus/gkd-secret-introspect.c   | 274 ++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-introspect.h   |  35 +++++
 daemon/dbus/gkd-secret-objects.c      |   5 +-
 daemon/dbus/gkd-secret-prompt.c       |   3 +-
 daemon/dbus/gkd-secret-service.c      |   3 +-
 daemon/dbus/gkd-secret-session.c      |   3 +-
 daemon/dbus/gkd-secret-unlock.c       |   3 +-
 19 files changed, 325 insertions(+), 279 deletions(-)

commit 94a664883c6cb1f81cb03fb897f65750e3eb5a6e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-28

    [dbus] Change daemon/dbus tests to use simpler gtester setup.

 .gitignore                           |  2 ++
 daemon/dbus/tests/Makefile.am        | 27 ++++++++++++++++++---------
 daemon/dbus/tests/test-secret-util.c | 20 ++++++++++++++++----
 3 files changed, 36 insertions(+), 13 deletions(-)

commit 24d586d74b4959cf7d103a3b9a76a9de5796b281
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-28

    [dbus] Send a content-type along with secret as per spec.
    
    Recent changes to the secret service spec say we should be sending
    a content-type along with the secret. This changes the signature of
    a secret structure to (oayays).
    
    We have nowhere to store this content-type so we simply accept and
    ignore it, and return a place holder value where necessary.
    
    This is an incompatible change to the dbus specification and both
    gnome-keyring and libgnome-keyring need to be upgraded in sync.

 daemon/data/introspect-collection.xml |  2 +-
 daemon/data/introspect-item.xml       |  4 ++--
 daemon/data/introspect-service.xml    |  2 +-
 daemon/dbus/gkd-secret-objects.c      |  6 +++---
 daemon/dbus/gkd-secret-secret.c       | 20 +++++++++++++++++++-
 daemon/dbus/gkd-secret-service.c      |  6 +++---
 6 files changed, 29 insertions(+), 11 deletions(-)

commit 9ba7ec409f6ef2ae10e295e5dd168e216133c7f8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-28

    [gcr] Remove support for pkcs11-options file.
    
    In the next release we should be integrating with p11-kit which will
    contain support for proper configuration of PKCS#11 modules. So for
    this release we hard code the modules we'd like to use.

 gcr/Makefile.am                     |  9 --------
 gcr/gcr-library.c                   | 44 +++++++++----------------------------
 gcr/pkcs11-options.defaults         | 13 -----------
 gcr/tests/Makefile.am               |  1 -
 gcr/tests/test-certificate-chain.c  |  3 ---
 gcr/tests/test-certificate.c        |  3 ---
 gcr/tests/test-pkcs11-certificate.c |  3 ---
 gcr/tests/test-simple-certificate.c |  3 ---
 gcr/tests/test-trust.c              |  3 ---
 gcr/tests/unit-test-parser.c        |  3 ---
 10 files changed, 10 insertions(+), 75 deletions(-)

commit e1d335e29f9f803807c070c8a779051548af7684
Author: Joan Duran <jodufi@gmail.com>
Date:   2011-02-27

    [l10n] Updated Catalan translation

 po/ca.po | 611 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 342 insertions(+), 269 deletions(-)

commit adb9d8dec35cae577a80d0ee558ef1cf681cbd31
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-23

    Use more modern gtest style for egg tests.

 .gitignore                                  |  12 +
 egg/Makefile.am                             |   1 +
 egg/egg-hkdf.h                              |  39 ++
 egg/egg-testing.c                           | 178 +++++++++
 egg/egg-testing.h                           |  54 +++
 egg/tests/Makefile.am                       |  71 ++--
 egg/tests/files/dh-params.pem               |   5 +
 egg/tests/files/echo-script.sh              |  12 +
 egg/tests/files/pem-rsa-enc.key             |  18 +
 egg/tests/files/test-certificate-1.der      | Bin 0 -> 813 bytes
 egg/tests/files/test-personalname-1.der     |   1 +
 egg/tests/files/test-pkcs12-1.der           | Bin 0 -> 2824 bytes
 egg/tests/files/test-pkcs7-1.der            | Bin 0 -> 1002 bytes
 egg/tests/files/test-pkcs7-2.der            | Bin 0 -> 1002 bytes
 egg/tests/files/test-pkcs8-1.der            | Bin 0 -> 335 bytes
 egg/tests/files/test-rsakey-1.der           | Bin 0 -> 609 bytes
 egg/tests/test-asn1.c                       | 539 ++++++++++++++++++++++++++--
 egg/tests/test-asn1x.c                      |  53 ++-
 egg/tests/test-cleanup.c                    | 168 +++++++++
 egg/tests/test-data/dh-params.pem           |   5 -
 egg/tests/test-data/echo-script.sh          |  12 -
 egg/tests/test-data/pem-rsa-enc.key         |  18 -
 egg/tests/test-data/test-certificate-1.der  | Bin 813 -> 0 bytes
 egg/tests/test-data/test-personalname-1.der |   1 -
 egg/tests/test-data/test-pkcs12-1.der       | Bin 2824 -> 0 bytes
 egg/tests/test-data/test-pkcs7-1.der        | Bin 1002 -> 0 bytes
 egg/tests/test-data/test-pkcs7-2.der        | Bin 1002 -> 0 bytes
 egg/tests/test-data/test-pkcs8-1.der        | Bin 335 -> 0 bytes
 egg/tests/test-data/test-rsakey-1.der       | Bin 609 -> 0 bytes
 egg/tests/test-dh.c                         | 204 +++++++++++
 egg/tests/test-dn.c                         |  70 ++--
 egg/tests/test-hex.c                        | 118 ++++++
 egg/tests/test-oid.c                        |  54 +++
 egg/tests/test-openssl.c                    | 181 ++++++++++
 egg/tests/test-padding.c                    | 134 ++++---
 egg/tests/test-secmem.c                     | 265 ++++++++++++++
 egg/tests/test-spawn.c                      | 298 +++++++++++++++
 egg/tests/test-symkey.c                     | 238 ++++++++++++
 egg/tests/unit-test-asn1.c                  | 427 ----------------------
 egg/tests/unit-test-cleanup.c               | 153 --------
 egg/tests/unit-test-dh.c                    | 172 ---------
 egg/tests/unit-test-hex.c                   | 101 ------
 egg/tests/unit-test-oid.c                   |  46 ---
 egg/tests/unit-test-openssl.c               | 137 -------
 egg/tests/unit-test-secmem.c                | 237 ------------
 egg/tests/unit-test-spawn.c                 | 270 --------------
 egg/tests/unit-test-symkey.c                | 228 ------------
 47 files changed, 2565 insertions(+), 1955 deletions(-)

commit a26d779ee6230578e3a6118b941054821f9da70e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-27

    Use the standard DBus not supported error in secret service.
    
    As specified in the secret service specification.

 daemon/dbus/gkd-secret-session.c | 2 +-
 daemon/dbus/gkd-secret-types.h   | 1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 54d4781a415b6e12d882667e373be851a435c5a3
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-24

    Implement HKDF for transport encryption security.
    
    This is to hash the results of the DH key agreement, since the
    generated key size rarely matches the size of our bulk
    encryption key size.
    
     * Add PKCS#11 algorithm CKM_G_HKDF_SHA256_DERIVE
     * Change DH code so it always generates keys of prime size.
     * Change CKM_DH_PKCS11_DERIVE mechanism to support truncating
       or expanding keys on its own (without help from underlying
       implementation) in accordance with PKCS#11. Although we no
       longer use this.
     * Add support for CKK_GENERIC_SECRET keys.
     * Update prompt code to use HKDF in key negotiation.
     * Add secret service dh-ietf1024-sha256-aes128-cbc-pkcs7 algo
       which replaces the previous.

 daemon/dbus/gkd-secret-session.c |  42 ++++-
 egg/Makefile.am                  |   2 +
 egg/egg-dh.c                     |  16 +-
 egg/egg-dh.h                     |   2 +-
 egg/egg-hkdf.c                   | 109 +++++++++++++
 egg/tests/test-dh.c              |  70 ++++----
 egg/tests/test-hkdf.c            | 345 +++++++++++++++++++++++++++++++++++++++
 pkcs11/gkm/Makefile.am           |   2 +
 pkcs11/gkm/gkm-aes-key.c         |  24 ++-
 pkcs11/gkm/gkm-aes-mechanism.h   |   4 -
 pkcs11/gkm/gkm-crypto.c          |   4 +
 pkcs11/gkm/gkm-dh-mechanism.c    |  23 ++-
 pkcs11/gkm/gkm-generic-key.c     | 215 ++++++++++++++++++++++++
 pkcs11/gkm/gkm-generic-key.h     |  52 ++++++
 pkcs11/gkm/gkm-hkdf-mechanism.c  |  96 +++++++++++
 pkcs11/gkm/gkm-hkdf-mechanism.h  |  46 ++++++
 pkcs11/gkm/gkm-module.c          |  12 +-
 pkcs11/gkm/gkm-secret-key.c      |  11 ++
 pkcs11/gkm/gkm-secret-key.h      |   7 +
 pkcs11/gkm/gkm-types.h           |   1 +
 pkcs11/pkcs11i.h                 |   2 +
 ui/gku-prompt-tool.c             |  14 +-
 ui/gku-prompt.c                  |  17 +-
 23 files changed, 1045 insertions(+), 71 deletions(-)

commit e7e9103be95bd3d9f8e894c8c07b343ac669d86e
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2011-02-27

    Updated Korean translation

 po/ko.po | 607 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 336 insertions(+), 271 deletions(-)

commit b6c94d5f4560d672f355366a7144056aaf764e8e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-23

    Use more modern gtest style for egg tests.

 .gitignore                                  |  12 +
 egg/Makefile.am                             |   1 +
 egg/egg-hkdf.h                              |  39 ++
 egg/egg-testing.c                           | 178 +++++++++
 egg/egg-testing.h                           |  54 +++
 egg/tests/Makefile.am                       |  71 ++--
 egg/tests/files/dh-params.pem               |   5 +
 egg/tests/files/echo-script.sh              |  12 +
 egg/tests/files/pem-rsa-enc.key             |  18 +
 egg/tests/files/test-certificate-1.der      | Bin 0 -> 813 bytes
 egg/tests/files/test-personalname-1.der     |   1 +
 egg/tests/files/test-pkcs12-1.der           | Bin 0 -> 2824 bytes
 egg/tests/files/test-pkcs7-1.der            | Bin 0 -> 1002 bytes
 egg/tests/files/test-pkcs7-2.der            | Bin 0 -> 1002 bytes
 egg/tests/files/test-pkcs8-1.der            | Bin 0 -> 335 bytes
 egg/tests/files/test-rsakey-1.der           | Bin 0 -> 609 bytes
 egg/tests/test-asn1.c                       | 539 ++++++++++++++++++++++++++--
 egg/tests/test-asn1x.c                      |  53 ++-
 egg/tests/test-cleanup.c                    | 168 +++++++++
 egg/tests/test-data/dh-params.pem           |   5 -
 egg/tests/test-data/echo-script.sh          |  12 -
 egg/tests/test-data/pem-rsa-enc.key         |  18 -
 egg/tests/test-data/test-certificate-1.der  | Bin 813 -> 0 bytes
 egg/tests/test-data/test-personalname-1.der |   1 -
 egg/tests/test-data/test-pkcs12-1.der       | Bin 2824 -> 0 bytes
 egg/tests/test-data/test-pkcs7-1.der        | Bin 1002 -> 0 bytes
 egg/tests/test-data/test-pkcs7-2.der        | Bin 1002 -> 0 bytes
 egg/tests/test-data/test-pkcs8-1.der        | Bin 335 -> 0 bytes
 egg/tests/test-data/test-rsakey-1.der       | Bin 609 -> 0 bytes
 egg/tests/test-dh.c                         | 204 +++++++++++
 egg/tests/test-dn.c                         |  70 ++--
 egg/tests/test-hex.c                        | 118 ++++++
 egg/tests/test-oid.c                        |  54 +++
 egg/tests/test-openssl.c                    | 181 ++++++++++
 egg/tests/test-padding.c                    | 134 ++++---
 egg/tests/test-secmem.c                     | 265 ++++++++++++++
 egg/tests/test-spawn.c                      | 298 +++++++++++++++
 egg/tests/test-symkey.c                     | 238 ++++++++++++
 egg/tests/unit-test-asn1.c                  | 427 ----------------------
 egg/tests/unit-test-cleanup.c               | 153 --------
 egg/tests/unit-test-dh.c                    | 172 ---------
 egg/tests/unit-test-hex.c                   | 101 ------
 egg/tests/unit-test-oid.c                   |  46 ---
 egg/tests/unit-test-openssl.c               | 137 -------
 egg/tests/unit-test-secmem.c                | 237 ------------
 egg/tests/unit-test-spawn.c                 | 270 --------------
 egg/tests/unit-test-symkey.c                | 228 ------------
 47 files changed, 2565 insertions(+), 1955 deletions(-)

commit 1f0ae09dcb88fb55a7e6515d5244403b1174889f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2011-02-18

    Remove old --disable-acl-prompts configure option.
    
    No longer necessary or used.

 configure.in | 11 -----------
 1 file changed, 11 deletions(-)

commit c9d58ad546d674591d152a9d6d2dc0bb0621c7eb
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2011-02-17

    Updated Dutch translation by Wouter Bolsterlee

 po/nl.po | 696 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 384 insertions(+), 312 deletions(-)

commit 8d96dabd2ded0de9755bb326964790f249bc0c8a
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2011-02-16

    Updated Basque language

 po/eu.po | 605 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 337 insertions(+), 268 deletions(-)

commit d9ef7f11d58337d834252b8a3a49dfa371b0dfe1
Author: Alexander Shopov <ash@kambanaria.org>
Date:   2011-02-16

    Updated Bulgarian translation

 po/bg.po | 34 +++++++++++++++++++++++++++-------
 1 file changed, 27 insertions(+), 7 deletions(-)

commit 0069068377999ec07b4703e54c604d5091a1e739
Author: Claude Paroz <claude@2xlibre.net>
Date:   2011-02-09

    Add translator comment about 'pinned certificate'

 gcr/gcr-trust.c | 3 +++
 1 file changed, 3 insertions(+)

commit 15ff2bd812c86bb7afc61344449da331bee05d34
Author: Claude Paroz <claude@2xlibre.net>
Date:   2011-02-09

    Updated French translation
    
    Contributed by Gérard Baylard and Claude Paroz

 po/fr.po | 559 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 284 insertions(+), 275 deletions(-)

commit 8e5e257ab9e3764771e36ac5086296d21e29415c
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2011-02-05

    [l10n] Updated German translation

 po/de.po | 111 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 67 insertions(+), 44 deletions(-)

commit a4001c9d77ba1dc34b7e86a94625f36d4ce0c0db
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2011-02-04

    Updated Arabic translation

 po/ar.po | 612 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 341 insertions(+), 271 deletions(-)

commit 3c78ca102adffc951de3cc01afd9bbf7211423f2
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2011-02-04

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 638 +++++++++++++++++++++++++++++++++---------------------------
 po/zh_TW.po | 638 +++++++++++++++++++++++++++++++++---------------------------
 2 files changed, 704 insertions(+), 572 deletions(-)

commit 9080a2edbf00513005a9eec50c4c973b24569598
Author: Andika Triwidada <andika@gmail.com>
Date:   2011-01-28

    Updated Indonesian translation

 po/id.po | 620 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 306 insertions(+), 314 deletions(-)

commit cdafd64e24f034947a00bff69d3603fcc44eadf7
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2011-01-27

    QA of Galician translations

 po/gl.po | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit ccbe91f0bcee8fa4b576a52636c1cf70cc174335
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-01-25

    Updated Norwegian bokmål translation.

 po/nb.po | 31 ++++++++++++++++++++++++-------
 1 file changed, 24 insertions(+), 7 deletions(-)

commit 4050d583e8fe6c5c4bb71f0fd4ba6498cdf5a1b6
Author: Ryan Stonecipher <Ryan.Stonecipher.Fisher@gmail.com>
Date:   2011-01-24

    Fix undefined type in egg-asn1x.c
    
    Mac OSX doesn't have a ulong type
    
    https://bugzilla.gnome.org/show_bug.cgi?id=640362

 egg/egg-asn1x.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ac01c60ed77e7360ee1ba5160e02bbae234dd984
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-12-25

    Link directly to gmodule for the modules that need it

 configure.in                    | 4 ++++
 pkcs11/roots-store/Makefile.am  | 7 +++++--
 pkcs11/secret-store/Makefile.am | 4 +++-
 pkcs11/ssh-store/Makefile.am    | 4 +++-
 pkcs11/xdg-store/Makefile.am    | 4 +++-
 5 files changed, 18 insertions(+), 5 deletions(-)

commit 84ddc7baff53335d0e120f5930baa2620dfdbcaf
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2011-01-22

    Updated Spanish translation

 po/es.po | 362 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 187 insertions(+), 175 deletions(-)

commit dd5d36c98465a811f2836457d5c2fec7bb7663c4
Author: Daniel Nylander <po@danielnylander.se>
Date:   2011-01-22

    Updated Swedish translation

 po/sv.po | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 13b32807debb84805d946ec4ebc1fba21e4cbbc1
Author: Daniel Nylander <po@danielnylander.se>
Date:   2011-01-22

    Updated Swedish translation

 po/sv.po | 35 +++++++++++++++++++++++++----------
 1 file changed, 25 insertions(+), 10 deletions(-)

commit 2c6288846dba6e93f680839bf56985833c681dc0
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-19

    Properly use extra DBus request name flags when testing is enabled.
    
    The flags were being set, but not being used.

 daemon/dbus/gkd-dbus.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2aec7c642270d9acaa4c42c72501174713ac4bb2
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-19

    Ignore format-patch files in the current directory.

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 1cc7a50700866fbec45916f33031a3fd063cfbe7
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-19

    Add support for --version to gnome-keyring-daemon and gnome-keyring
    
     * Machine readable output.
     * gnome-keyring version
     * gnome-keyring-daemon --version

 daemon/gkd-main.c       | 15 +++++++++++++++
 tool/Makefile.am        |  3 ++-
 tool/gkr-tool-version.c | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 tool/gkr-tool.c         |  3 ++-
 tool/gkr-tool.h         |  5 ++++-
 5 files changed, 71 insertions(+), 3 deletions(-)

commit 6fdf533b5141398a190ce72f3e3e71140c3de12c
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-19

    Fix problems building tests using internal functions.
    
    Recently the changes to libgck and libgcr --export-symbols-regex
    broke the tests. Export different symbols when tests are enabled
    or not.

 gck/Makefile.am                 |  5 ++++-
 gck/tests/Makefile.am           |  2 +-
 gck/tests/test-gck-crypto.c     |  2 ++
 gck/tests/test-gck-enumerator.c |  1 +
 gck/tests/test-gck-module.c     |  1 +
 gck/tests/test-gck-modules.c    |  1 +
 gck/tests/test-gck-object.c     |  1 +
 gck/tests/test-gck-session.c    |  1 +
 gck/tests/test-gck-slot.c       |  1 +
 gcr/Makefile.am                 | 26 +++++++++++++++-----------
 10 files changed, 28 insertions(+), 13 deletions(-)

commit b03747b03917256e465ed0f9194f937a7befdbf0
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-19

    Issue new test certificates.

 testing/ca-example/certs/client-future.crt | 18 ++++++++++++++++
 testing/ca-example/certs/client-past.crt   | 18 ++++++++++++++++
 testing/ca-example/certs/client.crt        | 33 +++++++++++++++---------------
 testing/ca-example/certs/server-self.crt   | 11 ++++++++++
 testing/ca-example/certs/server.crt        | 14 +++++++++++++
 testing/ca-example/commands.txt            |  3 +++
 testing/ca-example/keys/server.key         |  9 ++++++++
 testing/ca-example/requests/server.req     |  8 ++++++++
 testing/ca-example/serial.txt              |  2 +-
 9 files changed, 98 insertions(+), 18 deletions(-)

commit 33ff270423051658df16da9916e377b587c7b212
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-04

    [gcr] Redo the PKCS#11 configuration file.
    
    Use /etc/pkcs11/pkcs11-options and pkcs11-options.defaults files
    instead. Don't use XDG style stuff if we're not going to follow
    the XDG base dir specification.

 gcr/Makefile.am             |  4 ++--
 gcr/gcr-library.c           |  4 ++--
 gcr/pkcs11-options.defaults | 13 +++++++++++++
 gcr/pkcs11.conf.defaults    | 13 -------------
 4 files changed, 17 insertions(+), 17 deletions(-)

commit 5696161ae6c543457c092c807e6129646b896676
Author: Stef Walter <stef@memberwebs.com>
Date:   2011-01-04

    Remove any coverage files from docs directory before prepping coverage.
    
    Otherwise we'd get errors about missing source files and
    the like when doing 'make coverage'

 Makefile.am | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 982a0df6b8205322c47828c27d351263554fc1d9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-12-31

    [gck] Update PKCS#11 URI to add library support.
    
    Add library-description and library-description and library-manufacturer
    parts. And refactor to support parsing in different contexts better.

 docs/reference/gck/gck-docs.sgml    |   1 +
 docs/reference/gck/gck-sections.txt |   9 +
 gck/gck-enumerator.c                |  49 +++--
 gck/gck-misc.c                      |  39 ++++
 gck/gck-modules.c                   |  63 ++++--
 gck/gck-private.h                   |  12 +-
 gck/gck-slot.c                      |  36 +---
 gck/gck-uri.c                       | 217 +++++++++++++++----
 gck/gck.h                           |  29 ++-
 gck/tests/gck-test.h                |  19 --
 gck/tests/test-gck-enumerator.c     |  47 +++--
 gck/tests/test-gck-uri.c            | 405 +++++++++++++++++++++++++++++-------
 gck/tests/test-gck.h                |  43 ++++
 13 files changed, 738 insertions(+), 231 deletions(-)

commit 5c6012514a3af2b4df2af6a4cba2d8c4b5e007d5
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2011-01-19

    Updated Galician translations

 po/gl.po | 24 ++++++++++++++++++++----
 1 file changed, 20 insertions(+), 4 deletions(-)

commit 21ccee3ae3ce27ab4071e2079a65f02d7d7001a5
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2011-01-17

    Updated Hebrew translation.

 po/he.po | 30 +++++++++++++++++++++++++-----
 1 file changed, 25 insertions(+), 5 deletions(-)

commit 972a81c80430ae5e49844250f79b8fc0937537ba
Author: Ivar Smolin <okul@linux.ee>
Date:   2011-01-16

    [l10n] Updated Estonian translation

 po/et.po | 21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit 31bd770fda327908e9daf8494607a415ab8ba40c
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2011-01-15

    Updated Slovenian translation

 po/sl.po | 26 ++++++++++++++++++++++----
 1 file changed, 22 insertions(+), 4 deletions(-)

commit ff13a1d6022cb421edaf3c2d2fe9f3241b31dc24
Author: Marek Černocký <marek@manet.cz>
Date:   2011-01-15

    Updated Czech translation

 po/cs.po | 25 +++++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

commit 1fd8ccbd70f34ca78507d32d481a52766ea0e2a6
Author: Marek Černocký <marek@manet.cz>
Date:   2011-01-15

    Adding file with strings for translation

 po/POTFILES.in | 1 +
 1 file changed, 1 insertion(+)

commit 9bb0cf60d1b672d69984df515a79e9ba99fdd28c
Author: Marek Černocký <marek@manet.cz>
Date:   2011-01-15

    Selection strings for translation

 tool/gkr-tool.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit a1db77fe5eff72d289930cf9662f85a8d8aedafa
Author: Marek Černocký <marek@manet.cz>
Date:   2011-01-15

    I18N fix - using ngettext

 gcr/gcr-key-renderer.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b444ad69b5547d64ee436ebfd2ab51142220434f
Author: Marek Černocký <marek@manet.cz>
Date:   2011-01-15

    Updated Czech translation

 po/cs.po | 587 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 318 insertions(+), 269 deletions(-)

commit aafd97dff158eea43e69afc38b5f930e877c79f5
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-01-15

    Updated Norwegian bokmål translation

 po/nb.po | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 51b31a3f1808316d512c4a87a87eec2a773697bb
Author: Alexander Shopov <ash@kambanaria.org>
Date:   2011-01-15

    Updated Bulgarian translation

 po/bg.po | 533 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 260 insertions(+), 273 deletions(-)

commit 51724e451dd0fa2b911abb2eb816e2b11dfba437
Author: Christos Spyroglou <cspyroglou@gmail.com>
Date:   2011-01-13

    Updated Greek translation

 po/el.po | 607 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 335 insertions(+), 272 deletions(-)

commit d4b1f8ee2c691e2c62f8ad73befddcd388a7e4c9
Author: Ivar Smolin <okul@linux.ee>
Date:   2011-01-10

    [l10n] Updated Estonian translation

 po/et.po | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 18195e8901dda7bb5736224b37714ea723d66b32
Author: Nguyen Vu Hung <vuhung16plus@gmail.com>
Date:   2011-01-10

    Updated Vietnamese translation

 po/vi.po | 88 +++++++++++++++++++++++++---------------------------------------
 1 file changed, 34 insertions(+), 54 deletions(-)

commit fa96392ebf8be1e051492def76c2e67a31ff81f2
Author: Nguyễn Thái Ngọc Duy <pclouds@gmail.com>
Date:   2011-01-10

    po/vi.po: import from Damned Lies

 po/vi.po | 1119 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 635 insertions(+), 484 deletions(-)

commit af6309d3a23a5205c4802c9db324011bfc82f542
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2011-01-09

    Updated Galician translations

 po/gl.po | 28 +++++++++++++++++-----------
 1 file changed, 17 insertions(+), 11 deletions(-)

commit f4e30959a1b73c74403f0dcb13330a0678560802
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2011-01-02

    Updated Norwegian bokmål translation from Torstein Adolf Winterseth

 po/nb.po | 122 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 66 insertions(+), 56 deletions(-)

commit f6ec77e5bc25d2e4e00e004e3a6b011fedb0fd33
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-12-31

    [l10n] Updated Estonian translation

 po/et.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 29fc22871c0da549b832161bb7df54bfb52f691a
Author: Daniel Nylander <po@danielnylander.se>
Date:   2010-12-29

    Updated Swedish translation

 po/sv.po | 623 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 330 insertions(+), 293 deletions(-)

commit 11c907625c6a4af12758feca9ed2b893b70e2716
Author: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date:   2010-12-28

    libgcr.so: Only export symbols that begin with gcr_
    
    Bug #638216

 gcr/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 13ba0a7f68a91a66c87482fcb3448f88cdb60ce3
Author: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date:   2010-12-28

    libgck.so: Only export symbols that begin with gck_
    
    Bug #638216

 gck/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c56c229f532d83034e20387a206a2a298e8e7604
Author: Saleem Abdulrasool <compnerd@compnerd.org>
Date:   2010-02-20

    [daemon] convert component names to macros

 daemon/gkd-main.c | 22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit b2e63f169023e50d6fc3db55b2b554ae8e76af94
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-12-28

    Updated Slovenian translation

 po/sl.po | 27 ++++++++++++++++-----------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit 8cafce73a8b7fc987a0ba2142c89c50b315b5f7b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-12-24

    [pkcs11] Create necessary directory when storing file.
    
    When storing files in the xdg-store the necessary directory
    was not created and a warning was issued.

 pkcs11/gkm/gkm-transaction.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit 7c5482edde7e95b1992f2858cf91e9e3e74ee985
Author: Gheyret T.Kenji <gheyret@gmail.com>
Date:   2010-12-23

    Added UG translation

 po/ug.po | 58 +++++++++++++++++++++++++++++-----------------------------
 1 file changed, 29 insertions(+), 29 deletions(-)

commit a4ff6acf076aae514c913fd52b87354c0867a1c7
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-12-23

    Updated Hebrew translation.

 po/he.po | 25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit df37c82cc26eff18ded4a6413de0de2191507dc8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    Release 2.91.4

 NEWS | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 3c8767adcdf6af0db13ca14f20cea215f1024c1f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [gcr] More fixes for GTK+ 2.91.7
    
     * gtk_widget_render_icon()
     * gdk_cursor_unref()

 gcr/gcr-display-view.c | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 57ef644af3e0d1e3f046606ad4ec6ea76e984bb0
Author: Martin Rapavý <antikapitalista1@gmail.com>
Date:   2010-12-22

    Fix build so it respects DESTDIR
    
    Use $(DESTDIR) when marking daemon as setuid.

 daemon/Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8c57f2cf3408d1a64a50c01bf823c2232f48bf29
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [gcr] Make tests use pkcs11.conf.defaults from srcdir.
    
    So that make distcheck passes, and tests run without
    a prior 'make install'

 gcr/Makefile.am                     |  8 ++------
 gcr/gcr-internal.h                  |  4 ++++
 gcr/gcr-library.c                   | 29 ++++++++++++++++++-----------
 gcr/tests/Makefile.am               |  1 +
 gcr/tests/test-certificate-chain.c  |  4 ++++
 gcr/tests/test-certificate.c        |  4 ++++
 gcr/tests/test-pkcs11-certificate.c |  4 ++++
 gcr/tests/test-simple-certificate.c |  3 +++
 gcr/tests/test-trust.c              |  4 ++++
 gcr/tests/unit-test-parser.c        |  4 ++++
 10 files changed, 48 insertions(+), 17 deletions(-)

commit f98b8d0cb814f5c5862a66b0182a6c67358551a6
Merge: f631b23 e3438dc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    Merge branch 'trust-store'

commit e3438dc739ed076eef231b6f4946b0152bc7b801
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [gcr] PKCS#11 conf file is now in /etc/xdg
    
    And install a pkcs11.conf.defaults file which is updated along
    with gnome-keyring, and then a pkcs11.conf file which is editable
    and can be overridden by admin/user.

 gcr/Makefile.am          | 17 +++++++++++++++--
 gcr/gcr-library.c        | 35 ++++++++++++++++-------------------
 gcr/pkcs11.conf.defaults | 13 +++++++++++++
 3 files changed, 44 insertions(+), 21 deletions(-)

commit 98c748db23dfc5c071251932dd945c51300629c3
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [po] Add missing translatable file.

 po/POTFILES.in | 1 +
 1 file changed, 1 insertion(+)

commit 962e450cba176d1d4245aa9672e25ffe39372d87
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [egg] Don't try to encode optional sequences if empty.

 egg/egg-asn1x.c | 2 ++
 1 file changed, 2 insertions(+)

commit 4ae95e2d8643e7c2033e620d7ad9277d2bed2d4c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [egg] Remove non-deterministic checks in spawn tests.
    
    These complete in a different thread, and the check is vulnerable
    to a race condition.

 egg/tests/unit-test-spawn.c | 4 ----
 1 file changed, 4 deletions(-)

commit 4628fa5d34fe0700ed4e996b1297ebef101ca404
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [gkm] Better warnings when ASN.1 can't be encoded.
    
    Useful for debugging and testing.

 pkcs11/gkm/gkm-data-der.c | 31 +++++++++++++++++++++++++++----
 1 file changed, 27 insertions(+), 4 deletions(-)

commit 25ff96c134937f0fa08c73334346c0709c94180e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    [egg] Fix uninitialized list pointers.

 egg/egg-asn1x.c | 2 ++
 1 file changed, 2 insertions(+)

commit 61b18c409fe27a173b301e1ef1c1392573a31db8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-22

    Add missing files to distribution.

 egg/tests/Makefile.am                 | 8 ++++----
 gck/tests/Makefile.am                 | 6 +++---
 gcr/tests/Makefile.am                 | 2 +-
 pkcs11/gkm/Makefile.am                | 1 +
 pkcs11/gkm/tests/Makefile.am          | 6 +++---
 pkcs11/gnome2-store/tests/Makefile.am | 2 +-
 pkcs11/roots-store/tests/Makefile.am  | 2 +-
 pkcs11/secret-store/tests/Makefile.am | 6 +++---
 pkcs11/ssh-store/tests/Makefile.am    | 2 +-
 pkcs11/xdg-store/Makefile.am          | 3 +++
 pkcs11/xdg-store/tests/Makefile.am    | 6 +++---
 testing/testing.make                  | 3 +++
 ui/tests/Makefile.am                  | 6 +++---
 13 files changed, 30 insertions(+), 23 deletions(-)

commit f631b2374575ec419006b81ebceb401d93b76c39
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-20

    [pkcs11] Install standalone devel modules to consistent location.

 pkcs11/roots-store/Makefile.am  | 2 +-
 pkcs11/secret-store/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a009c2f5caef5e19294cc31f99ff3214391d070d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    [roots-store] Fix memory leak of unique string.

 pkcs11/roots-store/gkm-roots-module.c | 1 +
 1 file changed, 1 insertion(+)

commit 4ed1f5b7af85f6170d7cdd7d92fc8ee07d8b9d2b
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-12-20

    [l10n] Updated Estonian translation

 po/et.po | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fef64c17c38ffaa6e1dc0839198e7d60beeaf81b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-12-18

    [gcr] Add config file for setting trust slot origin/storage
    
    Looks up which PKCS#11 slots to use for trust assertion lookups
    and storage in /etc/pkcs11.conf

 docs/reference/gcr/gcr-sections.txt |   4 +-
 gcr/Makefile.am                     |   2 +-
 gcr/gcr-library.c                   | 137 ++++++++++++++++++++++++++++--------
 gcr/gcr-library.h                   |   8 ++-
 gcr/gcr-trust.c                     |  66 +++++++----------
 gcr/tests/test-certificate-chain.c  |   6 +-
 gcr/tests/test-trust.c              |   5 ++
 7 files changed, 152 insertions(+), 76 deletions(-)

commit a8f145a910d1326724f87e872d06b560934a2878
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-12-18

    [gck] Allow enumeration over slots as well as modules.
    
    Can now enumerate object over a list of slots, as well as
    a list of modules.

 docs/reference/gck/gck-sections.txt |   1 +
 gck/gck-enumerator.c                | 116 ++++++++++++++++--------------------
 gck/gck-modules.c                   |   2 +-
 gck/gck-slot.c                      |  19 ++++++
 gck/gck.h                           |   4 ++
 gck/tests/test-gck-enumerator.c     |  38 +++++++++++-
 6 files changed, 113 insertions(+), 67 deletions(-)

commit 025e2ec6b4057cb4913642cd481b43a585ac3af8
Author: Torstein Adolf Winterseth <kvikende@fsfe.org>
Date:   2010-12-16

    Updated Norwegian Nynorsk translation

 po/nn.po | 1696 +++++++++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 1240 insertions(+), 456 deletions(-)

commit de40c6f414730a1af39f3c9a8bcf86f0c816c30a
Author: Mário Buči <mario.buci@gmail.com>
Date:   2010-12-14

    Updated Slovak translation

 po/sk.po | 1654 +++++++++++++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 1364 insertions(+), 290 deletions(-)

commit 8d16bcef2bdc7fff954c6fae1cca86c5b0c69d55
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-14

    [gcr] Add distrusted GcrCertificateChainStatus
    
    However no implementation yet.

 gcr/gcr-certificate-chain.c | 68 ++++++++++++++++++++++++---------------------
 gcr/gcr-certificate-chain.h |  1 +
 2 files changed, 38 insertions(+), 31 deletions(-)

commit 54488eab6da95b325f2b15965bc355b6848aa535
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    [gcr] Fix memory leaks in trust lookup tests.

 gcr/tests/test-trust.c | 2 ++
 1 file changed, 2 insertions(+)

commit 5273a8e0562587158037bed9b26292ef9c8873a8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    [gcr] Fix memory leaks in async functions.
    
    g_async_result_get_source_object() refs its result.

 gcr/gcr-pkcs11-certificate.c |  6 ++++--
 gcr/gcr-trust.c              | 12 ++++++++++--
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 42f78db0c04f11e8603ad979955403beae50af27
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    [gcr] Fix memory leaks in certificate chain code.

 gcr/gcr-certificate-chain.c        | 10 ++++++----
 gcr/tests/test-certificate-chain.c |  5 ++++-
 2 files changed, 10 insertions(+), 5 deletions(-)

commit dc618d06a2293d9d315da431c94b2bb5f507b428
Merge: 5470f81 a47bf28
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    Merge branch 'master' into trust-store

commit a47bf28ad2a01ffd3253d8784f0adab46b1732a8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    [gcr] Fix memory leaks in gcr test code.

 gcr/tests/unit-test-parser.c | 2 ++
 testing/testing.c            | 1 +
 2 files changed, 3 insertions(+)

commit bcbe3274bbade7485ae1994210a64416d527d70f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    [egg] Fix memory leaks in ASN.1 code.

 egg/egg-asn1x.c | 25 ++++++++++++++-----------
 1 file changed, 14 insertions(+), 11 deletions(-)

commit 5e068c55bf369433a3de5299900cb1fc9a4b634d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-09

    [gcr] Fix Gtk+ version check.
    
    2.91.6 has the new style-context code, not 2.91.5

 gcr/gcr-display-view.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5470f81b5a0213ef4a1c46aa96ec969bc956cd5c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-13

    Use term 'distrust' instead of 'untrust'
    
    Suggested by Yaron Sheffer and describes the concept much
    more aptly.

 gck/gck-dump.c                          |  2 +-
 pkcs11/gkm/gkm-trust.c                  |  2 +-
 pkcs11/gkm/gkm-trust.h                  |  2 +-
 pkcs11/pkcs11x.h                        |  2 +-
 pkcs11/roots-store/gkm-roots-trust.c    |  6 +++---
 pkcs11/xdg-store/gkm-xdg-assertion.c    |  2 +-
 pkcs11/xdg-store/gkm-xdg-trust.c        | 16 +++++++--------
 pkcs11/xdg-store/tests/test-xdg-trust.c | 36 ++++++++++++++++-----------------
 tool/gkr-tool-trust.c                   |  8 ++++----
 9 files changed, 38 insertions(+), 38 deletions(-)

commit 769beac2fbaec97c1c1088c32e0d62704f13523c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-11

    [gcr] Documentation fixes for GcrCertificateChain

 gcr/gcr-certificate-chain.c | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 299cde4da206cb3083cd3c68d77c94a7e1d17626
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-11

    [gcr] Certificate chain has a 'status' not a 'type'
    
    This makes things clearer. Also add enum and flags types for
    certificate chain stuff.

 docs/reference/gcr/gcr-sections.txt |   4 +-
 gcr/gcr-certificate-chain.c         | 122 ++++++++++++++++++++++++------------
 gcr/gcr-certificate-chain.h         |  27 +++++---
 gcr/gcr-trust.c                     |   2 +-
 gcr/tests/test-certificate-chain.c  |  36 +++++------
 5 files changed, 122 insertions(+), 69 deletions(-)

commit 97df19e2a36b701a43bb85edc6d0a17bc17c6eb0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-11

    [gcr] Fix problem where issuer was returned instead of subject.

 gcr/gcr-certificate.c        |  2 +-
 gcr/tests/test-certificate.c | 44 +++++++++++++++++++++++++++++++++++++-------
 2 files changed, 38 insertions(+), 8 deletions(-)

commit df82f81996148ce1b891573a1ec8c20b0f598614
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [gcr] Fix memory leak in certificate chain building.

 gcr/gcr-certificate-chain.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eeeaa5c0c2a3589488a20b370bcc65ed679b0ddf
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    Rename CKA_G_ trust prefix to CKA_X_ and move to own file.
    
    Move the PKCS#11 trust extensions to its own file and give it
    its own prefix.

 daemon/ssh-agent/gkd-ssh-agent-ops.c           |   1 -
 gck/gck-dump.c                                 |  27 ++--
 gcr/gcr-trust.c                                |  31 ++--
 gcr/tests/test-certificate-chain.c             |  21 +--
 gcr/tests/test-trust.c                         |  10 +-
 pkcs11/Makefile.am                             |   4 +-
 pkcs11/gkm/gkm-assertion.c                     |  12 +-
 pkcs11/gkm/gkm-certificate.c                   |   2 +-
 pkcs11/gkm/gkm-module.c                        |   1 -
 pkcs11/gkm/gkm-object.c                        |   1 -
 pkcs11/pkcs11g.h                               |  47 ------
 pkcs11/pkcs11i.h                               |  43 +++--
 pkcs11/pkcs11x.h                               |  44 +++++
 pkcs11/roots-store/gkm-roots-trust.c           |   9 +-
 pkcs11/rpc-layer/gkm-rpc-dispatch.c            |   1 -
 pkcs11/ssh-store/tests/unit-test-private-key.c |   2 +-
 pkcs11/wrap-layer/gkm-wrap-layer.c             |   1 -
 pkcs11/xdg-store/gkm-xdg-assertion.c           |  27 ++--
 pkcs11/xdg-store/gkm-xdg-trust.c               |  31 ++--
 pkcs11/xdg-store/tests/test-xdg-trust.c        | 216 +++++++++++++------------
 20 files changed, 265 insertions(+), 266 deletions(-)

commit 2ac2d39cfd9b4fa265f560f1b0f57b006f019ad0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    Change terminology to 'pinned certificate' from 'exception'.
    
    The matching terminology of 'anchored certificate' and 'pinned
    certificate' makes things consistent and understandable.

 docs/reference/gcr/gcr-sections.txt       |  24 +--
 gck/gck-dump.c                            |   6 +-
 gcr/gcr-certificate-chain.c               |   8 +-
 gcr/gcr-trust.c                           | 262 ++++++++++++-------------
 gcr/gcr-trust.h                           |  24 +--
 gcr/tests/test-certificate-chain.c        |   8 +-
 gcr/tests/test-trust.c                    |  74 +++----
 pkcs11/pkcs11i.h                          |   6 +-
 pkcs11/roots-store/gkm-roots-trust.c      |   6 +-
 pkcs11/xdg-store/gkm-xdg-assertion.c      |   6 +-
 pkcs11/xdg-store/gkm-xdg-trust-netscape.c | 314 ------------------------------
 pkcs11/xdg-store/gkm-xdg-trust-netscape.h |  59 ------
 pkcs11/xdg-store/gkm-xdg-trust.c          |  18 +-
 pkcs11/xdg-store/tests/test-xdg-trust.c   |  78 ++++----
 tool/gkr-tool-trust.c                     |   4 +-
 15 files changed, 260 insertions(+), 637 deletions(-)

commit 2d97fa8b25bd328c5f678412e2804c0d6bbeb071
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [gcr] Add GcrCertificateChain
    
    Represents a certificate chain, and has an operation which builds
    the chain into a complete chain and identifies the type of chain.

 docs/reference/gcr/gcr-docs.sgml          |   1 +
 docs/reference/gcr/gcr-sections.txt       |  28 ++
 docs/reference/gcr/gcr.types              |   3 +-
 gcr/Makefile.am                           |   2 +
 gcr/gcr-certificate-chain.c               | 735 ++++++++++++++++++++++++++++++
 gcr/gcr-certificate-chain.h               | 113 +++++
 gcr/gcr.h                                 |   1 +
 gcr/tests/Makefile.am                     |   1 +
 gcr/tests/test-certificate-chain.c        | 580 +++++++++++++++++++++++
 gcr/tests/test-data/collabora-ca.cer      | Bin 0 -> 1536 bytes
 gcr/tests/test-data/dhansak-collabora.cer | Bin 0 -> 1200 bytes
 11 files changed, 1463 insertions(+), 1 deletion(-)

commit ff78a09d4ea8acff295cf4a55db18a8d1326e0be
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [gcr] Fix type check macros for certificate implementations.
    
    The type check macros for GcrSimpleCertificate and GcrPkcs11Certificate
    were wrong.

 gcr/gcr-pkcs11-certificate.h | 10 +++++-----
 gcr/gcr-simple-certificate.h | 10 +++++-----
 2 files changed, 10 insertions(+), 10 deletions(-)

commit a9de9b76ea6c78ece2c9ee315c30c6017c44570e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [pkcs11] Fix up standalone modules for use in tests.
    
     * Make the standalone modules always resident after loading.
     * Install modules to a path that's published in the pkg-config file.

 configure.in                                |  6 ++++++
 gcr/gcr.pc.in                               |  2 ++
 pkcs11/gnome2-store/Makefile.am             |  2 +-
 pkcs11/roots-store/Makefile.am              |  4 ++--
 pkcs11/roots-store/gkm-roots-standalone.c   | 15 +++++++++++++++
 pkcs11/rpc-layer/Makefile.am                |  2 +-
 pkcs11/secret-store/Makefile.am             |  4 ++--
 pkcs11/secret-store/gkm-secret-standalone.c | 15 +++++++++++++++
 pkcs11/ssh-store/Makefile.am                |  4 ++--
 pkcs11/ssh-store/gkm-ssh-standalone.c       | 15 +++++++++++++++
 pkcs11/xdg-store/Makefile.am                |  4 ++--
 pkcs11/xdg-store/gkm-xdg-standalone.c       | 15 +++++++++++++++
 12 files changed, 78 insertions(+), 10 deletions(-)

commit 327f993d938e34bf65dae69294a077c706289ab4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [roots-store] Instantiate trust assertions in properly.
    
    Fix bugs related to creating assertion objects in the roots-store.

 pkcs11/gkm/gkm-certificate.c         | 11 +++++
 pkcs11/gkm/gkm-certificate.h         |  2 +
 pkcs11/roots-store/gkm-roots-trust.c | 83 +++++++++++++++++++++---------------
 3 files changed, 62 insertions(+), 34 deletions(-)

commit 53eb7be6c5177a988d25a2a39bba742353ff9a41
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [gcr] Fix leak in gcr_pkcs11_certificate_lookup_issuer()

 gcr/gcr-pkcs11-certificate.c | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit a3f17760b4d7f3fc3448a726a3507d1bb501b3ed
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [gcr] Add function to load module from file.
    
    Add gcr_pkcs11_add_module_from_file()

 docs/reference/gcr/gcr-sections.txt |  1 +
 gcr/gcr-library.c                   | 36 +++++++++++++++++++++++++++++++++++-
 gcr/gcr-library.h                   |  4 ++++
 3 files changed, 40 insertions(+), 1 deletion(-)

commit bf3329de95dfa39f854036390278af6ccefdd25d
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-10

    [gcr] Expose functions for setting which pkcs11 modules to use.
    
    Add gcr_pkcs11_get_modules(), gcr_pkcs11_set_modules(), gcr_pkcs11_add_module(),
    gcr_pkcs11_get_trust_lookup_modules(), gcr_pkcs11_get_trust_store_slot(),
    gcr_pkcs11_get_trust_store_uri(), gcr_pkcs11_set_trust_store_uri()

 docs/reference/gcr/gcr-docs.sgml    |   4 +
 docs/reference/gcr/gcr-sections.txt |  11 +++
 gcr/Makefile.am                     |   3 +-
 gcr/gcr-import-dialog.c             |   7 +-
 gcr/gcr-internal.h                  |  41 +++++----
 gcr/gcr-library.c                   | 163 ++++++++++++++++++++++++++++++++----
 gcr/gcr-library.h                   |  49 +++++++++++
 gcr/gcr-parser.c                    |   1 +
 gcr/gcr-pkcs11-certificate.c        |   4 +-
 gcr/gcr-trust.c                     |  74 ++++++++++++++--
 gcr/gcr.h                           |   1 +
 gcr/tests/test-pkcs11-certificate.c |  10 +--
 gcr/tests/test-trust.c              |  13 ++-
 13 files changed, 318 insertions(+), 63 deletions(-)

commit 4b45a2761cd8602cc601df728f18064cab0adf18
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-09

    Find the root certificates by default.
    
    We need to have a good set of root anchor certificates. So look for them
    in configure by default. This can be disabled with --without-root-certs
    or fine tuned with --with-root-certs=/path/to/certs

 configure.in | 36 ++++++++++++++++++++++++++----------
 1 file changed, 26 insertions(+), 10 deletions(-)

commit adf6c1c4b5d6bbe4289477539a3bab9a2cce7d3a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-09

    [gcr] Fix Gtk+ version check.
    
    2.91.6 has the new style-context code, not 2.91.5

 gcr/gcr-display-view.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a7058241b2ac601c927ec86656c56944c6b8d78
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-07

    Include Makefile.local into build if it exists

 .gitignore   | 1 +
 Makefile.am  | 5 +++++
 configure.in | 3 +++
 3 files changed, 9 insertions(+)

commit e7fc25a56cb4c4e039e60f2b4457183711ca5e75
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-07

    [gcr] Complete documentation for various certificate types.

 docs/reference/gcr/gcr-docs.sgml    |  41 ++++++++-------
 docs/reference/gcr/gcr-sections.txt |  24 ++++++++-
 docs/reference/gcr/gcr.types        |   1 +
 gcr/gcr-certificate.c               |  53 ++++++++++++++++---
 gcr/gcr-pkcs11-certificate.c        | 102 +++++++++++++++++++++++++++++++-----
 gcr/gcr-pkcs11-certificate.h        |  10 ++--
 gcr/gcr-simple-certificate.c        |  34 ++++++++++++
 gcr/gcr-trust.c                     |   2 +-
 8 files changed, 222 insertions(+), 45 deletions(-)

commit 73cb96415080d56ddee81585414b1676d637e444
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-07

    [gcr] Document trust storage and lookup functions.

 docs/reference/gcr/gcr-docs.sgml    |   5 +-
 docs/reference/gcr/gcr-sections.txt |  87 ++------
 gcr/gcr-trust.c                     | 427 +++++++++++++++++++++++++++++-------
 gcr/gcr-trust.h                     |  40 ++--
 4 files changed, 388 insertions(+), 171 deletions(-)

commit 18782abb13e8273f0d63974374b8a5536e9bbc93
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-07

    [gcr] More build fixes.

 gcr/tests/test-certificate.c | 3 +--
 gcr/tests/unit-test-parser.c | 2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit be5e83c8d4ea50cd569d4fe7e5095ad1806c3e6b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gcr] Implement GcrPkcs11Certificate which loads certs from PKCS#11
    
    In particular we can lookup certs by issuer from the PKCS#11 store.

 gck/gck-mock.c                      |   7 +
 gck/gck-mock.h                      |   5 +
 gcr/gcr-pkcs11-certificate.c        | 334 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-pkcs11-certificate.h        |  76 ++++++++
 gcr/tests/Makefile.am               |   1 +
 gcr/tests/test-pkcs11-certificate.c | 255 +++++++++++++++++++++++++++
 6 files changed, 678 insertions(+)

commit e85ae4c3d5c72da2689a75e457b859a1acb5ac92
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gcr] Include libgck headers explictly in gcr headers.
    
    When we derive objects from gck objects, we have to include the
    headers properly and not try to hide them.

 gcr/Makefile.am                |  2 ++
 gcr/gcr-certificate-renderer.h |  4 ++--
 gcr/gcr-certificate-widget.h   |  4 ++--
 gcr/gcr-importer.h             | 10 +++++-----
 gcr/gcr-initializer.h          |  4 ++--
 gcr/gcr-key-renderer.h         |  6 +++---
 gcr/gcr-key-widget.h           |  6 +++---
 gcr/gcr-parser.h               |  2 +-
 gcr/gcr-renderer.h             |  4 ++--
 gcr/gcr-types.h                | 16 +++++++++++-----
 gcr/gcr.h                      |  3 ++-
 11 files changed, 35 insertions(+), 26 deletions(-)

commit be49d7a554b0f7cf284ac5050610287b82552a9c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gcr] Move to a single header model.
    
    Similar to gtk, where you can only include <gcr/gcr.h> to prevent
    future API breaks because of headers.

 gcr/Makefile.am                    |  1 +
 gcr/gcr-certificate-renderer.h     |  4 ++++
 gcr/gcr-certificate-widget.h       |  4 ++++
 gcr/gcr-certificate.h              |  4 ++++
 gcr/gcr-importer.h                 |  4 ++++
 gcr/gcr-key-renderer.h             |  4 ++++
 gcr/gcr-key-widget.h               |  4 ++++
 gcr/gcr-parser.h                   |  4 ++++
 gcr/gcr-simple-certificate.h       |  4 ++++
 gcr/gcr-trust.h                    |  4 ++++
 gcr/gcr-types.h                    | 31 +++++++++++++++++++++++++++----
 gcr/gcr-unlock-options-widget.h    |  4 ++++
 gcr/gcr.h                          | 33 +++++++++++++++++++++++++--------
 gcr/tests/ui-test-certificate.c    | 25 +++++++++++++++++++++++--
 gcr/tests/ui-test-key.c            | 25 +++++++++++++++++++++++--
 gcr/tests/ui-test-unlock-options.c | 24 +++++++++++++++++++++++-
 tool/gkr-tool-import.c             |  3 +--
 ui/gku-prompt-tool.c               |  2 +-
 18 files changed, 164 insertions(+), 20 deletions(-)

commit 1e893d514b99cf5205436c3b4ce04e6df3639ea0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gcr] Use void pointers instead of unsigned char for data.
    
    Use void pointers to make like simpler and clearer.

 gcr/gcr-certificate-renderer.c |  2 +-
 gcr/gcr-certificate.c          | 16 ++++++++--------
 gcr/gcr-certificate.h          |  4 ++--
 gcr/gcr-simple-certificate.c   |  2 +-
 4 files changed, 12 insertions(+), 12 deletions(-)

commit 7db5390a48ec57c678b17174bb81be7ee87a6c4f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    Add make target to clear coverage data.

 Makefile.am | 4 ++++
 1 file changed, 4 insertions(+)

commit 4bdd3b73618fc9e80e154431cf04cc1f102a03aa
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gcr] Add gcr_certificate_is_issuer() and finish up testing.
    
    Add a function to test if a certificate is the issuer of another,
    and finish up testing, fix some bugs.

 gcr/gcr-certificate.c                       |  62 ++++++++--
 gcr/gcr-certificate.h                       |   9 +-
 gcr/tests/Makefile.am                       |   2 +-
 gcr/tests/test-certificate.c                | 181 ++++++++++++++++++++++++++++
 gcr/tests/test-data/der-certificate-dsa.cer | Bin 0 -> 1639 bytes
 gcr/tests/unit-test-certificate.c           | 157 ------------------------
 6 files changed, 240 insertions(+), 171 deletions(-)

commit 44153b4b098468c775bd54587ccf0d3c4d9af32a
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gcr] GcrSimpleCertificate tests.

 gcr/gcr-simple-certificate.c        |  4 +-
 gcr/tests/Makefile.am               |  1 +
 gcr/tests/test-simple-certificate.c | 84 +++++++++++++++++++++++++++++++++++++
 3 files changed, 86 insertions(+), 3 deletions(-)

commit fb277c5b6056ef53e35dc4805cf313c02cbe6080
Merge: dc3e7af f397c29
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    Merge branch 'master' into trust-store

commit f397c297c7a150eadfb4d1ab29d13a15cbadbf60
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gck] Don't load *.la files as PKCS#11 modules.
    
    grumble, grumble, libtool, grumble.

 gck/gck-modules.c | 4 ++++
 1 file changed, 4 insertions(+)

commit dc3e7af8a1c631fc01230208d4b5a90b243bf3b2
Merge: 84f4415 4d1f139
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    Merge branch 'master' into trust-store

commit 4d1f1393f839493cd4853e399a5e0db1a11cb527
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-06

    [gcr] Fix build for GTK+3 style-context changes.
    
    Use new gtk_widget_override_background_color() function.

 gcr/gcr-display-view.c | 5 +++++
 1 file changed, 5 insertions(+)

commit b1d80602fc22365a40806c3c234326cf102dcfc7
Author: Yanko Kaneti <yaneti@declera.com>
Date:   2010-11-22

    has-separator is gone
    
    https://bugzilla.gnome.org/show_bug.cgi?id=635495

 ui/gku-prompt.ui | 1 -
 1 file changed, 1 deletion(-)

commit d9a669d217de1dcece6fbef7ebb8e49125d51a4d
Author: Jasper Lievisse Adriaanse <jasper@humppa.nl>
Date:   2010-12-06

    [daemon] Fix pointer truncation by including header.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=635761

 daemon/control/gkd-control-server.c | 1 +
 1 file changed, 1 insertion(+)

commit 84f44154cdfcee219ebc4ab3b7fe5940f4c1cee4
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-12-02

    [gcr] Make GcrSimpleCertificate constructor accept simple pointer.
    
    Make it easier to deal with data whether unsigned or signed,
    gint8 or char, etc.

 gcr/gcr-simple-certificate.c | 2 +-
 gcr/gcr-simple-certificate.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 772128c41f7c069ed926bba8c78ea4dd4ce7c2ef
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-30

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 91a0f972c23aa3f749834bfbe8964228f9578c78
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-30

    Release version 2.91.3

 NEWS | 6 ++++++
 1 file changed, 6 insertions(+)

commit 78c999bd8588cf2d94acea01a842d1a4a5e6c3c1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-30

    [pkcs11] Shutdown module timer when holding proper mutex.

 pkcs11/gkm/gkm-timer.c | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 2894f1124af2f121e769a330370d5275bb90d656
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-30

    Ignore built files on trust-store branch.

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 8453056f507d87f7c80315e8a23485bc0972bc2b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-30

    Change coverage target to clear after generating.
    
    Use 'make coverage' after running code.

 Makefile.am | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 07699cc140ad40ada9c3810e25e45208be5510d7
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-29

    [gcr] Complete tests of gcr_trust_xxx functionality.

 gck/gck-mock.c         | 16 +++++++++
 gck/gck-mock.h         | 10 ++++++
 gcr/gcr-trust.c        | 39 ++++++++++----------
 gcr/gcr-trust.h        | 12 +++----
 gcr/tests/test-trust.c | 98 +++++++++++++++++++++++++++++++++++++-------------
 5 files changed, 126 insertions(+), 49 deletions(-)

commit 80c122631ab04fc1e3444a8d4197c97a694c1a85
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-29

    [gck] Fix crash in enumerator when C_FindObjects fails.
    
    If C_FindObjects failed when used in a gck_enumerate_xxx()
    and friends, then we would crash.

 gck/gck-enumerator.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8f521c9f042ec53429c9028a8b940dfe46f4d415
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-29

    [gck] Add functionality for dumping PKCS#11 attributes.
    
    gck_attribute_dump() and gck_attributes_dump()

 gck/Makefile.am |   1 +
 gck/gck-dump.c  | 348 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 gck/gck.h       |   3 +
 3 files changed, 352 insertions(+)

commit 46b6467072168226976c75da5ccf8c3a09e006f0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-29

    [testing] Make testing function names more palatable.

 testing/testing-build.sh | 14 +++++++-------
 testing/testing.h        | 12 ++++++------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit e02a125f045aa9d0508c398ec4a6275e244dbb94
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [xdg-store] Tests and fixes for removing trust assertions.

 pkcs11/xdg-store/gkm-xdg-trust.c        | 12 +++++++++--
 pkcs11/xdg-store/tests/test-xdg-trust.c | 35 +++++++++++++++++++++++++++++++++
 2 files changed, 45 insertions(+), 2 deletions(-)

commit a53afd7173f3f41d17db6f55d41f7fdc2c8bc787
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [xdg-store] Test remaining netscape trust assertion mappings.

 pkcs11/xdg-store/tests/test-xdg-trust.c | 125 +++++++++++++++++++++++++++++++-
 1 file changed, 124 insertions(+), 1 deletion(-)

commit 0dff075a4470947bdf36341955d37fd578957d39
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [xdg-store] Trust assertions with same purpose/peer replace each other.

 pkcs11/xdg-store/gkm-xdg-assertion.c    |  9 +--------
 pkcs11/xdg-store/gkm-xdg-trust.c        | 22 +++++++++-------------
 pkcs11/xdg-store/gkm-xdg-trust.h        |  2 +-
 pkcs11/xdg-store/tests/test-xdg-trust.c | 25 ++++++++++++++++---------
 4 files changed, 27 insertions(+), 31 deletions(-)

commit 5488f4ac054906a5b8ab53bdecca83865d672858
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [testing] Add function to clear scratch directory.
    
    testing_scratch_remove_all()

 pkcs11/xdg-store/tests/test-xdg-module.c |  3 +++
 testing/testing.c                        | 18 ++++++++++++++++++
 testing/testing.h                        |  2 ++
 3 files changed, 23 insertions(+)

commit 4c31c175231c906b73e958a0856adc1df0e98252
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [xdg-store] Tests and more bug fixes for trust assertions.
    
     * Start of netscape trust map tests.
     * Rewrite how netscape trust attribute mapping happens.
     * Change how assertions are put into trust hash table.

 pkcs11/xdg-store/gkm-xdg-assertion.c    |  17 +-
 pkcs11/xdg-store/gkm-xdg-module.c       |   6 +-
 pkcs11/xdg-store/gkm-xdg-trust.c        | 273 +++++++++---------
 pkcs11/xdg-store/tests/test-xdg-trust.c | 494 ++++++++++++++++++++++++--------
 4 files changed, 516 insertions(+), 274 deletions(-)

commit d67cb780699ba5505d0a73a0906ee3e3b8f5a518
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [pkcs11] Refresh token before creating token object.
    
     * Also remove redundant function.

 pkcs11/gkm/gkm-session.c | 30 +++++++-----------------------
 1 file changed, 7 insertions(+), 23 deletions(-)

commit 7015da0d91adc360cad8d460f4ef4bfd4c9d77ab
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [pkcs11] Fix typo which fails returning hashed attributes.

 pkcs11/gkm/gkm-attributes.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 726aae151c218fcd3f65cb34c9fe769cc3e30541
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-26

    [xdg-store] Fix problems exposing and refreshing trust assertions.

 pkcs11/xdg-store/gkm-xdg-trust.c | 49 +++++++++++++++++++++++++++-------------
 1 file changed, 33 insertions(+), 16 deletions(-)

commit 00a1c8b66f5cecbd08e50cb7390d62602a52b77b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-25

    [xdg-store] Assertion creation test and fixes.

 pkcs11/gkm/gkm-assertion.c              | 15 ++++++++++++++-
 pkcs11/xdg-store/gkm-xdg-assertion.c    | 28 ++++++++++++++--------------
 pkcs11/xdg-store/gkm-xdg-trust.c        | 22 ++++++++++++++--------
 pkcs11/xdg-store/tests/test-xdg-trust.c | 28 ++++++++++++++++++++++++++++
 4 files changed, 70 insertions(+), 23 deletions(-)

commit 004c9b1d97a6f4e1257f39811af6a406c9fcaaba
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [xdg-store] Complete work on adding and removing assertions.
    
     * Support for adding and removing assertions.
     * Various other small fixes.

 pkcs11/xdg-store/gkm-xdg-assertion.c     |  52 ++++++--
 pkcs11/xdg-store/gkm-xdg-assertion.h     |   6 +-
 pkcs11/xdg-store/gkm-xdg-module.c        |  88 +++++++++++--
 pkcs11/xdg-store/gkm-xdg-trust.c         | 216 +++++++++++++++++++++++++++----
 pkcs11/xdg-store/gkm-xdg-trust.h         |  14 +-
 pkcs11/xdg-store/tests/test-xdg-module.c |  67 +++++++++-
 6 files changed, 386 insertions(+), 57 deletions(-)

commit c71f37f906c63291be247ad4a2b7705df83702c0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [gkm] PKCS#11 objects may be deletable even when not modifiable.
    
     * PKCS#11 spec has no way to signify whether an object is
       deletable or not.

 pkcs11/gkm/gkm-session.c | 5 -----
 1 file changed, 5 deletions(-)

commit a21aca10e2c4f06342ee31ab5c3ebea1d2198b8e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [testing] Move scratch file functions into testing module.
    
     * So they can be used in various places.
     * Fix the touch function to set both times properly.

 pkcs11/xdg-store/tests/test-xdg-module.c | 91 ++++----------------------------
 testing/testing.c                        | 48 +++++++++++++++++
 testing/testing.h                        |  8 +++
 3 files changed, 66 insertions(+), 81 deletions(-)

commit 4e014c7a5852d2d33935e29a4ec539d1584b09e5
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [xdg-store] Add support for storing certificates.
    
     * Fix module problems related to object creation.
     * Make GkmCertificate handle loading empty data properly.
     * Testing.

 pkcs11/gkm/gkm-certificate.c                       |   6 +-
 pkcs11/gkm/gkm-session.c                           |   9 ++-
 pkcs11/xdg-store/gkm-xdg-module.c                  |  15 +++--
 .../tests/test-data/test-certificate-1.cer         | Bin 0 -> 813 bytes
 .../tests/test-data/test-certificate-1.der         | Bin 813 -> 0 bytes
 .../tests/test-data/test-certificate-2.cer         | Bin 0 -> 813 bytes
 pkcs11/xdg-store/tests/test-xdg-module.c           |  63 +++++++++++++++------
 7 files changed, 65 insertions(+), 28 deletions(-)

commit 49fa69251cf65c48d7f355e09f2cd2ac4a27d791
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [xdg-store] Add tests for better test coverage.
    
    Test fiddling with files in the directory and seeing how
    the module reacts.

 pkcs11/xdg-store/gkm-xdg-module.c        |  21 +++-
 pkcs11/xdg-store/tests/Makefile.am       |   4 +-
 pkcs11/xdg-store/tests/test-xdg-module.c | 166 ++++++++++++++++++++++++++++++-
 3 files changed, 184 insertions(+), 7 deletions(-)

commit 85a7c816f8fca1457ed013d0ed5aadcebe10c516
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [testing] Ignore g_message and g_debug messages in tests.

 pkcs11/xdg-store/gkm-xdg-module.c        |  5 +++--
 pkcs11/xdg-store/tests/test-xdg-module.c | 12 ++++++++++++
 testing/testing.c                        | 11 +++++++++++
 3 files changed, 26 insertions(+), 2 deletions(-)

commit ea276184262b9df14b2c238a51609dfb007a4da1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [xdg-store] Fix various bugs and neuter tests.
    
     * Will be building up test coverage shortly.

 pkcs11/xdg-store/gkm-xdg-assertion.c               |  44 +--------------------
 pkcs11/xdg-store/gkm-xdg-module.c                  |   5 ++-
 .../tests/test-data/test-certificate-1.der         | Bin 0 -> 813 bytes
 .../xdg-store/tests/test-data/test-refer-1.trust   | Bin 0 -> 241 bytes
 pkcs11/xdg-store/tests/test-data/test-trust-1.der  | Bin 667 -> 0 bytes
 pkcs11/xdg-store/tests/test-xdg-module.c           |   7 +---
 pkcs11/xdg-store/tests/test-xdg-trust.c            |  16 ++++----
 7 files changed, 13 insertions(+), 59 deletions(-)

commit e12765f3eed5de52765f0faab69b32340090e836
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [pkcs11] Rename CKA_G_REMOTE to CKA_G_PEER (better terminology)
    
     * Also update various locations where we used 'remote' to 'peer'

 gcr/gcr-trust.c                  |  6 ++---
 pkcs11/gkm/gkm-assertion.c       | 48 +++++++++++++++++++++++++++-------------
 pkcs11/gkm/gkm-assertion.h       |  2 +-
 pkcs11/pkcs11i.h                 |  2 +-
 pkcs11/xdg-store/gkm-xdg-trust.c | 37 +++++++++++++++++--------------
 5 files changed, 58 insertions(+), 37 deletions(-)

commit 7e72a23ee92c7ac3aff1669015de3e7b5aff93a0
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-24

    [testing] Preprocess test files before searching for tests.
    
     * Allows tests to be commented out or ifdefed.
     * Faster building of tests.
     * Other cleanup of tests.

 .gitignore                                         |   1 +
 daemon/dbus/tests/test-secret-util.c               |   2 +-
 egg/tests/Makefile.am                              |   6 +-
 egg/tests/test-asn1.c                              |  46 ++++----
 egg/tests/test-dn.c                                |  12 +-
 egg/tests/test-padding.c                           |  30 ++---
 egg/tests/unit-test-asn1.c                         |  34 +++---
 egg/tests/unit-test-cleanup.c                      |   8 +-
 egg/tests/unit-test-dh.c                           |  20 ++--
 egg/tests/unit-test-hex.c                          |   8 +-
 egg/tests/unit-test-oid.c                          |   2 +-
 egg/tests/unit-test-openssl.c                      |   6 +-
 egg/tests/unit-test-secmem.c                       |  14 +--
 egg/tests/unit-test-spawn.c                        |  10 +-
 egg/tests/unit-test-symkey.c                       |  12 +-
 gck/tests/test-gck-attributes.c                    |  56 +++++-----
 gck/tests/test-gck-crypto.c                        |  22 ++--
 gck/tests/test-gck-enumerator.c                    |  18 +--
 gck/tests/test-gck-module.c                        |  14 +--
 gck/tests/test-gck-modules.c                       |  22 ++--
 gck/tests/test-gck-object.c                        |  20 ++--
 gck/tests/test-gck-session.c                       |  16 +--
 gck/tests/test-gck-slot.c                          |  18 +--
 gck/tests/test-gck-uri.c                           |  30 ++---
 gcr/tests/test-trust.c                             |  18 +--
 gcr/tests/unit-test-certificate.c                  |  30 ++---
 gcr/tests/unit-test-parser.c                       |   6 +-
 pkcs11/gkm/tests/Makefile.am                       |  12 +-
 pkcs11/gkm/tests/unit-test-attributes.c            | 122 ++++++++++-----------
 pkcs11/gkm/tests/unit-test-credential.c            |  22 ++--
 pkcs11/gkm/tests/unit-test-data-asn1.c             |   6 +-
 pkcs11/gkm/tests/unit-test-data-der.c              |  36 +++---
 pkcs11/gkm/tests/unit-test-file-tracker.c          |  10 +-
 pkcs11/gkm/tests/unit-test-memory-store.c          |  34 +++---
 pkcs11/gkm/tests/unit-test-object.c                |  18 +--
 pkcs11/gkm/tests/unit-test-secret.c                |  14 +--
 pkcs11/gkm/tests/unit-test-sexp.c                  |   8 +-
 pkcs11/gkm/tests/unit-test-store.c                 |   8 +-
 pkcs11/gkm/tests/unit-test-timer.c                 |  16 +--
 pkcs11/gkm/tests/unit-test-transaction.c           |  32 +++---
 pkcs11/gnome2-store/tests/Makefile.am              |   4 +-
 pkcs11/gnome2-store/tests/test-module.c            |   2 +-
 pkcs11/gnome2-store/tests/unit-test-gnome2-file.c  |  42 +++----
 pkcs11/roots-store/tests/Makefile.am               |   2 -
 pkcs11/roots-store/tests/test-module.c             |   2 +-
 pkcs11/secret-store/tests/Makefile.am              |   6 +-
 .../secret-store/tests/unit-test-secret-binary.c   |  16 +--
 .../tests/unit-test-secret-collection.c            |  44 ++++----
 .../secret-store/tests/unit-test-secret-compat.c   |   8 +-
 pkcs11/secret-store/tests/unit-test-secret-data.c  |  18 +--
 .../secret-store/tests/unit-test-secret-fields.c   |  44 ++++----
 pkcs11/secret-store/tests/unit-test-secret-item.c  |  40 +++----
 .../secret-store/tests/unit-test-secret-object.c   |  30 ++---
 .../secret-store/tests/unit-test-secret-search.c   |  22 ++--
 .../secret-store/tests/unit-test-secret-textual.c  |  14 +--
 pkcs11/ssh-store/tests/Makefile.am                 |   5 +-
 pkcs11/ssh-store/tests/test-ssh-module.c           |   2 +-
 pkcs11/ssh-store/tests/unit-test-private-key.c     |   8 +-
 pkcs11/ssh-store/tests/unit-test-ssh-openssh.c     |   4 +-
 pkcs11/wrap-layer/tests/Makefile.am                |   4 +-
 pkcs11/wrap-layer/tests/test-create-credential.c   |  10 +-
 pkcs11/wrap-layer/tests/test-init-pin.c            |   6 +-
 pkcs11/wrap-layer/tests/test-login-auto.c          |  10 +-
 pkcs11/wrap-layer/tests/test-login-hints.c         |   2 +-
 pkcs11/wrap-layer/tests/test-login-keyring.c       |  28 ++---
 pkcs11/wrap-layer/tests/test-login-specific.c      |  10 +-
 pkcs11/wrap-layer/tests/test-login-user.c          |  18 +--
 pkcs11/wrap-layer/tests/test-set-pin.c             |   6 +-
 pkcs11/xdg-store/tests/Makefile.am                 |   9 +-
 pkcs11/xdg-store/tests/test-xdg-module.c           |   2 +-
 pkcs11/xdg-store/tests/test-xdg-trust.c            |  26 ++---
 testing/testing-build.sh                           |  78 ++++++-------
 testing/testing.h                                  |  46 +++-----
 testing/testing.make                               |  41 +++++--
 ui/tests/unit-test-util.c                          |  14 +--
 75 files changed, 730 insertions(+), 712 deletions(-)

commit c41a0b14ea371ac6f6cc549a7226b98ba51cd5a9
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-23

    [xdg-store] Tool for dumping trust assertion files.

 pkcs11/xdg-store/.gitignore                |   1 +
 pkcs11/xdg-store/tests/Makefile.am         |   5 +-
 pkcs11/xdg-store/tests/diddle-trust-file.c |   2 +-
 pkcs11/xdg-store/tests/dump-trust-file.c   | 201 +++++++++++++++++++++++++++++
 4 files changed, 207 insertions(+), 2 deletions(-)

commit 170b4e05fcf3ecb14b4413ba523704ab4152a2c2
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-23

    [egg] Add utilities so GByteArray can be used in GHashTable.
    
    Update xdg pkcs11 module to use these new utils.

 egg/Makefile.am                  |  1 +
 egg/egg-byte-array.c             | 65 ++++++++++++++++++++++++++++++++++++++++
 egg/egg-byte-array.h             | 33 ++++++++++++++++++++
 pkcs11/gkm/gkm-util.c            | 60 -------------------------------------
 pkcs11/xdg-store/gkm-xdg-trust.c | 16 ++++++----
 5 files changed, 109 insertions(+), 66 deletions(-)

commit 4d593dceae8876d7887dc8ac5f838abe5c149dba
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-23

    [egg] Implement adding of trust via trust test tool.
    
    Also fix up the ASN.1 definition for trust files, to be more manageable
    and realistic. Tagging as appropriate.

 pkcs11/xdg-store/tests/diddle-trust-file.c | 76 ++++++++++++++++--------------
 pkcs11/xdg-store/xdg.asn                   | 19 +++-----
 2 files changed, 48 insertions(+), 47 deletions(-)

commit c81dac584dfdac92f0fd54158a10c39f59479ce8
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-23

    [xdg-store] Start testing tool to create trust assertion files.

 pkcs11/xdg-store/.gitignore                |   2 +
 pkcs11/xdg-store/asn1-def-xdg.c            |  42 ------
 pkcs11/xdg-store/tests/Makefile.am         |  10 +-
 pkcs11/xdg-store/tests/diddle-trust-file.c | 227 +++++++++++++++++++++++++++++
 pkcs11/xdg-store/xdg.asn                   |   4 +-
 5 files changed, 240 insertions(+), 45 deletions(-)

commit d19b6988da4ab506a1a443be1bd17ba872c29dfc
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-23

    [egg] Encode empty SET OF and SEQUENCE OF properly.
    
    Make choices based on whether they contain any other real
    valid elements inside.

 egg/egg-asn1x.c | 44 +++++++++++++++++++++++++++++++-------------
 1 file changed, 31 insertions(+), 13 deletions(-)

commit ca9961d8b2204ba15155e148d41ba7664356164e
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-23

    [egg] Add functions testing ASN.1 and printing out messages.

 egg/egg-asn1x.h            | 11 +++++++++++
 egg/tests/unit-test-asn1.c |  5 ++++-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit ac64040c2de1b78f26d1c289f09dfcb2a5c5461b
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-23

    [egg] Must select which choice when building ASN.1.
    
    When building up ASN.1 must select which choice by using
    the egg_asn1x_set_choice() function.

 egg/egg-asn1x.c       | 151 +++++++++++++++++++++++++++++++-------------------
 egg/egg-asn1x.h       |   3 +
 egg/tests/test-asn1.c |  56 +++++++++++++++++++
 3 files changed, 154 insertions(+), 56 deletions(-)

commit 4f9355a1f2dc20839e1f123ba5f368556d4fe2ef
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-22

    [egg] Implement egg_asn1x_set_raw_element() for explicitly tagged types.
    
    Also fix encoding of explicitly tagged choice elements.

 egg/egg-asn1x.c       | 98 ++++++++++++++++++++++++++++++++++-----------------
 egg/tests/test-asn1.c | 90 ++++++++++++++++++++++++++++++++++++++++++++++
 egg/tests/test.asn    |  9 +++++
 3 files changed, 165 insertions(+), 32 deletions(-)

commit d3c93154d373db7d1e817140f8e787836a1a807f
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-21

    [egg] Produce proper messages for mismatched tags in DER parsing.

 egg/egg-asn1x.c | 34 +++++++++++++++++++++-------------
 1 file changed, 21 insertions(+), 13 deletions(-)

commit 4b056aa2f7cf192f83637de83ea5ae0cbb6315a1
Author: Gheyret T.Kenji <gheyret@gmail.com>
Date:   2010-11-20

    Added UG translation

 po/ug.po | 44 ++++++++++++++++++++++----------------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit c7c0ee614c5a85a2ef2113e40ed07dfa3e6b7030
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-19

    Fix up gcr library to support trust assertions.

 gcr/gcr-trust.c        | 446 +++++++++++++++++++++++++++----------------------
 gcr/gcr-trust.h        | 127 +++++++-------
 gcr/tests/test-trust.c |  75 ++++-----
 3 files changed, 345 insertions(+), 303 deletions(-)

commit e973a2bd20367d2a88a70e6f7f0643abdb56b646
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-19

    Implement trust assertions in pkcs11 modules.
    
     * Change the format of trust stored in XDG store.
     * Introduce new assertion object.
     * Trust objects own multiple assertion objects.
     * Netscape style trust is implemented on assertion objects.

 pkcs11/gkm/Makefile.am                     |   3 +-
 pkcs11/gkm/gkm-assertion.c                 | 232 ++++++++++
 pkcs11/gkm/gkm-assertion.h                 |  66 +++
 pkcs11/gkm/gkm-attributes.c                |  36 ++
 pkcs11/gkm/gkm-attributes.h                |   5 +
 pkcs11/gkm/gkm-certificate-trust.c         | 377 ----------------
 pkcs11/gkm/gkm-certificate-trust.h         |  57 ---
 pkcs11/gkm/gkm-certificate.c               | 156 -------
 pkcs11/gkm/gkm-oids.h                      |  34 ++
 pkcs11/gkm/gkm-trust.c                     | 174 ++++++++
 pkcs11/gkm/gkm-trust.h                     |  62 +++
 pkcs11/gkm/gkm-types.h                     |   3 +-
 pkcs11/gkm/gkm-util.c                      |  97 ++++
 pkcs11/gkm/gkm-util.h                      |  15 +
 pkcs11/pkcs11g.h                           |  50 ---
 pkcs11/pkcs11i.h                           |  22 +
 pkcs11/roots-store/Makefile.am             |   3 +-
 pkcs11/roots-store/gkm-roots-certificate.c |  28 +-
 pkcs11/roots-store/gkm-roots-certificate.h |   3 +-
 pkcs11/roots-store/gkm-roots-trust.c       | 411 +++++++++++++++++
 pkcs11/roots-store/gkm-roots-trust.h       |  60 +++
 pkcs11/xdg-store/Makefile.am               |   1 +
 pkcs11/xdg-store/asn1-def-xdg.c            |  35 +-
 pkcs11/xdg-store/gkm-xdg-assertion.c       | 252 +++++++++++
 pkcs11/xdg-store/gkm-xdg-assertion.h       |  55 +++
 pkcs11/xdg-store/gkm-xdg-module.c          |  26 +-
 pkcs11/xdg-store/gkm-xdg-trust-netscape.c  | 314 +++++++++++++
 pkcs11/xdg-store/gkm-xdg-trust-netscape.h  |  59 +++
 pkcs11/xdg-store/gkm-xdg-trust.c           | 691 +++++++++++++----------------
 pkcs11/xdg-store/gkm-xdg-trust.h           |  15 +-
 pkcs11/xdg-store/xdg.asn                   |  33 +-
 31 files changed, 2297 insertions(+), 1078 deletions(-)

commit 3245a5efe64911f39e3f7f9966c858e650c8045c
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-19

    Disable trust usage in tool until we work trust assertions out better.

 tool/gkr-tool-trust.c | 38 +++++++++++++++++++-------------------
 tool/gkr-tool.c       |  2 +-
 2 files changed, 20 insertions(+), 20 deletions(-)

commit f52fe414b7c6c2de7ed07654b6dcd1355e5a77b1
Author: Stef Walter <stefw@collabora.co.uk>
Date:   2010-11-19

    Better ASN.1 test coverage and fixes.

 egg/egg-asn1x.c            | 14 +++++++--
 egg/tests/test-asn1.c      | 78 ++++++++++++++++++++++++++++++++++++++++++----
 egg/tests/test.asn         |  2 ++
 egg/tests/unit-test-asn1.c | 19 +++++++++--
 4 files changed, 103 insertions(+), 10 deletions(-)

commit 750d3472802d30510a4dc8ab777d660d0cbb3d3d
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:   2010-11-16

    Updated Romanian translation

 po/ro.po | 1172 ++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 711 insertions(+), 461 deletions(-)

commit fb79e39480ce04377f0a1020aeaecbc613b29e5d
Author: Gheyret T.Kenji <gheyret@gmail.com>
Date:   2010-11-14

    Added UG translation

 po/LINGUAS | 1 +
 1 file changed, 1 insertion(+)

commit 5404dd22e99ca3555d5d1c946eafe5af55afa5ea
Author: Gheyret T.Kenji <gheyret@gmail.com>
Date:   2010-11-13

    Added UG translation

 po/ug.po | 1032 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 1032 insertions(+)

commit bc2d1d3789368779e6a39bff6ca841188edef6c7
Author: Yaron Sheffer <yaronf@gmx.com>
Date:   2010-11-02

    Linux capabilities to overcome limits on locked memory.
    
    Implement review comments, mostly style.
    
    Signed-off-by: Stef Walter <stef@memberwebs.com>

 configure.in            |  18 +++++++-
 daemon/Makefile.am      |  10 ++++
 daemon/gkd-capability.c | 119 ++++++++++++++++++++++++++++++++++++++++++++++++
 daemon/gkd-capability.h |  27 +++++++++++
 daemon/gkd-main.c       |   7 +++
 5 files changed, 180 insertions(+), 1 deletion(-)

commit 3c4b25923c5eda25dfc0dcf2c0a13deee5ecdee2
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-11-13

    Updated Slovenian translation

 po/sl.po | 408 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 213 insertions(+), 195 deletions(-)

commit d2ce4a0263db1d15cb89b7170aa671753be92b23
Merge: c29d406 5379f76
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-11-11

    Merge branch 'master' into trust-store

commit 00ee980b361367be4b419df2a678f99d8b5d3542
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-11-10

    [l10n] Updated Estonian translation

 po/et.po | 167 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 77 insertions(+), 90 deletions(-)

commit 5379f76cbbd057e6cf712c1b60e9b0b605f42a6d
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-11-09

    Update HACKING with coding style

 HACKING | 123 ++++++++++++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 104 insertions(+), 19 deletions(-)

commit b2bc27582952f71a435e597b26206084a7a1f5c1
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-11-09

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b774ad060d9e40c7ce145a4557fb1541d7c375b0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-11-09

    Release version 2.91.2

 NEWS              | 7 +++++++
 configure.in      | 1 -
 egg/egg-mkdtemp.c | 5 +----
 3 files changed, 8 insertions(+), 5 deletions(-)

commit 7c6e3d4972a6d04f7dca08e55c72eb5a85a9c3d0
Author: Mahyar Moghimi <mahyar.moqimi@gmail.com>
Date:   2010-11-03

    Updating Persian translation was wrong returning back

 po/fa.po | 1196 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 1087 insertions(+), 109 deletions(-)

commit b028c893aa6392b9e4b15f0e1732843b8f14ff5c
Author: Mahyar Moghimi <mahyar.moqimi@gmail.com>
Date:   2010-11-03

    Updating Persian translation

 po/fa.po | 524 +++++++++++++++++----------------------------------------------
 1 file changed, 142 insertions(+), 382 deletions(-)

commit 73b8afdde52c0c55947853627894555b3dfd7619
Author: Yaron Sheffer <yaronf@gmx.com>
Date:   2010-11-02

    A few assorted nits and typos
    
    Signed-off-by: Yaron Sheffer <yaronf@gmx.com>
    Signed-off-by: Stef Walter <stef@memberwebs.com>

 configure.in      | 2 +-
 daemon/gkd-main.c | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 5392b3cd09183bb0eebd37575f962347d2d83b4c
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2010-10-29

    Updated Catalan (Valencian) translation

 po/ca@valencia.po | 629 +++++++++++++++++++++++++++++-------------------------
 1 file changed, 339 insertions(+), 290 deletions(-)

commit 4c5464f3192b089d0407932b76793d5d3366796a
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-10-26

    Updated Galician translations

 po/gl.po | 512 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 291 insertions(+), 221 deletions(-)

commit 46036b9e988bc73014aba0bb8c5bef1c337cacca
Author: Aron Xu <aronxu@gnome.org>
Date:   2010-10-25

    Correct last mistaken commit of zh_CN.po

 po/zh_CN.po | 23465 +++-------------------------------------------------------
 1 file changed, 1174 insertions(+), 22291 deletions(-)

commit 24a440042691ab08eb342a7c21f2ff2c2774c98b
Author: Yinghua Wang <wantinghard@gmail.com>
Date:   2010-10-25

    Update Simplified Chinese translation.

 po/zh_CN.po | 23422 +++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 22292 insertions(+), 1130 deletions(-)

commit 1fafa11b3e0c11200158209aa20a3131288c6f0f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-10-21

    Updated Hebrew translation.

 po/he.po | 508 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 289 insertions(+), 219 deletions(-)

commit ece462a3af98542ccd5bec640a65f19a67cd0090
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2010-10-19

    [i18n] Updated German translation

 po/de.po | 896 +++++++++++++++++++++------------------------------------------
 1 file changed, 292 insertions(+), 604 deletions(-)

commit bb033e7513ec8123124e5e57c82c0ede029eda74
Author: Josselin Mouette <joss@malsain.org>
Date:   2010-10-19

    [daemon] Add timeout if PAM startup doesn't complete shortly.
    
    When the daemon is started by the PAM module, it might not be used at all if
    the daemon is not started later in the session. Now exit after 60 seconds.

 daemon/gkd-main.c | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit f9a7c65c7403e7a8f3653099edc772ec48f3ccee
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-19

    Ignore old directories, so we can change branches easily.

 .gitignore | 4 ++++
 1 file changed, 4 insertions(+)

commit f3ab3e877cff32e01bad926bf7cd70b28c9d8873
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-18

    [wrap-layer] Fix login keyring password doesn't match login.
    
    When the user's unix login password doesn't match their login keyring
    (due to perhaps a change by an administrator) we need to prompt for
    the password to unlock. Now we keep track of the old one that failed
    and change their login keyring password to match their unix login.

 daemon/gkd-main.c                          |  2 +-
 daemon/login/gkd-login.c                   |  5 +-
 pkcs11/wrap-layer/gkm-wrap-layer.h         |  6 +-
 pkcs11/wrap-layer/gkm-wrap-login.c         | 38 +++++++++++--
 pkcs11/wrap-layer/gkm-wrap-login.h         |  2 +
 pkcs11/wrap-layer/gkm-wrap-prompt.c        | 89 +++++++++++++++++++++++++++---
 pkcs11/wrap-layer/tests/test-login-hints.c | 15 +++--
 7 files changed, 134 insertions(+), 23 deletions(-)

commit 14ec03f54dc3d0604f804a45a9d9341a4b45f0cf
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-10-16

    Remove non-existing file

 po/POTFILES.in | 1 -
 1 file changed, 1 deletion(-)

commit 083bf7cb2e20747a8467714b248a2674bd199e0c
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-10-16

    Updated Norwegian bokmål translation

 po/nb.po | 551 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 267 insertions(+), 284 deletions(-)

commit b1ea788994c29ec381f55e64f22107d226eeb7e0
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-10-14

    [gcr] Replace gp11-0 with gck in pkgconfig file

 gcr/gcr.pc.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0bf230aaa2ef8e0c72c0900eeba6a621ccc8dc0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-11

    [gcr] Fix broken dispose of GcrCertificateWidget
    
    Dispose and finalize of the gcr widgets was broken.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=631840

 gcr/gcr-display-view.c          | 10 +++++-----
 gcr/tests/ui-test-certificate.c |  2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 4d703dbeb0bfb9fc69714015473633c89d56673c
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-10-09

    Updated Spanish translation

 po/es.po | 240 ++++++++++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 159 insertions(+), 81 deletions(-)

commit 1ebe2269564c669835286e09435235f0e4aec506
Author: A S Alam <aalam@users.sf.net>
Date:   2010-10-09

    updating translation for Punjabi

 po/pa.po | 623 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 347 insertions(+), 276 deletions(-)

commit 3c929d0d016cf57030d487ebc061c97c4c04f82f
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-08

    [gp11] Remove gp11 library.
    
    Remove gp11 library now that seahorse has migrated to libgck.
    libgck is the replacement for gp11

 Makefile.am                            |    1 -
 configure.in                           |    8 -
 gp11/.gitignore                        |    2 -
 gp11/Makefile.am                       |   67 -
 gp11/gp11-attributes.c                 | 1467 ----------------
 gp11/gp11-call.c                       |  541 ------
 gp11/gp11-marshal.list                 |    3 -
 gp11/gp11-misc.c                       |  437 -----
 gp11/gp11-module.c                     | 1234 --------------
 gp11/gp11-object.c                     | 1621 ------------------
 gp11/gp11-private.h                    |  162 --
 gp11/gp11-session.c                    | 2893 --------------------------------
 gp11/gp11-slot.c                       | 1067 ------------
 gp11/gp11.h                            | 1528 -----------------
 gp11/gp11.pc.in                        |   14 -
 gp11/pkcs11.h                          |   30 -
 gp11/tests/Makefile.am                 |   43 -
 gp11/tests/gp11-test-module.c          | 1702 -------------------
 gp11/tests/gp11-test.h                 |   46 -
 gp11/tests/test-gp11-mechanism.c       |   60 -
 gp11/tests/unit-test-gp11-attributes.c |  528 ------
 gp11/tests/unit-test-gp11-crypto.c     |  595 -------
 gp11/tests/unit-test-gp11-module.c     |  159 --
 gp11/tests/unit-test-gp11-object.c     |  463 -----
 gp11/tests/unit-test-gp11-session.c    |  323 ----
 gp11/tests/unit-test-gp11-slot.c       |  148 --
 26 files changed, 15142 deletions(-)

commit 3712f3720accd9229ad89d06d1b193a4bbe7a67e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-08

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 87e6466d2a697495db2ba443965b59797e1b0b2c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-08

    Release version 2.91.1

 NEWS                   | 8 ++++++++
 gcr/gcr-key-renderer.c | 2 +-
 po/POTFILES.in         | 2 ++
 3 files changed, 11 insertions(+), 1 deletion(-)

commit 3eb0219436f3a44e420fcfabbc00eff99cb80397
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-10-07

    Updated Spanish translation

 po/es.po | 661 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 327 insertions(+), 334 deletions(-)

commit 20255cfc41b426f93b9d7d0dce7ad6d862b2d1de
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-10-07

    Updated Galician translations

 po/gl.po | 662 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 325 insertions(+), 337 deletions(-)

commit b571acf515d3b338b54272727f823b55fe79a722
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-06

    [gpg-agent] Fix typo in Makefile.am
    
    Fix missing slash.

 daemon/gpg-agent/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac4440328cc5719fe88f634a20e90649f019cba9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-06

    [gpg-agent] Link correctly to gio
    
    On some systems this caused build problems.

 daemon/gpg-agent/Makefile.am | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 5a709a8cfc4638081e5f180c8c29540e9f7ef40d
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-10-06

    Updated Hebrew translation.

 po/he.po | 650 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 318 insertions(+), 332 deletions(-)

commit a4ae641aad28db1fa94796e514cc4e8fe264883e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-06

    [gcr] Fixes for building with GTK+ 2.91.0
    
    Mostly related to no more expose_event and only having draw signal.

 docs/reference/gcr/Makefile.am |   4 +-
 gcr/gcr-display-view.c         | 113 +++++++++++++++++++++++++++--------------
 gcr/tests/Makefile.am          |  11 ++--
 tool/Makefile.am               |   4 +-
 ui/Makefile.am                 |   1 +
 5 files changed, 88 insertions(+), 45 deletions(-)

commit 2cc7b68e3e678dcfc0bfcf5c83e12c68d1705607
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-06

    [gck] Fix wrong library name in pkgconfig file
    
    pkgconfig file still contained gp11

 gck/gck.pc.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d6d6f052d9cc508d2a47d1d192bd04ba296b37e1
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-10-06

    Updated Slovenian translation

 po/sl.po | 548 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 286 insertions(+), 262 deletions(-)

commit 8236c4c064e667ee641ed3376820b198493e3878
Merge: 03f0af6 dc0799a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-05

    Merge branch 'ui-widgets'

commit 03f0af67d2be523fdb38f18ff07b3497cc3d301e
Merge: 1c54c69 b9d8bdd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-05

    Merge branch 'gnome-2-32'

commit b9d8bddb2418675260f21f0bfb32763b2ccbfad6
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-05

    [ui] Add extra debug guard around printing of prompt io.
    
    Printing of prompt IO could conceivably contain information that's
    sensitive. Added extra guard so the debug printing can only be
    turned on with --enable-debug also enabled.
    
    Thanks to Romain Françoise

 ui/gku-prompt.c | 2 ++
 1 file changed, 2 insertions(+)

commit 1c54c699a6605a2d191ec7053985c1195c74315c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-03

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f67306d3b285af758e9504c0aae1817441bc8f74
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-03

    Release version 2.91.0

 Makefile.am  | 3 ++-
 NEWS         | 7 +++++++
 configure.in | 2 +-
 3 files changed, 10 insertions(+), 2 deletions(-)

commit ed33b91640d93c865fbc4f37280c0a042ea5452f
Author: William Jon McCann <jmccann@redhat.com>
Date:   2010-10-02

    Fix typo to fix the build

 gck/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94b942945be15f65ad9fe703e79f7bfdbcaa56ad
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   2010-10-01

    Miscellaneous string fixes
    
    Small grammar and punctuation fixes.

 egg/egg-oid.c                    | 2 +-
 gck/gck-misc.c                   | 6 +++---
 gcr/gcr-import-dialog.ui         | 7 +++++--
 gcr/gcr-unlock-options-widget.ui | 2 +-
 4 files changed, 10 insertions(+), 7 deletions(-)

commit 58e1cc0cd81ee5abd22303c5bf68a5daf0a134b0
Merge: b1ec84d 83605a4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-01

    Merge branch 'gck-work'

commit 83605a438ab735ebce6cf02e67cd162f3224c639
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-01

    [gck] Build libgck docs and remove gp11 docs.
    
    Replace the gp11 docs with gck ones

 configure.in                           |   2 +-
 docs/reference/Makefile.am             |   2 +-
 docs/reference/gck/.gitignore          |   8 ++
 docs/reference/gck/Makefile.am         |  98 +++++++++++++++++
 docs/reference/gck/gck-docs.sgml       |  25 +++++
 docs/reference/gck/gck-overrides.txt   |   2 +
 docs/reference/gck/gck-sections.txt    | 195 +++++++++++++++++++++++++++++++++
 docs/reference/gck/gck.types           |   4 +
 docs/reference/gp11/.gitignore         |   9 --
 docs/reference/gp11/Makefile.am        |  99 -----------------
 docs/reference/gp11/gp11-docs.sgml     |  25 -----
 docs/reference/gp11/gp11-overrides.txt |   2 -
 docs/reference/gp11/gp11-sections.txt  | 195 ---------------------------------
 docs/reference/gp11/gp11.types         |   4 -
 14 files changed, 334 insertions(+), 336 deletions(-)

commit de41ad3352fd9e4631095986389395340e3c09f8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-01

    [gck] Mark the gck API as unstable with a define.
    
    Use -DGCK_API_SUBJECT_TO_CHANGE in order to compile.

 daemon/Makefile.am           |  3 ++-
 daemon/control/Makefile.am   |  3 ++-
 daemon/dbus/Makefile.am      |  3 ++-
 daemon/gpg-agent/Makefile.am |  3 ++-
 daemon/login/Makefile.am     |  3 ++-
 daemon/ssh-agent/Makefile.am |  3 ++-
 gck/Makefile.am              |  1 +
 gck/gck.h                    | 11 ++++++++++-
 gck/tests/Makefile.am        |  6 ++++--
 gcr/Makefile.am              |  1 +
 gcr/tests/Makefile.am        |  6 ++++--
 tool/Makefile.am             |  5 +++--
 12 files changed, 35 insertions(+), 13 deletions(-)

commit b1ec84dd2527464250033b2553d408a87dd3f16f
Author: Žygimantas Beručka <zygis@gnome.org>
Date:   2010-10-01

    Updated Lithuanian translation

 po/lt.po | 690 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 361 insertions(+), 329 deletions(-)

commit 3127fc4dda46e1221da1924d441307518167a210
Author: Žygimantas Beručka <zygis@gnome.org>
Date:   2010-10-01

    Updated Lithuanian translation

 po/lt.po | 690 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 361 insertions(+), 329 deletions(-)

commit 4671e0383067ec198bd99ff3d39158215b34b510
Merge: 3ec5f82 58240b9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-01

    Merge branch 'gnome-2-32'

commit 3ec5f82795e398a4a7137153e8931780459d3ca1
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-10-01

    Updated Slovenian translation

 po/sl.po | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit e58c8389e62564edbded4877099a0f5f494b1162
Author: Marek Černocký <marek@manet.cz>
Date:   2010-10-01

    Updated Czech translation

 po/cs.po | 576 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 292 insertions(+), 284 deletions(-)

commit 58240b9acdd6ad54d8c6d4e8a668686a142258e4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-10-01

    [rpc-layer] Fix invalid memory access.
    
    Fix invalid memory access in gkm_rpc_mechanism_list_purge().
    
    Pointed out by Tim Hudson.

 pkcs11/rpc-layer/gkm-rpc-util.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6f4b6604574d001a80e83c68870340fdd987d8bc
Author: Joan Duran <jodufi@gmail.com>
Date:   2010-09-29

    Updated Catalan translation

 po/ca.po | 600 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 323 insertions(+), 277 deletions(-)

commit fa96194b235ab9185381813db2cf701f4c9e959b
Author: Joan Duran <jodufi@gmail.com>
Date:   2010-09-29

    Updated Catalan translation

 po/ca.po | 600 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 323 insertions(+), 277 deletions(-)

commit 45a3c18bd925ea581a38c293b6138cb11d4e6344
Author: Christos Spyroglou <cspyroglou@gmail.com>
Date:   2010-09-29

    l10n: Updated Greek translation for gnome-keyring

 po/el.po | 263 +++++++++++++++++++++++++++------------------------------------
 1 file changed, 112 insertions(+), 151 deletions(-)

commit 7b3e0b75ba06ae9ec26a8e849ad678c360e2ade5
Author: Christos Spyroglou <cspyroglou@gmail.com>
Date:   2010-09-29

    l10n: Updated Greek translation for gnome-keyring

 po/el.po | 263 +++++++++++++++++++++++++++------------------------------------
 1 file changed, 112 insertions(+), 151 deletions(-)

commit 12357120c2ff79446af8cce21b37a2fb8f688394
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-28

    [gck] GckAttribute with const value pointer.
    
    We want to reinforce the fact that attributes are not modifiable once
    they're setup.

 daemon/dbus/gkd-secret-objects.c | 5 +++--
 gck/gck-attributes.c             | 6 +++---
 gck/gck.h                        | 2 +-
 3 files changed, 7 insertions(+), 6 deletions(-)

commit 5d43af10ea3482c14aa21c99355bee68b3b66e87
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-28

    [gck] Simplify use of GckMechanism
    
    There's no way to do a deep copy of a GckMechanisms aka CK_MECHANISM.
    The parameter may contain pointers to other memory else where. So we
    do a shallow copy instead. The memory is expected to stay around just
    like a buffer.

 daemon/dbus/gkd-secret-session.c |  45 ++++++++---------
 gck/gck-misc.c                   |  83 ------------------------------
 gck/gck-private.h                |   2 +
 gck/gck-session.c                | 106 +++++++++++++++++++++++++++------------
 gck/gck.h                        |  12 +----
 gck/tests/Makefile.am            |   1 -
 gck/tests/test-gck-crypto.c      | 105 ++++++++++++++++----------------------
 gck/tests/test-gck-mechanism.c   |  60 ----------------------
 8 files changed, 140 insertions(+), 274 deletions(-)

commit 77766af8777c6ffa868c271bca20a3c094c97ea8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-27

    [gck] Cleanup use of 'full' functions.
    
     * Expect GCancellable in more places.
     * Remove a bunch of xxx_full() functions that are redundant.
     * Add a few xxx_full() functions where we don't want to have
       to fill in full mechanisms.

 daemon/dbus/gkd-secret-change.c      |   6 +-
 daemon/dbus/gkd-secret-create.c      |   2 +-
 daemon/dbus/gkd-secret-lock.c        |   2 +-
 daemon/dbus/gkd-secret-objects.c     |  28 +++---
 daemon/dbus/gkd-secret-service.c     |   2 +-
 daemon/dbus/gkd-secret-session.c     |  22 ++---
 daemon/dbus/gkd-secret-unlock.c      |   2 +-
 daemon/gpg-agent/gkd-gpg-agent-ops.c |   8 +-
 daemon/gpg-agent/gkd-gpg-agent.c     |   2 +-
 daemon/login/gkd-login.c             |  10 +--
 daemon/ssh-agent/gkd-ssh-agent-ops.c |  26 +++---
 daemon/ssh-agent/gkd-ssh-agent.c     |   2 +-
 gck/gck-object.c                     | 138 +++++++++++------------------
 gck/gck-session.c                    | 164 ++++++++++++++---------------------
 gck/gck-slot.c                       |   4 +-
 gck/gck.h                            |  76 ++++++++--------
 gck/tests/test-gck-crypto.c          |  52 +++--------
 gck/tests/test-gck-object.c          |  43 ++++-----
 gck/tests/test-gck-session.c         |  25 ++----
 tool/gkr-tool-import.c               |  11 ++-
 20 files changed, 258 insertions(+), 367 deletions(-)

commit d5183211fe8c7e377e4e2faacb3b6896bf1d9c04
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-27

    [gck] Add session options, remove module options.
    
    Add concept of session options, which are different (but sometimes
    related to) session PKCS#11 flags. The session options take the
    place of module options, which were much harder to use appropriately.

 daemon/dbus/gkd-secret-service.c            |  7 ++--
 daemon/gpg-agent/gkd-gpg-agent-standalone.c |  2 +-
 daemon/gpg-agent/gkd-gpg-agent.c            |  4 +-
 daemon/login/gkd-login.c                    |  2 +-
 daemon/ssh-agent/gkd-ssh-agent-ops.c        |  6 +--
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |  2 +-
 daemon/ssh-agent/gkd-ssh-agent.c            |  4 +-
 gck/gck-enumerator.c                        | 25 ++++++++----
 gck/gck-mock.c                              |  4 +-
 gck/gck-module.c                            | 49 +++--------------------
 gck/gck-modules.c                           | 18 ++++-----
 gck/gck-private.h                           |  2 +-
 gck/gck-session.c                           | 53 ++++++++++++++++++++-----
 gck/gck-slot.c                              | 60 ++++++++++++++++-------------
 gck/gck.h                                   | 46 +++++++++++++---------
 gck/tests/test-gck-crypto.c                 | 19 +++++----
 gck/tests/test-gck-session.c                | 29 ++++----------
 gcr/gcr-importer.c                          |  8 ++--
 gcr/gcr-library.c                           |  2 +-
 19 files changed, 178 insertions(+), 164 deletions(-)

commit 8eb0052079d5e5ed7fce5303b72cd43413ff7caa
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-27

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7dc01a4771defef3cee95cdd45c67abdc1991e7e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-27

    Release version 2.32.0

 NEWS         | 3 +++
 configure.in | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 43319e1fa73b0993a5507fcd8a17113ccc59379b
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2010-09-27

    Updated Basque language

 po/eu.po | 603 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 327 insertions(+), 276 deletions(-)

commit 009087a098788773fa0a558fbd88eb115db22af2
Author: Petr Kovar <pknbe@volny.cz>
Date:   2010-09-27

    Update Czech translation by Marek Cernocky

 po/cs.po | 614 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 331 insertions(+), 283 deletions(-)

commit 7c76c28e25ae9a7a9537be17566bae8680c77042
Author: Damyan Ivanov <dam+gnome@ktnx.net>
Date:   2010-09-26

    Updated Bulgarian translation

 po/bg.po | 578 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 293 insertions(+), 285 deletions(-)

commit e027a1dc50ca9636cd828f1084eef17e5f2d52b6
Author: Damyan Ivanov <dam+gnome@ktnx.net>
Date:   2010-09-26

    Updated Bulgarian translation

 po/bg.po | 580 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 294 insertions(+), 286 deletions(-)

commit 2b1c6e036a774c1fb60088ad7cdaa110059d6b37
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2010-09-26

    Updated Korean translation

 po/ko.po | 611 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 334 insertions(+), 277 deletions(-)

commit 64603e6385c0350a5701ee92deee35000cb25ba9
Author: Yuri Myasoedov <ymyasoedov@src.gnome.org>
Date:   2010-09-24

    Updated Russian translation

 po/ru.po | 601 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 294 insertions(+), 307 deletions(-)

commit a1a6ee89b43010d023c754d0bac7722a0a9bf05e
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2010-09-23

    Updated Arabic translation

 po/ar.po | 126 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 69 insertions(+), 57 deletions(-)

commit 5ed31aacd66d3e65737c6db682ea97a38e1df7a6
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2010-09-23

    Updated Arabic translation

 po/ar.po | 126 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 69 insertions(+), 57 deletions(-)

commit 90f055cdf2ff0826dbb765446f3f1e8177a16ccf
Author: Francesco Marletta <francesco.marletta@tiscali.it>
Date:   2010-09-21

    [l10n] Updated Italian translation

 po/it.po | 614 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 310 insertions(+), 304 deletions(-)

commit b70410fa61b49fb50b9f5f54e44266fd9e6360f5
Author: Francesco Marletta <francesco.marletta@tiscali.it>
Date:   2010-09-21

    [l10n] Updated Italian translation

 po/it.po | 626 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 321 insertions(+), 305 deletions(-)

commit 63f3a9c4939350a8b1e18fc9a61fd4d7f8155c82
Author: Daniel S. Koda <danielskoda@gmail.com>
Date:   2010-09-21

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 633 ++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 340 insertions(+), 293 deletions(-)

commit c29d40617d3ed7974019268e1aae5ad67e312b27
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-21

    [xdg-store] Tests for xdg-store and fixes.
    
    A whole bunch of fixes for the xdg-store and trust loading
    and saving.

 pkcs11/xdg-store/Makefile.am                      |   1 -
 pkcs11/xdg-store/asn1-def-xdg.c                   |   6 +-
 pkcs11/xdg-store/gkm-xdg-module.c                 |  10 +-
 pkcs11/xdg-store/gkm-xdg-trust.c                  |  60 ++--
 pkcs11/xdg-store/tests/Makefile.am                |  16 +-
 pkcs11/xdg-store/tests/test-data/test-trust-1.der | Bin 0 -> 667 bytes
 pkcs11/xdg-store/tests/test-xdg-module.c          | 152 +++++++++
 pkcs11/xdg-store/tests/test-xdg-module.h          |  45 +++
 pkcs11/xdg-store/tests/test-xdg-trust.c           | 362 ++++++++++++++++++++++
 pkcs11/xdg-store/xdg.asn                          |   6 +-
 10 files changed, 623 insertions(+), 35 deletions(-)

commit 5adba30aec9c7b10847b2eb39dc28f816882af31
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-21

    [gkm] Don't barf on zero length certificate files.
    
    Don't raise an error on zero length certificate files. Simply
    print message and continue loading other files.

 pkcs11/gkm/gkm-certificate.c | 1 -
 1 file changed, 1 deletion(-)

commit 948cff128bf4b2ebb801266d6756984e33ba69c6
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-21

    [testing] Add function for putting test files in scratch dir.
    
    Add testing_data_to_scratch() function for use in tests.

 pkcs11/secret-store/tests/test-secret-module.c | 25 ++-----------------------
 testing/testing.c                              | 19 +++++++++++++++++++
 testing/testing.h                              |  3 +++
 3 files changed, 24 insertions(+), 23 deletions(-)

commit 9d757017bd17d3c51b83e319f53de96eea88ab34
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-21

    Make builds 'silent' by default

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 743f278642090dd97835d47a7a4b58a301d1d36c
Author: Takayuki KUSANO <AE5T-KSN@asahi-net.or.jp>
Date:   2010-09-20

    Updated Japanese translation

 po/ja.po | 682 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 364 insertions(+), 318 deletions(-)

commit 5e7015a7ee0c037f8c859585b6cc9e30633f4798
Author: Takayuki KUSANO <AE5T-KSN@asahi-net.or.jp>
Date:   2010-09-20

    Updated Japanese translation

 po/ja.po | 682 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 364 insertions(+), 318 deletions(-)

commit 72df6d30ed29ad0adebcd60845fdf11ca276315f
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-20

    [egg] Add accessor functions for enumerated ASN.1 values.
    
    Add getter and setter for ENUMERATED ASN.1 values, and DER
    encoder.

 egg/egg-asn1x.c       | 99 ++++++++++++++++++++++++++++++++++++++++++++++-----
 egg/egg-asn1x.h       |  5 +++
 egg/tests/test-asn1.c | 33 +++++++++++++++++
 egg/tests/test.asn    |  7 ++++
 4 files changed, 136 insertions(+), 8 deletions(-)

commit 390e1e37d332418d814282a8e26383312e920b19
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-19

    [xdg-store] Implement writing of objects in xdg-store.
    
    Implement writing of objects to disk in xdg-store.

 pkcs11/xdg-store/gkm-xdg-module.c | 169 +++++++++++++++++++++++++++++++++++++-
 pkcs11/xdg-store/gkm-xdg-trust.c  |  11 ++-
 2 files changed, 175 insertions(+), 5 deletions(-)

commit 577ae10c0fe9b2bf508541ede7ce3cb1d44f48aa
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-19

    [tool] Implement setting of trust-exception
    
    Implement '--set trusted' in trust-exception gnome-keyring tool.

 tool/gkr-tool-trust.c | 97 +++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 83 insertions(+), 14 deletions(-)

commit 48483c5d993e0d098d03efdf03d3d52422903c85
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-19

    [gcr] Save subject and md5 hash as well when storing trust.
    
    In addition to the attributes we use to look things up store
    CKA_SUBJECT and CKA_CERT_MD5_HASH as well.

 gcr/gcr-trust.c | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit be343963893ffd84aff2d2a833c57a66de57542c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-19

    [gkm] Add function for creating unique filename in transaction.
    
    Add gkm_transaction_unique_file() function.

 pkcs11/gkm/gkm-transaction.c             | 104 +++++++++++++++++++++++++----
 pkcs11/gkm/gkm-transaction.h             |   6 +-
 pkcs11/gkm/tests/unit-test-transaction.c | 110 +++++++++++++++++++++++++++++--
 3 files changed, 202 insertions(+), 18 deletions(-)

commit 997aab8d486b473e08cdfd2fba0c501bd65b822c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [daemon] Load the new xdg-store storage module.
    
    Currently only trust exceptions are being stored here.

 daemon/Makefile.am  | 1 +
 daemon/gkd-pkcs11.c | 8 +++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 4cd8e58500e09b9f41d8e0073293ed978ca4091a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [rpc-layer] Install gnome-keyring-pkcs11.so to correct directory.
    
    We now install to the PKCS#11 'registry' directory.

 pkcs11/rpc-layer/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 872b757dbf305904e225a49baaed36312461d585
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [tool] Add 'trust-exception' command to gnome-keyring tool.
    
    Looks up trust exceptions for certificates.

 tool/Makefile.am      |   5 +-
 tool/gkr-tool-trust.c | 167 ++++++++++++++++++++++++++++++++++++++++++++++++++
 tool/gkr-tool.c       |   1 +
 tool/gkr-tool.h       |   2 +
 4 files changed, 173 insertions(+), 2 deletions(-)

commit 156443cff497eb66786737c024bde99f7f5a11f0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [gcr] Use gpointer instead guchar for GSimpleCertificate
    
    Fix up for consistency.

 gcr/gcr-simple-certificate.c | 4 ++--
 gcr/gcr-simple-certificate.h | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 62f95ff4566d353d8bc94e10c40d39cf5c095c7c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [gcr] Implement gcr_trust_xxx() functions.
    
    For looking up certificate trust exceptions and trust roots.
    We do not do trust chains or verification. We provide access to trust
    storage.

 gcr/Makefile.am        |   2 +
 gcr/gcr-internal.h     |  12 +
 gcr/gcr-library.c      |  55 +++++
 gcr/gcr-trust.c        | 579 +++++++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-trust.h        |  93 ++++++++
 gcr/gcr-types.h        |   4 +
 gcr/gcr.h              |   2 +
 gcr/gkm-test.c         |  60 +++++
 gcr/gkm-test.h         |  62 ++++++
 gcr/tests/Makefile.am  |   1 +
 gcr/tests/test-trust.c | 238 ++++++++++++++++++++
 po/POTFILES.in         |   1 +
 12 files changed, 1109 insertions(+)

commit 95cd2d8d183b2d16a5875c1b8b43b2ab26f1e1ed
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [xdg-store] Initial xdg-store with trust storage.
    
    Initial xdg-store implementation. Only trust storage is implemented.
    xdg-store stores objects in the .local directory.

 configure.in                          |   2 +
 pkcs11/Makefile.am                    |   1 +
 pkcs11/xdg-store/Makefile.am          |  61 +++
 pkcs11/xdg-store/asn1-def-xdg.c       |  37 ++
 pkcs11/xdg-store/gkm-xdg-module.c     | 305 ++++++++++++++
 pkcs11/xdg-store/gkm-xdg-module.h     |  45 +++
 pkcs11/xdg-store/gkm-xdg-standalone.c |  51 +++
 pkcs11/xdg-store/gkm-xdg-store.h      |  29 ++
 pkcs11/xdg-store/gkm-xdg-trust.c      | 740 ++++++++++++++++++++++++++++++++++
 pkcs11/xdg-store/gkm-xdg-trust.h      |  54 +++
 pkcs11/xdg-store/tests/Makefile.am    |   2 +
 pkcs11/xdg-store/tests/p11-tests.conf |   2 +
 pkcs11/xdg-store/xdg.asn              |  47 +++
 13 files changed, 1376 insertions(+)

commit a92fbf55ebb629c173f6fb1958c3f0de275542f8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [gcr] Functions for access GcrCertificate subject and issuer raw DER
    
    Add the gcr_certificate_get_issuer_raw() and
    gcr_certificate_get_subject_raw() functions for accessing raw DER
    of issuer and certificate respectively.
    
    Also use correct function for accessing raw serial number.

 gcr/gcr-certificate.c             | 36 +++++++++++++++++++++++++++++++++---
 gcr/gcr-certificate.h             |  6 ++++++
 gcr/tests/unit-test-certificate.c | 22 ++++++++++++++++++++++
 3 files changed, 61 insertions(+), 3 deletions(-)

commit 71ea2e28d1ca8e6bcc8947ecfa2ab890ed47d0cb
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-15

    [gkm] GkmSerializable uses gpointer instead of guchar
    
    No need to use guchar here. Use gpointer instead.

 pkcs11/gkm/gkm-certificate.c                 | 4 ++--
 pkcs11/gkm/gkm-serializable.c                | 4 ++--
 pkcs11/gkm/gkm-serializable.h                | 8 ++++----
 pkcs11/gnome2-store/gkm-gnome2-private-key.c | 4 ++--
 pkcs11/gnome2-store/gkm-gnome2-public-key.c  | 4 ++--
 pkcs11/gnome2-store/gkm-gnome2-storage.c     | 4 ++--
 6 files changed, 14 insertions(+), 14 deletions(-)

commit ef82d2cf986f0f70f9bfe9942e5a898a6826f9d2
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-15

    [egg] Add egg_asn1x_append() for adding to SEQ OF or SET OF
    
    To add a value to a SEQUENCE OF or SET OF, added the function
    egg_asn1x_append().

 egg/egg-asn1x.c       | 25 +++++++++++++++++++++++++
 egg/egg-asn1x.h       |  2 ++
 egg/tests/test-asn1.c | 33 +++++++++++++++++++++++++++++++++
 egg/tests/test.asn    |  2 ++
 4 files changed, 62 insertions(+)

commit 820c10a52ebc8e0054873bf4919b90ba04a8b1e8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-15

    [gnome2-store] Rename the user-store to gnome2-store
    
    This is the old key store that stored stuff in .gnome2/keyrings

 configure.in                                       |    4 +-
 daemon/Makefile.am                                 |    2 +-
 daemon/gkd-pkcs11.c                                |    8 +-
 pkcs11/Makefile.am                                 |    2 +-
 pkcs11/gnome2-store/Makefile.am                    |   57 +
 pkcs11/gnome2-store/gkm-gnome2-file.c              | 1479 ++++++++++++++++++++
 pkcs11/gnome2-store/gkm-gnome2-file.h              |  109 ++
 pkcs11/gnome2-store/gkm-gnome2-module.c            |  350 +++++
 pkcs11/gnome2-store/gkm-gnome2-module.h            |   45 +
 pkcs11/gnome2-store/gkm-gnome2-private-key.c       |  357 +++++
 pkcs11/gnome2-store/gkm-gnome2-private-key.h       |   52 +
 pkcs11/gnome2-store/gkm-gnome2-public-key.c        |  205 +++
 pkcs11/gnome2-store/gkm-gnome2-public-key.h        |   51 +
 pkcs11/gnome2-store/gkm-gnome2-standalone.c        |   51 +
 pkcs11/gnome2-store/gkm-gnome2-storage.c           | 1358 ++++++++++++++++++
 pkcs11/gnome2-store/gkm-gnome2-storage.h           |   79 ++
 pkcs11/gnome2-store/gkm-gnome2-store.h             |   29 +
 pkcs11/gnome2-store/tests/.gitignore               |    1 +
 pkcs11/gnome2-store/tests/Makefile.am              |   29 +
 pkcs11/gnome2-store/tests/dump-gnome2-file.c       |   96 ++
 pkcs11/gnome2-store/tests/p11-tests.conf           |    2 +
 pkcs11/gnome2-store/tests/test-data/.gitempty      |    0
 .../tests/test-data/data-file-private.store        |  Bin 0 -> 494 bytes
 .../tests/test-data/data-file-public.store         |  Bin 0 -> 216 bytes
 pkcs11/gnome2-store/tests/test-module.c            |   34 +
 pkcs11/gnome2-store/tests/unit-test-gnome2-file.c  |  592 ++++++++
 pkcs11/user-store/Makefile.am                      |   57 -
 pkcs11/user-store/gkm-user-file.c                  | 1479 --------------------
 pkcs11/user-store/gkm-user-file.h                  |  109 --
 pkcs11/user-store/gkm-user-module.c                |  350 -----
 pkcs11/user-store/gkm-user-module.h                |   45 -
 pkcs11/user-store/gkm-user-private-key.c           |  357 -----
 pkcs11/user-store/gkm-user-private-key.h           |   52 -
 pkcs11/user-store/gkm-user-public-key.c            |  205 ---
 pkcs11/user-store/gkm-user-public-key.h            |   51 -
 pkcs11/user-store/gkm-user-standalone.c            |   51 -
 pkcs11/user-store/gkm-user-storage.c               | 1358 ------------------
 pkcs11/user-store/gkm-user-storage.h               |   79 --
 pkcs11/user-store/gkm-user-store.h                 |   29 -
 pkcs11/user-store/tests/.gitignore                 |    1 -
 pkcs11/user-store/tests/Makefile.am                |   29 -
 pkcs11/user-store/tests/dump-data-file.c           |   96 --
 pkcs11/user-store/tests/p11-tests.conf             |    2 -
 pkcs11/user-store/tests/test-data/.gitempty        |    0
 .../tests/test-data/data-file-private.store        |  Bin 494 -> 0 bytes
 .../tests/test-data/data-file-public.store         |  Bin 216 -> 0 bytes
 pkcs11/user-store/tests/test-module.c              |   34 -
 pkcs11/user-store/tests/unit-test-user-file.c      |  592 --------
 48 files changed, 4984 insertions(+), 4984 deletions(-)

commit 851384951becdd92ec555cf17a416f9841327ea3
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-15

    [user-store] Move old junky data file stuff into old user store.
    
    The GkmDataFile idea was a bad one, from which we learned. We'll keep
    using it in the old store for compatibility purposes.

 pkcs11/gkm/Makefile.am                             |    1 -
 pkcs11/gkm/gkm-data-file.c                         | 1478 -------------------
 pkcs11/gkm/gkm-data-file.h                         |  109 --
 pkcs11/gkm/tests/Makefile.am                       |   16 +-
 pkcs11/gkm/tests/dump-data-file.c                  |   95 --
 pkcs11/gkm/tests/test-data/data-file-private.store |  Bin 494 -> 0 bytes
 pkcs11/gkm/tests/test-data/data-file-public.store  |  Bin 216 -> 0 bytes
 pkcs11/gkm/tests/unit-test-data-file.c             |  587 --------
 pkcs11/user-store/Makefile.am                      |    1 +
 pkcs11/user-store/gkm-user-file.c                  | 1479 ++++++++++++++++++++
 pkcs11/user-store/gkm-user-file.h                  |  109 ++
 pkcs11/user-store/gkm-user-storage.c               |   54 +-
 pkcs11/user-store/tests/.gitignore                 |    1 +
 pkcs11/user-store/tests/Makefile.am                |   19 +-
 pkcs11/user-store/tests/dump-data-file.c           |   96 ++
 .../tests/test-data/data-file-private.store        |  Bin 0 -> 494 bytes
 .../tests/test-data/data-file-public.store         |  Bin 0 -> 216 bytes
 pkcs11/user-store/tests/unit-test-user-file.c      |  592 ++++++++
 18 files changed, 2322 insertions(+), 2315 deletions(-)

commit a2ab14444d1256ef75e7d08c119b2cbe3a86330b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    Make coverage targets more modular.
    
    Run 'make clear' before starting running stuff you want in
    coverage, and then 'make coverage' for the report.

 Makefile.am | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a2cd618604d6b5f599e0e6452c5adb596cba43ff
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [gck] Add gck_attributes_add_all() for copying GckAttributes
    
    New function allows deep copying of a GckAttributes array.

 gck/gck-attributes.c            | 16 ++++++++++++++++
 gck/gck.h                       |  3 +++
 gck/tests/test-gck-attributes.c | 23 +++++++++++++++++++++++
 3 files changed, 42 insertions(+)

commit cb44b86f44a184738d6815d035a589594cdedf14
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [gck] Rework testing and make mock module.
    
    Make mock Pkcs#11 module better modularized, and available to other
    tests of other modules. Add more test helpers.

 gck/Makefile.am                 |   22 +-
 gck/gck-mock.c                  | 1787 +++++++++++++++++++++++++++++++++++++++
 gck/gck-mock.h                  |  409 +++++++++
 gck/gck-test.c                  |  165 ++++
 gck/gck-test.h                  |   68 ++
 gck/tests/Makefile.am           |   14 +-
 gck/tests/gck-test-module.c     | 1693 -------------------------------------
 gck/tests/gck-test.h            |   38 +-
 gck/tests/mock-test-module.c    |   10 +
 gck/tests/test-gck-crypto.c     |   48 +-
 gck/tests/test-gck-enumerator.c |    2 +-
 gck/tests/test-gck-module.c     |    4 +-
 gck/tests/test-gck-modules.c    |    2 +-
 gck/tests/test-gck-object.c     |    4 +-
 gck/tests/test-gck-session.c    |    2 +-
 gck/tests/test-gck-slot.c       |    2 +-
 16 files changed, 2492 insertions(+), 1778 deletions(-)

commit ffecb6ddcf23fe63bca084a6c988eb5b3e0320a4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-18

    [gck] Expose CK_BBOOL and CK_ULONG casting helpers.
    
    Add gck_value_to_ulong() and gck_value_to_boolean() to check
    and cast CK_BBOOL and CK_ULONG.

 gck/gck-attributes.c            | 16 +++++++++------
 gck/gck-misc.c                  | 20 +++++++++++++++++++
 gck/gck.h                       |  8 ++++++++
 gck/tests/test-gck-attributes.c | 44 +++++++++++++++++++++++++++++++++++++++++
 4 files changed, 82 insertions(+), 6 deletions(-)

commit c67206d677b450037a1c8f7ef2da1a6713971605
Author: Andika Triwidada <andika@gmail.com>
Date:   2010-09-17

    Updated Indonesian translation

 po/id.po | 124 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 60 insertions(+), 64 deletions(-)

commit 3352acdb34deb6d05f23b46a386443bdc08f153d
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2010-09-15

    Updated Polish translation

 po/pl.po | 579 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 291 insertions(+), 288 deletions(-)

commit ba26d64aff5a51d1ac29e0da721c0a2ee1851cbb
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2010-09-15

    Updated Polish translation

 po/pl.po | 579 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 291 insertions(+), 288 deletions(-)

commit 86c22e4886fe97c6d9d99f4937e561c574b4e5ad
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   2010-09-15

    Updated Danish translation

 po/da.po | 607 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 327 insertions(+), 280 deletions(-)

commit 2f6c305db698cac3198d88d452340f14ef7e077a
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   2010-09-15

    Updated Danish translation

 po/da.po | 607 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 327 insertions(+), 280 deletions(-)

commit d897d5d3e8a641f31e64b912ba57a86a666afbf0
Author: Aron Xu <aronxu@gnome.org>
Date:   2010-09-14

    Merge simplified Chinese translation from master.

 po/zh_CN.po | 216 +++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 112 insertions(+), 104 deletions(-)

commit eebc77a5cd5beefd47dd367e4fa7486428f84ac9
Author: Aron Xu <aronxu@gnome.org>
Date:   2010-09-14

    Update Simplified Chinese translation.

 po/zh_CN.po | 213 +++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 111 insertions(+), 102 deletions(-)

commit d5e14376b36646fe27b214803f5682fdaa85bcbe
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-09-14

    [l10n] Updated Estonian translation

 po/et.po | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit dc0799ac1efecfb002df7c4c4f898df9e112505d
Merge: 8349031 c7f954a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-13

    Merge branch 'gck-work' into ui-widgets

commit c7f954aafdc4de66ccf191e72fcd93353047e7f5
Merge: 8ea37e4 10cfc8e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-12

    Merge branch 'master' into gck-work

commit 10cfc8e7bf03433fe03206d0f4e330b1deed36cd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-12

    Release version 2.31.92

 Makefile.am                        |  7 +++++--
 NEWS                               | 19 +++++++++++++++++++
 egg/tests/test-data/echo-script.sh |  1 +
 3 files changed, 25 insertions(+), 2 deletions(-)

commit c596dc6943c61039d5bc5366e872397bd58f5c52
Merge: 4738c64 5845892
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-12

    Merge branch 'pam-client-no-max-path'

commit 4738c645ee59c7e860f7875fb06a0fa861cb5986
Author: Adrian Bunk <adrian.bunk@movial.com>
Date:   2010-04-12

    autogen.sh: require automake 1.7
    
    automake 1.4 does not have AM_PROG_CC_C_O
    
    https://bugzilla.gnome.org/show_bug.cgi?id=615536

 autogen.sh | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit ac636369962cf911b056b98c9288901a528ae19c
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-09-12

    [l10n] Updated Estonian translation

 po/et.po | 300 +++------------------------------------------------------------
 1 file changed, 11 insertions(+), 289 deletions(-)

commit 104826d4cc79ecd4ca185406839c59cb8cfe21b2
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2010-09-12

    Updated Dutch translation by Wouter Bolsterlee

 po/nl.po | 619 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 334 insertions(+), 285 deletions(-)

commit 53391e4f569f1a3d8e4fb47502b480bc50e7e131
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-11

    [egg] Fix secure memory assertion.
    
    Fix assertion that occurs when searching for pool to free memory from.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=616175

 egg/egg-secure-memory.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 5845892d3596491d1d8b06525b0642a0b49ec9d7
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-11

    [pam] Don't use MAXPATHLEN in pam module.
    
    MAXPATHLEN has been reintroduced. This patch makes use of dynamic allocation
    rather than fixed MAXPATHLEN size buffers, fixing the build on GNU/Hurd again.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=615618

 pam/gkr-pam-client.c | 31 ++++++++++++++-----------------
 1 file changed, 14 insertions(+), 17 deletions(-)

commit f3c08bb6f286da296d28efc7e626569f8c3b565b
Merge: 7b0231d 83dd6f1
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-11

    Merge branch 'gsettings-migration'

commit 7b0231dbdaf42c17982fc00f8d6502cb4ccd5f1d
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-11

    [gpg-agent] Don't go into endless loop when client disconnects.
    
    If gpg-agent client disconnected without using QUIT, the daemon
    would go into an endless loop.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=624254

 daemon/gpg-agent/gkd-gpg-agent.c | 36 +++++++++++++++++++++---------------
 1 file changed, 21 insertions(+), 15 deletions(-)

commit 08ad82d83b3bdf4c1720cd7cc9a2bd151569ec6f
Author: Wolfgang Stöggl <c72578@yahoo.de>
Date:   2010-09-11

    Updated German translation

 po/de.po | 381 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 197 insertions(+), 184 deletions(-)

commit 8ea37e4098fea963e7836f97fb75f4648edaca8a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-10

    [gck] Fix double free with copied attributes.
    
    Copied attributes would result in a double free if length was zero.

 gck/gck-attributes.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 495468401abe79bde11a86aac19f38df150b7390
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-10

    [gp11] Fix double free with copied attributes.
    
    Copied attributes would result in a double free if length was zero.

 gp11/gp11-attributes.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 56e02cccfa6f6b33ad29d78e691be94fce61f5ef
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-10

    [dbus] Ref unlock object while performing async operation.
    
    Reference the GkdSecretUnlock object while performing an async
    operation, and unref in the callback.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=629181

 daemon/dbus/gkd-secret-unlock.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 5bb5466d57b077cec38ad33da2a8e73f64aafd72
Author: Bruno Brouard <annoa.b@gmail.com>
Date:   2010-09-08

    Updated French translation

 po/fr.po | 600 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 303 insertions(+), 297 deletions(-)

commit 05e3b53a7729c77c0b146ff6553bd925c7ddc6e7
Merge: 18ffda4 7a80709
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-08

    Merge remote branch 'pwith/628910-header-dir'

commit 18ffda45b68e4a3b333a99514f64d1e7647922d0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-08

    [prompt] When a non-default unlock option is selected expand.
    
    Expand the details when a non-default unlock option is selected.
    So that the user is aware of what will happen.

 ui/gku-prompt.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit 83dd6f13ab0a24092dccc69d9119df71cad448ac
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-08

    [schema] Add in org.gnome.crypto.pgp gsettings schema.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=622401

 schema/Makefile.am                      |  6 ++++--
 schema/org.gnome.crypto.pgp.convert     |  6 ++++++
 schema/org.gnome.crypto.pgp.gschema.xml | 29 +++++++++++++++++++++++++++++
 3 files changed, 39 insertions(+), 2 deletions(-)

commit 01353183e687934b18be9ca2aae8d5b44a4ef1ab
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-07

    [gpg-agent] Add gsettings to store passphrase preferences.
    
    Depends on new glib 2.25.0 and later.

 .gitignore                                |  1 +
 Makefile.am                               |  1 +
 autogen.sh                                |  1 -
 configure.in                              |  5 ++-
 daemon/gpg-agent/gkd-gpg-agent-ops.c      | 51 +++++++++++++++++++++++++++++++
 daemon/gpg-agent/gkd-gpg-agent-private.h  |  2 ++
 daemon/gpg-agent/gkd-gpg-agent.c          | 21 +++++++++++++
 schema/Makefile.am                        | 15 +++++++++
 schema/org.gnome.crypto.cache.convert     |  3 ++
 schema/org.gnome.crypto.cache.gschema.xml |  9 ++++--
 10 files changed, 105 insertions(+), 4 deletions(-)

commit 7a8070979d8ae24bd9be960ccb00e39e7bb22838
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:   2010-09-07

    Fix .gitignore files to correctly ignore the GTK+ 3 files

 gcr/.gitignore  | 2 +-
 tool/.gitignore | 2 +-
 ui/.gitignore   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 9b4993a4f1e83c4613335044b2bd781c79f31c4c
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:   2010-09-07

    Fix the header installation directory for libgcr
    
    Applications using libgcr expect to be able to #include <gcr/gcr.h>, so we
    need to install the headers in a gcr/ subdirectory of the major-versioned
    gcr-$MAJOR/ directory. Closes: bgo#628910

 gcr/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 997ab708d25af38b49369733ffda27d861e45ee4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-29

    [schema] Initial org.gnome.crypto.cache schema

 schema/org.gnome.crypto.cache.gschema.xml | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit bc7f95c8890b3fae3dff3f519745d98267629e8b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-05

    [pkcs11] Fix errors parsing certificates.
    
     * From recent ASN.1 migration.

 pkcs11/gkm/gkm-certificate.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 6a9d0470e2a8fa4cf8e989c967edf01393964f87
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-05

    [gcr, ui] Rework how unlock options are loaded and handled.
    
     * Rework GcrUnlockOptionsWidget API.
     * Prepare for migration to gsettings.

 daemon/gpg-agent/gkd-gpg-agent-ops.c |  31 ++---
 gcr/Makefile.am                      |   2 +
 gcr/gcr-unlock-options-widget.c      | 240 +++++++++++++++++++++++------------
 gcr/gcr-unlock-options-widget.h      |  29 +++--
 gcr/gcr-unlock-options-widget.ui     |  36 ++++--
 gcr/gcr-unlock-options.h             |  32 +++++
 gcr/tests/.gitignore                 |   1 +
 gcr/tests/Makefile.am                |  17 ++-
 gcr/tests/ui-test-unlock-options.c   |  83 ++++++++++++
 pkcs11/wrap-layer/gkm-wrap-prompt.c  | 116 ++++++++++-------
 ui/gku-prompt-tool.c                 |  99 +++++++--------
 ui/gku-prompt.c                      |  69 +++++++---
 ui/gku-prompt.h                      |  21 +--
 ui/gku-prompt.ui                     |  49 ++-----
 ui/tests/test-data/prompt-empty      |   2 +
 ui/tests/test-data/prompt-full       |   4 +-
 ui/tests/test-data/prompt-test       |   1 +
 17 files changed, 544 insertions(+), 288 deletions(-)

commit 829425006e0c65f096adb5d9058bf5519f56ae36
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2010-09-05

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 54 ++++++++++++++++++++++++++++++++----------------------
 po/zh_TW.po | 54 ++++++++++++++++++++++++++++++++----------------------
 2 files changed, 64 insertions(+), 44 deletions(-)

commit eec3d69e22dedfcb5e19cdc9ecf377f91279dd22
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-05

    [wrap-layer] Fix saving of auto-unlock passwords.
    
    Fix saving of auto unlock passwords such as the ones in SSH
    prompts.

 pkcs11/wrap-layer/gkm-wrap-login.c  | 2 +-
 pkcs11/wrap-layer/gkm-wrap-prompt.c | 6 +++++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 585968e9c143b73ed524b6b20f4b46aecb8ff682
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-05

    [ui] Transfer auto-unlock value from prompt properly.
    
    Was transferring as boolean instead of integer.

 ui/gku-prompt-tool.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a4c8c2360fbc714df529b1a589f18c592db16853
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   2010-09-05

    Updated Portuguese translation

 po/pt.po | 625 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 336 insertions(+), 289 deletions(-)

commit 2c3d8ab0e4fa32d09e17d6e39f51d253fc9a685d
Author: Andika Triwidada <andika@gmail.com>
Date:   2010-09-04

    Updated Indonesian translation

 po/id.po | 349 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 184 insertions(+), 165 deletions(-)

commit ea6b14b13a9da7098e056e4e39e79b6fa7a11fad
Author: A S Alam <aalam@users.sf.net>
Date:   2010-09-04

    update for Punjabi

 po/pa.po | 124 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 64 insertions(+), 60 deletions(-)

commit fb5506d915a4e70f4155bee985cf6bf7144a9e15
Author: drtv <vasudeven@git.gnome.org>
Date:   2010-09-03

    Updated Tamil translation

 po/ta.po | 112 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 59 insertions(+), 53 deletions(-)

commit 9577087843cb66817f306b6b2c4fed65c9f60847
Author: Daniel Nylander <po@danielnylander.se>
Date:   2010-09-03

    Updated Swedish translation

 po/sv.po | 90 ++++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 57 insertions(+), 33 deletions(-)

commit d5fdca45a06685ab0ff6286e29eb3618720f9fc6
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-09-02

    Updated Norwegian bokmål translation

 po/nb.po | 76 +++++++++++++++++-----------------------------------------------
 1 file changed, 20 insertions(+), 56 deletions(-)

commit 5897ae65ce2499e6991fb630fe362404728e8e34
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-09-02

    Updated Hebrew translation.

 po/he.po | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b77995b01de7565b3882a2631227cf7626a777e1
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-09-02

    Updated Hebrew translation.

 po/he.po | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 138f83f0edcfddbe87fe3ea40b9c8b516807adc2
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   2010-09-01

    Update British English translation

 po/en_GB.po | 26 +++++++++++++++++++-------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit 995bf0069468ad82f228d6737e17796ffbaf6028
Merge: d9ef944 2b308e5
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-01

    Merge branch '624570-gtk3-option'

commit 2b308e57df63d4ac0de3f3469ef4c48efe77d8a6
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-01

    Minor fine tuning of GTK+ 3.0 build support.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=624570

 configure.in     | 4 ++--
 tool/Makefile.am | 2 +-
 ui/Makefile.am   | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit d9ef94455d115d8fed29a3071b5b19ca632fb932
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-01

    [secret-store] Fix the CKA_TRUSTED attribute for collections.
    
    This attribute signifies whether the collection is properly encrypted
    or not. Fix broken boolean check.

 pkcs11/secret-store/gkm-secret-collection.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 767da9c364487235985721fe91483251bcf99da0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-09-01

    [ssh-agent] No warning message when prompt cancelled.
    
    Don't print g_message when ssh-agent prompt is cancelled.

 daemon/ssh-agent/gkd-ssh-agent-ops.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 19f50bcdd0e762625c03b66a5533eecda0ada391
Author: Matthias Clasen <mclasen@redhat.com>
Date:   2010-09-01

    [pam] Fix PAM header test.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=628457

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ed44a48151706e57af32025332615320f7d18ff
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-31

    Revert "[pam] Fix build on Snow Leopard."
    
    This reverts commit dc9f71c5b77ea481e71cc7c250de4a967991b16a.
    
    Reverted due to: https://bugzilla.gnome.org/show_bug.cgi?id=628384

 configure.in         | 2 +-
 pam/gkr-pam-module.c | 7 -------
 2 files changed, 1 insertion(+), 8 deletions(-)

commit c16563e487368e80a97d9d4f9288c12eea57f211
Author: Michael Kotsarinis <mk73628@gmail.com>
Date:   2010-08-31

    l10n: Updated Greek translation for gnome-keyring

 po/el.po | 1084 +++++++++++++++++---------------------------------------------
 1 file changed, 295 insertions(+), 789 deletions(-)

commit 28d9a8c62c7c8dcb1bc905ca0007188382ee5677
Author: Dirgita <dirgitadevina@yahoo.co.id>
Date:   2010-09-01

    Updated Indonesian translation

 po/id.po | 1204 +++++++++++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 927 insertions(+), 277 deletions(-)

commit 41853fa7f5af2440be5e1008ee665e0be10343fe
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:   2010-08-25

    Port to GTK+ 3
    
    Add a --with-gtk=[2.0|3.0] option to configure to allow building against
    GTK+ 2 or GTK+ 3. Closes: bgo#624570

 configure.in                   | 34 ++++++++++++++++++++++++++++++++--
 docs/reference/gcr/Makefile.am |  5 ++---
 gcr/.gitignore                 |  1 +
 gcr/Makefile.am                | 14 +++++++-------
 gcr/gcr.pc.in                  |  8 ++++----
 gcr/tests/Makefile.am          |  2 +-
 tool/.gitignore                |  1 +
 tool/Makefile.am               | 16 +++++++++++-----
 ui/.gitignore                  |  1 +
 ui/Makefile.am                 | 18 ++++++++++++------
 10 files changed, 72 insertions(+), 28 deletions(-)

commit e84bca9dfd038b7927cb29214148e5b8aa015a42
Author: Милош Поповић <gpopac@gmail.com>
Date:   2010-08-31

    Updated Serbian translation

 po/sr.po       | 37 +++++++++++++++++++++++--------------
 po/sr@latin.po | 37 +++++++++++++++++++++++--------------
 2 files changed, 46 insertions(+), 28 deletions(-)

commit 918d8cccd6c470a7d9859dd64970e389b4ff2c44
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-30

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 357bf1d22d5ff5120eaf843fc3818d73d53c5c91
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-30

    Release version 2.31.91

 NEWS                               | 13 +++++++++++++
 configure.in                       |  2 +-
 daemon/data/Makefile.am            |  2 +-
 pkcs11/wrap-layer/gkm-wrap-layer.c |  4 ++--
 4 files changed, 17 insertions(+), 4 deletions(-)

commit c5a2aa2a33337297b05b52cb14f2484338b1f4be
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-08-30

    Updated Slovenian translation

 po/sl.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c9ce20019359767479ce9a02e2a46212f5c433d8
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-08-30

    Updated Slovenian translation

 po/sl.po | 87 +++++++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 56 insertions(+), 31 deletions(-)

commit 8349031dc46a294805934e22ae77b29310542580
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-30

    [gcr] Don't delete entire content when one renderer redraws.

 gcr/gcr-display-view.c | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 9525b4b3d76071360ca9eecf66a103e8ca74a5f6
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-30

    [gcr] Fix problems with expanding details not showing scrollbar.
    
     * The invisible attribute of tags in GtkTextView is buggy. So rerender
       instead when expanding.

 gcr/gcr-display-view.c | 37 +++++++++++++++++++++++++++++--------
 1 file changed, 29 insertions(+), 8 deletions(-)

commit 22f5fee4f2da40eecf296038b5edf2b420e20b37
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-30

    [gcr] Rework the architecture of viewers.
    
     * GcrRenderer renders data like a certificate.
     * GcrViewer is what the renderers render to.
     * GcrXxxWidget are helper classes for quick instatiation.

 gcr/Makefile.am                 |  12 +-
 gcr/gcr-certificate-renderer.c  | 540 +++++++++++++++++++++++++++++++++++++
 gcr/gcr-certificate-renderer.h  |  67 +++++
 gcr/gcr-certificate-widget.c    | 395 +++------------------------
 gcr/gcr-certificate-widget.h    |   9 +-
 gcr/gcr-display-view.c          | 585 +++++++++++++++++++++++++++++-----------
 gcr/gcr-display-view.h          |  13 +-
 gcr/gcr-key-renderer.c          | 342 +++++++++++++++++++++++
 gcr/gcr-key-renderer.h          |  62 +++++
 gcr/gcr-key-widget.c            | 239 +++-------------
 gcr/gcr-key-widget.h            |   6 +-
 gcr/gcr-renderer.c              | 169 ++++++++++++
 gcr/gcr-renderer.h              |  73 +++++
 gcr/gcr-view.c                  | 144 ----------
 gcr/gcr-view.h                  |  53 ----
 gcr/gcr-viewer.c                |  99 +++++++
 gcr/gcr-viewer.h                |  73 +++++
 gcr/tests/ui-test-certificate.c |   1 -
 gcr/tests/ui-test-key.c         |   3 +-
 19 files changed, 1962 insertions(+), 923 deletions(-)

commit 15db6d87deee45707813d0a3bd1181fd787c28e1
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-08-30

    [l10n] Updated Estonian translation

 po/et.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit eb90a07631e5ea651f06686447f0691cead6d554
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-08-30

    [l10n] Updated Estonian translation

 po/et.po | 97 +++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 53 insertions(+), 44 deletions(-)

commit 762498d27cb099e6a83f53aad33595a95788e3f8
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-08-30

    Updated Spanish translation

 po/es.po | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit d39f226922c825b444280f0ca5496fac2d1c4320
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-29

    [gcr] Remove the old style certificate widgets.
    
    This is replaced by the unified certificate widget with both
    basics and details.

 docs/reference/gcr/gcr.types         |   2 -
 gcr/Makefile.am                      |   4 -
 gcr/gcr-certificate-basics-widget.c  | 306 -------------------
 gcr/gcr-certificate-basics-widget.h  |  62 ----
 gcr/gcr-certificate-details-widget.c | 549 -----------------------------------
 gcr/gcr-certificate-details-widget.h |  62 ----
 gcr/gcr.h                            |   3 +-
 7 files changed, 1 insertion(+), 987 deletions(-)

commit 277fdba664fb027ff2f192536722ade551c63b0b
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:   2010-08-25

    Add missing default cases in switch statements

 gp11/gp11-module.c  | 6 ++++++
 gp11/gp11-object.c  | 6 ++++++
 gp11/gp11-session.c | 6 ++++++
 gp11/gp11-slot.c    | 6 ++++++
 4 files changed, 24 insertions(+)

commit 0cb06e4a3ff4a83305f1539a286c4060e9b0d6bc
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:   2010-08-25

    Fix shadowing of a glibc function to fix a gcc warning

 gp11/gp11-attributes.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3947b281ba1e119cf108ff98f707738c90a9ee81
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:   2010-08-25

    Use #ifdef instead of #if to fix gcc warnings

 gp11/gp11-slot.c |  2 +-
 gp11/gp11.h      | 18 +++++++++---------
 2 files changed, 10 insertions(+), 10 deletions(-)

commit 5bb622805ca2200287dbb7e4fe0ade37b7358ac8
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:   2010-08-25

    Fix versioning to separate package and libtool versions

 configure.in | 40 +++++++++++++++++++++++++++++-----------
 1 file changed, 29 insertions(+), 11 deletions(-)

commit 7af9fbe89554623f705d1509a1c0d5ca579b714d
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-08-29

    Updated Galician translations

 po/gl.po | 122 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 64 insertions(+), 58 deletions(-)

commit 8ce29385c7f94d8beee96db4010476bc5e71eda0
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2010-08-29

    Updated Hungarian translation

 po/hu.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7b7e616441d62d1cc7b35af1600bf6044da6c814
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   2010-08-28

    Use "different from" rather than "different than" in a translatable string

 gp11/gp11-misc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7318c567e27329bc4f01b5e2450534c798da5e42
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-08-29

    Updated Hebrew translation.

 po/he.po | 116 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 61 insertions(+), 55 deletions(-)

commit cf406dfe1f429de0f0016a03e6753c034ceb5e7d
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2010-08-29

    Updated Hungarian translation

 po/hu.po | 26 +++++++++++++++++++-------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit 7b322826388d36c86bb46d9797fec394a22aa7d9
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2010-08-29

    Updated Hungarian translation

 po/hu.po | 567 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 279 insertions(+), 288 deletions(-)

commit c1b542b733186b09679bf52a828078c703d2bd2f
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-08-29

    Updated Spanish translation

 po/es.po | 128 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 68 insertions(+), 60 deletions(-)

commit 04a179c4def0d311e0bd2be62e5e0f7dc3c94bfd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-27

    [gpg-agent] Change the agent prompt strings to not talk about keyrings.
    
     * Added way to change strings in GcrUnlockOptionsWidget
     * GkuPrompt now has a way to transfer these strings to gnome-keyring-prompt

 daemon/gpg-agent/gkd-gpg-agent-ops.c |  4 +++
 gcr/gcr-unlock-options-widget.c      | 51 ++++++++++++++++++++++++++++++++++++
 gcr/gcr-unlock-options-widget.h      | 13 +++++++++
 ui/gku-prompt-tool.c                 | 15 +++++++++++
 ui/gku-prompt.c                      | 11 ++++++++
 ui/gku-prompt.h                      |  4 +++
 6 files changed, 98 insertions(+)

commit 1d9ff263ef2a5ddd8faa4d2297e816e3d9cd363b
Merge: 999087a 9ea8cbd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-28

    Merge branch 'gck-work' into ui-widgets

commit 999087a9836e972253f4a72b398e52530a106c98
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-28

    [gcr] Use cairo instead of old GDK draw stuff.
    
    Remove use of gdk_draw_pixbuf().

 gcr/gcr-display-view.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 3b838fe27561901ea04e7d2884aade5fff132ff6
Author: Louis-Francis Ratté-Boulianne <louisfrancis.rb@gmail.com>
Date:   2010-08-27

    [pam] Fix build on Snow Leopard.
    
    Before Snow Leopard, the pam header files were in /usr/include/pam/
    instead of /usr/include/security. We need to check both locations

 configure.in         | 2 +-
 pam/gkr-pam-module.c | 7 +++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 0d4d0f874710d196ee75194465db386bfd1f38be
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   2010-08-28

    Update British English translation

 po/en_GB.po | 602 ++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 318 insertions(+), 284 deletions(-)

commit abaa9381074fffb3bf717651c945e6ba5b5c0200
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-27

    [gcr] Install the gcr-simple-certificate.h header properly.

 gcr/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 60ffb844a0c43cdc7bff27c8e000d9b581f7b513
Author: Thorsten Sick <tsick@src.gnome.org>
Date:   2010-08-22

    Full documentation for gku-prompt-tool.c
    
    This patch adds full documentation for gku-prompt-tool.c.
    Static functions are commented in a non-specific way, the other functions in a GTK-Doc style.

 ui/gku-prompt-tool.c | 281 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 280 insertions(+), 1 deletion(-)

commit 9ea8cbd7a7cfee35c723c7a0b24b9b252389a5aa
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-25

    Port gnome-keyring to new gck library.

 daemon/Makefile.am                          |   2 +-
 daemon/dbus/gkd-dbus-secrets.c              |  38 +-
 daemon/dbus/gkd-secret-change.c             |  41 ++-
 daemon/dbus/gkd-secret-change.h             |   4 +-
 daemon/dbus/gkd-secret-create.c             |  73 ++--
 daemon/dbus/gkd-secret-create.h             |  12 +-
 daemon/dbus/gkd-secret-lock.c               |  30 +-
 daemon/dbus/gkd-secret-lock.h               |   4 +-
 daemon/dbus/gkd-secret-objects.c            | 308 ++++++++--------
 daemon/dbus/gkd-secret-objects.h            |   8 +-
 daemon/dbus/gkd-secret-prompt.c             |   4 +-
 daemon/dbus/gkd-secret-prompt.h             |   6 +-
 daemon/dbus/gkd-secret-property.c           |  56 +--
 daemon/dbus/gkd-secret-property.h           |  12 +-
 daemon/dbus/gkd-secret-service.c            |  62 ++--
 daemon/dbus/gkd-secret-service.h            |   6 +-
 daemon/dbus/gkd-secret-session.c            | 203 ++++++-----
 daemon/dbus/gkd-secret-session.h            |  12 +-
 daemon/dbus/gkd-secret-unlock.c             |  82 ++---
 daemon/dbus/gkd-secret-unlock.h             |   4 +-
 daemon/gpg-agent/Makefile.am                |   2 +-
 daemon/gpg-agent/gkd-gpg-agent-ops.c        | 142 ++++----
 daemon/gpg-agent/gkd-gpg-agent-private.h    |  10 +-
 daemon/gpg-agent/gkd-gpg-agent-standalone.c |  12 +-
 daemon/gpg-agent/gkd-gpg-agent.c            |  65 ++--
 daemon/login/Makefile.am                    |   2 +-
 daemon/login/gkd-login.c                    | 256 ++++++-------
 daemon/login/gkd-login.h                    |   2 +-
 daemon/ssh-agent/Makefile.am                |   2 +-
 daemon/ssh-agent/gkd-ssh-agent-ops.c        | 544 +++++++++++++++-------------
 daemon/ssh-agent/gkd-ssh-agent-private.h    |  46 +--
 daemon/ssh-agent/gkd-ssh-agent-proto.c      | 136 +++----
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |  11 +-
 daemon/ssh-agent/gkd-ssh-agent.c            |  58 ++-
 egg/Makefile.am                             |  12 +-
 gck/Makefile.am                             |   2 +-
 gck/gck-enumerator.c                        |  60 ++-
 gck/gck-modules.c                           |  21 +-
 gck/gck-session.c                           |  28 ++
 gck/gck.h                                   |   2 +
 gck/pkcs11.h                                |   4 +-
 gcr/Makefile.am                             |   2 +-
 gcr/gcr-import-dialog.c                     |  36 +-
 gcr/gcr-import-dialog.h                     |   6 +-
 gcr/gcr-importer.c                          |  82 ++---
 gcr/gcr-importer.h                          |   6 +-
 gcr/gcr-initializer.h                       |   4 +-
 gcr/gcr-internal.h                          |   2 -
 gcr/gcr-library.c                           |  19 +-
 gcr/gcr-parser.c                            |  30 +-
 gcr/gcr-parser.h                            |   2 +-
 gcr/gcr-types.h                             |   8 +-
 gcr/tests/unit-test-parser.c                |   4 +-
 pkcs11/Makefile.am                          |   2 +-
 pkcs11/gkm/gkm-mock.c                       |   5 -
 pkcs11/wrap-layer/gkm-wrap-prompt.h         |   2 +
 tool/Makefile.am                            |   2 +-
 tool/gkr-tool-import.c                      |  22 +-
 ui/gku-prompt.h                             |   2 -
 59 files changed, 1352 insertions(+), 1268 deletions(-)

commit 7e8bf604439de8dceac198d425e27f33b800fd3f
Author: Милош Поповић <gpopac@gmail.com>
Date:   2010-08-24

    Updated Serbian translation

 po/sr.po       | 643 +++++++++++++++++++++++++++++----------------------------
 po/sr@latin.po | 641 ++++++++++++++++++++++++++++----------------------------
 2 files changed, 659 insertions(+), 625 deletions(-)

commit 614002d7a43c77436bdf6ad12333ab6d485f915e
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2010-08-21

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 81 ++++++++++++++++++++++++++++---------------------------
 po/zh_TW.po | 90 +++++++++++++++++++++++++++++--------------------------------
 2 files changed, 84 insertions(+), 87 deletions(-)

commit ec33e851cd7d9f1b63a47e54a70ea623dfc9e609
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2010-08-19

    Updated Arabic translation

 po/ar.po | 589 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 311 insertions(+), 278 deletions(-)

commit d4d699f3c02e4f56813f4bc7fa58998a33c3e4b8
Author: Claude Paroz <claude@2xlibre.net>
Date:   2010-08-18

    Updated POTFILES.in

 po/POTFILES.in | 1 -
 1 file changed, 1 deletion(-)

commit 04dd4defe0901449413568a47ea1727f89c990e8
Author: Aron Xu <aronxu@gnome.org>
Date:   2010-08-13

    Update Simplified Chinese translation.

 po/zh_CN.po | 282 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 142 insertions(+), 140 deletions(-)

commit a9c7f91915decb9a1c326ae09f4ac64bd462d8b2
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-09

    [gck] Implement PkCS#11 URI's and enumeration
    
     * PKCS#11 URI spec is not completely finalized yet.
     * Removed old callback style enumeration and replaced with gio style.

 Makefile.am                     |   2 +-
 gck/Makefile.am                 |   3 +
 gck/gck-call.c                  |  18 +-
 gck/gck-enumerator.c            | 689 ++++++++++++++++++++++++++++++++++++++++
 gck/gck-misc.c                  |   2 +-
 gck/gck-modules.c               | 166 +++++-----
 gck/gck-private.h               |  13 +-
 gck/gck-slot.c                  |  27 ++
 gck/gck-uri.c                   | 350 ++++++++++++++++++++
 gck/gck.h                       | 113 ++++++-
 gck/tests/Makefile.am           |   5 +-
 gck/tests/test-gck-enumerator.c | 170 ++++++++++
 gck/tests/test-gck-module.c     |   4 +
 gck/tests/test-gck-modules.c    | 145 +++++++++
 gck/tests/test-gck-slot.c       |  56 ++++
 gck/tests/test-gck-uri.c        | 229 +++++++++++++
 16 files changed, 1879 insertions(+), 113 deletions(-)

commit 4aa488ea33410b7bdd6f77deff9c08c2245752cd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-09

    [egg] Make the hex decoder more robust

 egg/egg-hex.c             | 68 +++++++++++++++++++++++++++++++++--------------
 egg/egg-hex.h             | 12 ++++++---
 egg/tests/unit-test-hex.c | 32 ++++++++++++++++------
 3 files changed, 81 insertions(+), 31 deletions(-)

commit 2b3d17f0e086dce443715d2ed219c18868a84e67
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-09

    [gck] Fix up tests problems after recent commits.

 gck/tests/test-gck-crypto.c  | 12 ++++++------
 gck/tests/test-gck-object.c  |  5 +++--
 gck/tests/test-gck-session.c |  4 ++--
 3 files changed, 11 insertions(+), 10 deletions(-)

commit 4dbb3dcad22efb565ea95771d66142ff6d8005f0
Author: Aron Xu <aronxu@gnome.org>
Date:   2010-08-09

    Update the translation of keyring in zh_CN.

 po/zh_CN.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 255279098f327336d4c2977a8bed48f90d59808b
Author: Aron Xu <aronxu@gnome.org>
Date:   2010-08-09

    Update Simplified Chinese translation.

 po/zh_CN.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 88fa3a11c5ad14c24ce3247c6f2ca45f9dfc6c01
Merge: cea36ad 201ad31
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-08

    Merge branch 'master' into gck-work

commit 201ad316423a287c8552e882421acaf2dd3f3128
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-08

    [daemon] Remove gconf support as part of migration to gsettings.
    
     * These keys didn't seem to have any effect anyway. They were supposed
       to be used by the session manager.

 configure.in                               |  2 --
 daemon/data/Makefile.am                    | 24 +---------------
 daemon/data/gnome-keyring.schemas.in       | 46 ------------------------------
 daemon/gnome-keyring-gpg.desktop.in.in     |  1 -
 daemon/gnome-keyring-pkcs11.desktop.in.in  |  1 -
 daemon/gnome-keyring-secrets.desktop.in.in |  1 -
 daemon/gnome-keyring-ssh.desktop.in.in     |  1 -
 7 files changed, 1 insertion(+), 75 deletions(-)

commit a8fc026cdf2b1a47ec4d0ea8517c86199dd8b6cd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-08

    [gkm] Fix warning that occurs when screensaver unlocks daemon.
    
     * Fix return error code from C_Login to appropriate code when
       another user type is logged in.

 pkcs11/gkm/gkm-module.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1407d55a20da38edd29d0671d4225ad9435657c2
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-08

    Ignore more project files

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 18c14cdd98e6ccf8929bd813b28c9f2a4b4587df
Author: Daniel Nylander <po@danielnylander.se>
Date:   2010-08-06

    Updated Swedish translation

 po/sv.po | 479 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 258 insertions(+), 221 deletions(-)

commit c9ba094673159ab539d9b81e3244bce8cfcccfe1
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-08-04

    Updated Norwegian bokmål translation

 po/nb.po | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6cb7982cdd0c672494832d1aac7777ccb132f9ec
Author: A S Alam <aalam@users.sf.net>
Date:   2010-08-04

    update Translation in master for Punjabi by A S Alam

 po/pa.po | 559 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 283 insertions(+), 276 deletions(-)

commit 7ac060a25db493d66f93de25bea1d39511c208f4
Author: drtv <vasudeven@git.gnome.org>
Date:   2010-08-02

    Updated Tamil translation

 po/ta.po | 522 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 280 insertions(+), 242 deletions(-)

commit 00b498063fd0d797d3d224472e9275f08a92b116
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-08-02

    [l10n] Updated Estonian translation

 po/et.po | 26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit 3bf110739d6015298e9f98c75d6889f6c74bed82
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-08-01

    Updated Galician translations

 po/gl.po | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit cea36adf672a4b26a632362c8559d9db2785d66e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-01

    [gck] Add methods for listing and initializing registered modules.
    
     * We use the concept of a PKCS #11 registry as outlined here:
       http://wiki.cacert.org/Pkcs11TaskForce

 gck/Makefile.am   |  3 ++-
 gck/gck-modules.c | 65 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 gck/gck.h         |  4 ++++
 3 files changed, 71 insertions(+), 1 deletion(-)

commit 9c49ed2cb38ee77aa40b95912d9510792e240f89
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-08-01

    [gck] Make various objects pretty much immutable.
    
     * Except for certain flags used during destruction, which we
       use atomically internally.

 gck/gck-module.c             | 221 ++++++++++++-------------------------------
 gck/gck-object.c             | 150 +++++++++++++----------------
 gck/gck-session.c            | 146 ++++++++--------------------
 gck/gck-slot.c               |  81 ++++++++--------
 gck/gck.h                    |  23 +++--
 gck/tests/test-gck-crypto.c  |  27 ++++--
 gck/tests/test-gck-module.c  |   8 +-
 gck/tests/test-gck-object.c  |   2 +-
 gck/tests/test-gck-session.c |  37 ++++----
 gck/tests/test-gck-slot.c    |   4 +-
 10 files changed, 265 insertions(+), 434 deletions(-)

commit a6adc688b7be28f487695db35377cd87aabd8948
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-31

    [gck] Remove most complex var args functions.
    
     * These functions could not be bound through gobject introspection.
     * They were hard to get right even in C, because the varargs were
       triples.

 gck/gck-attributes.c            | 136 ------------------------
 gck/gck-modules.c               |  76 +-------------
 gck/gck-object.c                |  56 +---------
 gck/gck-session.c               | 223 ++--------------------------------------
 gck/gck.h                       |  49 ---------
 gck/tests/gck-test-module.c     |  70 ++++++-------
 gck/tests/test-gck-attributes.c |  78 ++------------
 gck/tests/test-gck-crypto.c     |  42 ++++----
 gck/tests/test-gck-module.c     |   9 +-
 gck/tests/test-gck-object.c     | 127 ++++++++---------------
 gck/tests/test-gck-session.c    |  12 +--
 11 files changed, 129 insertions(+), 749 deletions(-)

commit 28b92ce9b020dc3e1bb58eb07669f83d753c18dd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [gck] Remove session pooling, and add concept of module list.
    
     * Session pooling no langer necessary now that we track sessions
       properly in GckObject. This was of dubious value anyway.
     * Added concept of a module list.

 .gitignore                   |   2 +-
 gck/Makefile.am              |   1 +
 gck/gck-module.c             | 477 +++----------------------------------------
 gck/gck-modules.c            | 221 ++++++++++++++++++++
 gck/gck-private.h            |   8 -
 gck/gck-session.c            |   2 +-
 gck/gck-slot.c               |  44 ++--
 gck/gck.h                    |  26 ++-
 gck/tests/test-gck-crypto.c  |   4 +-
 gck/tests/test-gck-module.c  |   9 +-
 gck/tests/test-gck-session.c |  72 +------
 11 files changed, 296 insertions(+), 570 deletions(-)

commit 59b779c9e9a7a3243b75b350b3467284fe4c9100
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [gck] Fix some indentation

 gck/gck.h | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 034d6fe69bc91722c242659a9d27c429c85a3fad
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [daemon] Add --replace option to daemon.
    
     * Allows one gnome-keyring-daemon to replace another, including
       using the same environment variables etc.

 daemon/control/gkd-control-client.c      | 30 ++++++++++++++
 daemon/control/gkd-control-codes.h       |  1 +
 daemon/control/gkd-control-server.c      | 13 ++++++
 daemon/control/gkd-control.h             |  2 +
 daemon/control/tests/.gitignore          |  1 +
 daemon/control/tests/Makefile.am         | 12 +++++-
 daemon/control/tests/test-control-quit.c | 25 ++++++++++++
 daemon/dbus/gkd-dbus.c                   |  9 +++--
 daemon/gkd-main.c                        | 69 +++++++++++++++++++++++---------
 9 files changed, 137 insertions(+), 25 deletions(-)

commit c6268875ed38dda2e3aaab5b065a5a54fe2787aa
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [testing] Fix race condition in tests where waiting.
    
     * Fixes cases where results are available before waiting for them.

 testing/testing.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 6c8e81f5af316ac8febd7ddfa8004232285e3bc5
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [gck] More header cleanups.

 gck/gck.h | 56 +-------------------------------------------------------
 1 file changed, 1 insertion(+), 55 deletions(-)

commit cb95c2ce58c48f64f563a2fe383421a40222ef88
Merge: d52556b 0e9d1f4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    Merge branch 'master' into gck-work

commit 0e9d1f40f44ba8b409235cc3946cdff7946bedf5
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [testing] Fix race condition in tests where waiting.
    
     * Fixes cases where results are available before waiting for them.

 testing/testing.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit d52556bfe9f51e750c32e7b241725a0a26b484ab
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [gck] Remove debug line.

 gck/tests/test-gck-crypto.c | 1 -
 1 file changed, 1 deletion(-)

commit 822991de8a7428845b8afdc6736c95ded298beba
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-30

    [gck] Objects keep reference to sessions not slots.
    
     * This better models the way that PKCS#11 actually works.

 gck/gck-module.c            |   7 +-
 gck/gck-object.c            | 335 +++++++++-----------------------------------
 gck/gck-session.c           |  31 ++--
 gck/gck.h                   |  10 +-
 gck/tests/gck-test-module.c |  31 ++--
 gck/tests/gck-test.h        |   9 ++
 gck/tests/test-gck-crypto.c |   2 -
 gck/tests/test-gck-object.c |  77 ++--------
 8 files changed, 122 insertions(+), 380 deletions(-)

commit a9ba58d3a10edc2cad1bb77483129b5a1035338f
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-07-30

    Updated Spanish translation

 po/es.po | 126 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 62 insertions(+), 64 deletions(-)

commit 8d80ac517dea7f35b5bb7b72fe425681d4ed5601
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-29

    [gck] In preparation for public release, rename library.
    
     * Next steps will include cleaning up the API making it ready
       for gobject introspection etc..

 Makefile.am                     |    1 +
 configure.in                    |   11 +
 gck/.gitignore                  |    2 +
 gck/Makefile.am                 |   66 +
 gck/gck-attributes.c            | 1428 +++++++++++++++++++
 gck/gck-call.c                  |  541 ++++++++
 gck/gck-marshal.list            |    3 +
 gck/gck-misc.c                  |  437 ++++++
 gck/gck-module.c                | 1228 +++++++++++++++++
 gck/gck-object.c                | 1615 ++++++++++++++++++++++
 gck/gck-private.h               |  162 +++
 gck/gck-session.c               | 2886 +++++++++++++++++++++++++++++++++++++++
 gck/gck-slot.c                  | 1061 ++++++++++++++
 gck/gck.h                       | 1297 ++++++++++++++++++
 gck/gck.pc.in                   |   14 +
 gck/pkcs11.h                    |   30 +
 gck/tests/Makefile.am           |   42 +
 gck/tests/gck-test-module.c     | 1702 +++++++++++++++++++++++
 gck/tests/gck-test.h            |   46 +
 gck/tests/test-gck-attributes.c |  528 +++++++
 gck/tests/test-gck-crypto.c     |  595 ++++++++
 gck/tests/test-gck-mechanism.c  |   60 +
 gck/tests/test-gck-module.c     |  159 +++
 gck/tests/test-gck-object.c     |  463 +++++++
 gck/tests/test-gck-session.c    |  323 +++++
 gck/tests/test-gck-slot.c       |  147 ++
 26 files changed, 14847 insertions(+)

commit 89bacc861719ea1dc458a6fbd9b8ba0f9cafb365
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-07-29

    Updated Hebrew translation.

 po/he.po | 122 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 61 insertions(+), 61 deletions(-)

commit 519eaa45d7c0cbe1c5b49171c832d5a0b590e170
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-07-29

    Updated Slovenian translation

 po/sl.po | 124 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 62 insertions(+), 62 deletions(-)

commit 68cb40cc11a8188cd4f8e608ab882f19e6d51329
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-29

    [wrap-layer] Fix text prompt for login keyring.
    
     * Typo.
     * Fixes bug# 614462

 pkcs11/wrap-layer/gkm-wrap-prompt.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d26d35752f3d16409d9db587c63101b3cbc3e637
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-28

    [egg] Fix asn.1 parsing into GDate.
    
     * We used g_date_set_time_val which converted using local time.
     * Changed to set GDate fields independently.

 egg/egg-asn1x.c | 48 ++++++++++++++++++++++++++++++++++--------------
 1 file changed, 34 insertions(+), 14 deletions(-)

commit c218fdd64a59406c9993c07a50b566b68caf9165
Author: Pablo Castellano <pablog@src.gnome.org>
Date:   2010-07-27

    g_string_append_c_inline is used implicitly

 daemon/dbus/gkd-secret-util.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9072f847743e22eb6a96c70d1cac8bf506df8902
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-27

    [dbus] Fix encoding problems with keyring names and foreign characters.
    
     * Creating keyrings with a label that contained non-ascii charaters
       was broken.

 configure.in                         |  1 +
 daemon/dbus/Makefile.am              |  9 ++++++++
 daemon/dbus/gkd-secret-util.c        |  2 +-
 daemon/dbus/tests/Makefile.am        | 14 ++++++++++++
 daemon/dbus/tests/test-secret-util.c | 42 ++++++++++++++++++++++++++++++++++++
 5 files changed, 67 insertions(+), 1 deletion(-)

commit 5ee980363f5e3a49bbd1e5a2c34dec150b4e3ff8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-27

    [dbus] Fix problem accessing "object-path" property as wrong type.
    
    Should be a pointer property, but was a string.

 daemon/dbus/gkd-secret-prompt.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0c5f3d6115305e3085dd76a71c8955b5e16aedbf
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-27

    [gcr] Get ready for screenshots in GUADEC presentation

 gcr/gcr-certificate-widget.c    |  6 ++++++
 gcr/gcr-display-view.c          |  4 ++--
 gcr/gcr-key-widget.c            | 12 +++++++++++
 gcr/tests/ui-test-certificate.c | 44 +++++++++++++++++++++++++++--------------
 gcr/tests/ui-test-key.c         |  3 ++-
 5 files changed, 51 insertions(+), 18 deletions(-)

commit cba57dd37fb82b01f4faa46162bbb4b2487161fb
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-07-26

    Updated Slovenian translation

 po/sl.po | 456 ++++-----------------------------------------------------------
 1 file changed, 28 insertions(+), 428 deletions(-)

commit 2964e1671c3f472055fe5070f5b746d5389cfbc0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-21

    [egg] Fix problems building on 32-bit.
    
    Make encoding of unsigned longs adapt to long size.

 egg/egg-asn1x.c | 26 +++++++++++---------------
 1 file changed, 11 insertions(+), 15 deletions(-)

commit 7ebeea19e62f2a2fcd79596a798bcc8238fb1b54
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-07-20

    Updated Galician translations

 po/gl.po | 477 +++++++++++----------------------------------------------------
 1 file changed, 77 insertions(+), 400 deletions(-)

commit e90094d3f22e7b01b36d0b8010162ac80448ab5d
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2010-07-20

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 475 ++++++++++++++++++++++++++++++++---------------------------
 po/zh_TW.po | 479 ++++++++++++++++++++++++++++++++----------------------------
 2 files changed, 516 insertions(+), 438 deletions(-)

commit 0d5a13023c6f30200e98c07a52ac75c7e0916ee9
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2010-07-18

    [i18n] Updated German translation

 po/de.po | 535 ++++++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 288 insertions(+), 247 deletions(-)

commit e52f07a21b4a960bb7a7e99ecaeb5428a60f94a0
Author: Tao Wang <dancefire@gmail.com>
Date:   2010-07-15

    Update Simplified Chinese translation.

 po/zh_CN.po | 386 ++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 235 insertions(+), 151 deletions(-)

commit f75045431ca667859048a35cde1eacd973c31da5
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-07-13

    Updated Norwegian bokmål translation

 po/nb.po | 155 +++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 91 insertions(+), 64 deletions(-)

commit b248019c1357c5856854fa6cb9f3907517e40236
Author: Eleanor Chen <chenyueg@gmail.com>
Date:   2010-07-13

    Update Simplified Chinese translations.

 po/zh_CN.po | 1370 +++++++++++++++++++++++++++++++----------------------------
 1 file changed, 713 insertions(+), 657 deletions(-)

commit 9a806907aceba77ca9baa7da9566c9b116e2cf9c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-13

    [gcr] Implement rudimentary key view.

 gcr/Makefile.am                 |   2 +
 gcr/gcr-certificate-widget.c    |   1 -
 gcr/gcr-key-widget.c            | 325 ++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-key-widget.h            |  57 +++++++
 gcr/tests/.gitignore            |   3 +-
 gcr/tests/Makefile.am           |  29 +++-
 gcr/tests/ui-test-certificate.c |  78 ++++++++++
 gcr/tests/ui-test-details.c     |  78 ----------
 gcr/tests/ui-test-key.c         |  88 +++++++++++
 9 files changed, 573 insertions(+), 88 deletions(-)

commit 512141527a7675e399d7b597c145a9e55e8b11d9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-21

    [gcr] Create new view interface and implement for certificates.

 gcr/Makefile.am              |   4 +-
 gcr/gcr-certificate-widget.c | 198 ++++++++++++++++++++++++++++++-------------
 gcr/gcr-simple-certificate.c |  71 +++++++---------
 gcr/gcr-simple-certificate.h |   3 +
 gcr/gcr-view.c               | 144 +++++++++++++++++++++++++++++++
 gcr/gcr-view.h               |  53 ++++++++++++
 gcr/template/gcr-zzz.c       |  59 +++++++++++++
 gcr/template/gcr-zzz.h       |  45 ++++++++++
 gp11/gp11-attributes.c       |  39 +++++++++
 gp11/gp11.h                  |   7 +-
 10 files changed, 523 insertions(+), 100 deletions(-)

commit 533a059727ecc9d61e162e88d5cf25a2ef7218d5
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-20

    [gcr] Fine tune the details expander.

 gcr/gcr-display-view.c      | 22 ++++++++++------------
 gcr/tests/ui-test-details.c |  2 +-
 2 files changed, 11 insertions(+), 13 deletions(-)

commit b193540c3b1f3651c3d76015093c63fe48d3b32e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-20

    [gcr] Display proper certificate icon.

 gcr/Makefile.am              |  1 +
 gcr/gcr-certificate-widget.c | 15 +++-----
 gcr/gcr-display-view.c       |  2 --
 gcr/gcr-icons.c              | 85 ++++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-icons.h              | 36 +++++++++++++++++++
 5 files changed, 127 insertions(+), 12 deletions(-)

commit 924f57edbf8f3c66935ef98df7368550aab1b945
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-20

    [gcr] Rework how the certificate widget works.
    
     * Base class so we can use for other widgets.
     * Details are part of an expander.

 gcr/Makefile.am              |   3 +
 gcr/gcr-certificate-widget.c | 435 +++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-certificate-widget.h |  62 ++++++
 gcr/gcr-display-view.c       | 456 +++++++++++++++++++++++++++++++++++++++++++
 gcr/gcr-display-view.h       |  85 ++++++++
 gcr/tests/ui-test-details.c  |   6 +-
 6 files changed, 1044 insertions(+), 3 deletions(-)

commit dd767066b8db5d0b601001ad24c1bd0a34182947
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-20

    Rework how the importer and parser work together.
    
     * Parser becomes a general source for objects.

 gcr/gcr-importer.c     | 424 +++++++++++++++++--------------------------------
 gcr/gcr-importer.h     |  18 +--
 gcr/gcr-marshal.list   |   1 +
 gcr/gcr-parser.c       | 302 +++++++++++++++++++++++++++++++++++
 gcr/gcr-parser.h       |  16 ++
 tool/gkr-tool-import.c |  10 +-
 6 files changed, 481 insertions(+), 290 deletions(-)

commit 223ac313af780ef6823e3c5b68036223cbc95de2
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-13

    [plex-layer] Remove old code.
    
     * Also update HACKING for new code locations.

 HACKING                            |  38 +-
 configure.in                       |   1 -
 pkcs11/Makefile.am                 |   1 -
 pkcs11/plex-layer/Makefile.am      |  21 -
 pkcs11/plex-layer/gkm-plex-layer.c | 945 -------------------------------------
 pkcs11/plex-layer/gkm-plex-layer.h |  31 --
 6 files changed, 23 insertions(+), 1014 deletions(-)

commit bfbec0de8bc4e55f3aa7a4a5a4b847b061b1e4ec
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-11

    [daemon] Fix uninitialized PKCS#11 function pointer.

 daemon/gkd-pkcs11.c | 1 +
 gp11/gp11-module.c  | 1 +
 2 files changed, 2 insertions(+)

commit 629fecbd61c8585a2bc95e2fcb059de260c34fb8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-11

    [ssh-agent] Try to unlock key before use.
    
     * This allows us to keep the unlocking for the rest of the session.
     * Restores behavior from gnome-keyring 2.30 and before.

 daemon/ssh-agent/gkd-ssh-agent-ops.c | 39 ++++++++++++++++++++++++++++++++++--
 1 file changed, 37 insertions(+), 2 deletions(-)

commit 1b8df106a2c7ac7554f5a4291a1acc5815cb5fb3
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-11

    [wrap-layer] Don't barf if token is write protected.
    
     * When storing unlock options, don't barf if token
       is write protected.

 pkcs11/wrap-layer/gkm-wrap-prompt.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c3c01300f0a67f4f131dc53a13f42d30093a5b55
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-11

    [gp11] Open readonly sessions when enumerating objects.
    
     * This is an interim measure. When GP11 is redone the API
       should allow the caller to specify this.

 gp11/gp11-module.c | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 26897a6e21a0747d2ffebf54dbf4a3c5de6cc980
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-11

    [wrap-layer] Separate wrap layer auth functionality
    
    This is so that parts of the daemon can access the pkcs11
    modules without prompting getting in teh way.

 daemon/gkd-pkcs11.c                |   9 ++
 daemon/login/gkd-login.c           |   2 +-
 pkcs11/wrap-layer/gkm-wrap-layer.c | 276 +++++++++++++++++++++++++++++++------
 pkcs11/wrap-layer/gkm-wrap-layer.h |   2 +
 pkcs11/wrap-layer/gkm-wrap-login.c |   2 +-
 5 files changed, 245 insertions(+), 46 deletions(-)

commit e2ca65eb4842c78e7b7fb84e5c6c745857d6579a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-11

    [gp11] Don't keep authenticating if protected auth path.
    
     * With protected auth path, it CKR_PIN_INCORRECT means the
       user cancelled or gave up.

 gp11/gp11-session.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33a420424b92c0ff8d633b3111ee63e8c6b74b8c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-11

    Remove run time dependency on libtasn1.
    
     * Required for build when we actually parse ASN.1 files.

 configure.in                           |   2 +-
 egg/egg-asn1x.c                        | 187 ++++++++++++++++++++++++++++++---
 egg/egg-openssl.c                      |   1 -
 gcr/Makefile.am                        |   1 -
 gcr/gcr-parser.c                       |   1 -
 gcr/tests/Makefile.am                  |   5 +-
 gcr/tests/unit-test-parser.c           |   1 -
 pkcs11/gkm/gkm-certificate.c           |   2 -
 pkcs11/gkm/gkm-data-der.c              |   1 -
 pkcs11/gkm/gkm-data-der.h              |   1 -
 pkcs11/gkm/tests/unit-test-data-asn1.c |   1 -
 pkcs11/roots-store/Makefile.am         |   1 -
 pkcs11/ssh-store/Makefile.am           |   1 -
 pkcs11/user-store/Makefile.am          |   1 -
 pkcs11/user-store/gkm-user-storage.c   |   2 -
 tool/Makefile.am                       |   1 -
 16 files changed, 178 insertions(+), 31 deletions(-)

commit 8d7e551b8575e4916542f17ba3a5185816400f0e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-07-09

    Use new DER decoding and encoding routines.
    
     * Benefits are less copies of sensitive data in memory.
     * More insightful parsing and API.

 egg/.gitignore                           |   2 +-
 egg/Makefile.am                          |  19 +-
 egg/egg-asn1-defs.h                      |  32 ++
 egg/egg-asn1.c                           | 817 ---------------------------
 egg/egg-asn1.h                           |  80 ---
 egg/egg-asn1x.c                          | 921 ++++++++++++++++++++++++++++---
 egg/egg-asn1x.h                          |  79 ++-
 egg/egg-dn.c                             | 179 +++---
 egg/egg-dn.h                             |  29 +-
 egg/egg-symkey.c                         | 166 +++---
 egg/tests/Makefile.am                    |  13 +-
 egg/tests/test-asn1.c                    | 229 +++++++-
 egg/tests/test-asn1x.c                   |   6 +-
 egg/tests/test-data/test-pkcs7-2.der     | Bin 0 -> 1002 bytes
 egg/tests/test-dn.c                      |  45 +-
 egg/tests/test.asn                       |  29 +-
 egg/tests/tests.asn                      |  19 -
 egg/tests/unit-test-asn1.c               | 341 ++++++------
 gcr/gcr-certificate-details-widget.c     | 122 ++--
 gcr/gcr-certificate.c                    | 107 ++--
 gcr/gcr-parser.c                         | 414 +++++++-------
 gcr/gcr-simple-certificate.c             |   1 -
 pkcs11/gkm/gkm-certificate-trust.c       |   2 +-
 pkcs11/gkm/gkm-certificate.c             |  66 +--
 pkcs11/gkm/gkm-data-asn1.c               |  48 +-
 pkcs11/gkm/gkm-data-asn1.h               |   9 +-
 pkcs11/gkm/gkm-data-der.c                | 449 +++++++--------
 pkcs11/gkm/gkm-data-der.h                |  11 +-
 pkcs11/gkm/tests/unit-test-data-asn1.c   |  51 +-
 pkcs11/gkm/tests/unit-test-data-der.c    |  65 ++-
 pkcs11/ssh-store/gkm-ssh-openssh.c       |   3 +-
 pkcs11/user-store/gkm-user-private-key.c |  17 +-
 pkcs11/user-store/gkm-user-storage.c     |  10 +-
 po/POTFILES.in                           |   1 -
 34 files changed, 2225 insertions(+), 2157 deletions(-)

commit 55fae7749a6a7365763acb5e21c6251846e9d9fa
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-07-05

    Updated Slovenian translation

 po/sl.po | 563 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 341 insertions(+), 222 deletions(-)

commit 44070668f04cdc15f6746d821c216a99604eabe1
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-07-02

    [l10n] Updated Estonian translation

 po/et.po | 22 +++++++++++++++++++---
 1 file changed, 19 insertions(+), 3 deletions(-)

commit 3034c5c1c22947dd430df14329b36b12a3451f38
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-29

    [testing] External tests now return proper result codes.

 testing/testing-build.sh | 7 ++++---
 testing/testing.c        | 7 +++++--
 testing/testing.h        | 3 ++-
 3 files changed, 11 insertions(+), 6 deletions(-)

commit 02a335fc5dea88ec3932c9afa76f095f153bddcd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-28

    [gkm] Rename RSA and DSA mechanism files.

 pkcs11/gkm/Makefile.am         |   4 +-
 pkcs11/gkm/gkm-crypto.c        |  24 ++---
 pkcs11/gkm/gkm-dsa-mechanism.c | 144 +++++++++++++++++++++++++++
 pkcs11/gkm/gkm-dsa-mechanism.h |  49 +++++++++
 pkcs11/gkm/gkm-mechanism-dsa.c | 144 ---------------------------
 pkcs11/gkm/gkm-mechanism-dsa.h |  49 ---------
 pkcs11/gkm/gkm-mechanism-rsa.c | 220 -----------------------------------------
 pkcs11/gkm/gkm-mechanism-rsa.h |  67 -------------
 pkcs11/gkm/gkm-rsa-mechanism.c | 220 +++++++++++++++++++++++++++++++++++++++++
 pkcs11/gkm/gkm-rsa-mechanism.h |  67 +++++++++++++
 pkcs11/gkm/gkm-sexp-key.c      |  12 +--
 11 files changed, 500 insertions(+), 500 deletions(-)

commit 2e3ee1c6d75419130abef8f497788ff53baa5793
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-06-30

    Updated Galician translations

 po/gl.po | 90 ++++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 56 insertions(+), 34 deletions(-)

commit f831fb30959dc64558f3b6c0e74edcc1f7cef70d
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-06-28

    Updated Spanish translation

 po/es.po | 91 ++++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 57 insertions(+), 34 deletions(-)

commit c0a0cc9a3f6bd641ac06f87051f7e67ca55248e5
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-28

    Bump version number after release

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7d33356105e57e7e0351633b2db2d6a586de2bf4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-28

    Release version 2.31.4

 NEWS         | 15 +++++++++++++++
 configure.in |  2 +-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 4ddf1a41ff971d88f6d9f3ef5eab04a6245a0f33
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-06-28

    Updated Hebrew translation.

 po/he.po | 86 ++++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 54 insertions(+), 32 deletions(-)

commit ed1054ef7c9456b3c15a8c4f5600effbe075990d
Merge: 4d611ac 606b73f
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-28

    Merge branch 'gpg-agent'

commit 4d611ac5962a6bc63431fac22eefdce4264f2477
Merge: dec880c e76c499
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-28

    Merge branch 'asn1-work'

commit dec880cbef02b00de4701b4c0670cf3eab91a150
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-20

    Fix building of desktop and service files.
    
     * Use proper full paths.
     * Don't use proprietary gmake extensions.

 configure.in                               | 12 +++++++++++-
 daemon/Makefile.am                         | 23 ++++++++++-------------
 daemon/gnome-keyring-pkcs11.desktop.in.in  |  2 +-
 daemon/gnome-keyring-secrets.desktop.in.in |  2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     |  2 +-
 daemon/org.freedesktop.secrets.service.in  |  2 +-
 daemon/org.gnome.keyring.service.in        |  2 +-
 po/POTFILES.skip                           |  2 ++
 8 files changed, 28 insertions(+), 19 deletions(-)

commit e76c4996a36f2811f4f852573b655e7b284af2f3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-31

    [egg] Implement some new asn1 tests, and fix problems.

 egg/.gitignore        |   3 +-
 egg/Makefile.am       |   1 +
 egg/egg-asn1x.c       |  23 ++++--
 egg/tests/Makefile.am |  10 ++-
 egg/tests/test-asn1.c | 202 ++++++++++++++++++++++++++++++++++++++++++++++++++
 egg/tests/tests.asn   |  19 +++++
 6 files changed, 247 insertions(+), 11 deletions(-)

commit f0033332d99e797ee3b5a1b2a1f1b155d73124d4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-30

    [egg] Move the DN functionality into its own file.

 egg/Makefile.am                      |   1 +
 egg/egg-asn1.c                       | 297 -------------------------------
 egg/egg-asn1.h                       |  14 --
 egg/egg-asn1x.c                      |   2 +-
 egg/egg-dn.c                         | 336 +++++++++++++++++++++++++++++++++++
 egg/egg-dn.h                         |  43 +++++
 egg/tests/Makefile.am                |   1 +
 egg/tests/test-dn.c                  | 167 +++++++++++++++++
 egg/tests/unit-test-asn1.c           | 100 -----------
 gcr/gcr-certificate-details-widget.c |   7 +-
 gcr/gcr-certificate.c                |   9 +-
 gcr/gcr-parser.c                     |   3 +-
 pkcs11/gkm/gkm-certificate.c         |   6 +-
 pkcs11/user-store/gkm-user-storage.c |   3 +-
 14 files changed, 566 insertions(+), 423 deletions(-)

commit 328b23e59e7bfc867cf591d818a5136b4c69578e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-29

    [egg] Implement asn.1 encoding.

 egg/egg-asn1x.c        | 939 ++++++++++++++++++++++++++++++++++++++++++++-----
 egg/egg-asn1x.h        |  33 +-
 egg/tests/test-asn1x.c |  15 +-
 3 files changed, 900 insertions(+), 87 deletions(-)

commit 2576fec96ca7a13675288e7038c1907b75518656
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-26

    [egg] Separate real ASN nodes in the tree from options.

 egg/egg-asn1x.c | 324 +++++++++++++++++++++++++++++++-------------------------
 1 file changed, 179 insertions(+), 145 deletions(-)

commit 0f7d62a27511f466fb0ea9780ca736652a0ba857
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-25

    [egg] Implement a bunch of value reading functionality.

 egg/egg-asn1x.c | 327 +++++++++++++++++++++++++++++++++++++++++++++++++-------
 egg/egg-asn1x.h |  51 ++++++---
 2 files changed, 324 insertions(+), 54 deletions(-)

commit 14bbb69e4dc90dc88b7de49e37bd35d510692137
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-25

    [egg] Tracking of failure messages during decoding and validation.

 egg/egg-asn1x.c        | 129 +++++++++++++++++++++++++++++++++----------------
 egg/egg-asn1x.h        |   2 +
 egg/tests/test-asn1x.c |   2 +-
 3 files changed, 90 insertions(+), 43 deletions(-)

commit c2f066ba2b5083ebc221e5dd20e3d6527c710cf0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-25

    [egg] Implement asn validation, and some read functions.

 egg/egg-asn1x.c | 888 +++++++++++++++++++++++++++++++++++++++++++++++++++++---
 egg/egg-asn1x.h |   2 +
 2 files changed, 843 insertions(+), 47 deletions(-)

commit 83a8ec545f064d153ae9fd2de64b6a5a2d39f6a4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-25

    [egg] Add asn functionality for clearing a tree.

 egg/egg-asn1x.c        | 65 +++++++++++++++++++++++++++++++++++++++++++++-----
 egg/egg-asn1x.h        |  2 ++
 egg/tests/test-asn1x.c | 64 +++++++++++++++----------------------------------
 3 files changed, 80 insertions(+), 51 deletions(-)

commit 69e835a7ad4996f18b6f0c5b02fc3623a12e376f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-24

    [egg] Rework asn1 decoding, add set support, much more robust.

 egg/egg-asn1x.c                             | 913 +++++++++++++++-------------
 egg/tests/test-asn1x.c                      |  57 +-
 egg/tests/test-data/test-personalname-1.der |   1 +
 3 files changed, 527 insertions(+), 444 deletions(-)

commit dea4a4907498b196f499e809242ff03407b38b51
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-23

    [egg] A few more parsing tests.

 egg/tests/test-asn1x.c                |  25 +++++++++++++++++++++++++
 egg/tests/test-data/test-pkcs7-1.der  | Bin 0 -> 1002 bytes
 egg/tests/test-data/test-pkcs8-1.der  | Bin 0 -> 335 bytes
 egg/tests/test-data/test-rsakey-1.der | Bin 0 -> 609 bytes
 4 files changed, 25 insertions(+)

commit 23fd886490a00829a6a1e26ddf0eba2ad82a97ce
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-23

    [egg] Some more minor fixes for parsing certificates.

 egg/egg-asn1x.c        | 5 ++---
 egg/tests/test-asn1x.c | 8 ++++----
 2 files changed, 6 insertions(+), 7 deletions(-)

commit b84a2339803d99c6025956a66d06ce8c4252e7fb
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-23

    [egg] Handle identifier joins that are more than one level deep.

 egg/egg-asn1x.c | 33 +++++++++++++++++++++------------
 1 file changed, 21 insertions(+), 12 deletions(-)

commit d052e00b2c79177ca88e0a3cc83d39f6a486086d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-23

    [egg] Work on indefinite length encodings.

 egg/egg-asn1x.c                       | 369 +++++++++++++++++++++++++++++-----
 egg/tests/test-asn1x.c                |  11 +-
 egg/tests/test-data/test-pkcs12-1.der | Bin 0 -> 2824 bytes
 3 files changed, 324 insertions(+), 56 deletions(-)

commit 75d59a0348d780ff45562826da820e77a3169f24
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-22

    [egg] Implement DER parsing of a certificate.

 egg/egg-asn1x.c | 497 ++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 305 insertions(+), 192 deletions(-)

commit 5900dee0a27c4c95281dc9996f8778d69bc1d86a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-22

    [egg] Rework how asn nodes are accessed.

 egg/egg-asn1x.c | 221 +++++++++++++++-----------------------------------------
 1 file changed, 60 insertions(+), 161 deletions(-)

commit 7f8fa58a42df337f91a1d4ca7a0fcbd2fcc09cf7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-22

    [egg] Implement better dumping of asn1 tree.

 egg/egg-asn1x.c | 38 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 37 insertions(+), 1 deletion(-)

commit 43ff1c1f495a1df0348a736ed76871ed91533d53
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-21

    [egg] Initial asn1 parser work.

 egg/.gitignore         |   2 +
 egg/Makefile.am        |  10 +-
 egg/egg-asn1x.c        | 617 +++++++++++++++++++++++++++++++++++++++++++++++++
 egg/egg-asn1x.h        |  52 +++++
 egg/tests/Makefile.am  |  12 +
 egg/tests/test-asn1x.c |  30 +++
 6 files changed, 722 insertions(+), 1 deletion(-)

commit be0dce7a7cfd4b0ce3c447be092ecc1fa5a98a89
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-20

    Fix building of desktop and service files.
    
     * Use proper full paths.
     * Don't use proprietary gmake extensions.

 configure.in                               | 12 +++++++++++-
 daemon/Makefile.am                         | 23 ++++++++++-------------
 daemon/gnome-keyring-pkcs11.desktop.in.in  |  2 +-
 daemon/gnome-keyring-secrets.desktop.in.in |  2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     |  2 +-
 daemon/org.freedesktop.secrets.service.in  |  2 +-
 daemon/org.gnome.keyring.service.in        |  2 +-
 po/POTFILES.skip                           |  2 ++
 8 files changed, 28 insertions(+), 19 deletions(-)

commit 3713f95277e2d7a1c587d229700f25e6886b8ac4
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   2010-06-20

    Updated Hebrew translation to 100%

 po/he.po | 1767 ++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 1034 insertions(+), 733 deletions(-)

commit 95bc5a086359d3ecbfee51b04aaa5987eb72a4a8
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-06-20

    Added Norwegian bokmål translation

 po/nb.po | 18 ++++++------------
 1 file changed, 6 insertions(+), 12 deletions(-)

commit 93d7a6bed13388b4656ea7d28ec79527d94d5e9c
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   2010-06-19

    [l10n] Updated Estonian translation

 po/et.po | 322 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 167 insertions(+), 155 deletions(-)

commit a2e7511ced76d4722619adadee1a59cba71083f5
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-06-18

    Updated Galician translations

 po/gl.po | 447 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 233 insertions(+), 214 deletions(-)

commit 9b18bc09dc28b5bd5474c539edb060c773d750b9
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-06-15

    Updated Spanish translation

 po/es.po | 437 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 229 insertions(+), 208 deletions(-)

commit 11fbedac3ce463e105e8be237489ff27e43a6d03
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-06-14

    Remove non-existing file

 po/POTFILES.in | 1 -
 1 file changed, 1 deletion(-)

commit 482793431e7c3aa3ee1efa07b9166bf8465113fc
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-06-14

    Updated Norwegian bokmål translation

 po/nb.po | 419 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 218 insertions(+), 201 deletions(-)

commit e85a42058331a78938d3c31adffcfffa2f92904a
Author: Fran Diéguez <fran.dieguez@mabishu.com>
Date:   2010-06-13

    Updated Galician translations

 po/gl.po | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 606b73fda831a34612e5f12af4ae94d4e30c5785
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-13

    [gpg-agent] Allow unlock options to be used.
    
     * The lock after X minutes options.

 daemon/gpg-agent/gkd-gpg-agent-ops.c | 45 ++++++++++++++++++++++++++++--------
 ui/gku-prompt.ui                     | 30 +++++++++++-------------
 2 files changed, 50 insertions(+), 25 deletions(-)

commit ea21ca7f082f141998b2498fd7c14b982c25a460
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-13

    [gpg-agent] Finish up the GPG Agent.
    
     * Tested with GPG 1.4

 daemon/gkd-pkcs11.c                         |   1 +
 daemon/gpg-agent/Makefile.am                |   3 +-
 daemon/gpg-agent/gkd-gpg-agent-ops.c        | 255 +++++++++++++++++++++++++---
 daemon/gpg-agent/gkd-gpg-agent-standalone.c |  11 +-
 daemon/gpg-agent/gkd-gpg-agent.c            |  11 +-
 po/POTFILES.in                              |   1 +
 6 files changed, 242 insertions(+), 40 deletions(-)

commit 83f3fe1a8016231f5f6a30bee3017eeb53511c58
Merge: 24528a0 e258971
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-13

    Merge branch 'master' into gpg-agent

commit e258971767cd259dfa3cf58babc6a4362906c618
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-13

    [prompt] Always encode strings properly.
    
     * Encode strings going to and from prompt process properly.
     * Previously certain character combinations would cause
       GKeyFile to barf.

 ui/gku-prompt-tool.c | 20 ++++++++++----------
 ui/gku-prompt.c      | 14 +++++++-------
 2 files changed, 17 insertions(+), 17 deletions(-)

commit dd1f7ff8cf719c0b58624a7cdf9326d3231bf02f
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-13

    [gkm] Always pass around session when finding stuff.
    
     * This is because attributes can vary depending on session
       and we need the session to determine their value.

 pkcs11/gkm/gkm-certificate.c                |  6 +++---
 pkcs11/gkm/gkm-certificate.h                |  1 +
 pkcs11/gkm/gkm-credential.c                 |  4 ++--
 pkcs11/gkm/gkm-manager.c                    | 33 +++++++++++++++++------------
 pkcs11/gkm/gkm-manager.h                    |  5 +++++
 pkcs11/gkm/gkm-session.c                    |  4 ++--
 pkcs11/roots-store/gkm-roots-certificate.c  |  2 +-
 pkcs11/secret-store/gkm-secret-collection.c | 13 +++++++-----
 pkcs11/secret-store/gkm-secret-collection.h |  3 ++-
 pkcs11/secret-store/gkm-secret-item.c       |  6 +++---
 pkcs11/secret-store/gkm-secret-search.c     |  8 +++----
 11 files changed, 51 insertions(+), 34 deletions(-)

commit 24528a0434e5bcd5778f5f60f16bb41c62cfed43
Merge: 4837c53 6ec9f78
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    Merge branch 'master' into gpg-agent

commit 6ec9f78a8e255a53903fbdafea7462fbb564f386
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    [daemon] Fix deadlock on secure memory usage.
    
    Fix a spectacular goof introduced a few commits ago.

 daemon/gkd-main.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4837c53ab9fa7eeb250d21117d63c5ef71cbef2c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    Fix up the POTFILES for GPG stuff

 po/POTFILES.in   | 2 +-
 po/POTFILES.skip | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 445771d2a6c07f9f056434db96e1749aa3befc53
Merge: 302db3f ec61791
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    Merge branch 'master' into gpg-agent

commit ec61791ca431ea7040cfa3160a1e86a7c0103db2
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    [daemon] Remove old code that's now in the wrap-layer

 configure.in                    |    1 -
 daemon/Makefile.am              |    3 +-
 daemon/dbus/gkd-dbus-secrets.c  |    2 +-
 daemon/gkd-main.c               |    3 +-
 daemon/gkd-pkcs11.c             |  203 ++++++
 daemon/gkd-pkcs11.h             |   39 +
 daemon/login/gkd-login.c        |  319 +-------
 daemon/login/gkd-login.h        |   19 -
 daemon/pkcs11/Makefile.am       |   22 -
 daemon/pkcs11/gkd-pkcs11-auth.c | 1540 ---------------------------------------
 daemon/pkcs11/gkd-pkcs11-auth.h |   33 -
 daemon/pkcs11/gkd-pkcs11-data.c |  263 -------
 daemon/pkcs11/gkd-pkcs11-data.h |   52 --
 daemon/pkcs11/gkd-pkcs11.c      |  215 ------
 daemon/pkcs11/gkd-pkcs11.h      |   39 -
 15 files changed, 254 insertions(+), 2499 deletions(-)

commit 92fa5ed13833da27403b932c7d815d8f8a07f880
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    [wrap-layer] Implement initialize and change password prompts

 pkcs11/gkm/gkm-mock.c                   |  10 +-
 pkcs11/wrap-layer/gkm-wrap-layer.c      |  23 ++-
 pkcs11/wrap-layer/gkm-wrap-prompt.c     | 308 +++++++++++++++++++++++++++++---
 pkcs11/wrap-layer/gkm-wrap-prompt.h     |   2 -
 pkcs11/wrap-layer/tests/Makefile.am     |   4 +-
 pkcs11/wrap-layer/tests/test-init-pin.c |  92 ++++++++++
 pkcs11/wrap-layer/tests/test-set-pin.c  |  92 ++++++++++
 ui/gku-prompt.c                         |  16 ++
 ui/gku-prompt.h                         |   3 +
 9 files changed, 501 insertions(+), 49 deletions(-)

commit 3dc91d3d6608a46692dc5b52a597a03ccce24944
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    Make sure prompts are freed properly.
    
     * Previously had circular reference between prompt and attention
       structure.

 ui/gku-prompt.c | 16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

commit 92852897d420071033557bf77123a447c45b0ea1
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-12

    Implement auto unlock in wrap-layer.
    
     * Including tests and necessary infrastructure.

 Makefile.am                                      |   2 +-
 pkcs11/gkm/gkm-mock.c                            | 254 ++++++++---
 pkcs11/gkm/gkm-mock.h                            |  26 ++
 pkcs11/gkm/gkm-secret.c                          |   7 +
 pkcs11/gkm/gkm-secret.h                          |   2 +
 pkcs11/pkcs11i.h                                 |   2 +
 pkcs11/secret-store/gkm-secret-collection.c      |  11 +
 pkcs11/wrap-layer/Makefile.am                    |   1 +
 pkcs11/wrap-layer/gkm-wrap-layer.h               |  10 +-
 pkcs11/wrap-layer/gkm-wrap-login.c               | 465 +++++++++++++++++++
 pkcs11/wrap-layer/gkm-wrap-login.h               |  42 ++
 pkcs11/wrap-layer/gkm-wrap-prompt.c              | 539 +++++++++++++++++------
 pkcs11/wrap-layer/tests/Makefile.am              |  10 +-
 pkcs11/wrap-layer/tests/mock-secret-store.c      | 286 ++++++++++++
 pkcs11/wrap-layer/tests/test-create-credential.c |   2 +
 pkcs11/wrap-layer/tests/test-login-auto.c        | 210 +++++++++
 pkcs11/wrap-layer/tests/test-login-hints.c       |  44 ++
 pkcs11/wrap-layer/tests/test-login-keyring.c     | 306 +++++++++++++
 pkcs11/wrap-layer/tests/test-login-specific.c    |   2 +
 pkcs11/wrap-layer/tests/test-login-user.c        |   2 +
 po/POTFILES.in                                   |   1 +
 ui/gku-prompt.c                                  |  31 +-
 ui/gku-prompt.h                                  |   4 +
 23 files changed, 2044 insertions(+), 215 deletions(-)

commit 2954ca8774c95bd2a033b3d62a64ce78c1a2fe93
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-09

    [gkm] Internally ignore attributes with ulValueLen == -1
    
    This is used to represent invalid attributes when retrieved
    via C_GetAttributeValue so ignoring these as not-set has
    benefits.

 pkcs11/gkm/gkm-attributes.c | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit d9eb5a034248557b07800e8dc607053da48107c7
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-09

    Split out the mock module and test helpers.

 pkcs11/gkm/Makefile.am                           |    1 +
 pkcs11/gkm/gkm-mock.c                            | 1479 ++++++++++++++++++++++
 pkcs11/gkm/gkm-mock.h                            |  370 ++++++
 pkcs11/gkm/gkm-test.c                            | 1449 ---------------------
 pkcs11/gkm/gkm-test.h                            |  347 +----
 pkcs11/wrap-layer/tests/test-create-credential.c |    3 +-
 pkcs11/wrap-layer/tests/test-login-specific.c    |    5 +-
 pkcs11/wrap-layer/tests/test-login-user.c        |    7 +-
 8 files changed, 1862 insertions(+), 1799 deletions(-)

commit f6e4268ef31f1d8f70e9963dfa436a8ef685d7af
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Implement some testing of creating credentials.

 pkcs11/gkm/gkm-test.c                            |  35 +++++-
 pkcs11/gkm/gkm-test.h                            |  19 ++-
 pkcs11/wrap-layer/tests/Makefile.am              |   1 +
 pkcs11/wrap-layer/tests/test-create-credential.c | 153 +++++++++++++++++++++++
 pkcs11/wrap-layer/tests/test-login-specific.c    |   4 +-
 5 files changed, 208 insertions(+), 4 deletions(-)

commit 41a78ce2a9ef32f31b335afd7795d79557c8914c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Cleaner naming in testing suite.

 .gitignore                                              |  2 +-
 egg/tests/test-padding.c                                |  2 +-
 egg/tests/unit-test-asn1.c                              |  2 +-
 egg/tests/unit-test-cleanup.c                           |  2 +-
 egg/tests/unit-test-dh.c                                |  2 +-
 egg/tests/unit-test-hex.c                               |  2 +-
 egg/tests/unit-test-oid.c                               |  2 +-
 egg/tests/unit-test-openssl.c                           |  2 +-
 egg/tests/unit-test-secmem.c                            |  2 +-
 egg/tests/unit-test-spawn.c                             |  2 +-
 egg/tests/unit-test-symkey.c                            |  2 +-
 gcr/tests/unit-test-certificate.c                       |  2 +-
 gcr/tests/unit-test-parser.c                            |  2 +-
 gp11/tests/test-gp11-mechanism.c                        |  2 +-
 gp11/tests/unit-test-gp11-attributes.c                  |  2 +-
 gp11/tests/unit-test-gp11-crypto.c                      |  2 +-
 gp11/tests/unit-test-gp11-module.c                      |  2 +-
 gp11/tests/unit-test-gp11-object.c                      |  2 +-
 gp11/tests/unit-test-gp11-session.c                     |  2 +-
 gp11/tests/unit-test-gp11-slot.c                        |  2 +-
 pkcs11/gkm/tests/test-module.c                          |  2 +-
 pkcs11/gkm/tests/unit-test-attributes.c                 |  2 +-
 pkcs11/gkm/tests/unit-test-credential.c                 |  2 +-
 pkcs11/gkm/tests/unit-test-data-asn1.c                  |  2 +-
 pkcs11/gkm/tests/unit-test-data-der.c                   |  2 +-
 pkcs11/gkm/tests/unit-test-data-file.c                  |  2 +-
 pkcs11/gkm/tests/unit-test-file-tracker.c               |  2 +-
 pkcs11/gkm/tests/unit-test-memory-store.c               |  2 +-
 pkcs11/gkm/tests/unit-test-object.c                     |  2 +-
 pkcs11/gkm/tests/unit-test-secret.c                     |  2 +-
 pkcs11/gkm/tests/unit-test-sexp.c                       |  2 +-
 pkcs11/gkm/tests/unit-test-store.c                      |  2 +-
 pkcs11/gkm/tests/unit-test-timer.c                      |  2 +-
 pkcs11/gkm/tests/unit-test-transaction.c                |  2 +-
 pkcs11/roots-store/tests/test-module.c                  |  2 +-
 pkcs11/secret-store/tests/test-secret-module.c          |  6 +++---
 pkcs11/secret-store/tests/unit-test-secret-binary.c     |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-collection.c |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-compat.c     |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-data.c       |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-fields.c     |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-item.c       |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-object.c     |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-search.c     |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-textual.c    |  2 +-
 pkcs11/ssh-store/tests/test-ssh-module.c                |  2 +-
 pkcs11/ssh-store/tests/unit-test-private-key.c          |  2 +-
 pkcs11/ssh-store/tests/unit-test-ssh-openssh.c          |  2 +-
 pkcs11/user-store/tests/test-module.c                   |  2 +-
 pkcs11/wrap-layer/tests/test-login-specific.c           |  2 +-
 pkcs11/wrap-layer/tests/test-login-user.c               |  2 +-
 testing/testing.make                                    | 12 ++++++------
 ui/tests/unit-test-util.c                               |  2 +-
 53 files changed, 60 insertions(+), 60 deletions(-)

commit d90c7eca6581388ba24c91b600db649368ad9514
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Cleaner naming in testing suite.

 testing/testing-build.sh | 59 ++++++++++++++++++++++++------------------------
 1 file changed, 29 insertions(+), 30 deletions(-)

commit f83e2ff053f527a968f77fd0d7b4a6ca76bb07dd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Implement testing for context specific login prompt.

 pkcs11/gkm/gkm-attributes.c                   |  51 ++++++++
 pkcs11/gkm/gkm-attributes.h                   |  17 +++
 pkcs11/gkm/gkm-test.c                         |  98 ++++++++-------
 pkcs11/gkm/gkm-test.h                         |   6 +
 pkcs11/wrap-layer/gkm-wrap-prompt.c           |   8 +-
 pkcs11/wrap-layer/tests/Makefile.am           |   3 +-
 pkcs11/wrap-layer/tests/test-login-specific.c | 132 ++++++++++++++++++++
 pkcs11/wrap-layer/tests/test-login-user.c     | 141 +++++++++++++++++++++
 pkcs11/wrap-layer/tests/test-prompt-login.c   | 169 --------------------------
 9 files changed, 407 insertions(+), 218 deletions(-)

commit 5bf7553731217d4134d19feca0ca827b0645b445
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Implement coverage of tests using gcov and lcov.

 .gitignore           |  3 +++
 Makefile.am          | 11 +++++++++++
 configure.in         | 48 ++++++++++++++++++++++++++++++++++++++++--------
 testing/.gitignore   |  2 ++
 testing/Makefile.am  |  4 ++++
 testing/testing.make | 11 +++++++----
 6 files changed, 67 insertions(+), 12 deletions(-)

commit 730506a27cd9d34bdf5002482f7a938063e5ee03
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Cleanup .gitignore files.

 .gitignore                           |  4 +---
 daemon/.gitignore                    | 13 -------------
 daemon/control/tests/.gitignore      |  3 +++
 daemon/data/.gitignore               |  2 --
 daemon/pkcs11/.gitignore             |  3 ---
 daemon/ssh-agent/.gitignore          |  3 ---
 docs/.gitignore                      |  3 ---
 docs/reference/.gitignore            |  7 -------
 egg/.gitignore                       |  4 ----
 egg/tests/.gitignore                 |  4 ----
 gcr/.gitignore                       |  6 ------
 gcr/tests/.gitignore                 |  4 ----
 gp11/.gitignore                      |  5 -----
 gp11/tests/.gitignore                |  3 ---
 pam/.gitignore                       |  4 ----
 pkcs11/.gitignore                    |  6 ------
 pkcs11/gkm/.gitignore                |  5 -----
 pkcs11/gkm/tests/.gitignore          |  3 ---
 pkcs11/plex-layer/.gitignore         |  3 ---
 pkcs11/roots-store/.gitignore        |  3 ---
 pkcs11/roots-store/tests/.gitignore  |  2 --
 pkcs11/rpc-layer/.gitignore          |  4 ----
 pkcs11/secret-store/tests/.gitignore |  3 ---
 pkcs11/ssh-store/.gitignore          |  3 ---
 pkcs11/ssh-store/tests/.gitignore    |  4 ----
 pkcs11/user-store/.gitignore         |  3 ---
 pkcs11/user-store/tests/.gitignore   |  2 --
 po/.gitignore                        |  2 --
 testing/.gitignore                   | 15 ---------------
 tool/.gitignore                      |  3 ---
 ui/.gitignore                        |  1 +
 31 files changed, 5 insertions(+), 125 deletions(-)

commit ddcd1ae794f789379964b6b26683c1436c19c70f
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Cleanup naming and whitespace for testing stuff.
    
     * Rip off bandaid (painful) whitespace cleanup.
     * At the same time cleanup naming, and remove old cruft.

 .gitignore                                         |   3 +-
 Makefile.am                                        |   2 +-
 configure.in                                       |   2 +-
 daemon/.gitignore                                  |   1 -
 daemon/control/tests/test-control-change.c         |   4 +-
 daemon/control/tests/test-control-init.c           |   4 +-
 daemon/control/tests/test-control-unlock.c         |   4 +-
 docs/reference/gcr/gcr-sections.txt                |   4 -
 egg/tests/.gitignore                               |   3 -
 egg/tests/Makefile.am                              |   6 +-
 egg/tests/test-padding.c                           |   2 +-
 egg/tests/unit-test-asn1.c                         |   4 +-
 egg/tests/unit-test-cleanup.c                      |   2 +-
 egg/tests/unit-test-dh.c                           |   2 +-
 egg/tests/unit-test-hex.c                          |   2 +-
 egg/tests/unit-test-oid.c                          |   2 +-
 egg/tests/unit-test-openssl.c                      |   4 +-
 egg/tests/unit-test-secmem.c                       |   2 +-
 egg/tests/unit-test-spawn.c                        |  18 +-
 egg/tests/unit-test-symkey.c                       |   2 +-
 gcr/tests/.gitignore                               |   3 -
 gcr/tests/Makefile.am                              |   8 +-
 gcr/tests/unit-test-certificate.c                  |   4 +-
 gcr/tests/unit-test-parser.c                       |   6 +-
 gp11/tests/.gitignore                              |   3 -
 gp11/tests/Makefile.am                             |   8 +-
 gp11/tests/test-gp11-mechanism.c                   |   2 +-
 gp11/tests/unit-test-gp11-attributes.c             |   2 +-
 gp11/tests/unit-test-gp11-crypto.c                 |  30 +--
 gp11/tests/unit-test-gp11-module.c                 |   2 +-
 gp11/tests/unit-test-gp11-object.c                 |  18 +-
 gp11/tests/unit-test-gp11-session.c                |  20 +-
 gp11/tests/unit-test-gp11-slot.c                   |   2 +-
 pkcs11/gkm/tests/.gitignore                        |   2 -
 pkcs11/gkm/tests/Makefile.am                       |   6 +-
 pkcs11/gkm/tests/test-module.c                     |   4 +-
 pkcs11/gkm/tests/unit-test-attributes.c            |   2 +-
 pkcs11/gkm/tests/unit-test-credential.c            |   2 +-
 pkcs11/gkm/tests/unit-test-data-asn1.c             |   4 +-
 pkcs11/gkm/tests/unit-test-data-der.c              |  14 +-
 pkcs11/gkm/tests/unit-test-data-file.c             |   8 +-
 pkcs11/gkm/tests/unit-test-file-tracker.c          |   2 +-
 pkcs11/gkm/tests/unit-test-memory-store.c          |   2 +-
 pkcs11/gkm/tests/unit-test-object.c                |   6 +-
 pkcs11/gkm/tests/unit-test-secret.c                |   2 +-
 pkcs11/gkm/tests/unit-test-sexp.c                  |   2 +-
 pkcs11/gkm/tests/unit-test-store.c                 |   2 +-
 pkcs11/gkm/tests/unit-test-timer.c                 |  12 +-
 pkcs11/gkm/tests/unit-test-transaction.c           |  14 +-
 pkcs11/roots-store/tests/Makefile.am               |   6 +-
 pkcs11/roots-store/tests/test-module.c             |   4 +-
 pkcs11/secret-store/tests/.gitignore               |   1 -
 pkcs11/secret-store/tests/Makefile.am              |   6 +-
 pkcs11/secret-store/tests/test-secret-module.c     |  12 +-
 .../secret-store/tests/unit-test-secret-binary.c   |  12 +-
 .../tests/unit-test-secret-collection.c            |  14 +-
 .../secret-store/tests/unit-test-secret-compat.c   |   2 +-
 pkcs11/secret-store/tests/unit-test-secret-data.c  |   2 +-
 .../secret-store/tests/unit-test-secret-fields.c   |   2 +-
 pkcs11/secret-store/tests/unit-test-secret-item.c  |   2 +-
 .../secret-store/tests/unit-test-secret-object.c   |   2 +-
 .../secret-store/tests/unit-test-secret-search.c   |   2 +-
 .../secret-store/tests/unit-test-secret-textual.c  |  10 +-
 pkcs11/ssh-store/tests/.gitignore                  |   2 -
 pkcs11/ssh-store/tests/Makefile.am                 |   6 +-
 pkcs11/ssh-store/tests/test-ssh-module.c           |   4 +-
 pkcs11/ssh-store/tests/unit-test-private-key.c     |  10 +-
 pkcs11/ssh-store/tests/unit-test-ssh-openssh.c     |   6 +-
 pkcs11/user-store/tests/Makefile.am                |   6 +-
 pkcs11/user-store/tests/test-module.c              |   4 +-
 pkcs11/wrap-layer/tests/Makefile.am                |   9 +-
 pkcs11/wrap-layer/tests/test-prompt-login.c        |   2 +-
 po/POTFILES.in                                     |   1 +
 testing/.gitignore                                 |  15 ++
 testing/Makefile.am                                |  19 ++
 testing/ca-example/certs/ca.crt                    |  23 ++
 testing/ca-example/certs/client.crt                |  19 ++
 testing/ca-example/certs/email.crt                 |  19 ++
 testing/ca-example/certs/generic-dsa.crt           |  22 ++
 testing/ca-example/database.txt                    |   0
 testing/ca-example/keys/ca.key                     |  15 ++
 testing/ca-example/keys/client.key                 |  27 ++
 testing/ca-example/keys/dsa.params                 |   9 +
 testing/ca-example/keys/email.key                  |  27 ++
 testing/ca-example/keys/generic-dsa.key            |  12 +
 testing/ca-example/profiles/ca.conf                |  32 +++
 testing/ca-example/profiles/extensions.conf        |  16 ++
 testing/ca-example/profiles/request.conf           |  18 ++
 testing/ca-example/requests/client.req             |  17 ++
 testing/ca-example/requests/email.req              |  17 ++
 testing/ca-example/requests/generic-dsa.req        |  16 ++
 testing/ca-example/serial.txt                      |   1 +
 testing/testing-build.sh                           | 137 ++++++++++
 testing/testing.c                                  | 284 +++++++++++++++++++++
 testing/testing.h                                  | 104 ++++++++
 testing/testing.make                               |  54 ++++
 tests/.gitignore                                   |  15 --
 tests/Makefile.am                                  |  19 --
 tests/ca-example/certs/ca.crt                      |  23 --
 tests/ca-example/certs/client.crt                  |  19 --
 tests/ca-example/certs/email.crt                   |  19 --
 tests/ca-example/certs/generic-dsa.crt             |  22 --
 tests/ca-example/database.txt                      |   0
 tests/ca-example/keys/ca.key                       |  15 --
 tests/ca-example/keys/client.key                   |  27 --
 tests/ca-example/keys/dsa.params                   |   9 -
 tests/ca-example/keys/email.key                    |  27 --
 tests/ca-example/keys/generic-dsa.key              |  12 -
 tests/ca-example/profiles/ca.conf                  |  32 ---
 tests/ca-example/profiles/extensions.conf          |  16 --
 tests/ca-example/profiles/request.conf             |  18 --
 tests/ca-example/requests/client.req               |  17 --
 tests/ca-example/requests/email.req                |  17 --
 tests/ca-example/requests/generic-dsa.req          |  16 --
 tests/ca-example/serial.txt                        |   1 -
 tests/dbus-test.py                                 |  16 --
 tests/gtest-helpers.c                              | 284 ---------------------
 tests/gtest-helpers.h                              |  94 -------
 tests/gtest.make                                   |  53 ----
 tests/prep-gtest.sh                                | 137 ----------
 ui/tests/Makefile.am                               |   6 +-
 ui/tests/unit-test-util.c                          |   2 +-
 122 files changed, 1093 insertions(+), 1118 deletions(-)

commit c16b8c01ad9fd6a564e06935781e385e84547be2
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    No more prompt tests.
    
     * These were an old concept of tests that didn't run automatically.
     * Also remove PAM tests, as they were completely broken, and prompt style.

 .gitignore                        |   1 -
 configure.in                      |   1 -
 egg/tests/.gitignore              |   2 -
 gcr/tests/.gitignore              |   2 -
 gp11/tests/.gitignore             |   3 -
 gp11/tests/Makefile.am            |   2 -
 pam/Makefile.am                   |   8 ---
 pam/tests/.gitignore              |   4 --
 pam/tests/Makefile.am             |  10 ----
 pam/tests/unit-test-pam-setup.c   | 116 --------------------------------------
 pam/tests/unit-test-pam.c         |  73 ------------------------
 pkcs11/gkm/tests/.gitignore       |   2 -
 pkcs11/ssh-store/tests/.gitignore |   2 -
 tests/gtest.make                  |  28 +--------
 14 files changed, 2 insertions(+), 252 deletions(-)

commit c712ccada0f5524e2bda7a16f3e754e14519bdd0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Implement login prompting tests as automatic test.

 pkcs11/gkm/gkm-test.c                       |  1 +
 pkcs11/wrap-layer/gkm-wrap-layer.c          | 15 +++++++
 pkcs11/wrap-layer/gkm-wrap-layer.h          |  2 +
 pkcs11/wrap-layer/tests/Makefile.am         | 28 +++++--------
 pkcs11/wrap-layer/tests/test-prompt-login.c | 63 +++++++++++++----------------
 ui/gku-prompt.c                             | 24 ++++++++++-
 ui/gku-prompt.h                             |  8 +++-
 7 files changed, 85 insertions(+), 56 deletions(-)

commit 77f3e46aaffa11b5f3e31590269600766510a9a7
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Allow space between test definition macro and name.

 pkcs11/wrap-layer/tests/test-create-credential.c | 174 -----------------------
 pkcs11/wrap-layer/tests/test-prompt-login.c      | 174 +++++++++++++++++++++++
 tests/prep-gtest.sh                              |  12 +-
 3 files changed, 180 insertions(+), 180 deletions(-)

commit 9a8d4cbe992fa9f34e91e4d027222b7ee90aa861
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Verobse testing, so we can see progress.

 tests/gtest.make | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 21e59b2d1baa4320971cf495393b456c440ec5d9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Run tests in a second thread, and run mainloop.
    
    Run mainloop on main thread, and tests in a second thread.

 egg/tests/unit-test-spawn.c         |  6 +--
 gp11/tests/gp11-test.h              |  4 --
 gp11/tests/unit-test-gp11-crypto.c  | 31 ++++++-------
 gp11/tests/unit-test-gp11-object.c  | 15 ++++---
 gp11/tests/unit-test-gp11-session.c | 21 ++++-----
 pkcs11/gkm/tests/unit-test-object.c |  2 +-
 pkcs11/gkm/tests/unit-test-timer.c  | 10 ++---
 tests/gtest-helpers.c               | 87 ++++++++++++++++++++++++-------------
 tests/gtest-helpers.h               |  5 +--
 9 files changed, 103 insertions(+), 78 deletions(-)

commit 880323d53b60d6fda531cfc716ff46a5c6b20904
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Fix possible threading race condition in gp11.
    
    We weren't waking up the main loop when we were ready to process
    a response from an async operation in certain cases.

 gp11/gp11-call.c | 1 +
 1 file changed, 1 insertion(+)

commit 04bbaee1fec85708f445b1e987c7380c77f36150
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Implement dummy prompting.
    
    Tests can now queue up responses, so we can test prompting
    and various usage patterns.

 pkcs11/wrap-layer/tests/test-create-credential.c |  4 +
 ui/gku-prompt-tool.c                             |  9 ++-
 ui/gku-prompt.c                                  | 95 +++++++++++++++++++++++-
 ui/gku-prompt.h                                  |  8 ++
 4 files changed, 111 insertions(+), 5 deletions(-)

commit 6d556cef7e37466f121f274bf8e6deba20db15e3
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Implement an initial test of the prompting functionality.

 configure.in                                     |    1 +
 pkcs11/.gitignore                                |    2 +
 pkcs11/gkm/Makefile.am                           |    1 +
 pkcs11/gkm/gkm-attributes.c                      |    7 +
 pkcs11/gkm/gkm-attributes.h                      |    3 +
 pkcs11/gkm/gkm-test.c                            | 1469 ++++++++++++++++++++++
 pkcs11/gkm/gkm-test.h                            |  380 ++++++
 pkcs11/gkm/gkm-util.c                            |   24 +-
 pkcs11/gkm/gkm-util.h                            |    4 +-
 pkcs11/wrap-layer/Makefile.am                    |   10 +
 pkcs11/wrap-layer/gkm-wrap-prompt.c              |    3 +
 pkcs11/wrap-layer/tests/Makefile.am              |   24 +
 pkcs11/wrap-layer/tests/test-create-credential.c |  170 +++
 13 files changed, 2095 insertions(+), 3 deletions(-)

commit 83fff3a4138586368d300da66132dc05c27ff378
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Basic rough implementation of prompting for C_Login

 pkcs11/wrap-layer/gkm-wrap-layer.c  | 263 ++++++++++++++-------
 pkcs11/wrap-layer/gkm-wrap-prompt.c | 440 ++++++++++++++++++++++++++++++------
 pkcs11/wrap-layer/gkm-wrap-prompt.h |  47 +++-
 3 files changed, 592 insertions(+), 158 deletions(-)

commit 1ae76c6396141dfc6736395090779fa0d15764f9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Simpler way to define secure memory callbacks.
    
     * Also define locking on the daemon.

 daemon/gkd-main.c                           |  6 ++++--
 daemon/ssh-agent/gkd-ssh-agent-standalone.c | 11 +----------
 egg/egg-secure-memory.h                     |  8 ++++++++
 pkcs11/gkm/tests/dump-data-file.c           |  7 +------
 pkcs11/roots-store/gkm-roots-standalone.c   |  8 +-------
 pkcs11/secret-store/gkm-secret-standalone.c |  8 +-------
 pkcs11/ssh-store/gkm-ssh-standalone.c       |  8 +-------
 pkcs11/user-store/gkm-user-standalone.c     |  8 +-------
 tests/gtest-helpers.c                       | 16 +---------------
 9 files changed, 19 insertions(+), 61 deletions(-)

commit 27789d006f38f134a2a34482d9343034d7dfa5b8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-06

    Fix bugs preventing wrap layer propmting from working.
    
     * Standard way to get object path from GkdSecretDispatch
     * Lots of minor little tweaks and bugs.

 daemon/Makefile.am                   |  2 +-
 daemon/dbus/gkd-secret-dispatch.c    |  9 ++++
 daemon/dbus/gkd-secret-dispatch.h    |  3 ++
 daemon/dbus/gkd-secret-prompt.c      |  9 +---
 daemon/dbus/gkd-secret-prompt.h      |  2 -
 daemon/dbus/gkd-secret-secret.c      |  3 +-
 daemon/dbus/gkd-secret-service.c     | 10 ++--
 daemon/dbus/gkd-secret-session.c     | 13 ++---
 daemon/dbus/gkd-secret-session.h     |  2 -
 daemon/dbus/gkd-secret-unlock.c      | 10 ++--
 daemon/pkcs11/gkd-pkcs11.c           | 14 +++---
 gp11/gp11-attributes.c               |  4 +-
 pkcs11/user-store/gkm-user-storage.c |  2 +-
 pkcs11/wrap-layer/gkm-wrap-layer.c   | 94 ++++++++++++++----------------------
 pkcs11/wrap-layer/gkm-wrap-prompt.c  | 10 +++-
 ui/gku-prompt.c                      |  1 +
 16 files changed, 85 insertions(+), 103 deletions(-)

commit ed30d8a35b73bca37ca6f6e16da83341218f2739
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-06

    Implement secret service unlock using protected auth path.
    
     * Let wrap layer module do the prompting.

 daemon/dbus/gkd-secret-unlock.c | 658 +++++++++++++++++++---------------------
 daemon/dbus/gkd-secret-unlock.h |   2 +-
 2 files changed, 308 insertions(+), 352 deletions(-)

commit 62c002d0d3068a93ef536f49d10fd16ddcb8940c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-05

    Use an interface to dispatch dbus messages to objects.
    
     * Will allow multiple objects to implement Prompt dbus iface.

 daemon/dbus/Makefile.am           |  1 +
 daemon/dbus/gkd-secret-dispatch.c | 64 ++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-dispatch.h | 53 ++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-iface.c    | 59 -----------------------------
 daemon/dbus/gkd-secret-iface.h    | 45 ----------------------
 daemon/dbus/gkd-secret-prompt.c   | 78 ++++++++++++++++++++++-----------------
 daemon/dbus/gkd-secret-prompt.h   |  3 --
 daemon/dbus/gkd-secret-service.c  |  5 ++-
 daemon/dbus/gkd-secret-session.c  | 59 +++++++++++++++++------------
 daemon/dbus/gkd-secret-session.h  |  3 --
 daemon/dbus/gkd-secret-types.h    |  1 +
 11 files changed, 202 insertions(+), 169 deletions(-)

commit bf0d4ea4f4ef51d95238bf30d3a434203319987c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-05

    Prompting for creation of credentials in wrap layer.
    
     * Not yet tested.
     * Not yet used by Secret Service API.

 Makefile.am                         |   2 +-
 daemon/dbus/gkd-secret-iface.c      |  59 ++++
 daemon/dbus/gkd-secret-iface.h      |  45 +++
 daemon/dbus/gkd-secret-unlock.c     |   4 +
 daemon/pkcs11/gkd-pkcs11-auth.c     |  10 +-
 pkcs11/gkm/gkm-util.c               | 100 ++++++
 pkcs11/gkm/gkm-util.h               |   2 +
 pkcs11/wrap-layer/Makefile.am       |   7 +-
 pkcs11/wrap-layer/gkm-wrap-layer.c  |  70 +++-
 pkcs11/wrap-layer/gkm-wrap-prompt.c | 688 ++++++++++++++++++++++++++++++++++++
 pkcs11/wrap-layer/gkm-wrap-prompt.h |  63 ++++
 ui/gku-prompt.c                     |  53 +--
 ui/gku-prompt.h                     |  16 +-
 13 files changed, 1068 insertions(+), 51 deletions(-)

commit 469b99bdcc169b6554c55bf2026c064490760959
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-05-30

    Start the wrap-layer, with proper session mapping.

 configure.in                       |    1 +
 pkcs11/Makefile.am                 |    1 +
 pkcs11/wrap-layer/Makefile.am      |   21 +
 pkcs11/wrap-layer/gkm-wrap-layer.c | 1258 ++++++++++++++++++++++++++++++++++++
 pkcs11/wrap-layer/gkm-wrap-layer.h |   31 +
 5 files changed, 1312 insertions(+)

commit ef1015c80d719e49fd8fcb1d8b2cc0a5a466b6ab
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-06-08

    Bump version number to unstable version
    
     * Remove function that was specific to 2.29 and 2.30

 configure.in             |  2 +-
 daemon/login/gkd-login.c | 31 -------------------------------
 2 files changed, 1 insertion(+), 32 deletions(-)

commit 328234924e7a44de551455f89115ca5d9d8ba435
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-05-29

    Move and cleanup the prompt directory.

 .gitignore                                 |    2 +
 Makefile.am                                |    1 +
 configure.in                               |    4 +-
 daemon/Makefile.am                         |    3 +-
 daemon/dbus/gkd-secret-change.c            |   26 +-
 daemon/dbus/gkd-secret-create.c            |   20 +-
 daemon/dbus/gkd-secret-prompt.c            |   34 +-
 daemon/dbus/gkd-secret-prompt.h            |    6 +-
 daemon/dbus/gkd-secret-unlock.c            |   52 +-
 daemon/pkcs11/gkd-pkcs11-auth.c            |   98 +--
 daemon/pkcs11/gkd-pkcs11-data.c            |    2 +-
 daemon/prompt/Makefile.am                  |   79 --
 daemon/prompt/gkd-prompt-marshal.list      |    1 -
 daemon/prompt/gkd-prompt-tool.c            |  915 -----------------------
 daemon/prompt/gkd-prompt-util.c            |  222 ------
 daemon/prompt/gkd-prompt-util.h            |   49 --
 daemon/prompt/gkd-prompt.c                 | 1122 ----------------------------
 daemon/prompt/gkd-prompt.h                 |  138 ----
 daemon/prompt/gkd-prompt.ui                |  385 ----------
 daemon/prompt/tests/Makefile.am            |   14 -
 daemon/prompt/tests/test-data/prompt-empty |    2 -
 daemon/prompt/tests/test-data/prompt-full  |   17 -
 daemon/prompt/tests/test-data/prompt-test  |    7 -
 daemon/prompt/tests/unit-test-util.c       |  136 ----
 po/POTFILES.in                             |    4 +-
 ui/Makefile.am                             |   79 ++
 ui/gku-prompt-marshal.list                 |    1 +
 ui/gku-prompt-tool.c                       |  915 +++++++++++++++++++++++
 ui/gku-prompt-util.c                       |  222 ++++++
 ui/gku-prompt-util.h                       |   49 ++
 ui/gku-prompt.c                            | 1122 ++++++++++++++++++++++++++++
 ui/gku-prompt.h                            |  138 ++++
 ui/gku-prompt.ui                           |  385 ++++++++++
 ui/tests/Makefile.am                       |   14 +
 ui/tests/test-data/prompt-empty            |    2 +
 ui/tests/test-data/prompt-full             |   17 +
 ui/tests/test-data/prompt-test             |    7 +
 ui/tests/unit-test-util.c                  |  136 ++++
 38 files changed, 3214 insertions(+), 3212 deletions(-)

commit cf0192e26a095c7f1840cd34b3cd1476d696a7b9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-05-27

    Massive cleanup of line endings and file names.
    
     * Cleanup all line endings for pkcs11 code.
     * Rename C namespace to GKM
    
    This is big "rip off the bandaid fast" change in order
    to prevent later constant pain with git and naming.

 configure.in                                       |    4 +-
 daemon/Makefile.am                                 |   14 +-
 daemon/pkcs11/gkd-pkcs11.c                         |   42 +-
 daemon/ssh-agent/.gitignore                        |    2 +-
 pkcs11/Makefile.am                                 |    6 +-
 pkcs11/gck/.gitignore                              |    8 -
 pkcs11/gck/Makefile.am                             |   99 -
 pkcs11/gck/gck-aes-key.c                           |  267 --
 pkcs11/gck/gck-aes-key.h                           |   57 -
 pkcs11/gck/gck-aes-mechanism.c                     |  231 --
 pkcs11/gck/gck-aes-mechanism.h                     |   54 -
 pkcs11/gck/gck-attributes.c                        |  615 ----
 pkcs11/gck/gck-attributes.h                        |  134 -
 pkcs11/gck/gck-certificate-key.c                   |  152 -
 pkcs11/gck/gck-certificate-key.h                   |   57 -
 pkcs11/gck/gck-certificate-trust.c                 |  377 --
 pkcs11/gck/gck-certificate-trust.h                 |   57 -
 pkcs11/gck/gck-certificate.c                       |  794 -----
 pkcs11/gck/gck-certificate.h                       |   75 -
 pkcs11/gck/gck-credential.c                        |  525 ---
 pkcs11/gck/gck-credential.h                        |   95 -
 pkcs11/gck/gck-crypto.c                            |  551 ---
 pkcs11/gck/gck-crypto.h                            |  157 -
 pkcs11/gck/gck-data-asn1.c                         |   97 -
 pkcs11/gck/gck-data-asn1.h                         |   39 -
 pkcs11/gck/gck-data-der.c                          | 1285 -------
 pkcs11/gck/gck-data-der.h                          |  121 -
 pkcs11/gck/gck-data-file.c                         | 1478 --------
 pkcs11/gck/gck-data-file.h                         |  109 -
 pkcs11/gck/gck-data-types.h                        |   15 -
 pkcs11/gck/gck-dh-key.c                            |  155 -
 pkcs11/gck/gck-dh-key.h                            |   59 -
 pkcs11/gck/gck-dh-mechanism.c                      |  270 --
 pkcs11/gck/gck-dh-mechanism.h                      |   52 -
 pkcs11/gck/gck-dh-private-key.c                    |  220 --
 pkcs11/gck/gck-dh-private-key.h                    |   59 -
 pkcs11/gck/gck-dh-public-key.c                     |  192 --
 pkcs11/gck/gck-dh-public-key.h                     |   57 -
 pkcs11/gck/gck-factory.c                           |   25 -
 pkcs11/gck/gck-factory.h                           |   40 -
 pkcs11/gck/gck-file-tracker.c                      |  304 --
 pkcs11/gck/gck-file-tracker.h                      |   63 -
 pkcs11/gck/gck-manager.c                           |  992 ------
 pkcs11/gck/gck-manager.h                           |  143 -
 pkcs11/gck/gck-marshal.list                        |    3 -
 pkcs11/gck/gck-mechanism-dsa.c                     |  144 -
 pkcs11/gck/gck-mechanism-dsa.h                     |   49 -
 pkcs11/gck/gck-mechanism-rsa.c                     |  220 --
 pkcs11/gck/gck-mechanism-rsa.h                     |   67 -
 pkcs11/gck/gck-memory-store.c                      |  261 --
 pkcs11/gck/gck-memory-store.h                      |   48 -
 pkcs11/gck/gck-module-ep.h                         | 1541 ---------
 pkcs11/gck/gck-module.c                            | 1370 --------
 pkcs11/gck/gck-module.h                            |  224 --
 pkcs11/gck/gck-null-key.c                          |  131 -
 pkcs11/gck/gck-null-key.h                          |   52 -
 pkcs11/gck/gck-null-mechanism.c                    |  157 -
 pkcs11/gck/gck-null-mechanism.h                    |   55 -
 pkcs11/gck/gck-object.c                            |  948 ------
 pkcs11/gck/gck-object.h                            |  155 -
 pkcs11/gck/gck-private-xsa-key.c                   |  427 ---
 pkcs11/gck/gck-private-xsa-key.h                   |   67 -
 pkcs11/gck/gck-public-xsa-key.c                    |  316 --
 pkcs11/gck/gck-public-xsa-key.h                    |   60 -
 pkcs11/gck/gck-secret-key.c                        |  160 -
 pkcs11/gck/gck-secret-key.h                        |   51 -
 pkcs11/gck/gck-secret.c                            |  177 -
 pkcs11/gck/gck-secret.h                            |   67 -
 pkcs11/gck/gck-serializable.c                      |   79 -
 pkcs11/gck/gck-serializable.h                      |   64 -
 pkcs11/gck/gck-session.c                           | 1643 ---------
 pkcs11/gck/gck-session.h                           |  366 --
 pkcs11/gck/gck-sexp-key.c                          |  261 --
 pkcs11/gck/gck-sexp-key.h                          |   71 -
 pkcs11/gck/gck-sexp.c                              |  281 --
 pkcs11/gck/gck-sexp.h                              |   61 -
 pkcs11/gck/gck-store.c                             |  328 --
 pkcs11/gck/gck-store.h                             |  102 -
 pkcs11/gck/gck-timer.c                             |  230 --
 pkcs11/gck/gck-timer.h                             |   43 -
 pkcs11/gck/gck-transaction.c                       |  510 ---
 pkcs11/gck/gck-transaction.h                       |   82 -
 pkcs11/gck/gck-types.h                             |   51 -
 pkcs11/gck/gck-util.c                              |  100 -
 pkcs11/gck/gck-util.h                              |   52 -
 pkcs11/gck/pk.asn                                  |  103 -
 pkcs11/gck/pkix.asn                                | 1230 -------
 pkcs11/gck/tests/.gitignore                        |    9 -
 pkcs11/gck/tests/Makefile.am                       |   48 -
 pkcs11/gck/tests/dump-data-file.c                  |  100 -
 pkcs11/gck/tests/mock-locked-object.c              |   91 -
 pkcs11/gck/tests/mock-locked-object.h              |   52 -
 pkcs11/gck/tests/test-data/ca-certificates.crt     | 3601 --------------------
 pkcs11/gck/tests/test-data/data-file-private.store |  Bin 494 -> 0 bytes
 pkcs11/gck/tests/test-data/data-file-public.store  |  Bin 216 -> 0 bytes
 .../gck/tests/test-data/der-pkcs8-PBE-MD5-DES.key  |  Bin 677 -> 0 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-3DES.key    |  Bin 678 -> 0 bytes
 .../gck/tests/test-data/der-pkcs8-PBE-SHA1-DES.key |  Bin 677 -> 0 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-RC2-40.key  |  Bin 678 -> 0 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-RC4-128.key |  Bin 673 -> 0 bytes
 pkcs11/gck/tests/test-data/der-pkcs8-dsa.key       |  Bin 335 -> 0 bytes
 .../tests/test-data/der-pkcs8-encrypted-pkcs5.key  |  Bin 677 -> 0 bytes
 pkcs11/gck/tests/test-data/der-pkcs8-v2-des.key    |  Bin 711 -> 0 bytes
 pkcs11/gck/tests/test-data/der-pkcs8-v2-des3.key   |  Bin 714 -> 0 bytes
 pkcs11/gck/tests/test-data/der-pkcs8.key           |  Bin 635 -> 0 bytes
 pkcs11/gck/tests/test-data/pem-rsa-enc.key         |   18 -
 pkcs11/gck/tests/test-data/test-certificate-1.der  |  Bin 813 -> 0 bytes
 pkcs11/gck/tests/test-data/test-certificate-2.der  |  Bin 1346 -> 0 bytes
 pkcs11/gck/tests/test-module.c                     |  114 -
 pkcs11/gck/tests/test-module.h                     |   45 -
 pkcs11/gck/tests/test.asn                          |   16 -
 pkcs11/gck/tests/unit-test-attributes.c            |  779 -----
 pkcs11/gck/tests/unit-test-credential.c            |  285 --
 pkcs11/gck/tests/unit-test-data-asn1.c             |  117 -
 pkcs11/gck/tests/unit-test-data-der.c              |  543 ---
 pkcs11/gck/tests/unit-test-data-file.c             |  587 ----
 pkcs11/gck/tests/unit-test-file-tracker.c          |  221 --
 pkcs11/gck/tests/unit-test-memory-store.c          |  438 ---
 pkcs11/gck/tests/unit-test-object.c                |  277 --
 pkcs11/gck/tests/unit-test-secret.c                |  178 -
 pkcs11/gck/tests/unit-test-sexp.c                  |  132 -
 pkcs11/gck/tests/unit-test-store.c                 |   85 -
 pkcs11/gck/tests/unit-test-timer.c                 |  144 -
 pkcs11/gck/tests/unit-test-transaction.c           |  334 --
 pkcs11/gkm/.gitignore                              |    8 +
 pkcs11/gkm/Makefile.am                             |   99 +
 pkcs11/gkm/gkm-aes-key.c                           |  267 ++
 pkcs11/gkm/gkm-aes-key.h                           |   57 +
 pkcs11/gkm/gkm-aes-mechanism.c                     |  231 ++
 pkcs11/gkm/gkm-aes-mechanism.h                     |   54 +
 pkcs11/gkm/gkm-attributes.c                        |  615 ++++
 pkcs11/gkm/gkm-attributes.h                        |  134 +
 pkcs11/gkm/gkm-certificate-key.c                   |  152 +
 pkcs11/gkm/gkm-certificate-key.h                   |   57 +
 pkcs11/gkm/gkm-certificate-trust.c                 |  377 ++
 pkcs11/gkm/gkm-certificate-trust.h                 |   57 +
 pkcs11/gkm/gkm-certificate.c                       |  794 +++++
 pkcs11/gkm/gkm-certificate.h                       |   75 +
 pkcs11/gkm/gkm-credential.c                        |  525 +++
 pkcs11/gkm/gkm-credential.h                        |   95 +
 pkcs11/gkm/gkm-crypto.c                            |  550 +++
 pkcs11/gkm/gkm-crypto.h                            |  157 +
 pkcs11/gkm/gkm-data-asn1.c                         |   97 +
 pkcs11/gkm/gkm-data-asn1.h                         |   39 +
 pkcs11/gkm/gkm-data-der.c                          | 1285 +++++++
 pkcs11/gkm/gkm-data-der.h                          |  121 +
 pkcs11/gkm/gkm-data-file.c                         | 1478 ++++++++
 pkcs11/gkm/gkm-data-file.h                         |  109 +
 pkcs11/gkm/gkm-data-types.h                        |   15 +
 pkcs11/gkm/gkm-dh-key.c                            |  155 +
 pkcs11/gkm/gkm-dh-key.h                            |   59 +
 pkcs11/gkm/gkm-dh-mechanism.c                      |  270 ++
 pkcs11/gkm/gkm-dh-mechanism.h                      |   52 +
 pkcs11/gkm/gkm-dh-private-key.c                    |  220 ++
 pkcs11/gkm/gkm-dh-private-key.h                    |   59 +
 pkcs11/gkm/gkm-dh-public-key.c                     |  192 ++
 pkcs11/gkm/gkm-dh-public-key.h                     |   57 +
 pkcs11/gkm/gkm-factory.c                           |   24 +
 pkcs11/gkm/gkm-factory.h                           |   40 +
 pkcs11/gkm/gkm-file-tracker.c                      |  304 ++
 pkcs11/gkm/gkm-file-tracker.h                      |   62 +
 pkcs11/gkm/gkm-manager.c                           |  992 ++++++
 pkcs11/gkm/gkm-manager.h                           |  142 +
 pkcs11/gkm/gkm-marshal.list                        |    3 +
 pkcs11/gkm/gkm-mechanism-dsa.c                     |  144 +
 pkcs11/gkm/gkm-mechanism-dsa.h                     |   49 +
 pkcs11/gkm/gkm-mechanism-rsa.c                     |  220 ++
 pkcs11/gkm/gkm-mechanism-rsa.h                     |   67 +
 pkcs11/gkm/gkm-memory-store.c                      |  261 ++
 pkcs11/gkm/gkm-memory-store.h                      |   48 +
 pkcs11/gkm/gkm-module-ep.h                         | 1541 +++++++++
 pkcs11/gkm/gkm-module.c                            | 1370 ++++++++
 pkcs11/gkm/gkm-module.h                            |  224 ++
 pkcs11/gkm/gkm-null-key.c                          |  131 +
 pkcs11/gkm/gkm-null-key.h                          |   52 +
 pkcs11/gkm/gkm-null-mechanism.c                    |  157 +
 pkcs11/gkm/gkm-null-mechanism.h                    |   55 +
 pkcs11/gkm/gkm-object.c                            |  948 ++++++
 pkcs11/gkm/gkm-object.h                            |  155 +
 pkcs11/gkm/gkm-private-xsa-key.c                   |  427 +++
 pkcs11/gkm/gkm-private-xsa-key.h                   |   67 +
 pkcs11/gkm/gkm-public-xsa-key.c                    |  316 ++
 pkcs11/gkm/gkm-public-xsa-key.h                    |   60 +
 pkcs11/gkm/gkm-secret-key.c                        |  159 +
 pkcs11/gkm/gkm-secret-key.h                        |   51 +
 pkcs11/gkm/gkm-secret.c                            |  177 +
 pkcs11/gkm/gkm-secret.h                            |   67 +
 pkcs11/gkm/gkm-serializable.c                      |   79 +
 pkcs11/gkm/gkm-serializable.h                      |   63 +
 pkcs11/gkm/gkm-session.c                           | 1643 +++++++++
 pkcs11/gkm/gkm-session.h                           |  366 ++
 pkcs11/gkm/gkm-sexp-key.c                          |  261 ++
 pkcs11/gkm/gkm-sexp-key.h                          |   71 +
 pkcs11/gkm/gkm-sexp.c                              |  281 ++
 pkcs11/gkm/gkm-sexp.h                              |   61 +
 pkcs11/gkm/gkm-store.c                             |  328 ++
 pkcs11/gkm/gkm-store.h                             |  102 +
 pkcs11/gkm/gkm-timer.c                             |  230 ++
 pkcs11/gkm/gkm-timer.h                             |   43 +
 pkcs11/gkm/gkm-transaction.c                       |  510 +++
 pkcs11/gkm/gkm-transaction.h                       |   82 +
 pkcs11/gkm/gkm-types.h                             |   51 +
 pkcs11/gkm/gkm-util.c                              |  100 +
 pkcs11/gkm/gkm-util.h                              |   52 +
 pkcs11/gkm/pk.asn                                  |  103 +
 pkcs11/gkm/pkix.asn                                | 1230 +++++++
 pkcs11/gkm/tests/.gitignore                        |    9 +
 pkcs11/gkm/tests/Makefile.am                       |   47 +
 pkcs11/gkm/tests/dump-data-file.c                  |  100 +
 pkcs11/gkm/tests/mock-locked-object.c              |   91 +
 pkcs11/gkm/tests/mock-locked-object.h              |   52 +
 pkcs11/gkm/tests/test-data/ca-certificates.crt     | 3601 ++++++++++++++++++++
 pkcs11/gkm/tests/test-data/data-file-private.store |  Bin 0 -> 494 bytes
 pkcs11/gkm/tests/test-data/data-file-public.store  |  Bin 0 -> 216 bytes
 .../gkm/tests/test-data/der-pkcs8-PBE-MD5-DES.key  |  Bin 0 -> 677 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-3DES.key    |  Bin 0 -> 678 bytes
 .../gkm/tests/test-data/der-pkcs8-PBE-SHA1-DES.key |  Bin 0 -> 677 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-RC2-40.key  |  Bin 0 -> 678 bytes
 .../tests/test-data/der-pkcs8-PBE-SHA1-RC4-128.key |  Bin 0 -> 673 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8-dsa.key       |  Bin 0 -> 335 bytes
 .../tests/test-data/der-pkcs8-encrypted-pkcs5.key  |  Bin 0 -> 677 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8-v2-des.key    |  Bin 0 -> 711 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8-v2-des3.key   |  Bin 0 -> 714 bytes
 pkcs11/gkm/tests/test-data/der-pkcs8.key           |  Bin 0 -> 635 bytes
 pkcs11/gkm/tests/test-data/pem-rsa-enc.key         |   18 +
 pkcs11/gkm/tests/test-data/test-certificate-1.der  |  Bin 0 -> 813 bytes
 pkcs11/gkm/tests/test-data/test-certificate-2.der  |  Bin 0 -> 1346 bytes
 pkcs11/gkm/tests/test-module.c                     |  114 +
 pkcs11/gkm/tests/test-module.h                     |   45 +
 pkcs11/gkm/tests/test.asn                          |   16 +
 pkcs11/gkm/tests/unit-test-attributes.c            |  779 +++++
 pkcs11/gkm/tests/unit-test-credential.c            |  285 ++
 pkcs11/gkm/tests/unit-test-data-asn1.c             |  117 +
 pkcs11/gkm/tests/unit-test-data-der.c              |  543 +++
 pkcs11/gkm/tests/unit-test-data-file.c             |  587 ++++
 pkcs11/gkm/tests/unit-test-file-tracker.c          |  221 ++
 pkcs11/gkm/tests/unit-test-memory-store.c          |  438 +++
 pkcs11/gkm/tests/unit-test-object.c                |  277 ++
 pkcs11/gkm/tests/unit-test-secret.c                |  178 +
 pkcs11/gkm/tests/unit-test-sexp.c                  |  132 +
 pkcs11/gkm/tests/unit-test-store.c                 |   85 +
 pkcs11/gkm/tests/unit-test-timer.c                 |  144 +
 pkcs11/gkm/tests/unit-test-transaction.c           |  334 ++
 pkcs11/pkcs11g.h                                   |   36 +-
 pkcs11/pkcs11n.h                                   |  442 +--
 pkcs11/plex-layer/Makefile.am                      |   15 +-
 pkcs11/plex-layer/gck-plex-layer.c                 |  945 -----
 pkcs11/plex-layer/gck-plex-layer.h                 |   31 -
 pkcs11/plex-layer/gkm-plex-layer.c                 |  945 +++++
 pkcs11/plex-layer/gkm-plex-layer.h                 |   31 +
 pkcs11/roots-store/Makefile.am                     |   32 +-
 pkcs11/roots-store/gck-roots-certificate.c         |  216 --
 pkcs11/roots-store/gck-roots-certificate.h         |   55 -
 pkcs11/roots-store/gck-roots-module.c              |  365 --
 pkcs11/roots-store/gck-roots-module.h              |   45 -
 pkcs11/roots-store/gck-roots-standalone.c          |   60 -
 pkcs11/roots-store/gck-roots-store.h               |   29 -
 pkcs11/roots-store/gkm-roots-certificate.c         |  216 ++
 pkcs11/roots-store/gkm-roots-certificate.h         |   55 +
 pkcs11/roots-store/gkm-roots-module.c              |  365 ++
 pkcs11/roots-store/gkm-roots-module.h              |   45 +
 pkcs11/roots-store/gkm-roots-standalone.c          |   60 +
 pkcs11/roots-store/gkm-roots-store.h               |   29 +
 pkcs11/roots-store/tests/Makefile.am               |    4 +-
 pkcs11/roots-store/tests/p11-tests.conf            |    4 +-
 pkcs11/roots-store/tests/test-module.c             |    4 +-
 pkcs11/rpc-layer/.gitignore                        |    2 +-
 pkcs11/rpc-layer/Makefile.am                       |   53 +-
 pkcs11/rpc-layer/gck-rpc-daemon-standalone.c       |  134 -
 pkcs11/rpc-layer/gck-rpc-dispatch.c                | 2373 -------------
 pkcs11/rpc-layer/gck-rpc-layer.h                   |   25 -
 pkcs11/rpc-layer/gck-rpc-message.c                 |  471 ---
 pkcs11/rpc-layer/gck-rpc-module.c                  | 2206 ------------
 pkcs11/rpc-layer/gck-rpc-private.h                 |  342 --
 pkcs11/rpc-layer/gck-rpc-util.c                    |  207 --
 pkcs11/rpc-layer/gkm-rpc-daemon-standalone.c       |  134 +
 pkcs11/rpc-layer/gkm-rpc-dispatch.c                | 2373 +++++++++++++
 pkcs11/rpc-layer/gkm-rpc-layer.h                   |   25 +
 pkcs11/rpc-layer/gkm-rpc-message.c                 |  471 +++
 pkcs11/rpc-layer/gkm-rpc-module.c                  | 2206 ++++++++++++
 pkcs11/rpc-layer/gkm-rpc-private.h                 |  342 ++
 pkcs11/rpc-layer/gkm-rpc-util.c                    |  207 ++
 pkcs11/secret-store/Makefile.am                    |   46 +-
 pkcs11/secret-store/gck-secret-binary.c            |  988 ------
 pkcs11/secret-store/gck-secret-binary.h            |   40 -
 pkcs11/secret-store/gck-secret-collection.c        |  967 ------
 pkcs11/secret-store/gck-secret-collection.h        |  104 -
 pkcs11/secret-store/gck-secret-compat.c            |   91 -
 pkcs11/secret-store/gck-secret-compat.h            |   47 -
 pkcs11/secret-store/gck-secret-data.c              |  222 --
 pkcs11/secret-store/gck-secret-data.h              |   70 -
 pkcs11/secret-store/gck-secret-fields.c            |  494 ---
 pkcs11/secret-store/gck-secret-fields.h            |  106 -
 pkcs11/secret-store/gck-secret-item.c              |  499 ---
 pkcs11/secret-store/gck-secret-item.h              |   61 -
 pkcs11/secret-store/gck-secret-module.c            |  510 ---
 pkcs11/secret-store/gck-secret-module.h            |   44 -
 pkcs11/secret-store/gck-secret-object.c            |  399 ---
 pkcs11/secret-store/gck-secret-object.h            |   81 -
 pkcs11/secret-store/gck-secret-search.c            |  465 ---
 pkcs11/secret-store/gck-secret-search.h            |   54 -
 pkcs11/secret-store/gck-secret-standalone.c        |   60 -
 pkcs11/secret-store/gck-secret-store.h             |   29 -
 pkcs11/secret-store/gck-secret-textual.c           |  550 ---
 pkcs11/secret-store/gck-secret-textual.h           |   39 -
 pkcs11/secret-store/gck-secret-types.h             |   35 -
 pkcs11/secret-store/gkm-secret-binary.c            |  988 ++++++
 pkcs11/secret-store/gkm-secret-binary.h            |   40 +
 pkcs11/secret-store/gkm-secret-collection.c        |  967 ++++++
 pkcs11/secret-store/gkm-secret-collection.h        |  104 +
 pkcs11/secret-store/gkm-secret-compat.c            |   91 +
 pkcs11/secret-store/gkm-secret-compat.h            |   47 +
 pkcs11/secret-store/gkm-secret-data.c              |  222 ++
 pkcs11/secret-store/gkm-secret-data.h              |   70 +
 pkcs11/secret-store/gkm-secret-fields.c            |  494 +++
 pkcs11/secret-store/gkm-secret-fields.h            |  106 +
 pkcs11/secret-store/gkm-secret-item.c              |  499 +++
 pkcs11/secret-store/gkm-secret-item.h              |   61 +
 pkcs11/secret-store/gkm-secret-module.c            |  510 +++
 pkcs11/secret-store/gkm-secret-module.h            |   44 +
 pkcs11/secret-store/gkm-secret-object.c            |  399 +++
 pkcs11/secret-store/gkm-secret-object.h            |   81 +
 pkcs11/secret-store/gkm-secret-search.c            |  465 +++
 pkcs11/secret-store/gkm-secret-search.h            |   54 +
 pkcs11/secret-store/gkm-secret-standalone.c        |   60 +
 pkcs11/secret-store/gkm-secret-store.h             |   29 +
 pkcs11/secret-store/gkm-secret-textual.c           |  550 +++
 pkcs11/secret-store/gkm-secret-textual.h           |   39 +
 pkcs11/secret-store/gkm-secret-types.h             |   35 +
 pkcs11/secret-store/tests/Makefile.am              |    6 +-
 pkcs11/secret-store/tests/test-secret-module.c     |  150 +-
 pkcs11/secret-store/tests/test-secret-module.h     |   16 +-
 .../secret-store/tests/unit-test-secret-binary.c   |   94 +-
 .../tests/unit-test-secret-collection.c            |  274 +-
 .../secret-store/tests/unit-test-secret-compat.c   |   56 +-
 pkcs11/secret-store/tests/unit-test-secret-data.c  |  166 +-
 .../secret-store/tests/unit-test-secret-fields.c   |  146 +-
 pkcs11/secret-store/tests/unit-test-secret-item.c  |  278 +-
 .../secret-store/tests/unit-test-secret-object.c   |   88 +-
 .../secret-store/tests/unit-test-secret-search.c   |  176 +-
 .../secret-store/tests/unit-test-secret-textual.c  |   84 +-
 pkcs11/ssh-store/Makefile.am                       |   36 +-
 pkcs11/ssh-store/gck-ssh-module.c                  |  274 --
 pkcs11/ssh-store/gck-ssh-module.h                  |   46 -
 pkcs11/ssh-store/gck-ssh-openssh.c                 |  394 ---
 pkcs11/ssh-store/gck-ssh-openssh.h                 |   24 -
 pkcs11/ssh-store/gck-ssh-private-key.c             |  378 --
 pkcs11/ssh-store/gck-ssh-private-key.h             |   62 -
 pkcs11/ssh-store/gck-ssh-public-key.c              |  153 -
 pkcs11/ssh-store/gck-ssh-public-key.h              |   53 -
 pkcs11/ssh-store/gck-ssh-standalone.c              |   57 -
 pkcs11/ssh-store/gck-ssh-store.h                   |   29 -
 pkcs11/ssh-store/gkm-ssh-module.c                  |  274 ++
 pkcs11/ssh-store/gkm-ssh-module.h                  |   46 +
 pkcs11/ssh-store/gkm-ssh-openssh.c                 |  394 +++
 pkcs11/ssh-store/gkm-ssh-openssh.h                 |   24 +
 pkcs11/ssh-store/gkm-ssh-private-key.c             |  378 ++
 pkcs11/ssh-store/gkm-ssh-private-key.h             |   62 +
 pkcs11/ssh-store/gkm-ssh-public-key.c              |  153 +
 pkcs11/ssh-store/gkm-ssh-public-key.h              |   53 +
 pkcs11/ssh-store/gkm-ssh-standalone.c              |   57 +
 pkcs11/ssh-store/gkm-ssh-store.h                   |   29 +
 pkcs11/ssh-store/tests/Makefile.am                 |    6 +-
 pkcs11/ssh-store/tests/test-ssh-module.c           |   52 +-
 pkcs11/ssh-store/tests/test-ssh-module.h           |    6 +-
 pkcs11/ssh-store/tests/unit-test-private-key.c     |   42 +-
 pkcs11/ssh-store/tests/unit-test-ssh-openssh.c     |   48 +-
 pkcs11/template/gck-xxx.c                          |  144 -
 pkcs11/template/gck-xxx.h                          |   49 -
 pkcs11/template/gck-zzz.c                          |   60 -
 pkcs11/template/gck-zzz.h                          |   46 -
 pkcs11/template/gkm-xxx.c                          |  144 +
 pkcs11/template/gkm-xxx.h                          |   49 +
 pkcs11/template/gkm-zzz.c                          |   59 +
 pkcs11/template/gkm-zzz.h                          |   45 +
 pkcs11/user-store/Makefile.am                      |   36 +-
 pkcs11/user-store/gck-user-module.c                |  350 --
 pkcs11/user-store/gck-user-module.h                |   45 -
 pkcs11/user-store/gck-user-private-key.c           |  346 --
 pkcs11/user-store/gck-user-private-key.h           |   52 -
 pkcs11/user-store/gck-user-public-key.c            |  205 --
 pkcs11/user-store/gck-user-public-key.h            |   51 -
 pkcs11/user-store/gck-user-standalone.c            |   57 -
 pkcs11/user-store/gck-user-storage.c               | 1357 --------
 pkcs11/user-store/gck-user-storage.h               |   79 -
 pkcs11/user-store/gck-user-store.h                 |   29 -
 pkcs11/user-store/gkm-user-module.c                |  350 ++
 pkcs11/user-store/gkm-user-module.h                |   45 +
 pkcs11/user-store/gkm-user-private-key.c           |  346 ++
 pkcs11/user-store/gkm-user-private-key.h           |   52 +
 pkcs11/user-store/gkm-user-public-key.c            |  205 ++
 pkcs11/user-store/gkm-user-public-key.h            |   51 +
 pkcs11/user-store/gkm-user-standalone.c            |   57 +
 pkcs11/user-store/gkm-user-storage.c               | 1357 ++++++++
 pkcs11/user-store/gkm-user-storage.h               |   79 +
 pkcs11/user-store/gkm-user-store.h                 |   29 +
 pkcs11/user-store/tests/Makefile.am                |    4 +-
 pkcs11/user-store/tests/p11-tests.conf             |    4 +-
 pkcs11/user-store/tests/test-module.c              |    4 +-
 po/POTFILES.in                                     |    6 +-
 400 files changed, 49732 insertions(+), 49743 deletions(-)

commit 86599c674c42d2c58ab40ebb1a75fc5aeb6819b8
Author: Sira Nokyoongtong <gumaraa@gmail.com>
Date:   2010-06-07

    Updated Thai translation.

 po/th.po | 492 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 246 insertions(+), 246 deletions(-)

commit f2c86b6794a7abf50c088faa53b3636ae7c46bec
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-06-03

    Fix CLEANFILES in Makefile.am
    
    Thanks to Sébastien Bacher for noticing it.
    
    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=611002#c8

 daemon/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d6a8afb484fc2d9855d616c0ad959f865479e72a
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-06-01

    Updated Norwegian bokmål translation

 po/nb.po | 52 +++++++++++++++++++++++++++-------------------------
 1 file changed, 27 insertions(+), 25 deletions(-)

commit 89373418fea23b29dd74b814690af825bb71e3f3
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   2010-06-01

    Estonian translation updated

 po/et.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cbc32e9d78332b8c7d5749760aaa7eea5a6efdd4
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-05-29

    Updated Spanish translation

 po/es.po | 73 +++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 38 insertions(+), 35 deletions(-)

commit 28f19c9b4cdc2fa3cfc0aa25f34760aee3c3c802
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-05-23

    Fix broken startup when used with gdm and password-less login.
    
    Fixes bug #611002

 daemon/gkd-main.c    | 16 +++++++---------
 pam/gkr-pam-module.c | 31 ++++++++++++-------------------
 2 files changed, 19 insertions(+), 28 deletions(-)

commit 2037fd1c7b20b1a0de761e493d59894c926b48b7
Author: Gil Forcada <gforcada@gnome.org>
Date:   2010-05-22

    Minor fix in Catalan translation

 po/ca.po | 46 +++++++++++++++++++++++-----------------------
 1 file changed, 23 insertions(+), 23 deletions(-)

commit 4e99946c0d45b9582544e7463c1cb817a928404e
Author: Ahmed Noor Kader Mustajir Md Eusoff <sir.ade@gmail.com>
Date:   2010-05-14

    Updated Malay translation

 po/ms.po | 1435 ++++++++++++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 1155 insertions(+), 280 deletions(-)

commit 8f728a45e2b47692383af3d5550a7388d569654f
Author: Thomas Thurman <tthurman@gnome.org>
Date:   2010-05-12

    Updated Shavian transliteration

 po/en@shaw.po | 771 +++++++++++++++++++++++-----------------------------------
 1 file changed, 298 insertions(+), 473 deletions(-)

commit 99bd9596ad9732c67cc03aad9c9005e5a2fbfd5f
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2010-05-12

    Updated Oriya Translation

 po/or.po | 792 +++++++++++++++++++++------------------------------------------
 1 file changed, 262 insertions(+), 530 deletions(-)

commit 302db3f520c944176be75cb7f491573038d48b6e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-05-08

    Start work on gpg-agent, incomplete.
    
    Cannot yet prompt for or store passwords, so basically is
    useless. Waiting for other branches.

 configure.in                                |  20 +
 daemon/.gitignore                           |   3 +
 daemon/Makefile.am                          |   6 +-
 daemon/gkd-glue.c                           | 110 ++++++
 daemon/gkd-glue.h                           |  32 ++
 daemon/gkd-main.c                           |  30 +-
 daemon/gnome-keyring-gpg.desktop.in.in      |  14 +
 daemon/gpg-agent/Makefile.am                |  36 ++
 daemon/gpg-agent/gkd-gpg-agent-ops.c        | 565 ++++++++++++++++++++++++++++
 daemon/gpg-agent/gkd-gpg-agent-private.h    | 117 ++++++
 daemon/gpg-agent/gkd-gpg-agent-standalone.c | 136 +++++++
 daemon/gpg-agent/gkd-gpg-agent.c            | 481 +++++++++++++++++++++++
 daemon/gpg-agent/gkd-gpg-agent.h            |  40 ++
 daemon/pkcs11/gkd-pkcs11.c                  |  44 +--
 14 files changed, 1589 insertions(+), 45 deletions(-)

commit 870c349b4b09b2e6f54e7c6975e99cfb9731701b
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2010-05-08

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 14 +++++++-------
 po/zh_TW.po | 12 ++++++------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 453c143338895bdd094c9398e8ef336d0f8cba8e
Author: Nshepperd <nshepperd@gmail.com>
Date:   2010-05-05

    Fix checking of uninitialized value in prompting code.
    
    Fixes problem repeatedly asking for password to unlock. See
    bug #616071

 daemon/prompt/gkd-prompt.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d6bb94e9c05072fc791fb5045f5b1ab22d11d916
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-19

    Make sure the service files are created correctly

 daemon/.gitignore  | 1 +
 daemon/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit b36d6beeb2fa430210c8a2aa19f772bd75325e42
Author: Rob Bradford <rob@linux.intel.com>
Date:   2010-04-14

    Add dbus activation service file for org.freedesktop.secrets
    
    Fixes: https://bugzilla.gnome.org/show_bug.cgi?id=611002

 daemon/Makefile.am                        | 4 +++-
 daemon/org.freedesktop.secrets.service.in | 3 +++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 803203e0107b2bbc54431556097d81510717db1c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-04-26

    Bump version number after release.

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c7b0b605888c09f6b2e5f836c68ee25b30a70a01
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-04-26

    Release version 2.30.1

 NEWS | 7 +++++++
 1 file changed, 7 insertions(+)

commit 16698f25f1a0806227d1d63748022b43912fc800
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-04-26

    More fixes for -DGSEAL_ENABLE
    
    Fixes bug #612475

 gcr/tests/ui-test-details.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b546d18bb06be956056040427e02ed30ff37bf9
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-04-26

    [dbus] Initialize uninitialized variable.

 daemon/dbus/gkd-secret-unlock.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ffa11bf8ae6c7140c59ccdd474d00d961802e1a7
Author: Peteris Krisjanis <pecisk@gmail.com>
Date:   2010-04-24

    Updated Latvian translation.

 po/lv.po | 1709 ++++++++++++++++++++++++++++++++++++++++++++++----------------
 1 file changed, 1274 insertions(+), 435 deletions(-)

commit ba8adbc781340083e5164b9b89c66f4b2a1cacde
Author: Carles Ferrando <carles.ferrando@gmail.com>
Date:   2010-04-21

    Updated Catalan (Valencian) translation

 po/ca@valencia.po | 1198 ++++++++++++++++++++++++++---------------------------
 1 file changed, 598 insertions(+), 600 deletions(-)

commit 4efbaf1a7567359a42967d98fd7fbd9fcb984930
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-04-21

    [login] Fix security problem storing user's login password in keyring.
    
    Don't store the user's login password in the keyring, which was being
    done when initializing the PKCS#11 user storage module.
    
    In addition put in a temporary fix which removes such passwords stored.
    This problem started during the 2.29.x betas, so anyone doing beta testing
    will be covered by this removal.
    
    Fixes bug #616174

 configure.in             |  7 ++++---
 daemon/login/gkd-login.c | 38 ++++++++++++++++++++++++++++++++------
 2 files changed, 36 insertions(+), 9 deletions(-)

commit 29beeda5cf021feebbb6d3c28e874aef3ff50211
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-04-21

    [rpc] Fix assertion on exit due to pointer not being cleared.

 pkcs11/rpc-layer/gck-rpc-dispatch.c | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 7065ecb165b62540cd77d9e63698617c29ae5eca
Author: Olav Vitters <olav@vitters.nl>
Date:   2010-04-18

    Fix doap file

 gnome-keyring.doap | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b0291cd3bd011ef97cb484345d7a7dc82738bac5
Author: Andre Klapper <a9016009@gmx.de>
Date:   2010-04-13

    Compile with -DGSEAL_ENABLE. Fixes bug 612475.

 daemon/prompt/gkd-prompt-tool.c | 4 ++--
 gcr/gcr-import-dialog.c         | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1ec39cc82cb7e9804e77f1d812882481a01f3ef6
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-04-08

    Make buildable with GTK+ 2.20 without deprecated symbols.
    
    Now requires GTK+ 2.20.

 configure.in                    | 2 +-
 daemon/prompt/gkd-prompt-tool.c | 4 ++--
 gcr/gcr-import-dialog.c         | 8 ++++----
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 3f87c50d337c76e516ff12b54e19d8b6f0cd6cf1
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2010-04-06

    Updated Thai translation.

 po/th.po | 49 ++++++++++++++++++++++++++++---------------------
 1 file changed, 28 insertions(+), 21 deletions(-)

commit 1eb4cb2ec93bb63ec3a6c9d50c081239506e3071
Author: Jordi Serratosa <jordis.lists@gmail.com>
Date:   2010-04-02

    Fixes to Catalan translation

 po/ca.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 991ad3b2e382e9dfed96e6aa2d80a4d599780263
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-30

    [release] post-release bump to 2.30.1

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8821e18c77b47c443d132d3587a27d5ffcfed442
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-30

    [release] 2.30.0

 NEWS | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 4b32a591dcb480bc374b83fad9d2519baa539778
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-30

    Fix make dist (ship egg/egg-error.h)

 egg/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit 381596eef2a1dce7087d04396be55d40fd01ccc9
Author: Petr Kovar <pknbe@volny.cz>
Date:   2010-03-28

    Fix Czech translation by Lucas Lommer

 po/cs.po | 50 +++++++++++++++++++++++++-------------------------
 1 file changed, 25 insertions(+), 25 deletions(-)

commit 56e31e1be9979817a983c4131822eaaecb53bc5f
Author: Žygimantas Beručka <zygis@gnome.org>
Date:   2010-03-28

    Updated Lithuanian translation

 po/lt.po | 1142 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 584 insertions(+), 558 deletions(-)

commit 914dba6d116adac5bbbdb7d5f33d1b9c26ea54e5
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2010-03-27

    Updated Basque language

 po/eu.po | 74 +++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 36 insertions(+), 38 deletions(-)

commit 56109816868c64af97a3134773d937d279fbd03b
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:   2010-03-27

    Updated Danish translation

 po/da.po | 1014 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 503 insertions(+), 511 deletions(-)

commit ede9d93e07da9192fd086bc377817a3a83b88ece
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:   2010-03-27

    Updated Bengali translation

 po/bn.po | 651 +++++++++++++++++++++------------------------------------------
 1 file changed, 217 insertions(+), 434 deletions(-)

commit 88964f8004c279009a645c211f97c398892d32b1
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2010-03-27

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 49 ++++++++++++++++++++++++++++---------------------
 po/zh_TW.po | 49 ++++++++++++++++++++++++++++---------------------
 2 files changed, 56 insertions(+), 42 deletions(-)

commit 820fa6126926348fb10dabfb618afcf4a03cea35
Author: Miloš Popović <mpopovic@src.gnome.org>
Date:   2010-03-26

    Updated Serbian translations

 po/sr.po       | 1103 +++++++++++++++++++++++++++++---------------------------
 po/sr@latin.po | 1103 +++++++++++++++++++++++++++++---------------------------
 2 files changed, 1130 insertions(+), 1076 deletions(-)

commit 5cb25b3627d6f8d2eee223860043e9e901ab3769
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   2010-03-26

    Updated Ukrainian translation

 po/uk.po | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10ec142e20aa86816fcdd380cbb78816011c16a7
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   2010-03-26

    Updated Ukrainian translation

 po/uk.po | 196 ++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 113 insertions(+), 83 deletions(-)

commit ca6c081273c0e322a772edd72a6b1e323438a3d7
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   2010-03-26

    Updated Ukrainian translation

 po/uk.po | 344 ++++-----------------------------------------------------------
 1 file changed, 17 insertions(+), 327 deletions(-)

commit 1746a8faeafb37b7ba6909666ff850407488c036
Author: Clytie <pearl@clytie-siddalls-macbook-pro.local>
Date:   2010-03-23

    Updated Vietnamese translation

 po/vi.po | 1205 ++++++++++++++++++++++++--------------------------------------
 1 file changed, 473 insertions(+), 732 deletions(-)

commit 8fe80360b35e4f99014b650f83646ad3719f4e7a
Author: Adi Roiban <adi@roiban.ro>
Date:   2010-03-22

    Update Romanian translation

 po/ro.po | 53 ++++++++++++++++++++++++++++++-----------------------
 1 file changed, 30 insertions(+), 23 deletions(-)

commit 88c7c96bdbe3fb56216a24396a990c2b9370cb29
Author: Tommi Vainikainen <thv@iki.fi>
Date:   2010-03-21

    Updated Finnish translation

 po/fi.po | 1005 +++++++++++++++++++++++++++-----------------------------------
 1 file changed, 440 insertions(+), 565 deletions(-)

commit d864698a290c55d1ccda5cc20946894ade5e827d
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-03-21

    [login] Fix various issues storing and using auto unlock passwords.
    
     * Unwrap secrets directly into login keyring  for auto unlock.
     * Fix various corner cases using auto unlock stuff in login keyring.

 daemon/dbus/gkd-secret-session.c |   2 +
 daemon/dbus/gkd-secret-unlock.c  |  51 +++++++---------
 daemon/login/gkd-login.c         | 129 ++++++++++++++++++++++++---------------
 daemon/login/gkd-login.h         |   7 ++-
 4 files changed, 110 insertions(+), 79 deletions(-)

commit 0512a0b5a30b432f53ee8c48d75acd582c5c9c9d
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-03-21

    [dbus] Hide the automatically unlock check when login not usable.
    
    If the login keyring is locked or not present, hide the auto
    unlock check box since that option isn't usable.

 daemon/dbus/gkd-secret-unlock.c | 5 +++++
 1 file changed, 5 insertions(+)

commit e43a24701767d1a8fd72f2f3ed01fe0937364b6d
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-03-21

    [dbus] Allow unlocking even when always unlock is not available.
    
    When the Always Unlock option could not work (due to a missing or
    locked login keyring) unlocking a keyring fail when that option
    was selected.
    
    Fixes bug #610998

 daemon/dbus/gkd-secret-unlock.c | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit d760c89e0c5d7cd576036fb54228cd4ed1786d9b
Author: A S Alam <aalam@users.sf.net>
Date:   2010-03-21

    update Punjabi Translation

 po/pa.po | 1030 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 532 insertions(+), 498 deletions(-)

commit 0a859d1a6ac90d83041d4f2d655e307a04711d34
Author: Xandru Armesto Fernandez <xandru@softastur.org>
Date:   2010-03-21

    Updated asturian translation

 po/ast.po | 1655 +++++++++++++++++++++++++++++++------------------------------
 1 file changed, 843 insertions(+), 812 deletions(-)

commit af67b30d6462619a40f92c934204527ab6738c43
Author: Wouter Bolsterlee <wbolster@gnome.org>
Date:   2010-03-20

    Dutch translation updated by Wouter Bolsterlee

 po/nl.po | 1317 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 656 insertions(+), 661 deletions(-)

commit d956c78cc8588c1c3886e506b6e7560dd6c356fe
Author: Thanos Lefteris <alefteris@gmail.com>
Date:   2010-03-20

    Updated Greek translation for gnome-keyring

 po/el.po | 1220 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 624 insertions(+), 596 deletions(-)

commit d30630070b2e7f6173ea872f45bb47b70948e796
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-03-20

    [secret-store] Don't save session keyring to disk.
    
    There was a major problem where the session keyring was being saved
    to disk, and since it had to master password, as a cleartext keyring
    
    Mark the session keyring as transient so it doesn't even come near
    the storage code. Also rework the collection storage code, so that
    it properly handles various corner cases.
    
    Fixes bug #612977

 pkcs11/gck/gck-object.c                 | 26 +++++++++--
 pkcs11/secret-store/gck-secret-module.c | 82 +++++++++++++++++----------------
 2 files changed, 66 insertions(+), 42 deletions(-)

commit cf1d4b562409b278bf5f4336184a2e4b573ea4c5
Author: Michael Casadevall <mcasadevall@ubuntu.com>
Date:   2010-03-19

    Don't assert on va_list
    
    Remove an assertion on a va_list, which is invalid since va_lis is
    not guaranteed to be a pointer. This also fixes an FTBFS on armel
    since va_list on armel is a scalar.
    
    Fixes bug #610997

 pkcs11/gck/gck-sexp.c | 1 -
 1 file changed, 1 deletion(-)

commit 9225955b8374d0d301e0a251410ae347a3bd884b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-03-19

    More robust error display and handling.
    
    Handle all cases where a function may return a failure
    with a NULL GError, such as preconditions and warnings.
    
    Also use proper function for checking error codes.

 daemon/dbus/gkd-dbus-util.c                 |  4 ++-
 daemon/dbus/gkd-secret-change.c             |  7 ++--
 daemon/dbus/gkd-secret-create.c             |  5 +--
 daemon/dbus/gkd-secret-lock.c               |  6 ++--
 daemon/dbus/gkd-secret-objects.c            | 48 ++++++++++++++-------------
 daemon/dbus/gkd-secret-service.c            | 11 +++----
 daemon/dbus/gkd-secret-session.c            | 37 +++++++++++----------
 daemon/dbus/gkd-secret-unlock.c             | 17 ++++++----
 daemon/gkd-main.c                           |  3 +-
 daemon/login/gkd-login.c                    | 51 ++++++++++++++++-------------
 daemon/prompt/gkd-prompt-tool.c             |  8 ++---
 daemon/prompt/gkd-prompt.c                  | 10 +++---
 daemon/ssh-agent/gkd-ssh-agent-ops.c        | 46 +++++++++++++-------------
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |  3 +-
 daemon/ssh-agent/gkd-ssh-agent.c            |  5 +--
 egg/egg-error.h                             | 34 +++++++++++++++++++
 gcr/gcr-library.c                           |  3 +-
 gcr/tests/unit-test-parser.c                |  3 +-
 gp11/gp11-module.c                          |  2 +-
 pkcs11/gck/gck-file-tracker.c               |  6 ++--
 pkcs11/gck/gck-timer.c                      |  4 ++-
 pkcs11/roots-store/gck-roots-module.c       |  3 +-
 pkcs11/rpc-layer/gck-rpc-dispatch.c         |  3 +-
 pkcs11/secret-store/gck-secret-collection.c |  4 ++-
 pkcs11/secret-store/gck-secret-textual.c    |  5 +--
 pkcs11/ssh-store/gck-ssh-module.c           |  5 +--
 pkcs11/user-store/gck-user-storage.c        |  5 +--
 tests/gtest-helpers.c                       |  3 +-
 28 files changed, 205 insertions(+), 136 deletions(-)

commit 4f04754f903ea5e0269dd652e1b5fccc0ac72c06
Author: Hideki Yamane (Debian-JP) <henrich@debian.or.jp>
Date:   2010-03-19

    Updated Japanese translation.

 po/ja.po | 772 +++++++++++++++++++--------------------------------------------
 1 file changed, 236 insertions(+), 536 deletions(-)

commit 095de049cebd4a6f00b0260e91e291f3db752d87
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   2010-03-19

    Estonian translation updated

 po/et.po | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit ea9c7507459d51d96dae8eba127936af6f26e297
Author: Francesco Marletta <fransceso.marletta@tiscali.it>
Date:   2010-03-18

    Updated Italian translation

 po/it.po | 769 +++++++++++++++++++--------------------------------------------
 1 file changed, 224 insertions(+), 545 deletions(-)

commit 7692cf3bb8743140cf4d1fcf8f5a090b81bd2dc8
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   2010-03-13

    Updated Portuguese translation

 po/pt.po | 1031 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 510 insertions(+), 521 deletions(-)

commit 18dc3397e60a4632b5587e11c2d2849c94355be5
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2010-03-12

    Updated Arabic translation

 po/ar.po | 1000 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 497 insertions(+), 503 deletions(-)

commit 078e0dcf2093a8df84b95a4dbc2e64fbe9e3180e
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2010-03-11

    Updated Basque language

 po/eu.po | 713 ++++++++++++++++++---------------------------------------------
 1 file changed, 203 insertions(+), 510 deletions(-)

commit 782c13bb0a90067748aa6e1707aa20361eb5d27d
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-10

    [release] post-release bump to 2.30.0

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9f0db94b0a01b11b2146634c053924d1655d9504
Merge: d7dc0b3 10ddeed
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-10

    Merge branch 'releasing-2.29.92'

commit d7dc0b3c276db5f2598edfc9200704266501eb81
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-10

    Prepare for 2.29.92 release

 NEWS         | 19 +++++++++++++++++++
 configure.in |  2 +-
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 10ddeed5f860ad340e409f9a7b9f95650bf84727
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-10

    Prepare for 2.29.92 release

 NEWS         | 19 +++++++++++++++++++
 configure.in |  2 +-
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 84c2f30375b5bbd471594e42329ffeac0dc9a727
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-10

    Fix make dist
    
    We need the *-overrides.txt files for the API references.

 docs/reference/gcr/.gitignore          | 1 -
 docs/reference/gcr/gcr-overrides.txt   | 2 ++
 docs/reference/gp11/.gitignore         | 1 -
 docs/reference/gp11/gp11-overrides.txt | 2 ++
 4 files changed, 4 insertions(+), 2 deletions(-)

commit 03d3b49a6c0d19719606e83fbb03a8aa8424667e
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-03-10

    Fix make dist
    
    We need the *-overrides.txt files for the API references.

 docs/reference/gcr/.gitignore          | 1 -
 docs/reference/gcr/gcr-overrides.txt   | 2 ++
 docs/reference/gp11/.gitignore         | 1 -
 docs/reference/gp11/gp11-overrides.txt | 2 ++
 4 files changed, 4 insertions(+), 2 deletions(-)

commit 6c25bf1ba2772ac56e9f0430661290a40cbefed1
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-03-08

    Fix endless loop in reading data.
    
    Fix problems with EINTR and EAGAIN handling, and some possible
    endless loops in various places.
    
    Fixes bug #610678

 daemon/control/gkd-control-server.c | 16 +++++++++++-----
 daemon/prompt/gkd-prompt-tool.c     |  4 +++-
 daemon/ssh-agent/gkd-ssh-agent.c    | 19 +++++++++++--------
 pkcs11/gck/gck-data-file.c          | 26 +++++++++++++++-----------
 4 files changed, 40 insertions(+), 25 deletions(-)

commit 73e1e743d349ab29e88d711b1a99488324cb0d5f
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2010-03-06

    Updated Hungarian translation

 po/hu.po | 727 ++++++++++++++++++---------------------------------------------
 1 file changed, 205 insertions(+), 522 deletions(-)

commit c82ba5d3de9e81ffbf7f93656f40800340351385
Author: Leonid Kanter <leon@asplinux.ru>
Date:   2010-03-06

    update Russian translation from Yury Kozlov

 po/ru.po | 763 +++++++++++++++++++--------------------------------------------
 1 file changed, 229 insertions(+), 534 deletions(-)

commit 4a9fd24ee9ae32f3d75eb7eaa5fc872a2b420e10
Author: Vladimir Melo <vmelo@gnome.org>
Date:   2010-03-06

    Updated Brazilian Portuguese translation

 po/pt_BR.po | 1035 +++++++++++++++++++++++++++++------------------------------
 1 file changed, 512 insertions(+), 523 deletions(-)

commit 32a0c9f45e26e563c4388d294252d31d15b38346
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2010-03-06

    Updated Korean translation

 po/ko.po | 1118 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 557 insertions(+), 561 deletions(-)

commit ae755cdad5334f76e735b000e8c87d5cc34debaa
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-03-04

    Updated Norwegian bokmål translation

 po/nb.po | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 9945c4703190e55b026917df81fe33914541c329
Author: Claude Paroz <claude@2xlibre.net>
Date:   2010-03-03

    Updated French translation

 po/fr.po | 20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit 50d213c4523dfd2dde7b1ae53509a828c7424bfd
Author: Daniel Nylander <po@danielnylander.se>
Date:   2010-03-02

    Updated Swedish translation

 po/sv.po | 225 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 116 insertions(+), 109 deletions(-)

commit 5b1f841ddd9fd45946e596bd17965557877dd33c
Author: Petr Kovar <pknbe@volny.cz>
Date:   2010-03-01

    Update Czech translation by Lucas Lommer

 po/cs.po | 895 ++++++++++++++++++++++-----------------------------------------
 1 file changed, 308 insertions(+), 587 deletions(-)

commit e400dc89b0cf96260b051ac03e79c29edc882041
Author: Joan Duran <jodufi@gmail.com>
Date:   2010-02-27

    Updated Catalan translation

 po/ca.po | 1084 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 541 insertions(+), 543 deletions(-)

commit 768ad007cff5d6ea7f3004b410da43db527a970d
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-27

    [rpc-layer] Fix problem initializing socket path in rpc module.
    
    This is a regression from a recent commit.

 pkcs11/rpc-layer/gck-rpc-module.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b837e4c6aa96e2a85d2bddc6a95855f22541fb3c
Author: Bruce Cowan <bcowan@fastmail.co.uk>
Date:   2010-02-24

    Updated British English translation

 po/en_GB.po | 1037 ++++++++++++++++++++++++++++++-----------------------------
 1 file changed, 519 insertions(+), 518 deletions(-)

commit 737c25f11a1d5ba77242387da9de849706da8913
Author: Alexander Shopov <ash@contact.bg>
Date:   2010-02-22

    Updated Bulgarian translation

 po/bg.po | 716 ++++++++++++++++++---------------------------------------------
 1 file changed, 204 insertions(+), 512 deletions(-)

commit 8f8a74ffb0f08bbb369940ee48b70f2af0c9850c
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   2010-02-21

    Updated Polish translation

 po/pl.po | 847 +++++++++++++++++++++------------------------------------------
 1 file changed, 286 insertions(+), 561 deletions(-)

commit ad2ed6c6e6ad2df55d8722609e7f921d0d354d77
Author: vasudeven <agnihot3@gmail.com>
Date:   2010-02-21

    updated Tamil translation

 po/ta.po | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit a5e74242522251edfee008405060c50061931d0b
Author: Fran Diéguez <frandieguez@ubuntu.com>
Date:   2010-02-20

    Updated Galician Translation

 po/gl.po | 22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit be1b4ab667dc4db4a14ad4cb8ae69785e14ab107
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2010-02-20

    Updated German translation

 po/de.po | 122 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 62 insertions(+), 60 deletions(-)

commit 5765eee4847334a0ba54385fb89c265638e6f24e
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2010-02-19

    Updated Thai translation.

 po/th.po | 187 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 97 insertions(+), 90 deletions(-)

commit ab068832d6a90b6adc13eabf642b769898fd86da
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-02-19

    Updated Slovenian translation

 po/sl.po | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit ff8dcf18a6e1bec87b3097b99088cfa24db06795
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-02-18

    Updated Spanish translation

 po/es.po | 20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit de56d02feddfd6eb511412a3703774950b791151
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-18

    [dbus] When no default keyring set, use login keyring.
    
    This is similar to the previous behavior of gnome-keyring-daemon
    and also allows us to not set a default keyring when creating
    login keyring.
    
    Eventually this and other alias logic, needs to move into the
    pkcs11 secrets module.

 daemon/dbus/gkd-secret-objects.c | 26 ++++++++++++++++++++------
 1 file changed, 20 insertions(+), 6 deletions(-)

commit d6ae3a58fe8676062e120353f19cb578e66aebc4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-18

    [secret-store] Two minor fixes for keyring creation.
    
    Include translatable files, and a null pointer dereference.

 pkcs11/secret-store/gck-secret-collection.c | 2 +-
 po/POTFILES.in                              | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit cbd304c28b215e56547861c28dc841fc98746a20
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-18

    [login] Give translatable label to created login keyring.

 daemon/login/gkd-login.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 070ffc3a9cdc589e7905f6afac8a8d379e745d8a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-18

    [secret-store] Allow specifying CKA_ID when creating collection.
    
    This is necessary to allow creation of the login keyring, which
    needs a specific CKA_ID. Also we return an already existing
    collection if the ID matches one that already exists. This is
    similar to the behavior of item creation.

 pkcs11/secret-store/gck-secret-collection.c | 51 ++++++++++++++++++++++++++---
 1 file changed, 47 insertions(+), 4 deletions(-)

commit a70541e65d2f581f10747a81d72d2e454a3e79b0
Author: Siddhesh Poyarekar <siddhesh.poyarekar@gmail.com>
Date:   2010-02-18

    Display password and confirm prompts when creating keyring.
    
    Fixes bug #607869

 daemon/dbus/gkd-secret-create.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit a7b5238b9984b52f88806db76bd8aaa68124eb7c
Author: vasudeven <agnihot3@gmail.com>
Date:   2010-02-18

    updated Tamil translation

 po/ta.po | 208 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 109 insertions(+), 99 deletions(-)

commit 6e16a12f423a4fa4198b0c6a30175af399eb1787
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-02-17

    Estonian translation updated

 po/et.po | 199 +++++++++++++++++----------------------------------------------
 1 file changed, 54 insertions(+), 145 deletions(-)

commit 507752f1c08eb90f4c211af680ee92d1a3635203
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2010-02-16

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 21 +++++++++------------
 po/zh_TW.po | 21 +++++++++------------
 2 files changed, 18 insertions(+), 24 deletions(-)

commit e19bc5ca569d463b5a1b0ae9f0479a2763bbf9b9
Author: Fran Diéguez <frandieguez@ubuntu.com>
Date:   2010-02-15

    Updated Galician Translation

 po/gl.po | 1061 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 529 insertions(+), 532 deletions(-)

commit 43590189620c9dc5cda9854fef899fe89b24d308
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-14

    [daemon] Rework the startup again, singleton crontrolled via dbus.
    
    Account for starting dbus via the autostart files (ie: various
    components individually), but without a gnome-keyring-daemon running
    from pam. This previously caused multiple processes. We use a dbus
    singleton in this case.

 daemon/control/gkd-control-client.c |   4 +-
 daemon/dbus/Makefile.am             |   1 -
 daemon/dbus/gkd-dbus-service.c      | 155 ----------------------
 daemon/dbus/gkd-dbus.c              | 252 ++++++++++++++++++++++++++++++++----
 daemon/dbus/gkd-dbus.h              |   4 +
 daemon/gkd-main.c                   |  66 +++++++---
 6 files changed, 280 insertions(+), 202 deletions(-)

commit dd0fde2e43422591fca1ae4345ea11e69347129e
Author: Jeff Cai <jeff.cai@sun.com>
Date:   2010-02-14

    Fix another Solaris CC build issue.

 pkcs11/secret-store/gck-secret-collection.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1159047fe34254006d1a099b9158c6db77481a60
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-02-14

    Autostart gnome-keyring-daemon in LXDE as well.

 daemon/gnome-keyring-pkcs11.desktop.in.in  | 2 +-
 daemon/gnome-keyring-secrets.desktop.in.in | 2 +-
 daemon/gnome-keyring-ssh.desktop.in.in     | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 0d82027ae6d68ce889f55833408a00c744bf65df
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-14

    [secret-store] Possible fix for a sporadic crash in this area.

 pkcs11/secret-store/gck-secret-collection.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6bd4a868bba97d0142b6254784937f8ffe4fc89c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-14

    [dbus] Fix error when setting default keyring to NULL.

 daemon/dbus/gkd-secret-objects.c | 1 -
 1 file changed, 1 deletion(-)

commit 8864fa25ef39731cfaa820018f5f517bd8e39f4d
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-14

    [daemon] Allow running in a test environment.
    
    Setting the GNOME_KERING_TEST_PATH and GNOME_KEYRING_TEST_SERVICE
    environment variables, set the data directory, and dbus service
    for a gnome-keyring-daemon respectively. Must have been built
    with --enable-tests

 daemon/dbus/gkd-dbus-secrets.c  | 17 +++++++++++++----
 daemon/dbus/gkd-dbus-service.c  | 17 +++++++++++++----
 daemon/dbus/gkd-dbus.c          |  9 ---------
 daemon/pkcs11/gkd-pkcs11-auth.c |  2 +-
 daemon/pkcs11/gkd-pkcs11.c      | 17 ++++++++++++++++-
 tests/gtest-helpers.c           |  4 +---
 6 files changed, 44 insertions(+), 22 deletions(-)

commit 5fa82147450c0910072d9aa86e62a42a23576215
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-14

    [ssh-agent] Don't raise error if ssh client disconnects early.

 daemon/ssh-agent/gkd-ssh-agent.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b4add492ad707b4503dd1614dc4b7100d3d89d76
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-14

    [secret-store] Return OK when a search includes a bad collection identifier.
    
    So basically we just don't return any results. This is for two reasons:
     * PKCS#11 isn't very helpful to the caller of C_CreateObject about
       which attribute was wrong.
     * Race conditions abound where you set up a search of a collection
       that is being deleted.

 pkcs11/secret-store/gck-secret-search.c            | 60 +++++++++++-----------
 pkcs11/secret-store/gck-secret-search.h            |  2 +-
 .../secret-store/tests/unit-test-secret-search.c   | 10 ++--
 3 files changed, 38 insertions(+), 34 deletions(-)

commit 9a271ef0518949f06fb5132ecad1ed93bcf4f72c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-13

    [pkcs11] Fix problem with not storing secret value properly.
    
    If a new object was not created, such as when unwrapping a
    secret item, then the attributes set were not stored properly.

 pkcs11/gck/gck-aes-key.c                    |  3 ++-
 pkcs11/gck/gck-certificate.c                |  3 ++-
 pkcs11/gck/gck-credential.c                 |  3 ++-
 pkcs11/gck/gck-dh-private-key.c             |  3 ++-
 pkcs11/gck/gck-dh-public-key.c              |  3 ++-
 pkcs11/gck/gck-null-key.c                   |  3 ++-
 pkcs11/gck/gck-private-xsa-key.c            |  3 ++-
 pkcs11/gck/gck-public-xsa-key.c             |  3 ++-
 pkcs11/gck/gck-session.c                    |  6 +++---
 pkcs11/gck/gck-session.h                    |  1 +
 pkcs11/secret-store/gck-secret-collection.c |  3 ++-
 pkcs11/secret-store/gck-secret-item.c       | 11 ++++-------
 pkcs11/secret-store/gck-secret-search.c     |  3 ++-
 pkcs11/user-store/gck-user-private-key.c    |  3 ++-
 pkcs11/user-store/gck-user-public-key.c     |  3 ++-
 15 files changed, 32 insertions(+), 22 deletions(-)

commit 912891b83b297ac6af2b62f6c1f8c31b1d3cc8bd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-13

    [secret-store] Fix regression: secret value not stored properly.

 pkcs11/secret-store/gck-secret-item.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit e160eb27ce0682ee4be6dae4c974a7282b915ad8
Author: Lucian Adrian Grijincu <lucian.grijincu@gmail.com>
Date:   2010-02-13

    Update Romanian translation

 po/ro.po | 1029 +++++++++++++++++++++++++++-----------------------------------
 1 file changed, 443 insertions(+), 586 deletions(-)

commit 8c1d21a167332edddd66cb7321a8380b96941e34
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-02-12

    Updated Slovenian translation

 po/sl.po | 181 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 94 insertions(+), 87 deletions(-)

commit 008e0b8a2b5b60b534fa61b0a2c927ca3cb50eaf
Author: Nathan-J. Hirschauer <nathanhirschauer@verfriemelt.org>
Date:   2010-02-10

    Updated German translation

 po/de.po | 203 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 106 insertions(+), 97 deletions(-)

commit ed6b1e144476100272283f747ae9b3bab98cb51b
Author: Claude Paroz <claude@2xlibre.net>
Date:   2010-02-10

    Updated French translation
    
    Contributed by Laurent Coudeur and Claude Paroz

 po/fr.po | 734 ++++++++++++++++++---------------------------------------------
 1 file changed, 204 insertions(+), 530 deletions(-)

commit 2d6c2d0e07b622ce95b89838e76a9479ecde711c
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2010-02-10

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 908 ++++++++++++++++++----------------------------------------
 po/zh_TW.po | 933 ++++++++++++++++++------------------------------------------
 2 files changed, 558 insertions(+), 1283 deletions(-)

commit db3ca52463ce2c4fcc09d2c9752e55ba8284a029
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-02-09

    Updated Norwegian bokmål translation

 po/nb.po | 158 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 81 insertions(+), 77 deletions(-)

commit 85df4852443eb43ae4427ca70f7390f95056ca3b
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-02-09

    Updated Spanish translation

 po/es.po | 49 +++++++++++++++++++++++++++----------------------
 1 file changed, 27 insertions(+), 22 deletions(-)

commit 377d0244d1f57830b7ea129d749b9ffe6b29cef7
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-09

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d4be1e7466a9afd9bbff54ba3c8f41f022c865b3
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-09

    Release version 2.29.90

 NEWS         | 18 ++++++++++++++++++
 configure.in |  2 +-
 2 files changed, 19 insertions(+), 1 deletion(-)

commit 15fee050b0b0239df3b1ecf027deb71bf8ba6580
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-09

    Add missing translatable files.

 po/POTFILES.in | 2 ++
 1 file changed, 2 insertions(+)

commit d7bb7333789ed849a9ecaec383f26cc9492f392a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-09

    [secret-store] Don't try to set credential attribute twice.

 pkcs11/secret-store/gck-secret-collection.c | 1 +
 1 file changed, 1 insertion(+)

commit 849983f51c916c940aa8e78fbffaaa4defa4741f
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-09

    Fix storage and testing problems.
    
     * Add object store before trying to set attributes.
     * Return correct code when non-key is passed to
       C_XxxxInit

 pkcs11/gck/gck-module.c             | 24 +++++++++++++++++++++---
 pkcs11/gck/gck-module.h             | 10 ++++++++--
 pkcs11/gck/gck-session.c            | 24 +++++++++++++++++-------
 pkcs11/user-store/gck-user-module.c | 20 +++++++++-----------
 4 files changed, 55 insertions(+), 23 deletions(-)

commit 6371b7af4700c2ea359ede49bfa4371195cdcc05
Author: Ray Strode <rstrode@redhat.com>
Date:   2010-02-07

    Quit when the session is disconnected.
    
    Bug #598494

 daemon/dbus/gkd-dbus-session.c | 4 ++++
 1 file changed, 4 insertions(+)

commit 64f2a16fc07deadf81da15c50fba428004765ccb
Author: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date:   2010-02-07

    [rpc] Use dynamically allocate socket path.
    
    GNU Hurd doesn't have a max path length. Fixes bug #604493

 pkcs11/rpc-layer/gck-rpc-dispatch.c | 23 ++++++++++++++++-------
 pkcs11/rpc-layer/gck-rpc-module.c   | 36 +++++++++++++++++++++++++-----------
 2 files changed, 41 insertions(+), 18 deletions(-)

commit 461570351b6d5e7d48afeeeec4b4b9696772a7af
Author: Jeff Cai <jeff.cai@sun.com>
Date:   2010-02-07

    Solaris CC doesn't allow return void
    
    Fixes bug #606710

 daemon/dbus/gkd-secret-objects.c            |  2 +-
 pkcs11/gck/gck-session.c                    | 15 ++++++++----
 pkcs11/secret-store/gck-secret-collection.c | 36 +++++++++++++++++++----------
 3 files changed, 35 insertions(+), 18 deletions(-)

commit 79c195c6538a9440d04ea59ad3dbff5520fa8d0a
Author: Jeff Cai <jeff.cai@sun.com>
Date:   2010-02-07

    Include missing header.
    
    Fixes build on Solaris. Bug #606713

 daemon/prompt/gkd-prompt.c | 2 ++
 1 file changed, 2 insertions(+)

commit 4d7384b45dd80b5e81ed6222f788ea7dd9f48d30
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-02-07

    Updated Spanish translation

 po/es.po | 138 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 67 insertions(+), 71 deletions(-)

commit 5ef8a4ee2acbbeaf9920e4182b4cd8618d7d2f13
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    Fix some translation strings.
    
    Remove dot from end of options, unmark string as
    translatable.

 daemon/prompt/gkd-prompt.ui      | 12 ++++++------
 gcr/gcr-unlock-options-widget.ui |  4 ++--
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 7ba04c90ebd9fd7a1ccbf4b3d189621f458652dd
Author: Siddhesh Poyarekar <siddhesh.poyarekar@gmail.com>
Date:   2010-02-07

    [daemon] Include sys/stat.h
    
    Fixes warnings: bug #607819

 daemon/control/gkd-control-client.c | 1 +
 1 file changed, 1 insertion(+)

commit 18b360620e069d5e635378b89c1de519982f5e4c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    [ssh-store] Don't warn on SSHv1 keys.
    
    Fixes bug #584037. Don't print out any warning when
    encountering SSH v1 keys in ~/.ssh

 pkcs11/ssh-store/gck-ssh-module.c      | 10 ++++++----
 pkcs11/ssh-store/gck-ssh-openssh.c     |  7 +++++--
 pkcs11/ssh-store/gck-ssh-private-key.c |  6 ++++--
 3 files changed, 15 insertions(+), 8 deletions(-)

commit 5b57be54b68adb336920f539b29f8cdc693d29df
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    No longer depend on eggdbus.
    
    We used to use eggdbus, but haven't for a couple months, so
    remove this old dependency. Note that we still have a file
    called 'egg-dbus.c'

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b76506d2e401a6e91ffe816c14d4e26e60a0f7fd
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    Use 'log in to' rather than 'log into'
    
    Fixed after heads up from the gnome-doc folks.

 daemon/dbus/gkd-secret-service.c     | 2 +-
 daemon/dbus/gkd-secret-unlock.c      | 2 +-
 daemon/ssh-agent/gkd-ssh-agent-ops.c | 2 +-
 gp11/gp11-session.c                  | 6 +++---
 4 files changed, 6 insertions(+), 6 deletions(-)

commit e588dbb870c985ae10151bf2428d497027bb90d3
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    [daemon] Bring back feature to save password for keys.
    
    For encryption keys (like SSH) the feature to save their passwords
    in the login keyring was disabled. Reimplement that with the
    new prompt.

 daemon/dbus/gkd-secret-unlock.c |  8 ++----
 daemon/login/gkd-login.c        | 14 +++++++---
 daemon/login/gkd-login.h        |  2 +-
 daemon/pkcs11/gkd-pkcs11-auth.c | 58 ++++++++++++++++++++---------------------
 daemon/prompt/gkd-prompt.c      |  8 ++++++
 daemon/prompt/gkd-prompt.h      |  2 ++
 6 files changed, 53 insertions(+), 39 deletions(-)

commit aa548019df045b4085c088c84aec585ab0e62a98
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    [pkcs11] Set attributes on object before storing.
    
    Set attributes on new objects before storing them.

 pkcs11/gck/gck-session.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 185a475b81c57af7f48d1c7b8cb467b158bcdae4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    [pkcs11] Lookup the destruct after/idle attributes properly.
    
    When creating an object the attributes which controlled
    destruction timeouts weren't being looked up properly.

 pkcs11/gck/gck-object.c | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 263af0662a86969c133daeba5eefa11ab7597723
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    [pkcs11] Mark various destruct timeout attributes as used.
    
    Fixes warnings and assertions.

 pkcs11/gck/gck-object.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit d8c27671de495692816a9343dc03cb7ab7f3c87b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    [prompt] Restore state of prompt dialog on bad password.
    
    When the user types a bad password, all the other state
    of the prompt dialog should remain as selected.

 daemon/dbus/gkd-secret-change.c |  9 +++++----
 daemon/dbus/gkd-secret-create.c |  2 +-
 daemon/dbus/gkd-secret-unlock.c | 29 +++++++++++++++--------------
 daemon/prompt/gkd-prompt-tool.c | 24 ++++++++++++++++++++++++
 daemon/prompt/gkd-prompt.c      | 32 +++++++++++++++++++++++++++++---
 daemon/prompt/gkd-prompt.h      |  3 ++-
 6 files changed, 76 insertions(+), 23 deletions(-)

commit 77e6291ab1671b9bad750a8fcc41fc9fee9faa2a
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2010-02-07

    Updated Spanish translation

 po/es.po | 163 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 76 insertions(+), 87 deletions(-)

commit 99ac73aa6de3a3f019f44733791ff417024ce767
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-02-07

    Updating Estonian translation

 po/et.po | 100 +++++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 65 insertions(+), 35 deletions(-)

commit 0524eba2829ecf47db762c53dfeef0086dc4f596
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-07

    Display different message when unlocking login keyring.
    
    Different messages and behavior when unlocking login keyring
    including no opportunity to save the keyring password etc...

 daemon/dbus/gkd-secret-unlock.c | 122 ++++++++++++++++++++++++++++++++--------
 daemon/login/gkd-login.c        |  16 ++++++
 daemon/login/gkd-login.h        |   2 +
 3 files changed, 116 insertions(+), 24 deletions(-)

commit a5f30e5edb4ff2b208092db09969530bfe4c74b4
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-06

    [secrets] Create unlock credentials with correct attributes.
    
    Some minor fixes for creating unlock credentials with the right
    attributes, such as making them available to all applications.

 daemon/prompt/gkd-prompt.c                  | 2 ++
 pkcs11/secret-store/gck-secret-collection.c | 1 +
 2 files changed, 3 insertions(+)

commit 701cab2c3b40216c01bf1cda23fe15c9ff0d7caa
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-06

    [secrets] Fix problems with collection reloading.
    
    The module had a bug which would cause collections that were reloaded
    to appear as new collections

 pkcs11/secret-store/gck-secret-module.c | 19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit 4d22df25dac5c051c04f8d957169ff5ba45b5020
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-06

    [dbus] Refresh and store the default keyring correctly.
    
    Although the default keyring was being loaded, it was not being
    used correctly by the path resolution code.

 daemon/dbus/gkd-secret-service.c | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit ec584f8253d4635d4e35a850da29faf44d52163b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    [prompt] Don't show the lock and options areas by default

 daemon/dbus/gkd-secret-unlock.c |  1 +
 daemon/prompt/gkd-prompt.ui     | 10 ++++------
 2 files changed, 5 insertions(+), 6 deletions(-)

commit d1df7e7a1b9878aeef5557d2e3812c04386faca0
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    [gcr] Move the 'always unlock' option out of the unlock options widget.

 daemon/prompt/gkd-prompt-tool.c  |  27 +++++--
 daemon/prompt/gkd-prompt.ui      |  35 +++++++--
 gcr/gcr-unlock-options-widget.c  |  52 ++-----------
 gcr/gcr-unlock-options-widget.ui | 157 +++++++++++++++++----------------------
 4 files changed, 124 insertions(+), 147 deletions(-)

commit 7b645597071c776d0158bc4397c0ced351e4d21f
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    [prompt] Fix broken setting of idle or after options.

 daemon/prompt/gkd-prompt.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 23194ec9551cc0a04f948bcb61fa59a2855d5a55
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    Remove incomplete unlock per application/session support.

 daemon/prompt/gkd-prompt-tool.c  | 14 ++------------
 daemon/prompt/gkd-prompt.c       |  8 --------
 gcr/gcr-unlock-options-widget.c  | 18 ------------------
 gcr/gcr-unlock-options-widget.ui | 12 ------------
 4 files changed, 2 insertions(+), 50 deletions(-)

commit 3aab72fc09aa0d70eb0915285d589e5a76d0a8f8
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    Implement support for prompting for unlock options

 daemon/dbus/gkd-secret-unlock.c | 151 +++++++++++++++++++++++++++++++---------
 daemon/prompt/Makefile.am       |   2 +
 daemon/prompt/gkd-prompt-tool.c |  76 ++++++++++++--------
 daemon/prompt/gkd-prompt.c      |  50 +++++++++++++
 daemon/prompt/gkd-prompt.h      |   8 +++
 daemon/prompt/gkd-prompt.ui     | 123 +-------------------------------
 6 files changed, 228 insertions(+), 182 deletions(-)

commit dbfc7003c830761722eea7831db6ddcf6680eb50
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    Implement collection storing lock on idle, and unlock timeout

 pkcs11/gck/gck-attributes.c                 | 114 +++++++++++++++++++++++++---
 pkcs11/gck/gck-attributes.h                 |  22 +++++-
 pkcs11/gck/tests/unit-test-attributes.c     |  49 ++++++++++++
 pkcs11/secret-store/gck-secret-binary.c     |  23 ++++--
 pkcs11/secret-store/gck-secret-collection.c |  69 ++++++++++++-----
 pkcs11/secret-store/gck-secret-collection.h |   5 ++
 pkcs11/secret-store/gck-secret-textual.c    |  17 +++--
 7 files changed, 254 insertions(+), 45 deletions(-)

commit 1667dea769cc2a32d762be3ea38e5c8a36f8a098
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    [gcr] Add commun gcr unlock functionality.

 gcr/Makefile.am                  |   7 +-
 gcr/gcr-unlock-options-widget.c  | 299 +++++++++++++++++++++++++++++++++++++++
 gcr/gcr-unlock-options-widget.h  |  56 ++++++++
 gcr/gcr-unlock-options-widget.ui | 136 ++++++++++++++++++
 4 files changed, 496 insertions(+), 2 deletions(-)

commit 24bf6b8501eb9295f941ac06d87601e69ab3b85a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-02-01

    [gp11] Bug fixes to set and get template functionality.

 gp11/gp11-object.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c23ef6d5ffef068e0055a3b3aca6be768df2c5ce
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-31

    Fix unit testing which recent commit broke on this branch.

 pkcs11/secret-store/gck-secret-collection.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d6192caf4dad9a6166c7c6e248f3fb159f1d5ee1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-20

    [pkcs11] Rework how credentials, and auto-destruct work.
    
    Add the concept of a CKA_CREDENTIAL_TEMPLATE from which
    credential objects for a given object take attributes.
    
    Change around the various auto-destruct attributes.

 daemon/ssh-agent/gkd-ssh-agent-ops.c               |  18 +-
 pkcs11/gck/gck-attributes.c                        |  42 +++++
 pkcs11/gck/gck-attributes.h                        |   4 +
 pkcs11/gck/gck-credential.c                        | 188 ++++++++++++++-------
 pkcs11/gck/gck-credential.h                        |  21 ++-
 pkcs11/gck/gck-object.c                            | 152 ++++++++++++-----
 pkcs11/gck/gck-object.h                            |   2 +
 pkcs11/gck/gck-private-xsa-key.c                   |  19 +--
 pkcs11/gck/gck-session.c                           |  59 +------
 pkcs11/gck/gck-session.h                           |  11 +-
 pkcs11/gck/gck-timer.c                             |   7 +-
 pkcs11/gck/gck-timer.h                             |   2 +-
 pkcs11/gck/tests/unit-test-credential.c            |  67 +++-----
 pkcs11/gck/tests/unit-test-object.c                |  51 ++----
 pkcs11/gck/tests/unit-test-timer.c                 |  47 ++----
 pkcs11/pkcs11g.h                                   |  15 --
 pkcs11/pkcs11i.h                                   |  22 +++
 pkcs11/secret-store/gck-secret-binary.c            |  17 +-
 pkcs11/secret-store/gck-secret-collection.c        | 107 ++++++++----
 pkcs11/secret-store/gck-secret-collection.h        |  10 +-
 pkcs11/secret-store/gck-secret-item.c              |  13 +-
 pkcs11/secret-store/gck-secret-textual.c           |   5 +-
 .../tests/unit-test-secret-collection.c            |  18 +-
 23 files changed, 521 insertions(+), 376 deletions(-)

commit ced76d4e91c35b31f7364464e53873f7e3d090b4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-20

    [prompt] Move the 'Prompt for each application' checkbox.

 daemon/prompt/gkd-prompt.ui | 34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 9c5056cc21d606cde304dcf12c17d9411168f3c5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-20

    [gp11] Support for getting and setting object template style attrs.
    
    These are attributes like CKA_WRAP_TEMPLATE etc...

 gp11/gp11-object.c | 362 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 gp11/gp11.h        |  40 ++++++
 2 files changed, 398 insertions(+), 4 deletions(-)

commit c5e52c27c9dca54cba73b545050434616cf677f3
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2010-01-27

    Updated German translation

 po/de.po | 1084 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 538 insertions(+), 546 deletions(-)

commit a14759c5ea674626f7df745b79f8c019192e035f
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:   2010-01-24

    Updated Bengali translation

 po/bn.po | 1056 +++++++++++++++++++++++++++++---------------------------------
 1 file changed, 488 insertions(+), 568 deletions(-)

commit 7407bcbbb0da9721c9ead7b9253b8dd90b12ccda
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-21

    Fix endless loop when looking for password in login keyring.
    
    If the password for an encryption key was stored in the login
    keyring in the 'old' way, there could be an endless loop if
    it was the wrong password.

 daemon/pkcs11/gkd-pkcs11-auth.c | 7 +++++++
 1 file changed, 7 insertions(+)

commit 3e3f9ceb3200fe07cee382a90ebae384d50b58b8
Author: vasudeven <agnihot3@gmail.com>
Date:   2010-01-21

    updated Tamil translation

 po/ta.po | 1168 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 585 insertions(+), 583 deletions(-)

commit 52b8907b461144fd6747e4d604ab3af8f9b93fec
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2010-01-14

    Updated Slovenian translation

 po/sl.po | 854 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 428 insertions(+), 426 deletions(-)

commit 3eb93976da14737cece717878deb923b4f598496
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-01-13

    Updated Norwegian bokmål translation

 po/nb.po | 34 +++++++++++++++++++---------------
 1 file changed, 19 insertions(+), 15 deletions(-)

commit 552207f410cd2cbd9cf660750439385f4741a582
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-11

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d10c4e42073d4345232cf53b3c820c635357b5d6
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-11

    Release version 2.29.5

 NEWS | 7 +++++++
 1 file changed, 7 insertions(+)

commit 0d04824885f2b4b9c83e233b4562a1b0e7e4721b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-11

    [daemon] Fix use of uninitialized memory.

 daemon/login/gkd-login.c | 1 +
 1 file changed, 1 insertion(+)

commit fcb58709e3ddaf0dd20ff0234e6cba6c30a87853
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-06

    [login] Don't freak out during race condition to remove login secret.

 daemon/login/gkd-login.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 383ce1f36976640fb44af8b0f4067c7b687e4109
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-06

    [prompt] Hook up the various toggle options sensitivity.
    
    Disable certain lock options when others are selected.

 daemon/prompt/gkd-prompt-tool.c           | 39 +++++++++++++++++++++++++++++++
 daemon/prompt/gkd-prompt.ui               |  3 +--
 daemon/prompt/tests/test-data/prompt-full |  3 ++-
 3 files changed, 42 insertions(+), 3 deletions(-)

commit 667551e698c74a0e32a04e414f20f4ea9e028dc8
Author: Daniel Nylander <po@danielnylander.se>
Date:   2010-01-09

    Updated Swedish translation

 po/sv.po | 1017 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 532 insertions(+), 485 deletions(-)

commit dcb59b1f76177269a7806f027111b366bb65d21b
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2010-01-07

    Updated Norwegian bokmål translation

 po/nb.po | 704 +++++++++++++++------------------------------------------------
 1 file changed, 166 insertions(+), 538 deletions(-)

commit d99e95159c5446483be4daeb4c308e2fc43ac264
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   2010-01-05

    Update Ukrainian translation

 po/uk.po | 1027 ++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 505 insertions(+), 522 deletions(-)

commit b9280d7cb14139444a7658d6be5aa6884ff10bf8
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2010-01-04

    Updated Thai translation.

 po/th.po | 1113 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 561 insertions(+), 552 deletions(-)

commit 4cc0280cf4f21ea81a868d6b67a3b8bba77a3bb5
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-04

    [secrets] Fix bug when setting schema attribute.

 pkcs11/secret-store/gck-secret-item.c | 1 +
 1 file changed, 1 insertion(+)

commit 2396fd528947f0e397d1eda82627e5c9b0ccbf1e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-04

    [pkcs11] Only store objects during set attributes if successful.

 pkcs11/gck/gck-session.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 99dbc776a216d8e6a0b215297e3e3189dd0ea3ed
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-04

    [dbus] Add item Type property to secret items.

 daemon/data/introspect-item.xml   | 1 +
 daemon/dbus/gkd-secret-objects.c  | 1 +
 daemon/dbus/gkd-secret-property.c | 8 ++++++++
 3 files changed, 10 insertions(+)

commit 22169a0697cbcf600edf0c4aa8b1faf0d4d0b34a
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-04

    [pkcs11] Add schema attribute to secret items.
    
    This will be used for the Type secret API property.

 pkcs11/pkcs11i.h                                   |  4 ++
 pkcs11/secret-store/gck-secret-binary.c            | 10 +--
 pkcs11/secret-store/gck-secret-compat.c            | 24 +++----
 pkcs11/secret-store/gck-secret-item.c              | 76 +++++++++++++++++++++-
 pkcs11/secret-store/gck-secret-item.h              |  5 ++
 pkcs11/secret-store/gck-secret-textual.c           | 16 +----
 .../secret-store/tests/unit-test-secret-compat.c   | 26 ++++----
 7 files changed, 116 insertions(+), 45 deletions(-)

commit 79cb0fc9996958cc3b3d19183d2f8c1a8dc48fb1
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [pkcs11] Store objects after any attribute change.
    
    Previously most token objects did not have modifiable attributes, or at
    least not those stored on the token. This changed with the addition
    of secret objects.

 pkcs11/gck/gck-module.c                 | 8 +++++---
 pkcs11/gck/gck-session.c                | 4 ++++
 pkcs11/secret-store/gck-secret-module.c | 4 ++--
 pkcs11/user-store/gck-user-module.c     | 9 +++++++++
 4 files changed, 20 insertions(+), 5 deletions(-)

commit 4388d315a40976fd9f79daa557c7496a4ba7758b
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [secrets] Fix problem showing password field when changing.
    
    When changing collection master field, password entry was not
    shown properly.

 daemon/dbus/gkd-secret-change.c | 1 +
 1 file changed, 1 insertion(+)

commit 9b8128b2fb3f9a9f3069f3be5bc368258968087c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [secrets] Fix prompt text when prompting for changing password.

 daemon/dbus/gkd-secret-change.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5acd76ed966ac9aca81a99601f152a00a31fe856
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [secrets] Fix problem using ChangeLock() method.

 daemon/dbus/gkd-secret-service.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 9981a23971d924294055d9a142cc2a8d7b448306
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [secrets] Implement lookup collection passwords in login keyring.
    
    Also add support for null passwords, and automatically unlocking
    collections with null passwords.

 daemon/dbus/gkd-secret-unlock.c | 100 +++++++++++++++++++++++++++++++++++++---
 daemon/dbus/gkd-secret-unlock.h |   5 ++
 2 files changed, 98 insertions(+), 7 deletions(-)

commit a68cf761f9fa2af1a692ca75dbf0ad4b048fafca
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [ssh-agent] Move into daemon component, rather than pkcs11.

 configure.in                                |    2 +-
 daemon/.gitignore                           |    2 +
 daemon/Makefile.am                          |    3 +-
 daemon/pkcs11/gkd-pkcs11.c                  |   15 +-
 daemon/ssh-agent/.gitignore                 |    4 +
 daemon/ssh-agent/Makefile.am                |   38 +
 daemon/ssh-agent/gkd-ssh-agent-ops.c        | 1317 +++++++++++++++++++++++++++
 daemon/ssh-agent/gkd-ssh-agent-private.h    |  180 ++++
 daemon/ssh-agent/gkd-ssh-agent-proto.c      |  512 +++++++++++
 daemon/ssh-agent/gkd-ssh-agent-standalone.c |  136 +++
 daemon/ssh-agent/gkd-ssh-agent.c            |  442 +++++++++
 daemon/ssh-agent/gkd-ssh-agent.h            |   40 +
 pkcs11/Makefile.am                          |    1 -
 pkcs11/ssh-agent/.gitignore                 |    4 -
 pkcs11/ssh-agent/Makefile.am                |   49 -
 pkcs11/ssh-agent/gck-ssh-agent-ops.c        | 1317 ---------------------------
 pkcs11/ssh-agent/gck-ssh-agent-private.h    |  180 ----
 pkcs11/ssh-agent/gck-ssh-agent-proto.c      |  513 -----------
 pkcs11/ssh-agent/gck-ssh-agent-standalone.c |  136 ---
 pkcs11/ssh-agent/gck-ssh-agent.c            |  442 ---------
 pkcs11/ssh-agent/gck-ssh-agent.h            |   18 -
 21 files changed, 2682 insertions(+), 2669 deletions(-)

commit 2a00634309d8dc6aa5afcff8dc0bb001da13982e
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [pkcs11] Propogate errors retrieving value while wrapping secret.

 pkcs11/gck/gck-aes-mechanism.c  | 43 +++++++++++++++++++++-----------------
 pkcs11/gck/gck-null-mechanism.c | 46 ++++++++++++++++++++++-------------------
 2 files changed, 49 insertions(+), 40 deletions(-)

commit 2133c815b0800fd79da143aac2f6714e2f378c55
Author: Ivar Smolin <okul@linux.ee>
Date:   2010-01-03

    Updating Estonian translation

 po/et.po | 918 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 458 insertions(+), 460 deletions(-)

commit d1462e25d158f141cacec7ba80c1d3d2d411ac19
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [dbus] Bug fixes for password lookup.
    
    Some bug fixes for unlocking keyrings, and password lookup.

 daemon/dbus/gkd-secret-prompt.c | 4 +++-
 daemon/dbus/gkd-secret-unlock.c | 3 ++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 01ec5cbca2ed2b81573286455c1b83a74a66c53c
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-03

    [daemon] Pass correctly sized varargs in login code.

 daemon/login/gkd-login.c | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 31c447a44a26693c0f769938eaf736fb7fea5353
Author: Stef Walter <stef@memberwebs.com>
Date:   2010-01-02

    [dbus] Fix issue with uninitialized variable being used.

 daemon/dbus/gkd-secret-service.c | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit cc5fe2692544aa54e009d395603dd5870a82f7d6
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2009-12-29

    Updated Spanish translation

 po/es.po | 64 +++++++++++++++++++++++++---------------------------------------
 1 file changed, 25 insertions(+), 39 deletions(-)

commit b0ef873133605efc70a28a0de256b00e49ea5571
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2009-12-28

    Updated Spanish translation

 po/es.po | 1229 ++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 636 insertions(+), 593 deletions(-)

commit e31d7f08e33838782116e7649e90587622de75d1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-21

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3a4608ec5eb05426cf9ba13c879da32f49a4fbf1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-21

    Release version 2.29.4
    
    And do a bunch of distcheck fixes.

 NEWS                                           | 21 +++++++++++++++++++++
 autogen.sh                                     |  3 +--
 daemon/prompt/Makefile.am                      |  4 +++-
 pkcs11/gck/Makefile.am                         |  2 +-
 pkcs11/secret-store/tests/Makefile.am          |  3 +++
 pkcs11/secret-store/tests/test-secret-module.c |  4 +++-
 po/POTFILES.in                                 |  4 +++-
 po/POTFILES.skip                               |  4 +++-
 8 files changed, 38 insertions(+), 7 deletions(-)

commit 37d87d26ed9f017634a72b479c65582dcba34a0c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [prompt] Add some border width.

 daemon/prompt/gkd-prompt.ui | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 087c7b561acd00f93e903fa3b7a9f2f26eddfba7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [daemon] Refactor the startup.
    
     * Add support for initializing seperate parts of daemon separately.
     * Add autostart files for various components.
     * Use simpler control protocol.

 configure.in                               |   7 +-
 daemon/.gitignore                          |  11 +-
 daemon/Makefile.am                         |   7 +-
 daemon/control/gkd-control-client.c        |  20 +--
 daemon/control/gkd-control-codes.h         |  52 ++-----
 daemon/control/gkd-control-server.c        |  83 +++++------
 daemon/control/gkd-control.h               |   1 +
 daemon/control/tests/Makefile.am           |  26 ++--
 daemon/control/tests/test-control-change   | Bin 96222 -> 0 bytes
 daemon/control/tests/test-control-init.c   |  30 ++++
 daemon/control/tests/test-control-unlock   | Bin 96149 -> 0 bytes
 daemon/data/gnome-keyring.schemas.in       |  32 +++--
 daemon/dbus/gkd-dbus-environment.c         |  94 +++++++------
 daemon/dbus/gkd-dbus-secrets.c             |  38 +++--
 daemon/dbus/gkd-dbus.h                     |   6 +-
 daemon/gkd-main.c                          | 213 ++++++++++++-----------------
 daemon/gkd-main.h                          |   4 +-
 daemon/gkd-util.c                          |  28 ++++
 daemon/gkd-util.h                          |   7 +-
 daemon/gnome-keyring-daemon.desktop.in.in  |  12 --
 daemon/gnome-keyring-pkcs11.desktop.in.in  |  14 ++
 daemon/gnome-keyring-secrets.desktop.in.in |  14 ++
 daemon/gnome-keyring-ssh.desktop.in.in     |  14 ++
 daemon/org.gnome.keyring.service.in        |   2 +-
 pam/gkr-pam-client.c                       |  24 ++--
 pam/gkr-pam-module.c                       |  90 ++++--------
 26 files changed, 438 insertions(+), 391 deletions(-)

commit d4dc93486a05de3fbcec2fcb0e46add44c311046
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [po] Fix the translatable file list.

 po/POTFILES.in | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 387b5f2b7584134723ad0a5d22e11586a73dc12a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [pkcs11] Fix warning when running tests.

 pkcs11/gck/gck-session.c | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit fef95a8bc238d059f20bd51e667494749e9be993
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [gcr] Link tests to the right egg library file.

 gcr/tests/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a3b3c27b4ff14f2ae41056aa913644295334f617
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [daemon] Rename the dbus component library file.

 daemon/Makefile.am      | 2 +-
 daemon/dbus/Makefile.am | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 9ea8eaa48fb22201e2f63d78ff4a331c1d3ce0ca
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [daemon] Large refactoring of prompting for pkcs11 logins.
    
     * Remove old ask code.
     * Remove old async code, location code daemon util code.
     * Move our custom GtkEntryBuffer into egg.
     * Remove old EggSecureEntry stuff.
     * Rework how threading works in pkcs11 daemon auth and prompting.
     * Use new prompting stuff for pkcs11 logins.
     * Make several fixes to the daemon/login code.

 configure.in                           |    3 -
 daemon/Makefile.am                     |    6 +-
 daemon/dbus/gkd-dbus-secrets.c         |    4 +-
 daemon/gkd-main.c                      |   19 +-
 daemon/login/gkd-login.c               |   30 +-
 daemon/pkcs11/Makefile.am              |   11 +-
 daemon/pkcs11/gkd-pkcs11-auth.c        | 1529 ++++++++++++++++++
 daemon/pkcs11/gkd-pkcs11-auth.h        |   33 +
 daemon/pkcs11/gkd-pkcs11-data.c        |  263 +++
 daemon/pkcs11/gkd-pkcs11-data.h        |   52 +
 daemon/pkcs11/gkd-pkcs11.c             |  199 +++
 daemon/pkcs11/gkd-pkcs11.h             |   39 +
 daemon/pkcs11/gkr-pkcs11-auth-ep.c     | 1135 -------------
 daemon/pkcs11/gkr-pkcs11-auth.c        |  657 --------
 daemon/pkcs11/gkr-pkcs11-auth.h        |   96 --
 daemon/pkcs11/gkr-pkcs11-daemon.c      |  253 ---
 daemon/pkcs11/gkr-pkcs11-daemon.h      |   39 -
 daemon/prompt/Makefile.am              |    2 +-
 daemon/prompt/gkd-prompt-buffer.c      |  199 ---
 daemon/prompt/gkd-prompt-buffer.h      |   59 -
 daemon/prompt/gkd-prompt-tool.c        |    4 +-
 daemon/prompt/gkd-prompt.c             |   55 +-
 daemon/prompt/gkd-prompt.h             |    7 +
 daemon/prompt/gkd-prompt.ui            |   13 +-
 daemon/ui/.gitignore                   |    7 -
 daemon/ui/Makefile.am                  |   48 -
 daemon/ui/gkr-ask-daemon.c             |  194 ---
 daemon/ui/gkr-ask-daemon.h             |   37 -
 daemon/ui/gkr-ask-marshal.list         |    1 -
 daemon/ui/gkr-ask-request.c            |  967 -----------
 daemon/ui/gkr-ask-request.h            |  145 --
 daemon/ui/gkr-ask-tool-widgets.c       |  201 ---
 daemon/ui/gkr-ask-tool.c               |  862 ----------
 daemon/ui/gkr-ask-tool.h               |   33 -
 daemon/ui/test-input.txt               |    8 -
 daemon/util/.gitignore                 |    5 -
 daemon/util/Makefile.am                |   31 -
 daemon/util/gkr-daemon-async.c         |  633 --------
 daemon/util/gkr-daemon-async.h         |  171 --
 daemon/util/gkr-daemon-util.c          |  230 ---
 daemon/util/gkr-daemon-util.h          |   70 -
 daemon/util/gkr-location.c             |  959 -----------
 daemon/util/gkr-location.h             |  130 --
 daemon/util/tests/.gitignore           |    7 -
 daemon/util/tests/Makefile.am          |   12 -
 daemon/util/tests/unit-test-async.c    |  222 ---
 daemon/util/tests/unit-test-location.c |  209 ---
 egg/Makefile.am                        |   14 +-
 egg/egg-entry-buffer.c                 |  198 +++
 egg/egg-entry-buffer.h                 |   59 +
 egg/egg-secure-entry.c                 | 2754 --------------------------------
 egg/egg-secure-entry.h                 |  187 ---
 gcr/Makefile.am                        |    2 +-
 gcr/gcr-certificate.c                  |    2 +-
 gcr/gcr-import-dialog.c                |   15 +-
 55 files changed, 2485 insertions(+), 10635 deletions(-)

commit 20408620d8f91848804f3dd5316ec2ce4e063675
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [prompt] Add the password strength indicator to new prompt.

 daemon/prompt/gkd-prompt-tool.c | 61 ++++++++++++++++++++++++++++++++++++++++-
 daemon/prompt/gkd-prompt.ui     | 60 ++++++++++++++++++++++++++++++++--------
 2 files changed, 109 insertions(+), 12 deletions(-)

commit 25c736bc2b0bd07bcb7508c9594c25117f736e1e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [prompt] Implement password prompting, for blank, and mismatched.
    
    Also include warning area, so daemon can show an italicized
    warning.

 daemon/prompt/gkd-prompt-tool.c           | 119 ++++++++++++++++++++++++++++--
 daemon/prompt/gkd-prompt.ui               |  10 ++-
 daemon/prompt/tests/test-data/prompt-full |   2 +-
 3 files changed, 123 insertions(+), 8 deletions(-)

commit 224ae44851c96f117dbc72c282998b6c200d7298
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [prompt] Use 'secure' memory for buffer for prompt password entries.

 daemon/prompt/Makefile.am         |   1 +
 daemon/prompt/gkd-prompt-buffer.c | 199 ++++++++++++++++++++++++++++++++++++++
 daemon/prompt/gkd-prompt-buffer.h |  59 +++++++++++
 daemon/prompt/gkd-prompt-tool.c   |  26 +++++
 4 files changed, 285 insertions(+)

commit 0b5445b8ebae0b76f5b0591e59fd26fc8540bdbe
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-19

    [prompt] Add original password area to prompter.

 daemon/prompt/gkd-prompt.ui | 38 ++++++++++++++++++++++++++++++++++++--
 1 file changed, 36 insertions(+), 2 deletions(-)

commit dad18054f95e9484071bad2b130a062729e662df
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-17

    [doc] Fix up documentation errors and warnings.

 gcr/gcr-certificate.c  | 18 +++++++++---------
 gp11/gp11-attributes.c | 46 ++++++++++++++++++++++++++++------------------
 gp11/gp11-misc.c       | 12 ++++++------
 gp11/gp11-module.c     | 21 +++++++++------------
 gp11/gp11-object.c     |  8 ++++----
 gp11/gp11-session.c    |  4 ++--
 gp11/gp11-slot.c       |  1 +
 gp11/gp11.h            | 43 ++++++++++++++++++-------------------------
 8 files changed, 77 insertions(+), 76 deletions(-)

commit da22a40250da283a502ecb35add5e6548c654c6b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-17

    Remove old keyring socket, library and code support.
    
    After this commit, all callers must use the libgnome-keyring module
    to access secrets. The old socket method and included library
    no longer work.

 HACKING                                            |   13 -
 Makefile.am                                        |    2 -
 TODO                                               |   18 -
 configure.in                                       |    9 +-
 daemon/Makefile.am                                 |    7 +-
 daemon/control/Makefile.am                         |    3 +-
 daemon/control/gkd-control-client.c                |    2 +-
 daemon/control/gkd-control-codes.h                 |   71 +
 daemon/control/gkd-control-private.h               |   71 -
 daemon/control/gkd-control-server.c                |    2 +-
 daemon/control/tests/test-control-change           |  Bin 96222 -> 96222 bytes
 daemon/control/tests/test-control-unlock           |  Bin 96149 -> 96149 bytes
 daemon/dbus/gkd-dbus-service.c                     |   19 +-
 daemon/gkd-main.c                                  |    9 -
 daemon/gkd-util.c                                  |    1 -
 daemon/gkr-daemon-io.c                             |  441 --
 daemon/gkr-daemon-ops.c                            | 1779 --------
 daemon/gkr-daemon.h                                |   52 -
 daemon/keyrings/.gitignore                         |    6 -
 daemon/keyrings/Makefile.am                        |   36 -
 daemon/keyrings/file-format.txt                    |   69 -
 daemon/keyrings/gkr-keyring-binary.c               |  676 ---
 daemon/keyrings/gkr-keyring-item.c                 |  412 --
 daemon/keyrings/gkr-keyring-item.h                 |  111 -
 daemon/keyrings/gkr-keyring-login.c                |  325 --
 daemon/keyrings/gkr-keyring-login.h                |   50 -
 daemon/keyrings/gkr-keyring-textual.c              |  453 --
 daemon/keyrings/gkr-keyring.c                      |  624 ---
 daemon/keyrings/gkr-keyring.h                      |  145 -
 daemon/keyrings/gkr-keyrings.c                     |  406 --
 daemon/keyrings/gkr-keyrings.h                     |   53 -
 daemon/keyrings/tests/.gitignore                   |    5 -
 daemon/keyrings/tests/Makefile.am                  |   19 -
 daemon/keyrings/tests/test-data/encrypted.keyring  |  Bin 733 -> 0 bytes
 daemon/keyrings/tests/test-data/plain.keyring      |   55 -
 daemon/keyrings/tests/unit-test-keyring-file.c     |  248 --
 daemon/keyrings/tests/unit-test-keyring-login.c    |  157 -
 daemon/keyrings/tests/unit-test-login-prompt.c     |  128 -
 daemon/ui/gkr-ask-request.c                        |    5 +-
 daemon/util/Makefile.am                            |    5 +-
 daemon/util/gkr-location-watch.c                   |  365 --
 daemon/util/gkr-location-watch.h                   |   70 -
 daemon/util/tests/Makefile.am                      |    3 +-
 daemon/util/tests/unit-test-location-watch.c       |  245 --
 docs/reference/Makefile.am                         |    2 +-
 docs/reference/gnome-keyring/.gitignore            |   10 -
 docs/reference/gnome-keyring/Makefile.am           |   99 -
 .../gnome-keyring/gnome-keyring-docs.sgml          |   26 -
 .../gnome-keyring/gnome-keyring-sections.txt       |  183 -
 docs/reference/gnome-keyring/gnome-keyring.types   |    0
 keyring-intro.txt                                  |  154 -
 library/.gitignore                                 |    8 -
 library/Makefile.am                                |   65 -
 library/gnome-keyring-1-uninstalled.pc.in          |   11 -
 library/gnome-keyring-1.pc.in                      |   11 -
 library/gnome-keyring-memory.c                     |  280 --
 library/gnome-keyring-memory.h                     |   66 -
 library/gnome-keyring-opcodes.h                    |   57 -
 library/gnome-keyring-private.h                    |   76 -
 library/gnome-keyring-proto.c                      | 1547 -------
 library/gnome-keyring-proto.h                      |  235 --
 library/gnome-keyring-result.h                     |   43 -
 library/gnome-keyring-socket.c                     |  248 --
 library/gnome-keyring-utils.c                      |  596 ---
 library/gnome-keyring.c                            | 4389 --------------------
 library/gnome-keyring.h                            |  523 ---
 library/tests/.gitignore                           |    4 -
 library/tests/Makefile.am                          |   17 -
 library/tests/unit-test-daemon-setup.c             |   81 -
 library/tests/unit-test-keyrings-prompt.c          |  273 --
 library/tests/unit-test-keyrings.c                 |  539 ---
 library/tests/unit-test-login-prompt.c             |  104 -
 library/tests/unit-test-memory.c                   |  128 -
 library/tests/unit-test-other.c                    |  105 -
 pam/gkr-pam-client.c                               |   17 +-
 pam/gkr-pam-module.c                               |   11 +-
 pam/gkr-pam.h                                      |    7 +-
 pkcs11/secret-store/file-format.txt                |   68 +
 po/POTFILES.in                                     |    4 -
 po/POTFILES.skip                                   |    6 -
 tests/Makefile.am                                  |   29 +-
 tests/list-keyrings.c                              |  225 -
 tests/test-keyrings.c                              |  524 ---
 83 files changed, 169 insertions(+), 17772 deletions(-)

commit e206707ce7d57ee60cd950e2e667bbb0ec2064ed
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-17

    [daemon] Rework control, and implement login keyring support.
    
    Implement support for unlocking and changing and storing secrets
    in the login keyring, based on the secret-store.
    
    Refactor how the control protocol hangs out, and implement some
    simple test utilities for it.

 configure.in                               |   2 +
 daemon/Makefile.am                         |   2 +
 daemon/control/Makefile.am                 |  17 +-
 daemon/control/gkd-control-client.c        | 280 ++++++++++++
 daemon/control/gkd-control-private.h       |  71 +++
 daemon/control/gkd-control-server.c        | 414 ++++++++++++++++++
 daemon/control/gkd-control.c               | 649 ---------------------------
 daemon/control/gkd-control.h               |  10 +-
 daemon/control/tests/Makefile.am           |  37 ++
 daemon/control/tests/test-control-change   | Bin 0 -> 96222 bytes
 daemon/control/tests/test-control-change.c |  30 ++
 daemon/control/tests/test-control-unlock   | Bin 0 -> 96149 bytes
 daemon/control/tests/test-control-unlock.c |  24 +
 daemon/gkd-main.c                          |  22 +-
 daemon/gkd-util.c                          |  10 +-
 daemon/login/Makefile.am                   |  24 +
 daemon/login/gkd-login.c                   | 678 +++++++++++++++++++++++++++++
 daemon/login/gkd-login.h                   |  50 +++
 daemon/pkcs11/gkr-pkcs11-auth.c            |  91 ++--
 daemon/pkcs11/gkr-pkcs11-daemon.c          |  16 +-
 daemon/pkcs11/gkr-pkcs11-daemon.h          |   2 +
 tests/gtest-helpers.c                      |  16 +-
 tests/prep-gtest.sh                        |  10 +
 23 files changed, 1712 insertions(+), 743 deletions(-)

commit cdb17597cee9936f0d91ac5238ef343a5a2a2c7c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-16

    [gp11] gp11_object_get_data null terminates.
    
    Make gp11_object_get_data null terminate the data it returns
    for convenience and efficiency. This is especially nice when
    using a custom allocator such as secure memory.

 gp11/gp11-object.c | 33 +++++++++++++++++++++------------
 1 file changed, 21 insertions(+), 12 deletions(-)

commit 72fdb68afd13f424eb1ad73d62422940fdb3ed33
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-16

    [gp11] Implement C_InitPIN and C_SetPIN in gp11 library.

 gp11/gp11-session.c                 | 240 +++++++++++++++++++++++++++++++++++-
 gp11/gp11.h                         |  20 ++-
 gp11/tests/gp11-test-module.c       |  31 ++++-
 gp11/tests/unit-test-gp11-session.c |  34 +++++
 4 files changed, 317 insertions(+), 8 deletions(-)

commit 7468dada660d93eb07813527a20f2d6fca91e45e
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2009-12-16

    Updated Norwegian bokmål translation.

 po/nb.po | 142 ++++++++++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 95 insertions(+), 47 deletions(-)

commit 8919b91a25d29bd74b079ab169d0fb174786a16d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-16

    [daemon] Use new control protocol for daemon.
    
    Test new control protocol, and use in pam and startup. Refactor
    the names of some of the daemon files.

 daemon/Makefile.am                  |   4 +-
 daemon/control/Makefile.am          |   1 +
 daemon/control/gkd-control.c        | 267 ++++++++++-
 daemon/control/gkd-control.h        |   4 +-
 daemon/dbus/gkd-dbus-environment.c  |   5 +-
 daemon/dbus/gkd-dbus-service.c      |   5 +-
 daemon/dbus/gkd-dbus-session.c      |   7 +-
 daemon/gkd-main.c                   | 815 +++++++++++++++++++++++++++++++++
 daemon/gkd-main.h                   |  31 ++
 daemon/gkd-util.c                   | 209 +++++++++
 daemon/gkd-util.h                   |  46 ++
 daemon/gkr-daemon-io.c              |  14 +-
 daemon/gkr-daemon-ops.c             |   7 +-
 daemon/gkr-daemon.c                 | 884 ------------------------------------
 daemon/gkr-daemon.h                 |   4 -
 daemon/pkcs11/gkr-pkcs11-daemon.c   |   8 +-
 daemon/util/gkr-daemon-util.c       | 105 -----
 daemon/util/gkr-daemon-util.h       |   8 -
 pam/gkr-pam-client.c                |  51 +--
 pam/gkr-pam-module.c                |  58 +--
 pam/tests/unit-test-pam.c           |   6 +-
 pkcs11/rpc-layer/gck-rpc-dispatch.c |   2 +-
 pkcs11/rpc-layer/gck-rpc-module.c   |   6 +-
 pkcs11/ssh-agent/gck-ssh-agent.c    |   2 +-
 24 files changed, 1435 insertions(+), 1114 deletions(-)

commit 955940b6d96c2ab900b2da5c3334b70a4b4388c5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-15

    [control] Initial implementation of control socket.
    
    The control socket will be used by the pam module and the daemon
    when communicating with itself. Not tested.

 configure.in                 |   1 +
 daemon/Makefile.am           |   1 +
 daemon/control/Makefile.am   |  20 ++
 daemon/control/gkd-control.c | 428 +++++++++++++++++++++++++++++++++++++++++++
 daemon/control/gkd-control.h |  29 +++
 egg/egg-unix-credentials.c   |  14 ++
 egg/egg-unix-credentials.h   |  12 +-
 7 files changed, 501 insertions(+), 4 deletions(-)

commit 31dd65410484ae760d77725697b6708985391466
Merge: 9ea4667 cbb8aad
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    Merge branch 'dbus-api'

commit 9ea4667cf8afc479a8619827fd622536d92e599d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    Bump version number to unstable

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a236f97d68c14db3240a365805fbd8357cf4f414
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    Bump version number.

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ceb19792200471696b5e2b8bcbba6cec5bf0cb3a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    Release version 2.28.2

 NEWS | 9 +++++++++
 1 file changed, 9 insertions(+)

commit cbb8aaddd27041ec07eefb3193489d63abdab6e4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    [pkcs11] Fix some shutdown ordering problems.

 pkcs11/gck/gck-object.c                 | 10 +++++-----
 pkcs11/secret-store/gck-secret-module.c | 13 ++++++++++++-
 2 files changed, 17 insertions(+), 6 deletions(-)

commit a7f3c50bfac5512ffa0a39325fa4dfe14d8bf879
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    [dbus] Update introspect xml data.

 daemon/data/introspect-collection.xml |  1 +
 daemon/data/introspect-item.xml       |  8 +++++-
 daemon/data/introspect-prompt.xml     |  2 +-
 daemon/data/introspect-service.xml    | 50 +++++++++++++++++++++++------------
 4 files changed, 42 insertions(+), 19 deletions(-)

commit 2cc28f94a1b172fe4556a93052feeb74ced99b28
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    [dbus] Use constants that come with dbus library.

 daemon/dbus/gkd-secret-objects.c | 12 ++++++------
 daemon/dbus/gkd-secret-service.c | 10 +++++-----
 daemon/dbus/gkd-secret-types.h   |  3 ---
 3 files changed, 11 insertions(+), 14 deletions(-)

commit 0e7a6268410a88a3d392ab3124df9229ba7f07b6
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    [dbus] Big rework of prompting, unlocking and change lock.
    
    Implement locking, unlocking, and changing of passwords.
    Rework how prompt secrets get sent to the pkcs11 layer.

 daemon/dbus/Makefile.am          |   2 +
 daemon/dbus/gkd-secret-change.c  | 313 +++++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-change.h  |  56 +++++++
 daemon/dbus/gkd-secret-create.c  | 142 +++++-------------
 daemon/dbus/gkd-secret-create.h  |   7 +-
 daemon/dbus/gkd-secret-lock.c    |  67 +++++++++
 daemon/dbus/gkd-secret-lock.h    |  34 +++++
 daemon/dbus/gkd-secret-objects.c |  39 ++---
 daemon/dbus/gkd-secret-prompt.c  | 120 ++++++++++++++-
 daemon/dbus/gkd-secret-prompt.h  |  10 ++
 daemon/dbus/gkd-secret-secret.c  |  55 +++++--
 daemon/dbus/gkd-secret-secret.h  |  13 +-
 daemon/dbus/gkd-secret-service.c | 291 ++++++++++++++++++++++++++++++------
 daemon/dbus/gkd-secret-session.c | 118 ++++++++++-----
 daemon/dbus/gkd-secret-session.h |  18 ++-
 daemon/dbus/gkd-secret-types.h   |   4 +-
 daemon/dbus/gkd-secret-unlock.c  | 135 +++++++++--------
 daemon/dbus/gkd-secret-unlock.h  |   4 +
 daemon/prompt/gkd-prompt-tool.c  |   2 +-
 daemon/prompt/gkd-prompt-util.c  |  52 ++++---
 daemon/prompt/gkd-prompt-util.h  |   8 +-
 daemon/prompt/gkd-prompt.c       | 229 ++++++++++++++++++----------
 daemon/prompt/gkd-prompt.h       |  18 +++
 23 files changed, 1323 insertions(+), 414 deletions(-)

commit c24fb556d959a8fd56c632afe5310b77e2701bc9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    [secret-store] Fix assertion when parsing textual keyring.
    
    Use appropriate method call for null secret.

 pkcs11/secret-store/gck-secret-textual.c | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit bc2ce9762c5ac607763112169e46c7692236c9bc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-14

    [secret-store] Implement changing of master credentials for collection.
    
    Use the credentials mechanism to allow changing master password
    for a collection.

 pkcs11/gck/gck-attributes.c                 | 16 +++++
 pkcs11/gck/gck-attributes.h                 |  3 +
 pkcs11/secret-store/gck-secret-collection.c | 94 ++++++++++++++++++++++++++---
 3 files changed, 105 insertions(+), 8 deletions(-)

commit fe778375c74e1ed59c3abe9a7cf931cb6518a2e6
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-13

    [egg] Move padding functionality into egg
    
    So other components can use it.

 egg/Makefile.am                 |   2 +
 egg/egg-asn1.h                  |   3 +
 egg/egg-padding.c               | 302 ++++++++++++++++++++++++++++++++++++++++
 egg/egg-padding.h               |  88 ++++++++++++
 egg/tests/Makefile.am           |   1 +
 egg/tests/test-padding.c        | 182 ++++++++++++++++++++++++
 pkcs11/gck/Makefile.am          |   1 -
 pkcs11/gck/gck-aes-mechanism.c  |   8 +-
 pkcs11/gck/gck-crypto.c         |  18 +--
 pkcs11/gck/gck-crypto.h         |   7 +-
 pkcs11/gck/gck-mechanism-rsa.c  |   8 +-
 pkcs11/gck/gck-mechanism-rsa.h  |   8 +-
 pkcs11/gck/gck-null-mechanism.c |   1 -
 pkcs11/gck/gck-padding.c        | 296 ---------------------------------------
 pkcs11/gck/gck-padding.h        |  86 ------------
 pkcs11/gck/tests/Makefile.am    |   1 -
 pkcs11/gck/tests/test-padding.c | 182 ------------------------
 17 files changed, 603 insertions(+), 591 deletions(-)

commit d62b7cb7358b89c170850a052ba64066c6d280c7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-13

    [dbus] Refactor error handling and session lookups.
    
    Cleaner dbus error handling and session lookups.
    Secrets are also redone, with less memory copies.

 daemon/dbus/Makefile.am          |  1 +
 daemon/dbus/gkd-secret-create.c  | 22 ++++++---------
 daemon/dbus/gkd-secret-error.c   | 48 ++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-error.h   | 34 +++++++++++++++++++++++
 daemon/dbus/gkd-secret-objects.c | 50 ++++++++++++---------------------
 daemon/dbus/gkd-secret-secret.c  | 60 +++++++++++++++++++++++++++++-----------
 daemon/dbus/gkd-secret-secret.h  | 10 +++++--
 daemon/dbus/gkd-secret-service.c | 19 ++++++++++---
 daemon/dbus/gkd-secret-session.c | 47 +++++++++++++++++++++++++++----
 daemon/dbus/gkd-secret-session.h | 10 +++++++
 daemon/dbus/gkd-secret-util.c    |  8 ------
 daemon/dbus/gkd-secret-util.h    |  2 --
 12 files changed, 229 insertions(+), 82 deletions(-)

commit 6aee0b1973d4591d3e925b01289cc7b1e52bbd06
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-13

    [dbus] Implement Service.GetSecrets().

 daemon/dbus/gkd-secret-objects.c | 115 +++++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-objects.h |   7 +++
 daemon/dbus/gkd-secret-service.c |   4 ++
 3 files changed, 126 insertions(+)

commit 2da0597b595f7ac72cd8277da1ce25d5147aa98a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-13

    [dbus] Separate SearchItems results into locked/unlocked.

 daemon/dbus/gkd-secret-objects.c | 44 +++++++++++++++++++++++++++++++++++++++-
 1 file changed, 43 insertions(+), 1 deletion(-)

commit 70e648061bd8dc2ced9980edae8172b0bf62521a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-13

    [secret-store] Implement always present 'session' keyring.

 pkcs11/secret-store/gck-secret-collection.c |  4 +++
 pkcs11/secret-store/gck-secret-module.c     | 38 ++++++++++++++++++++++++++++-
 2 files changed, 41 insertions(+), 1 deletion(-)

commit b49c6468d130df949ae01172111bd88d2c1c7d27
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [dbus] Refactor collection creation.
    
    Reorganize things with more code reuse.

 daemon/dbus/gkd-secret-create.c  | 62 +++++++++++++++++++++++++---------------
 daemon/dbus/gkd-secret-create.h  |  5 ++++
 daemon/dbus/gkd-secret-service.c | 16 ++++-------
 3 files changed, 49 insertions(+), 34 deletions(-)

commit 69e08a3c4dab8ed77bcb5237a48cbd7e3d1d3ede
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [dbus] Fix the problem with SetSecret signature.

 daemon/dbus/gkd-secret-objects.c | 2 +-
 daemon/dbus/gkd-secret-secret.h  | 2 --
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 13ffd442ae0c10d1017f57db45cacfbcabc45e67
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [dbus] Fix use of freed memory.

 daemon/dbus/gkd-secret-session.c | 1 -
 1 file changed, 1 deletion(-)

commit 2d3dc9b843f2564c083aa8cb46fd322f52d4f9fc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [dbus] Fix encoding of secret into dbus message.

 daemon/dbus/gkd-secret-secret.c | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 8142993ebabdc620ac1dcce00d60684cb76b08ab
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [dbus] Reorganize path <-> object mapping.
    
    Needed to remove abstractions in order to properly support
    aliases. We use paths as much as possible, and try as little
    as possible to convert an object to a path. This gives us
    predictable behavior from the client side when accessed
    through an alias.

 daemon/dbus/gkd-secret-create.c  |  31 +++-
 daemon/dbus/gkd-secret-objects.c | 282 +++++++++++++++++++++++--------
 daemon/dbus/gkd-secret-objects.h |  23 ++-
 daemon/dbus/gkd-secret-prompt.c  |   9 +-
 daemon/dbus/gkd-secret-prompt.h  |   2 +
 daemon/dbus/gkd-secret-service.c | 129 ++++----------
 daemon/dbus/gkd-secret-service.h |  11 +-
 daemon/dbus/gkd-secret-session.c |  16 +-
 daemon/dbus/gkd-secret-types.h   |   1 +
 daemon/dbus/gkd-secret-unlock.c  |  11 +-
 daemon/dbus/gkd-secret-util.c    | 351 ++++-----------------------------------
 daemon/dbus/gkd-secret-util.h    |  27 +--
 12 files changed, 362 insertions(+), 531 deletions(-)

commit 45285893d83f5c80e7a4672cf6cbaf3538f8c476
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [dbus] Implement internal interface for creating collection with pass.
    
    Add an internal compatibility interface, so we can implement
    libgnome-keyring.

 daemon/dbus/gkd-secret-create.c  | 133 ++++++++++++---
 daemon/dbus/gkd-secret-create.h  |   5 +
 daemon/dbus/gkd-secret-service.c |  45 ++++++
 daemon/dbus/gkd-secret-session.c | 341 ++++++++++++++++++---------------------
 daemon/dbus/gkd-secret-session.h |   5 +
 daemon/dbus/gkd-secret-types.h   |   2 +
 daemon/dbus/gkd-secret-util.c    |   1 +
 7 files changed, 332 insertions(+), 200 deletions(-)

commit b318b8a2d875ae0f4683a091784b38aa69bde202
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [pkcs11] Fix bugs in DH key generation.
    
    The public and private keys were accidentally interchanged.

 egg/egg-dh.c                  | 43 ++++++++++++++++++++++---------------------
 pkcs11/gck/gck-dh-mechanism.c |  6 +++---
 2 files changed, 25 insertions(+), 24 deletions(-)

commit c406ca0ffdeee01c0210b6cb78eb8e6dd0dc6cdc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    [pkcs11] Implement CKM_G_NULL mechanism and CKK_G_NULL key.
    
    These are used to wrap/unwrap keys in a plaintext way without
    any encryption. This allows callers to use the same code for
    AES based wrapping and plaintext wrapping.

 pkcs11/gck/Makefile.am          |   2 +
 pkcs11/gck/gck-crypto.c         |   7 ++
 pkcs11/gck/gck-dh-mechanism.c   |   7 +-
 pkcs11/gck/gck-module.c         |   9 +++
 pkcs11/gck/gck-null-key.c       | 130 +++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-null-key.h       |  52 ++++++++++++++
 pkcs11/gck/gck-null-mechanism.c | 154 ++++++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-null-mechanism.h |  55 ++++++++++++++
 pkcs11/gck/gck-types.h          |   1 +
 pkcs11/pkcs11g.h                |   8 ++-
 pkcs11/pkcs11i.h                |   9 +++
 11 files changed, 429 insertions(+), 5 deletions(-)

commit 4fb2cfdc780f611429610eecda71d52a6cdaedb3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    Cleanup the session implementation, remove unused code.
    
    Also update the introspection xml.

 daemon/data/introspect-session.xml | 18 ------------------
 daemon/dbus/gkd-secret-session.c   | 32 ++------------------------------
 2 files changed, 2 insertions(+), 48 deletions(-)

commit 2d9cd841e4d39f860740e5eacc4d78c8d1e41d5e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    Add declaration of session dbus interface.
    
    Fix dumb mistake.

 daemon/dbus/gkd-secret-types.h | 1 +
 1 file changed, 1 insertion(+)

commit fe841e3e788da74b15ff72770a1da8692943f651
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-12

    Simplify creation of secret from DH negotiation.
    
    PKCS#11 says to use the low order bytes, and that's what we do
    here. This bears more research to make sure we're doing this
    in a standard way.

 daemon/prompt/gkd-prompt-tool.c      |  19 ++---
 daemon/prompt/gkd-prompt-util.c      |  30 -------
 daemon/prompt/gkd-prompt-util.h      |   2 -
 daemon/prompt/gkd-prompt.c           |  18 ++---
 daemon/prompt/tests/unit-test-util.c |  16 +---
 egg/egg-dh.c                         | 150 ++++++++++++++---------------------
 egg/egg-dh.h                         |  19 +++--
 egg/tests/unit-test-dh.c             |  56 ++++---------
 pkcs11/gck/gck-dh-mechanism.c        |  57 +++----------
 9 files changed, 116 insertions(+), 251 deletions(-)

commit 910e7507122dc290240323a4dbf2fc6b412726c5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-11

    Fix methods that were accidentally implemented on wrong interfaces.
    
    Session.Close(), Item.GetSecret(), Item.SetSecret().

 daemon/dbus/gkd-secret-objects.c | 4 ++--
 daemon/dbus/gkd-secret-session.c | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1d544c5692fd375eba88f3870a8c73e62420242f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-11

    [dbus] Fix problems with CreateItem and secret transfer.
    
    Rework how CreateItem works and fix some problems with
    transferring of secrets.

 daemon/data/introspect-session.xml |   6 +--
 daemon/dbus/gkd-secret-objects.c   | 105 ++++++++++++++++++++++++++-----------
 daemon/dbus/gkd-secret-secret.c    |   8 +--
 3 files changed, 81 insertions(+), 38 deletions(-)

commit ba352630bcff945b99d2001a221dfb4e578be8cf
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-11

    [dbus] Do session negotiation in OpenSession.
    
    Bring session negotiate up to spec, which means to more Negotiate()
    method, and doing all negotiation in OpenSession.

 daemon/dbus/gkd-secret-service.c |  26 +++++----
 daemon/dbus/gkd-secret-session.c | 113 +++++++++++++++++++--------------------
 daemon/dbus/gkd-secret-session.h |   3 ++
 3 files changed, 74 insertions(+), 68 deletions(-)

commit 875fd4f090398f30159b89a1dbba9eb5114b7606
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-11

    [gp11] Support same attrs passed for public/private to generate_key.
    
    Recognize that the same attribute set could be passed to public
    and private atribute arguments for gp11_session_generate_key_xxx().

 gp11/gp11-session.c | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 68a99f94bf65d211169785fd3540bd372206e4b3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-10

    [dbus] Return proper '/' path when no prompt is needed on unlock.

 daemon/dbus/gkd-secret-service.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 319ac51ff3ff53f257b9157b1011dcb4b6c9c47c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-10

    [dbus] Implement support for aliases.
    
    Implement ReadAlias() and GetAlias() as well as the aliases
    dbus path.

 daemon/dbus/gkd-secret-objects.c |   9 ++
 daemon/dbus/gkd-secret-objects.h |   4 +
 daemon/dbus/gkd-secret-service.c | 183 ++++++++++++++++++++++++++++++++-------
 daemon/dbus/gkd-secret-types.h   |   1 +
 daemon/dbus/gkd-secret-util.c    |   9 +-
 daemon/dbus/gkd-secret-util.h    |   3 +
 6 files changed, 173 insertions(+), 36 deletions(-)

commit 3b666b78987df448ef64b82d03390851dbdf4e0b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-10

    [dbus] Fix argument order for Completed event.
    
    The b:dismissed comes first.

 daemon/dbus/gkd-secret-prompt.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3bbf5bca3cbb5b784587696c275ec290bf6c296f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-10

    [dbus] Use proper interface names, from spec.
    
    These have 'Secret' rather than 'Secrets' in them.

 daemon/dbus/gkd-secret-types.h | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit c3d0a04397b394c02206caa85268619d866c2f43
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-10

    [dbus] Return NoSuchObject when a bad collectiont or item path.

 daemon/dbus/gkd-dbus-util.c      | 23 +----------------------
 daemon/dbus/gkd-dbus-util.h      |  4 ----
 daemon/dbus/gkd-secret-objects.c |  2 +-
 daemon/dbus/gkd-secret-service.c | 11 ++++++++---
 daemon/dbus/gkd-secret-types.h   |  1 +
 daemon/dbus/gkd-secret-util.c    |  9 +++++++++
 daemon/dbus/gkd-secret-util.h    |  4 ++++
 7 files changed, 24 insertions(+), 30 deletions(-)

commit a019720b537c01441d555de293a141e0d840a19f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-12-03

    Add license to reference documentation.
    
    Add a license to the reference documentation. Using the license
    from Glib.

 docs/reference/COPYING | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit f3e360f119c6361940d2e4aecbd93395973688c1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-25

    [dbus] Implement getting and setting of secrets.
    
    This is not very well tested, but all basically speced out
    and implemented. We use wrapping and unwrapping to transfer
    secrets via the aes algorithm, or simple get/set attributes
    when transferring via plaintext.

 daemon/dbus/Makefile.am               |   1 +
 daemon/dbus/gkd-secret-objects.c      |  88 +++++++-
 daemon/dbus/gkd-secret-secret.c       | 122 ++++++++++
 daemon/dbus/gkd-secret-secret.h       |  54 +++++
 daemon/dbus/gkd-secret-service.c      |  16 ++
 daemon/dbus/gkd-secret-service.h      |   6 +-
 daemon/dbus/gkd-secret-session.c      | 407 ++++++++++++++++++++++++++++++++--
 daemon/dbus/gkd-secret-session.h      |   9 +
 daemon/dbus/gkd-secret-types.h        |   1 +
 daemon/dbus/gkd-secret-util.c         |  24 ++
 daemon/dbus/gkd-secret-util.h         |   2 +
 pkcs11/secret-store/gck-secret-item.c |  13 ++
 12 files changed, 726 insertions(+), 17 deletions(-)

commit 996db6eebd41f5aaf2da9bb272a76be33d45666f
Merge: ace62ca 1f22585
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-24

    Merge branch 'master' into dbus-api

commit 1f225859713c8fae6d5b58e4d61cfe442e93cc8a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-24

    [daemon] Sent output of g_printerr to syslog.
    
    In order to catch assertion errors better, send the output of
    g_printerr to syslog as well as stderr.

 daemon/gkr-daemon.c | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 2bcaa443eeee7f2b4bd5ffc56d911d77bd6f9d70
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-24

    [daemon] No possibly fatal error when can't unlock login keyring.
    
    We were using g_warning to print a message when unlocking the
    login keyring failed. This would cause the daemon to exit in
    certain configurations. This isn't a critical error.

 daemon/gkr-daemon.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e06116ecceae745f1b9b609a5776a282005196ae
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-09

    Ignore anjuta project files.

 .gitignore | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 72db76cd8696192433f24b17cf0d76d5809aa6bf
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-09

    [pkcs11] Fix assertion when comparing attributes.
    
    When comparing attributes that both had zero lengths, but one
    had a null pointer, gck_attribute_equal() used to assert.

 pkcs11/gck/gck-attributes.c             | 4 +++-
 pkcs11/gck/tests/unit-test-attributes.c | 7 +++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit ace62caa70c2ba2a8fe2a1aa8681f708704bc7ab
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-24

    Remove old secrets stuff, which is now in a freedesktop project.

 Makefile.am                              |   1 -
 configure.in                             |   2 -
 docs/reference/Makefile.am               |   2 +-
 docs/reference/secrets/.gitignore        |  12 -
 docs/reference/secrets/Makefile.am       | 104 --------
 docs/reference/secrets/empty/EMPTY       |   1 -
 docs/reference/secrets/secrets-docs.sgml | 410 -------------------------------
 secrets/.gitignore                       |   8 -
 secrets/Makefile.am                      |  22 --
 secrets/org.freedesktop.Secrets.xml      | 372 ----------------------------
 10 files changed, 1 insertion(+), 933 deletions(-)

commit 0f4a6795405ef02d7a7c84dbf43a95880fd8d86c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-24

    Remove ui directory.

 ui/.gitignore | 2 --
 1 file changed, 2 deletions(-)

commit a3bce12d11b09e0a61da4d34dfeec59670d6c01e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-24

    Fix build when p11-tests is not installed.

 tests/gtest-helpers.c | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 57fc0e53d22464202ebbe87e25906edefb137264
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-23

    [egg] Store DH groups in binary.
    
    We store them in binary so that we can access them directly in
    memory when a raw value is needed.

 egg/egg-dh.c             | 302 +++++++++++++++++++++++++++--------------------
 egg/egg-dh.h             |   6 +
 egg/tests/unit-test-dh.c |  22 +++-
 3 files changed, 203 insertions(+), 127 deletions(-)

commit e616479ba2976a9e58b02d11c379ed68919dbbf7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-20

    [gp11] Implement support for generate, wrap, unwrap, derive.
    
    Implement gp11_session_generate_key_pair...(),
    gp11_session_wrap_key...(), gp11_session_unwrap_key...(),
    and gp11_session_derive_key...().

 gp11/gp11-misc.c                   |  83 ++++
 gp11/gp11-session.c                | 852 ++++++++++++++++++++++++++++++++++---
 gp11/gp11.h                        | 158 +++----
 gp11/tests/Makefile.am             |   1 +
 gp11/tests/gp11-test-module.c      | 253 ++++++++++-
 gp11/tests/gp11-test.h             |  13 +
 gp11/tests/test-gp11-mechanism.c   |  60 +++
 gp11/tests/unit-test-gp11-crypto.c | 353 +++++++++++++--
 8 files changed, 1573 insertions(+), 200 deletions(-)

commit abc93b2ddbcfbc38cdbbfec209c189f1a14cf0d7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-19

    [pkcs11] Refactor object creation.
    
    Factories are now able to recycle objects, if they match the
    attributes in specific ways. Cleanup the factory function
    signature, and the semantics of pointer ownership.

 pkcs11/gck/gck-aes-key.c                           |  28 ++--
 pkcs11/gck/gck-aes-mechanism.c                     |  11 +-
 pkcs11/gck/gck-attributes.c                        |  49 ++++--
 pkcs11/gck/gck-attributes.h                        |   8 +
 pkcs11/gck/gck-certificate.c                       |  20 +--
 pkcs11/gck/gck-credential.c                        |  21 ++-
 pkcs11/gck/gck-dh-mechanism.c                      | 168 ++++++++++++++-----
 pkcs11/gck/gck-dh-private-key.c                    |  19 ++-
 pkcs11/gck/gck-dh-public-key.c                     |  19 ++-
 pkcs11/gck/gck-factory.h                           |   4 +-
 pkcs11/gck/gck-private-xsa-key.c                   |  15 +-
 pkcs11/gck/gck-public-xsa-key.c                    |  21 ++-
 pkcs11/gck/gck-session.c                           | 186 +++++++++++----------
 pkcs11/gck/gck-session.h                           |  18 +-
 pkcs11/gck/gck-transaction.c                       |  14 ++
 pkcs11/gck/gck-transaction.h                       |   2 +
 pkcs11/gck/tests/test-module.c                     |  13 +-
 pkcs11/secret-store/gck-secret-collection.c        |  46 ++---
 pkcs11/secret-store/gck-secret-item.c              |  28 ++--
 pkcs11/secret-store/gck-secret-search.c            |  19 ++-
 .../tests/unit-test-secret-collection.c            |  98 +++++------
 .../secret-store/tests/unit-test-secret-search.c   |  55 +++---
 pkcs11/user-store/gck-user-private-key.c           |  21 +--
 pkcs11/user-store/gck-user-public-key.c            |  21 ++-
 24 files changed, 549 insertions(+), 355 deletions(-)

commit 7051e4fdced6bf4ce44285e11c9389e2f7ad91cf
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-19

    [pkcs11] Implement AES key wrapping.
    
    Implement CKM_AES_CBC_PAD mechanism for wrapping secret keys.
    Any key that has a simple CKA_VALUE can be wrapped.

 pkcs11/gck/Makefile.am         |   2 +-
 pkcs11/gck/gck-aes-key.c       |  62 +++++++++---
 pkcs11/gck/gck-aes-key.h       |   7 ++
 pkcs11/gck/gck-aes-mechanism.c | 223 +++++++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-aes-mechanism.h |  25 ++++-
 pkcs11/gck/gck-crypto.c        |  52 +++++++++-
 pkcs11/gck/gck-crypto.h        |  16 +++
 pkcs11/gck/gck-module.c        |   9 +-
 pkcs11/gck/gck-session.c       |  69 ++++++++++---
 9 files changed, 434 insertions(+), 31 deletions(-)

commit 28f2ff8044477d2e3fe9e5b7b0269217c47eb925
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-18

    [pkcs11] Factor out padding functionality, and add pkcs7 padding.
    
    Factor out the padding stuff into its own file gck-padding.[ch]
    and implement pkcs7 padding which we'll need shortly.

 pkcs11/gck/Makefile.am          |   1 +
 pkcs11/gck/gck-crypto.c         |  46 ++++---
 pkcs11/gck/gck-crypto.h         |   9 +-
 pkcs11/gck/gck-mechanism-rsa.c  | 175 +-----------------------
 pkcs11/gck/gck-mechanism-rsa.h  |  33 +----
 pkcs11/gck/gck-padding.c        | 296 ++++++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-padding.h        |  86 ++++++++++++
 pkcs11/gck/tests/Makefile.am    |   1 +
 pkcs11/gck/tests/test-padding.c | 182 ++++++++++++++++++++++++
 tests/gtest-helpers.h           |   5 +
 10 files changed, 608 insertions(+), 226 deletions(-)

commit 3e324f117fd8c1ae4c4cf9ebd8511737c3482d9b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-18

    [pkcs11] Add support for AES secret keys and DH derive.
    
    Implement CKM_DH_PKCS_DERIVE and CKK_AES related stuff.

 pkcs11/gck/Makefile.am          |   3 +
 pkcs11/gck/gck-aes-key.c        | 226 ++++++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-aes-key.h        |  50 +++++++++
 pkcs11/gck/gck-aes-mechanism.h  |  33 ++++++
 pkcs11/gck/gck-crypto.c         |  38 ++++++-
 pkcs11/gck/gck-crypto.h         |   9 ++
 pkcs11/gck/gck-dh-key.c         |   7 ++
 pkcs11/gck/gck-dh-key.h         |   2 +
 pkcs11/gck/gck-dh-mechanism.c   |  99 ++++++++++++++++++
 pkcs11/gck/gck-dh-mechanism.h   |   7 ++
 pkcs11/gck/gck-dh-private-key.c |   7 ++
 pkcs11/gck/gck-dh-private-key.h |   2 +
 pkcs11/gck/gck-module.c         |   2 +
 pkcs11/gck/gck-object.c         |  40 +++++++
 pkcs11/gck/gck-object.h         |  10 ++
 pkcs11/gck/gck-secret-key.c     | 160 ++++++++++++++++++++++++++++
 pkcs11/gck/gck-secret-key.h     |  51 +++++++++
 pkcs11/gck/gck-session.c        |  65 ++++++++++--
 pkcs11/gck/gck-session.h        |   5 +
 pkcs11/gck/gck-types.h          |   2 +
 20 files changed, 808 insertions(+), 10 deletions(-)

commit 56d26354ead3578d4186d7f0a25870bbf6554ce5
Author: Thomas Thurman <tthurman@gnome.org>
Date:   2009-11-16

    Shavian translation

 po/LINGUAS    |    1 +
 po/en@shaw.po | 1260 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1261 insertions(+)

commit ad805c86202fd561fe6e9ae79ba8bf53c0471bf3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-16

    [pkcs11] Implement DH key pair generation.
    
    Also rework how the DH stuff works in the egg component.

 daemon/prompt/gkd-prompt-tool.c |   4 +-
 daemon/prompt/gkd-prompt.c      |   4 +-
 egg/egg-dh.c                    |  32 +++++--
 egg/egg-dh.h                    |   4 +-
 egg/tests/unit-test-dh.c        |  30 +++++-
 pkcs11/gck/Makefile.am          |   4 +
 pkcs11/gck/gck-crypto.c         |  21 ++++
 pkcs11/gck/gck-crypto.h         |   9 ++
 pkcs11/gck/gck-dh-key.c         | 148 ++++++++++++++++++++++++++++
 pkcs11/gck/gck-dh-key.h         |  57 +++++++++++
 pkcs11/gck/gck-dh-mechanism.c   | 113 ++++++++++++++++++++++
 pkcs11/gck/gck-dh-mechanism.h   |  45 +++++++++
 pkcs11/gck/gck-dh-private-key.c | 207 ++++++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-dh-private-key.h |  57 +++++++++++
 pkcs11/gck/gck-dh-public-key.c  | 186 ++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-dh-public-key.h  |  57 +++++++++++
 pkcs11/gck/gck-module.c         |  22 ++++-
 pkcs11/gck/gck-session.c        | 150 ++++++++++++++++++++---------
 pkcs11/gck/gck-types.h          |   3 +
 19 files changed, 1084 insertions(+), 69 deletions(-)

commit 626969db4fe2b8a1e16746d9383557d98cb1dfd7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-16

    [pkcs11] Use p11-tests to test pkcs#11 modules.
    
    Work them in as 'external' tests, which run after the main
    glib based tests.

 configure.in                             | 25 +++++++++++
 pkcs11/roots-store/tests/Makefile.am     | 21 ++++++---
 pkcs11/roots-store/tests/test-module.c   | 34 ++++++++++++++
 pkcs11/ssh-store/tests/Makefile.am       |  3 --
 pkcs11/ssh-store/tests/p11-tests.conf    |  2 +-
 pkcs11/ssh-store/tests/test-ssh-module.c |  8 ++++
 pkcs11/user-store/Makefile.am            |  8 ++--
 pkcs11/user-store/tests/Makefile.am      | 21 ++++++---
 pkcs11/user-store/tests/test-module.c    | 34 ++++++++++++++
 tests/gtest-helpers.c                    | 76 ++++++++++++++++++++++++++++++++
 tests/gtest-helpers.h                    | 15 +++++++
 tests/gtest.make                         | 10 +++--
 tests/prep-gtest.sh                      | 12 ++++-
 13 files changed, 243 insertions(+), 26 deletions(-)

commit a448d02af2414291fb77890e1034620b475147e2
Merge: c0622ce c33349f
Author: Stefan Walter <stef@ws.local>
Date:   2009-11-15

    Merge branch 'master' into dbus-api

commit c0622ce0b626467e0a0dad393202aa0974650ab6
Author: Stefan Walter <stef@ws.local>
Date:   2009-11-15

    Ignore a bunch more built files

 .gitignore | 16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 3ce33ddf90deaffe597dea314b4d1cdf5a20346d
Author: Stefan Walter <stef@ws.local>
Date:   2009-11-15

    Fix build warnings.

 daemon/dbus/gkd-secret-objects.c        | 4 +++-
 pkcs11/gck/tests/unit-test-attributes.c | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit c33349fbaf8a09104e0b1f208a9c2d7f87e28dfc
Author: Stefan Walter <stef@ws.local>
Date:   2009-11-15

    Ignore more built files

 .gitignore | 28 ++++++++++++++++++----------
 1 file changed, 18 insertions(+), 10 deletions(-)

commit e7326153a3241092c8df7f7aa4d8a59bddef8ee3
Author: Stefan Walter <stef@ws.local>
Date:   2009-11-15

    [pkcs11] Fix freeing of unallocated memory in test.

 pkcs11/gck/tests/unit-test-data-der.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 94abeee297914b50fa3f2f27f8ef4ad9e0b106c3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-12

    [pkcs11] Refactor RSA and DSA mechanism support.
    
    This is so we can support other non PK algorithms like
    DH and AES (for the wrapping of secret items, eg).

 pkcs11/gck/Makefile.am                         |   4 +-
 pkcs11/gck/gck-certificate.c                   |   4 +-
 pkcs11/gck/gck-crypto.c                        | 786 ++++---------------------
 pkcs11/gck/gck-crypto.h                        | 177 +++---
 pkcs11/gck/gck-data-der.c                      |  50 +-
 pkcs11/gck/gck-key.c                           | 292 ---------
 pkcs11/gck/gck-key.h                           |  71 ---
 pkcs11/gck/gck-mechanism-dsa.c                 | 144 +++++
 pkcs11/gck/gck-mechanism-dsa.h                 |  49 ++
 pkcs11/gck/gck-mechanism-rsa.c                 | 387 ++++++++++++
 pkcs11/gck/gck-mechanism-rsa.h                 |  92 +++
 pkcs11/gck/gck-private-xsa-key.c               |  20 +-
 pkcs11/gck/gck-private-xsa-key.h               |   6 +-
 pkcs11/gck/gck-public-xsa-key.c                |  32 +-
 pkcs11/gck/gck-public-xsa-key.h                |   6 +-
 pkcs11/gck/gck-session.c                       |  60 +-
 pkcs11/gck/gck-session.h                       |   6 +
 pkcs11/gck/gck-sexp-key.c                      | 261 ++++++++
 pkcs11/gck/gck-sexp-key.h                      |  71 +++
 pkcs11/gck/gck-sexp.c                          | 203 +++++++
 pkcs11/gck/gck-sexp.h                          |  20 +-
 pkcs11/gck/gck-types.h                         |   2 +-
 pkcs11/gck/tests/Makefile.am                   |   2 +-
 pkcs11/gck/tests/unit-test-crypto.c            | 131 -----
 pkcs11/gck/tests/unit-test-data-der.c          |   3 +-
 pkcs11/gck/tests/unit-test-sexp.c              | 132 +++++
 pkcs11/ssh-store/gck-ssh-private-key.c         |   4 +-
 pkcs11/ssh-store/tests/p11-tests.conf          |   6 +-
 pkcs11/ssh-store/tests/unit-test-ssh-openssh.c |  10 +-
 pkcs11/user-store/gck-user-private-key.c       |  12 +-
 pkcs11/user-store/gck-user-public-key.c        |   4 +-
 31 files changed, 1671 insertions(+), 1376 deletions(-)

commit ae5fdc13a1ae81999a2f51c91b9e955605394f29
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-12

    [pkcs11] Rename current public and private key to 'xsa'
    
    Rename GckPublicKey to GckPublicXsaKey and GckPrivateKey to
    GckPrivateXsaKey to accomodate coming DH public and private
    keys.

 pkcs11/gck/Makefile.am                   |   4 +-
 pkcs11/gck/gck-certificate-key.c         |   2 +-
 pkcs11/gck/gck-certificate-key.h         |   6 +-
 pkcs11/gck/gck-module.c                  |   8 +-
 pkcs11/gck/gck-private-key.c             | 466 -------------------------------
 pkcs11/gck/gck-private-key.h             |  67 -----
 pkcs11/gck/gck-private-xsa-key.c         | 428 ++++++++++++++++++++++++++++
 pkcs11/gck/gck-private-xsa-key.h         |  67 +++++
 pkcs11/gck/gck-public-key.c              | 360 ------------------------
 pkcs11/gck/gck-public-key.h              |  59 ----
 pkcs11/gck/gck-public-xsa-key.c          | 310 ++++++++++++++++++++
 pkcs11/gck/gck-public-xsa-key.h          |  60 ++++
 pkcs11/gck/gck-types.h                   |   4 +-
 pkcs11/ssh-store/gck-ssh-private-key.c   |  10 +-
 pkcs11/ssh-store/gck-ssh-private-key.h   |   4 +-
 pkcs11/ssh-store/gck-ssh-public-key.c    |   4 +-
 pkcs11/ssh-store/gck-ssh-public-key.h    |   4 +-
 pkcs11/user-store/gck-user-private-key.c |   8 +-
 pkcs11/user-store/gck-user-private-key.h |   4 +-
 pkcs11/user-store/gck-user-public-key.c  |   6 +-
 pkcs11/user-store/gck-user-public-key.h  |   4 +-
 21 files changed, 899 insertions(+), 986 deletions(-)

commit 92238de677f938652dbfb39e976fbf8e5e43a585
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-12

    [egg] Add IETF DH groups.
    
    These are the standard DH groups specified in RFC2409
    and RFC3526

 daemon/prompt/gkd-prompt.c |   2 +-
 egg/egg-dh.c               | 175 ++++++++++++++++++++++++++++++++++++++++++---
 egg/egg-dh.h               |   2 +-
 egg/tests/unit-test-dh.c   |  52 +++++++++++++-
 4 files changed, 217 insertions(+), 14 deletions(-)

commit 41e7dd756876fd3a33866703ad4739a7eac45fea
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-12

    [dbus] Implement Service.CreateCollection()
    
    Implement creating of collections, including prompting for
    the password.

 daemon/data/introspect-service.xml |   5 +-
 daemon/dbus/Makefile.am            |   1 +
 daemon/dbus/gkd-secret-create.c    | 267 +++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-create.h    |  51 +++++++
 daemon/dbus/gkd-secret-prompt.c    |  24 ++--
 daemon/dbus/gkd-secret-prompt.h    |   3 -
 daemon/dbus/gkd-secret-service.c   |  58 +++++++-
 daemon/dbus/gkd-secret-unlock.c    |  18 ++-
 8 files changed, 403 insertions(+), 24 deletions(-)

commit 583c4bd76993c4197ddae5ff57d0f4e907b8fba0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-12

    [pkcs11] Add support for creating credentials without object.
    
    This is necessary for creating collections, which expect
    a credential when they are created. That credential is used
    to lock the items.

 pkcs11/gck/gck-credential.c                        | 105 ++++++++++++---------
 pkcs11/gck/gck-credential.h                        |   6 +-
 pkcs11/gck/gck-session.c                           |   4 +-
 pkcs11/gck/tests/unit-test-credential.c            |  35 ++++++-
 pkcs11/secret-store/gck-secret-collection.c        |  57 +++++++----
 .../tests/unit-test-secret-collection.c            |  56 ++++++++---
 pkcs11/secret-store/tests/unit-test-secret-item.c  |   6 +-
 pkcs11/ssh-store/tests/unit-test-private-key.c     |   2 +-
 8 files changed, 189 insertions(+), 82 deletions(-)

commit d6af3eabb5d2e2285c78760059fb055eb450c2bd
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-12

    [dbus] Refactor property parsing.
    
    Seperate the code that parses property variants into pkcs11
    attributes.

 daemon/dbus/Makefile.am           |   1 +
 daemon/dbus/gkd-secret-objects.c  | 493 +--------------------------------
 daemon/dbus/gkd-secret-objects.h  |   4 -
 daemon/dbus/gkd-secret-prompt.h   |   4 +
 daemon/dbus/gkd-secret-property.c | 559 ++++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-property.h |  50 ++++
 6 files changed, 625 insertions(+), 486 deletions(-)

commit 52aac7a5a95ad19a24149f6b1f54c12d5f0f90a8
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-11

    [dbus] Refactor object to dbus path mapping.
    
    Put pkcs11 object to dbus path mapping of secret
    collections and items into its own file.

 daemon/dbus/Makefile.am          |   3 +-
 daemon/dbus/gkd-secret-objects.c | 402 +++++++-------------------------------
 daemon/dbus/gkd-secret-objects.h |   8 +-
 daemon/dbus/gkd-secret-prompt.c  |  14 +-
 daemon/dbus/gkd-secret-prompt.h  |   2 +
 daemon/dbus/gkd-secret-types.h   |   1 +
 daemon/dbus/gkd-secret-util.c    | 411 +++++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-util.h    |  45 +++++
 8 files changed, 542 insertions(+), 344 deletions(-)

commit 89db8a5da5ed24a94b7fa0e6bbba4727874bf9b0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-11

    [dbus] Rename secrets service to secret service.
    
    This was discussed on authentication mailing list. Also
    cleans up some whitespace damage necessary to commit.

 daemon/dbus/Makefile.am           |   12 +-
 daemon/dbus/gkd-dbus-secrets.c    |   14 +-
 daemon/dbus/gkd-secret-objects.c  | 1653 +++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secret-objects.h  |   72 ++
 daemon/dbus/gkd-secret-prompt.c   |  390 +++++++++
 daemon/dbus/gkd-secret-prompt.h   |   70 ++
 daemon/dbus/gkd-secret-service.c  |  889 ++++++++++++++++++++
 daemon/dbus/gkd-secret-service.h  |   76 ++
 daemon/dbus/gkd-secret-session.c  |  310 +++++++
 daemon/dbus/gkd-secret-session.h  |   53 ++
 daemon/dbus/gkd-secret-types.h    |   54 ++
 daemon/dbus/gkd-secret-unlock.c   |  371 +++++++++
 daemon/dbus/gkd-secret-unlock.h   |   57 ++
 daemon/dbus/gkd-secrets-objects.c | 1653 -------------------------------------
 daemon/dbus/gkd-secrets-objects.h |   72 --
 daemon/dbus/gkd-secrets-prompt.c  |  390 ---------
 daemon/dbus/gkd-secrets-prompt.h  |   70 --
 daemon/dbus/gkd-secrets-service.c |  889 --------------------
 daemon/dbus/gkd-secrets-service.h |   76 --
 daemon/dbus/gkd-secrets-session.c |  310 -------
 daemon/dbus/gkd-secrets-session.h |   53 --
 daemon/dbus/gkd-secrets-types.h   |   54 --
 daemon/dbus/gkd-secrets-unlock.c  |  371 ---------
 daemon/dbus/gkd-secrets-unlock.h  |   57 --
 24 files changed, 4008 insertions(+), 4008 deletions(-)

commit 6eaa69672ed3079639bb9121f393a55f038db28c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-10

    [pkcs11] Cleaner way of associating data with credentials.
    
    Don't use g_object_set_data instead use our own way of
    associating data with credentials.

 pkcs11/gck/gck-credential.c                 | 29 ++++++++++++++++++++++++++++-
 pkcs11/gck/gck-credential.h                 |  6 ++++++
 pkcs11/gck/gck-private-key.c                | 14 ++++++--------
 pkcs11/gck/tests/unit-test-credential.c     | 24 ++++++++++++++++++++++++
 pkcs11/secret-store/gck-secret-collection.c |  7 +++----
 5 files changed, 67 insertions(+), 13 deletions(-)

commit 7ce255405dbd7321f4d101ce6fb1441994e538a7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-10

    [pkcs11] Change terminology from 'authenticator' to 'credential.
    
    Change the CKO_G_AUTHENTICATOR to CKO_G_CREDENTIAL and
    GckAuthenticator to GckCredential. Fine tune other
    related naming conventions.

 daemon/dbus/gkd-secrets-unlock.c                   |  14 +-
 daemon/pkcs11/gkr-pkcs11-auth-ep.c                 |  18 +-
 pkcs11/gck/Makefile.am                             |   2 +-
 pkcs11/gck/gck-authenticator.c                     | 406 ---------------------
 pkcs11/gck/gck-authenticator.h                     |  78 ----
 pkcs11/gck/gck-credential.c                        | 405 ++++++++++++++++++++
 pkcs11/gck/gck-credential.h                        |  78 ++++
 pkcs11/gck/gck-module.c                            |   4 +-
 pkcs11/gck/gck-object.c                            |   6 +-
 pkcs11/gck/gck-object.h                            |   6 +-
 pkcs11/gck/gck-private-key.c                       |  34 +-
 pkcs11/gck/gck-private-key.h                       |   4 +-
 pkcs11/gck/gck-session.c                           |  52 +--
 pkcs11/gck/gck-session.h                           |   6 +-
 pkcs11/gck/gck-types.h                             |   2 +-
 pkcs11/gck/tests/Makefile.am                       |   2 +-
 pkcs11/gck/tests/mock-locked-object.c              |   8 +-
 pkcs11/gck/tests/unit-test-authenticator.c         | 253 -------------
 pkcs11/gck/tests/unit-test-credential.c            | 253 +++++++++++++
 pkcs11/pkcs11g.h                                   |  10 +-
 pkcs11/secret-store/gck-secret-collection.c        |  34 +-
 .../tests/unit-test-secret-collection.c            |  94 ++---
 pkcs11/secret-store/tests/unit-test-secret-item.c  |  16 +-
 pkcs11/ssh-agent/gck-ssh-agent-ops.c               |   4 +-
 pkcs11/ssh-store/gck-ssh-private-key.c             |   8 +-
 pkcs11/ssh-store/tests/unit-test-private-key.c     |  10 +-
 26 files changed, 904 insertions(+), 903 deletions(-)

commit e0773b730bc5db35e8a6661fa2b6fec799f0d273
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-10

    [pkcs11] Reorder creation to fix unit tests.
    
    Reorder object creation so that we initialize create only
    attributes before we try to use them.

 pkcs11/gck/gck-session.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit da336e8e56b98a2c8a0789238c5db0c05503e50a
Merge: 2055447 0c08225
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-09

    Merge branch 'master' into dbus-api

commit 0c082256221e324d888ea1b5d6e625b79e1dad99
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-09

    Ignore anjuta project files.

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 782f2ace72e9d30418b6cfc0e4fa2c5352779ede
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-09

    [pkcs11] Fix assertion when comparing attributes.
    
    When comparing attributes that both had zero lengths, but one
    had a null pointer, gck_attribute_equal() used to assert.

 pkcs11/gck/gck-attributes.c             | 4 +++-
 pkcs11/gck/tests/unit-test-attributes.c | 7 +++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 20554475915e2ab019f9441cb643afe650471f5d
Merge: 2a04edf 70b4a23
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-09

    Merge branch 'master' into dbus-api

commit 70b4a236c78c60d697419bf59490793d382b4f51
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-09

    [pkcs11] Don't barf on certificates with unsupported algorithm.
    
    Don't barf on ECDSA certificates, or other certificates with
    an unsupported key algorithm. This adds tests for that. Such
    certificates simply don't have an attached public key.

 pkcs11/gck/gck-certificate.c                   |   44 +-
 pkcs11/gck/gck-data-der.c                      |    1 +
 pkcs11/gck/tests/test-data/ca-certificates.crt | 3601 ++++++++++++++++++++++++
 pkcs11/gck/tests/unit-test-data-der.c          |   40 +
 4 files changed, 3673 insertions(+), 13 deletions(-)

commit 2a04edfa1167d1b5296a46afd04263fc1d1824d3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [dbus] Perform session setenv asynchronously.
    
    Perform SessionManager.SetEnv() asynchronously, and don't complain
    if session manager is not in initialization stage.

 daemon/dbus/gkd-dbus-environment.c | 43 ++++++++++++++++++++++++++------------
 1 file changed, 30 insertions(+), 13 deletions(-)

commit aa56b52225c4648ffdd18ce6222e7f96aa10c4fe
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [dbus] Implement Collection.CreateItem()
    
    Implement creation of items, and replacement of items.

 daemon/data/introspect-collection.xml |   4 +-
 daemon/dbus/gkd-secrets-objects.c     | 231 ++++++++++++++++++++++++++++++----
 daemon/dbus/gkd-secrets-objects.h     |   4 +
 3 files changed, 211 insertions(+), 28 deletions(-)

commit cb8e3afb394d5824ac15538842b8be5fc4fcab11
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [gck] Delay checks of whether a new object is a token object.
    
    Don't determine if a new object is a token object or not
    until after its been created and the factory has had its say.

 pkcs11/gck/gck-module.c               |  4 ++--
 pkcs11/gck/gck-object.c               | 16 +++++++++++-----
 pkcs11/gck/gck-object.h               |  4 +++-
 pkcs11/gck/gck-session.c              | 32 +++++++++++++-------------------
 pkcs11/secret-store/gck-secret-item.c | 29 ++++++++++++++++-------------
 5 files changed, 45 insertions(+), 40 deletions(-)

commit dcaf24581674683fe92c5e62748cf6554050ce6e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [dbus] Implement Collection.Delete and Item.Delete
    
    Implement delete methods in the DBus secret service API.

 daemon/data/introspect-collection.xml       |  2 +-
 daemon/data/introspect-item.xml             |  1 +
 daemon/dbus/gkd-secrets-objects.c           | 50 +++++++++++++++++++++++++++--
 pkcs11/secret-store/gck-secret-collection.c |  3 +-
 4 files changed, 52 insertions(+), 4 deletions(-)

commit ae5cc35d7abf538cbe678e2554926e53c031b2a0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [daemon] When --enable-tests, make warnings fatal.
    
    When running daemon, make dbus and glib warnings fatal if the
    project was configured with --enable-tests.

 configure.in        | 2 +-
 daemon/gkr-daemon.c | 8 +++++++-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 9c2e4fc16101db49fe9e4cd4e76562383174edcf
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [secret-store] Implement creation and deletion of collection.
    
    Implement creation, storing and removal of token collections and
    items. Creating a collection with a master password is not yet
    supported.

 pkcs11/secret-store/gck-secret-binary.c            |   2 +-
 pkcs11/secret-store/gck-secret-collection.c        | 330 +++++++++++++++++++--
 pkcs11/secret-store/gck-secret-collection.h        |  26 +-
 pkcs11/secret-store/gck-secret-item.c              |  58 ++++
 pkcs11/secret-store/gck-secret-item.h              |   4 +
 pkcs11/secret-store/gck-secret-module.c            | 211 ++++++++++++-
 pkcs11/secret-store/gck-secret-object.c            |  67 ++++-
 pkcs11/secret-store/gck-secret-object.h            |   8 +-
 pkcs11/secret-store/gck-secret-search.c            |  84 ++----
 pkcs11/secret-store/gck-secret-textual.c           |   9 +-
 pkcs11/secret-store/tests/test-secret-module.c     |  47 ++-
 .../tests/unit-test-secret-collection.c            | 208 +++++++++++++
 pkcs11/secret-store/tests/unit-test-secret-item.c  | 116 ++++++--
 .../secret-store/tests/unit-test-secret-search.c   |   4 +-
 14 files changed, 1025 insertions(+), 149 deletions(-)

commit 1cd4bb0bf8d41b3d8e5d7d8e11c2f901c05e3bc7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [gck] Reorder disposal of sessions and objects.
    
    Some objects still want a manager when shutting down, so leave
    manager to be the last thing to be finalized.

 pkcs11/gck/gck-module.c  | 5 ++---
 pkcs11/gck/gck-session.c | 6 +++---
 2 files changed, 5 insertions(+), 6 deletions(-)

commit c6062ffbb459b75dd875aa00374b4b72042818e1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [gck] Don't crash on misformatted init PKCS#11 init strings.
    
    Was asserting on a PKCS#11 init string that looked like:
    
       name = 'value'

 pkcs11/gck/gck-module.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a9f72e0c12acdc8a38a08aac938bb521825696db
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    Refactor test directory function calls.
    
    Make test_data_*() and test_scratch_*() function calls.

 daemon/keyrings/tests/unit-test-keyring-file.c       |  6 +++---
 egg/tests/unit-test-asn1.c                           |  2 +-
 egg/tests/unit-test-dh.c                             |  4 ++--
 egg/tests/unit-test-openssl.c                        |  2 +-
 egg/tests/unit-test-spawn.c                          | 12 ++++++------
 gcr/tests/unit-test-certificate.c                    |  2 +-
 gcr/tests/unit-test-parser.c                         |  4 ++--
 pkcs11/gck/tests/test-module.c                       |  2 +-
 pkcs11/gck/tests/unit-test-data-asn1.c               |  2 +-
 pkcs11/gck/tests/unit-test-data-der.c                | 10 +++++-----
 pkcs11/gck/tests/unit-test-data-file.c               |  6 +++---
 pkcs11/gck/tests/unit-test-object.c                  |  2 +-
 pkcs11/gck/tests/unit-test-transaction.c             | 12 ++++++------
 pkcs11/secret-store/tests/unit-test-secret-binary.c  | 10 +++++-----
 .../secret-store/tests/unit-test-secret-collection.c | 14 ++++++++------
 pkcs11/secret-store/tests/unit-test-secret-textual.c |  8 ++++----
 pkcs11/ssh-store/tests/unit-test-private-key.c       |  8 ++++----
 pkcs11/ssh-store/tests/unit-test-ssh-openssh.c       |  6 +++---
 tests/gtest-helpers.c                                | 20 ++++++++++++++++----
 tests/gtest-helpers.h                                |  8 +++++---
 20 files changed, 78 insertions(+), 62 deletions(-)

commit b206e3ee52ed0ae7dc1e897b7112bacd6aeffc2b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-08

    [egg] Move mkdtemp() code into its own file.
    
    Move mkdtemp code into egg-mkdtemp.c so it can be used from
    other places.

 daemon/util/gkr-daemon-util.c | 206 +-----------------------------------------
 egg/Makefile.am               |   1 +
 egg/egg-mkdtemp.c             | 199 ++++++++++++++++++++++++++++++++++++++++
 egg/egg-mkdtemp.h             |  27 ++++++
 4 files changed, 229 insertions(+), 204 deletions(-)

commit 310456e5b7b676ab0e338bf056de95462a601948
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-07

    [gck] Rename GckFactoryInfo to GckFactory.
    
    Makes things cleaner, and allows us to use factory
    constants in better ways.

 pkcs11/gck/gck-authenticator.c                      |  4 ++--
 pkcs11/gck/gck-authenticator.h                      |  2 +-
 pkcs11/gck/gck-certificate.c                        |  4 ++--
 pkcs11/gck/gck-certificate.h                        |  2 +-
 pkcs11/gck/gck-factory.h                            |  8 ++++----
 pkcs11/gck/gck-module.c                             | 18 +++++++++---------
 pkcs11/gck/gck-module.h                             |  4 ++--
 pkcs11/gck/gck-private-key.c                        |  4 ++--
 pkcs11/gck/gck-private-key.h                        |  2 +-
 pkcs11/gck/gck-public-key.c                         |  4 ++--
 pkcs11/gck/gck-public-key.h                         |  2 +-
 pkcs11/gck/gck-session.c                            |  8 ++++----
 pkcs11/gck/gck-session.h                            |  2 +-
 pkcs11/gck/gck-types.h                              |  2 +-
 pkcs11/gck/tests/test-module.c                      |  2 +-
 pkcs11/secret-store/gck-secret-search.c             |  4 ++--
 pkcs11/secret-store/gck-secret-search.h             |  2 +-
 pkcs11/secret-store/tests/unit-test-secret-search.c |  4 ++--
 pkcs11/user-store/gck-user-private-key.c            |  4 ++--
 pkcs11/user-store/gck-user-private-key.h            |  2 +-
 pkcs11/user-store/gck-user-public-key.c             |  4 ++--
 pkcs11/user-store/gck-user-public-key.h             |  2 +-
 22 files changed, 45 insertions(+), 45 deletions(-)

commit 82f6103bed1ca9b3ecd3b0fa0b5ff5ef198e122a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-07

    [gck] Include class name in error message about leaked object.
    
    Include the GType class name in the error message about an
    object outliving its module.

 pkcs11/gck/gck-object.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3599153c060ec3fa864ef8bf5779b40416976cef
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-07

    [gck] Make exposing pkcs11 object part of transaction.
    
    When a transaction fails, and an object was exposed (ie: made
    available through PKCS#11) we should revert the exposure.

 pkcs11/gck/gck-object.c             | 35 +++++++++++++++++++++++
 pkcs11/gck/gck-object.h             |  6 ++++
 pkcs11/gck/gck-session.c            |  4 +--
 pkcs11/gck/tests/test-module.c      | 29 +++++++++++++++++++
 pkcs11/gck/tests/test-module.h      |  2 ++
 pkcs11/gck/tests/unit-test-object.c | 57 +++++++++++++++++++++++++++++++++++++
 6 files changed, 131 insertions(+), 2 deletions(-)

commit ac87793ad5800d5f6d788954451715ab115ea3c4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-06

    Fix prompting problems.
    
     * Initialize libgcrypt properly, which fixed hangs due to libgcrypt
       falling into strange modes when not initialized.
     * Debugging and keyboard grabbing toggles.

 daemon/prompt/gkd-prompt-tool.c | 6 +++++-
 daemon/prompt/gkd-prompt.c      | 6 ++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 04a6ef83a899ee64c7b398daab29ab122dae59c5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-06

    Emit Prompt.Completed signal properly.
    
     * Fix bad arguments passed to dbus.
     * Send correct boolean value for dismissed.

 daemon/dbus/gkd-secrets-prompt.c | 4 ++--
 daemon/dbus/gkd-secrets-unlock.c | 8 +++++---
 2 files changed, 7 insertions(+), 5 deletions(-)

commit d22c92b6517d566e93c747d46eb392c54cc6d549
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-06

    Perform PKCS#11 login to secret store token.
    
     * This uses a blank login.
     * Doesn't actually unlock anything, but is necessary for
       PkCS#11 private object semantics.

 daemon/dbus/gkd-secrets-service.c | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit ca70d157dd143cb48c6531cdec3b68cbd8ad6a4d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-06

    Response is empty if window was closed.
    
    When prompt window is closed, the response is empty.

 daemon/prompt/gkd-prompt-tool.c | 4 +++-
 daemon/prompt/gkd-prompt.c      | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit eafcca4e0c719d3aa49a7b10c5d9da49be37ac7d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-05

    Return the response text properly from prompt.
    
    Return the appropriate response text from the prompt.

 daemon/dbus/gkd-secrets-prompt.c |  2 +-
 daemon/prompt/gkd-prompt-tool.c  | 25 +++++++++++++++++++++++++
 2 files changed, 26 insertions(+), 1 deletion(-)

commit 153a187b0eecc49e04cb4d2f652d69b0b96496b6
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-05

    Fix password and response bugs.
    
    Typos in the prompt password and response loading.

 daemon/prompt/gkd-prompt.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f7cf9a3cd2249408a0ff215cb8dbbad6364c4abd
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-05

    Prompt close and cleanup fixes.
    
    * Use SIGHUP to prompt to exit, and catch in prompt.
     * Fix crashes in signal handlers for completed prompt.
     * Don't error on EPIPE in prompt.

 daemon/prompt/gkd-prompt-tool.c | 18 ++++++++++++--
 daemon/prompt/gkd-prompt.c      | 54 +++++++++++++++++++++++++++++------------
 2 files changed, 54 insertions(+), 18 deletions(-)

commit f54eb2af1c5609e1f04d472af2a74cbab2291db1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-05

    Ignore anjuta files.

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit cadeede096be1a9af79bf41aca2e2d3d84394bb4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-05

    Fixes for prompt signals and responses.
    
    * Redisplay prompt if responded returns FALSE.
     * Fix various other crashers and warnings.

 daemon/dbus/gkd-secrets-prompt.c |  4 +-
 daemon/dbus/gkd-secrets-prompt.h |  2 +-
 daemon/dbus/gkd-secrets-unlock.c |  1 -
 daemon/prompt/gkd-prompt.c       | 79 ++++++++++++++++++++++++++++++++--------
 4 files changed, 67 insertions(+), 19 deletions(-)

commit 140996d802b7ad338a3377dd6c368169c2c5e056
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-03

    Implement prompt password return via encryption.
    
    * Prompt password encrypted return via DH key negotiation.
     * Factor out some common code between prompt-tool and daemon.
     * Add tests for common code.

 configure.in                               |   1 +
 daemon/.gitignore                          |   1 +
 daemon/prompt/Makefile.am                  |  16 +-
 daemon/prompt/gkd-prompt-tool.c            | 116 +++++++++++++-
 daemon/prompt/gkd-prompt-util.c            | 248 +++++++++++++++++++++++++++++
 daemon/prompt/gkd-prompt-util.h            |  49 ++++++
 daemon/prompt/gkd-prompt.c                 | 160 ++-----------------
 daemon/prompt/test/test-data/prompt-empty  |   2 -
 daemon/prompt/test/test-data/prompt-full   |  16 --
 daemon/prompt/test/test-data/prompt-test   |   7 -
 daemon/prompt/tests/Makefile.am            |  14 ++
 daemon/prompt/tests/test-data/prompt-empty |   2 +
 daemon/prompt/tests/test-data/prompt-full  |  16 ++
 daemon/prompt/tests/test-data/prompt-test  |   7 +
 daemon/prompt/tests/unit-test-util.c       | 146 +++++++++++++++++
 egg/Makefile.am                            |  20 ++-
 egg/egg-dh.c                               |   4 +
 egg/egg-dh.h                               |   2 +
 18 files changed, 646 insertions(+), 181 deletions(-)

commit bb151e8ebea668e7261e231b77d2e2a00405e071
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-01

    Tons of bug fixes for the prompting.

 daemon/data/Makefile.am                  |  1 +
 daemon/data/introspect-prompt.xml        | 23 +++++++++++++++++++++++
 daemon/dbus/gkd-secrets-prompt.c         |  3 +++
 daemon/dbus/gkd-secrets-service.c        | 16 +++++++++-------
 daemon/dbus/gkd-secrets-unlock.c         | 27 +++++++++++++++++++++++----
 daemon/dbus/gkd-secrets-unlock.h         |  5 +++--
 daemon/gkr-daemon.c                      |  2 --
 daemon/prompt/gkd-prompt.c               | 30 ++++++++++++++++++++----------
 daemon/prompt/test/test-data/prompt-full | 16 ++++++++++++++++
 9 files changed, 98 insertions(+), 25 deletions(-)

commit d595d6e5882c15ce7d38510ad8e1cd87ec0aa828
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-01

    Move prompt tool into place, and show prompt text.

 Makefile.am                               |   1 -
 configure.in                              |   1 -
 daemon/.gitignore                         |   1 +
 daemon/prompt/Makefile.am                 |  37 ++-
 daemon/prompt/gkd-prompt-tool.c           | 491 ++++++++++++++++++++++++++++++
 daemon/prompt/gkd-prompt.ui               | 408 +++++++++++++++++++++++++
 daemon/prompt/test/test-data/prompt-empty |   2 +
 daemon/prompt/test/test-data/prompt-test  |   7 +
 ui/Makefile.am                            |  37 ---
 ui/gku-prompt-tool.c                      | 407 -------------------------
 ui/gku-prompt.ui                          | 408 -------------------------
 ui/test/test-data/prompt-empty            |   2 -
 ui/test/test-data/prompt-test             |   7 -
 13 files changed, 944 insertions(+), 865 deletions(-)

commit 15a7df11c798c881875596c3432afa340f6443f9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-11-01

    Implement basics of prompting for operations.
    
    * Implement Service.Unlock method.
     * Hook into prompting code.
     * Implementing what was recently posted on the mailing list,
       about prompt objects, and returning them from operations that
       need to prompt.
     * Buildable, but not yet runnable.

 configure.in                          |   1 +
 daemon/.gitignore                     |   6 +-
 daemon/Makefile.am                    |   2 +
 daemon/dbus/Makefile.am               |   4 +-
 daemon/dbus/gkd-secrets-objects.c     |  31 ++
 daemon/dbus/gkd-secrets-objects.h     |   4 +
 daemon/dbus/gkd-secrets-prompt.c      | 387 ++++++++++++++
 daemon/dbus/gkd-secrets-prompt.h      |  70 +++
 daemon/dbus/gkd-secrets-service.c     | 116 +++-
 daemon/dbus/gkd-secrets-service.h     |   6 +
 daemon/dbus/gkd-secrets-types.h       |   6 +-
 daemon/dbus/gkd-secrets-unlock.c      | 351 ++++++++++++
 daemon/dbus/gkd-secrets-unlock.h      |  56 ++
 daemon/prompt/Makefile.am             |  29 +
 daemon/prompt/gkd-prompt-marshal.list |   1 +
 daemon/prompt/gkd-prompt.c            | 975 ++++++++++++++++++++++++++++++++++
 daemon/prompt/gkd-prompt.h            | 102 ++++
 17 files changed, 2119 insertions(+), 28 deletions(-)

commit 54a1d793e84e8202c327131e3abde6d657d737a3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-28

    Shorter serial number for secrets module.
    
    16 chars was too long to fit.

 pkcs11/secret-store/gck-secret-module.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff101ebe9350417addeba00b41377125486c957a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-24

    DBus messages can be hanlded without a response.

 daemon/dbus/gkd-dbus-util.c       | 22 ++++++++++++++++++++++
 daemon/dbus/gkd-dbus-util.h       |  4 ++++
 daemon/dbus/gkd-secrets-service.c | 12 +++++++-----
 3 files changed, 33 insertions(+), 5 deletions(-)

commit aa9f1886654f897e8897b5e3f155e9224c5df464
Merge: ffdafbc ea5fe62
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-24

    Merge branch 'master' into dbus-api

commit ea5fe6215b7a0c25e6f1344b0102a46e4ee175a1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-21

    [library] Fix possible memory leak in error condition.

 library/gnome-keyring-proto.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e869259a54afe95291dfdcb11a48f3467d6a6451
Author: Eric Sesterhenn <eric.sesterhenn@lsexperts.de>
Date:   2009-10-21

    [gp11] Fix memory leak in gp11_slot_get_token_info()
    
    Signed-off-by: Stef Walter <stef@memberwebs.com>

 gp11/gp11-slot.c | 1 +
 1 file changed, 1 insertion(+)

commit 46079fbfe4f83f8160f43d617900a280e720f961
Author: Leonid Kanter <leon@asplinux.ru>
Date:   2009-10-20

    Updated Russian translation

 po/ru.po | 403 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 201 insertions(+), 202 deletions(-)

commit e27fa586d2ba4008b9f41b70e316112a164806d5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-17

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f3b717d2f64ef137dd805167460cf5d0b00e4311
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-17

    Release 2.28.1

 NEWS | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit ffdafbcc51dd7b7d94bd7c82c1dc75af0ff3593b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-11

    [egg] Build in default DH parameters.
    
    Since generating DH parameters is costly, we build in default
    parameters which can be loaded quickly.

 egg/egg-dh.c             | 23 +++++++++++++++++++++++
 egg/egg-dh.h             |  8 +++++---
 egg/tests/unit-test-dh.c | 23 +++++++++++++++++++++++
 3 files changed, 51 insertions(+), 3 deletions(-)

commit 7efb2a3d9d07c31087925143975173e97d3ed8bc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-11

    [egg] Add spawn with callback functionality.
    
    Allows executing an application and getting callbacks when
    stdin, stdout, or stderr need servicing.

 egg/Makefile.am                    |   1 +
 egg/egg-spawn.c                    | 378 +++++++++++++++++++++++++++++++++++++
 egg/egg-spawn.h                    |  65 +++++++
 egg/tests/Makefile.am              |   3 +-
 egg/tests/test-data/echo-script.sh |  11 ++
 egg/tests/unit-test-spawn.c        | 274 +++++++++++++++++++++++++++
 6 files changed, 731 insertions(+), 1 deletion(-)

commit 1286e3c553b3e03ca2b0fbb4cdcafa9cf06e6861
Merge: 9e37d22 1c6fc47
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-10

    Merge branch 'master' into dbus-api

commit 1c6fc47e9abaaa25fa2bf2e081f3da81f08d31d4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-10

    [pkcs11] Make custom pkcs11 constants unsigned longs.
    
    Make our custom PKCS#11 unsigned longs, which could otherwise
    be problematic on 64-bit platforms. See bug #595543

 pkcs11/pkcs11g.h | 6 +++---
 pkcs11/pkcs11i.h | 8 ++++----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 7ddaf5e8d62d3c0955915b3202ae1462aae2e932
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-10

    [gck] Use unsigned long for module handle counter.
    
    Fix compiler warning by using unsigned long for module handle
    counter. See bug #595543

 pkcs11/gck/gck-module.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e27b1c9b274fb58dc9724f0d176211312a035053
Author: Vincent Untz <vuntz@gnome.org>
Date:   2009-10-08

    Fix support for rsa1 keys
    
    Read the comment, instead of ignoring it and using the bytes as if they
    were constraints.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597813
    
    Signed-off-by: Stef Walter <stef@memberwebs.com>

 pkcs11/ssh-agent/gck-ssh-agent-ops.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit aabb6f6c77796e7d1f8ba961c109fa093291326c
Author: Vincent Untz <vuntz@gnome.org>
Date:   2009-10-02

    [daemon] Fix a delay when the daemon quits
    
    g-k-d is a multi-threaded program, using a signal thread to stop the
    main loop. The main thread was using raise() to send SIGTERM to the
    signal thread, but it actually sends the signal to itself;
    pthread_kill() has to be used.
    
    This also implies a switch to pthread_create() instead of
    g_thread_create() since the GThread API doesn't cover pthread_kill().

 daemon/gkr-daemon.c | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 9e37d2273e615188ae19c7b88f4043b2d7480934
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-04

    [ui] Add titlebar, and buttons to prompt dialog.

 ui/gku-prompt-tool.c          | 48 ++++++++++++++++++++++++++++++++++++++++---
 ui/test/test-data/prompt-test |  3 +++
 2 files changed, 48 insertions(+), 3 deletions(-)

commit 67b42270b62fdcc9bde1905e020e06dabf03569b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-04

    [ui] Add very basic unfinished prompt tool.

 Makefile.am                    |   1 +
 configure.in                   |   1 +
 ui/.gitignore                  |   2 +
 ui/Makefile.am                 |  37 ++++
 ui/gku-prompt-tool.c           | 365 ++++++++++++++++++++++++++++++++++++
 ui/gku-prompt.ui               | 408 +++++++++++++++++++++++++++++++++++++++++
 ui/test/test-data/prompt-empty |   2 +
 ui/test/test-data/prompt-test  |   4 +
 8 files changed, 820 insertions(+)

commit e5435bab28b5b2bb12ad3d3fbcfebb3c59a1f482
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-04

    [egg] Add DH functions for use by IPC.

 egg/Makefile.am                   |   1 +
 egg/egg-dh.c                      | 144 ++++++++++++++++++++++++++++++++++++++
 egg/egg-dh.h                      |  35 +++++++++
 egg/tests/Makefile.am             |   1 +
 egg/tests/test-data/dh-params.pem |   5 ++
 egg/tests/unit-test-dh.c          |  89 +++++++++++++++++++++++
 6 files changed, 275 insertions(+)

commit 9a19c9fee19259ea0effa8879408a66297e6f4ad
Merge: 13545a9 0eb9a70
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-10-04

    Merge branch 'master' into dbus-api

commit 0eb9a70dfad3ef49cd1688582c9545082181e830
Author: Jonny Lamb <jonnylamb@gnome.org>
Date:   2009-10-01

    Use default D-Bus timeout when finding daemon.
    
    When we're trying to find the keyring daemon over D-Bus it's likely
    that we're service activating it. If we've got a timeout of one
    second and the system is under heavy load (booting, for example), then
    it will not start in time, and gnome_keyring_is_available() will
    return FALSE.
    
    The default timeout in dbus-daemon is 25 seconds at the time of
    writing. Although this sounds a lot for a blocking call in
    _is_available, the only situation where it could take this amount of
    time is if the keyring daemon is on the bus but is not responding
    (it's wedged itself somehow). In all other circumstances, a response
    should come immediately.
    
    Signed-off-by: Jonny Lamb <jonnylamb@gnome.org>
    Signed-off-by: Stef Walter <stef@memberwebs.com>

 library/gnome-keyring-socket.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 13545a93d229613938746d1212d5f4c24cb978dd
Merge: 0b60338 3341fb9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-30

    Merge branch 'master' into dbus-api

commit 3341fb92230ec4da70290727629c34be2ec5ec61
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-30

    [egg] Fix assertion when releasing secure memory block.
    
    If a secure memory block was allocated that was not multiple of
    page size, then on releasing that block, an assertion was
    raised. The source of the problem was a lack of tracking the
    actually allocated block size.

 egg/egg-secure-memory.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b60338100d26212c9b6f1d373af2ed71c31414f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-27

    [daemon] Implement SearchItems on collection and service.
    
    Implement the SearchItems methods on the collection and service
    objects.

 daemon/dbus/gkd-secrets-objects.c | 235 ++++++++++++++++++++++++++++----------
 daemon/dbus/gkd-secrets-objects.h |   4 +
 daemon/dbus/gkd-secrets-service.c |   2 +-
 3 files changed, 178 insertions(+), 63 deletions(-)

commit 22cd4bf3a1fd562bf34dcbfc197351dc0d813bb7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-27

    [secret-store] Refresh token objects when creating a search.
    
    The normal time that we refresh loaded objects is when running
    C_FindObjects. However since creating a search object is just
    like doing a find, do the same thing here.

 pkcs11/secret-store/gck-secret-search.c | 3 +++
 1 file changed, 3 insertions(+)

commit 768e29571e871c07615708a3e9cbc15e2b85f267
Merge: ddee2e7 b7bb8bc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-26

    Merge branch 'master' into dbus-api

commit ddee2e798da8fee11f6df9bdbf59e95f30eeb1f3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-26

    [gp11] Return added attr from gp11_attributes_add_*
    
    Return the added GP11Attribute struct from the
    gp11_attributes_add_xxx() set of functions.

 gp11/gp11-attributes.c | 74 +++++++++++++++++++++++++++++++++-----------------
 gp11/gp11.h            | 16 +++++------
 2 files changed, 57 insertions(+), 33 deletions(-)

commit 34ca11c960f2271f98d6f57fc22d0535a692ddde
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-26

    [secret-store] Complete secret search functionality and tests.
    
    Finish up the GckSecretSearch object and add tests for all
    it's functionality.

 pkcs11/secret-store/gck-secret-module.c            |   2 +
 pkcs11/secret-store/gck-secret-search.c            | 362 +++++++++++++++++++--
 pkcs11/secret-store/gck-secret-search.h            |  22 +-
 pkcs11/secret-store/tests/Makefile.am              |   1 +
 .../secret-store/tests/unit-test-secret-search.c   | 354 ++++++++++++++++++++
 5 files changed, 708 insertions(+), 33 deletions(-)

commit 21c2cd0c5edef9ed9f9e6c71a09215d976ab846d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-26

    [egg] Null terminate credentials read from /proc
    
    The process command name read from /proc was not null terminated
    in the previous code.

 egg/egg-unix-credentials.c | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit bd28562fd1972d4291af2595a384703b5a685388
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-26

    [gck] Fix GckManager attribute-changed signal.
    
    Fix the declaration for GckManager::attribute-changed signal
    which was all screwed up.

 pkcs11/gck/gck-manager.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 464d9c5591ec325ca5911d4d205ed03124e0e3fc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-26

    [gck] Separate object creation logic, from PKCS#11 interface.
    
    Add gck_session_create_object_for_factory() function, which
    does the heavy lifting for C_CreateObject in PKCS#11. Makes
    this function usable from tests and the like.

 pkcs11/gck/gck-session.c | 165 ++++++++++++++++++++++++++---------------------
 pkcs11/gck/gck-session.h |   6 +-
 2 files changed, 98 insertions(+), 73 deletions(-)

commit b7bb8bcfaa02784abc34aa9abde1cebf2219134b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-21

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a10c2d4e7fc50ce299fb13854341e0105f14c614
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-21

    Release version 2.28.0

 NEWS | 3 +++
 1 file changed, 3 insertions(+)

commit eaf00c124242f2872d1fff7368b253114ac17a9f
Author: Nirbheek Chauhan <nirbheek.chauhan@gmail.com>
Date:   2009-09-21

    Fix linking with --as-needed -- "undefined reference to `g_thread_init'"
    
    GNOME Bug 595767
    
    Signed-off-by: Stef Walter <stef@memberwebs.com>

 tool/Makefile.am | 1 +
 1 file changed, 1 insertion(+)

commit fd4950395ba54d48199986ffd4bf441c95db7417
Author: Amitakhya Phukan <aphukan@fedoraproject.org>
Date:   2009-09-21

    Updating Assamese translations

 po/as.po | 494 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 249 insertions(+), 245 deletions(-)

commit 9dc4f4849c6a77e5761020d519caa45a687730de
Author: Shankar Prasad <svenkate@redhat.com>
Date:   2009-09-21

    Updated Kannada(kn) translation

 po/kn.po | 549 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 272 insertions(+), 277 deletions(-)

commit f9a9731a68e1cb21174dfe11d65b4e5653f9308f
Author: Joan Duran <jodufi@gmail.com>
Date:   2009-09-21

    Updated Catalan translation

 po/ca.po | 416 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 208 insertions(+), 208 deletions(-)

commit b2a92e96b17c4d7b1a303135edbc044b5a93dc2e
Author: Yavor Doganov <yavor@gnu.org>
Date:   2009-09-20

    Updated Bulgarian translation

 po/bg.po | 107 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 95 insertions(+), 12 deletions(-)

commit 395f43748b2d349a24e2a24607b0a2747e7b7aa8
Author: Francesco Marletta <francesco.marletta@tiscali.it>
Date:   2009-09-19

    Updated Italian translation

 po/it.po | 406 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 205 insertions(+), 201 deletions(-)

commit a92b121569990b6148e45b320c09808103a47097
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-09-17

    Upadated Oriya Translation

 po/or.po | 162 +++++++++++++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 128 insertions(+), 34 deletions(-)

commit 46d4bbbfa97e5c8235e867c3eab070bcc2538e38
Author: krishnababu k <kkrothap@redhat.ocm>
Date:   2009-09-17

    Updated Telugu Translation

 po/te.po | 244 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 122 insertions(+), 122 deletions(-)

commit 09056f6a484f71bcaa8ca222c6f5ebb572c90c89
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   2009-09-17

    Added Ukrainian translation

 po/uk.po | 216 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 108 insertions(+), 108 deletions(-)

commit 889f236b33d17246682fcd06a518a23966925c6a
Author: Antón Méixome <meixome@mancomun.org>
Date:   2009-09-16

    Updated Galician Translation

 po/gl.po | 101 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 91 insertions(+), 10 deletions(-)

commit 0fe43f4541ca3ede767068372b6dbfc02fe44734
Author: Adi Roiban <adi@roiban.ro>
Date:   2009-09-16

    Updated Romanian translation

 po/ro.po | 774 ++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 463 insertions(+), 311 deletions(-)

commit b71a090e99b59fe79b343e07943fefefa4f98b56
Author: Rajesh Ranjan <rranjan@rranjan.csb>
Date:   2009-09-16

    hindi update by Rajesh Ranjan

 po/hi.po | 479 +++++++++++++++++----------------------------------------------
 1 file changed, 129 insertions(+), 350 deletions(-)

commit e87630faf4d7852ed7c122669dc1a2cbbaab2ae6
Author: Gintautas Miliauskas <gintautas@miliauskas.lt>
Date:   2009-09-15

    Updated Lithuanian translation.

 po/lt.po | 408 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 204 insertions(+), 204 deletions(-)

commit 1e0ef5fec5a6afe0071982e484e968c94bc1a803
Author: Takayuki KUSANO <AE5T-KSN@asahi-net.or.jp>
Date:   2009-09-14

    Update Japanese translation

 po/ja.po | 424 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 213 insertions(+), 211 deletions(-)

commit 272fec194df174be437f49f94d2dbd82d2e66efb
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-13

    [daemon] Possible fix for intermittent deadlock.
    
    Do the flag intercharge closer to when poll is actually called
    in case the cleanup_done_threads() results in other threads
    running.

 daemon/util/gkr-daemon-async.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 94f87d6fb174c9c5604f9462c93c354310e14dc4
Author: Diego Elio 'Flameeyes' Pettenò <flameeyes@gmail.com>
Date:   2009-09-13

    Fix parallel build of test sources.
    
    When building with make -jX with X greater than 1 (parallel make), if the
    dependency tree given in the Makefile is not perfect, the build will fail.
    
    Since the prep-gtest.sh generates two files, both should be listed in the
    Makefile, with the latter depending on the former (in order of creation);
    since the header file is generated slightly earlier than the source file,
    this is the correct order (wrong order would work on most filesystems but
    will fail on tmpfs, xfs and ext4).
    
    Additionally, make sure to tell automake about the generated sources, the
    BUILT_SOURCES variable will ensure that the dependencies inside the
    generated source files will be taken properly care of.
    
    Symptoms of the previous brokenness would look like missing includes,
    because the run-(auto|prompt)-test.h header would be used _after_ the file
    started being written but _before_ it was completely written (race
    condition).
    
    Additionally, in egg tests, avoid using BUILT_SOURCES to set up UNIT_AUTO,
    and also append to it after test.make has been included, so that they won't
    overwrite one the other.
    
    Signed-off-by: Stef Walter <stef@memberwebs.com>

 egg/tests/Makefile.am        | 11 +++++------
 pkcs11/gck/tests/Makefile.am | 15 ++++++---------
 tests/gtest.make             | 14 ++++++++++++--
 3 files changed, 23 insertions(+), 17 deletions(-)

commit 90b08831ceabe526cbb0e7b10e21d008e0b03400
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-13

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 366cf5529a6cc99a5d0c3f95fb7629299b6b7a41
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-13

    Release version 2.27.92

 NEWS         | 140 ++++++++++++++++++++++++++++++++---------------------------
 configure.in |   2 +-
 2 files changed, 76 insertions(+), 66 deletions(-)

commit fac01200abc986ff73e4928d7be8f1e61905f424
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-13

    [library] Use glib memory routines to explicitly allocate memory.
    
    In some cases there could be a difference between the glibc, and glib
    routines. This may have been the cause of bug #588443.

 library/gnome-keyring-proto.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8970f08b52c847e591ae1b0ea791bbbf52b7194b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-13

    [rpc-layer] Fix erroneous assertion. Let error messages handle this case.
    
    Fixes bug #533164

 pkcs11/rpc-layer/gck-rpc-module.c | 1 -
 1 file changed, 1 deletion(-)

commit 9c9715bf0da4b1ac794c142385299600f94124f7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-09-13

    Revert change which accidentally bumped libtasn1 required version to 1.0.
    
    See later comments on Bug #563702

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8769298389682409e475cdca4ab77562afebc3c8
Author: Ask H. Larsen <asklarsen@gmail.com>
Date:   2009-09-13

    Updated Danish translation

 po/da.po | 416 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 208 insertions(+), 208 deletions(-)

commit 4a8ecf54f3439988ee533aad8b8f4f05fe9f6af0
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   2009-09-12

    Updated British English translation

 po/en_GB.po | 420 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 210 insertions(+), 210 deletions(-)

commit c89262471ebaf7003a40fdda44954d7a6781dfae
Author: Tomasz Dominikowski <dominikowski@gmail.com>
Date:   2009-09-12

    Updated Polish translation

 po/pl.po | 145 ++++++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 92 insertions(+), 53 deletions(-)

commit dc130376cf4e4bec34200fd0f7e00874a7d445f7
Author: Ani <peter.ani@gmail.com>
Date:   2009-09-12

    Updaeted Malayalam Translations

 po/ml.po | 474 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 221 insertions(+), 253 deletions(-)

commit de409ed9e0f01dbb8aa3b21c296ad7e708ca4b56
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   2009-09-12

    Updated Slovenian translation

 po/sl.po | 474 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 237 insertions(+), 237 deletions(-)

commit 2a50afdbddc2766d481336af97dccd5df27fba12
Author: Sandeep Shedmake <sshedmak@redhat.com>
Date:   2009-09-11

    Updated Marathi Translations

 po/mr.po | 597 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 286 insertions(+), 311 deletions(-)

commit e1994eae66cc2f38347c8fc66b4f1746e99048d7
Author: A S Alam <aalam@users.sf.net>
Date:   2009-09-11

    Updating Translation for Punjabi

 po/pa.po | 503 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 242 insertions(+), 261 deletions(-)

commit 93ccf2461a35ad7d4480d460d0cdc7d56c21c056
Author: André Gondim <andregondim@ubuntu.com>
Date:   2009-09-08

    Corrected an access key in Brazilian Portuguese translation

 po/pt_BR.po | 210 +++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 115 insertions(+), 95 deletions(-)

commit fa0a7cd9a3f750d4e05f4e96c28dea9cf5d1236a
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2009-09-08

    Updated Gujarati Translations

 po/gu.po | 160 +++++++++++++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 126 insertions(+), 34 deletions(-)

commit 7f406fa0e54b774707f18bde38cb97b5c0759c32
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   2009-09-07

    Hungarian translation updated

 po/hu.po | 471 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 241 insertions(+), 230 deletions(-)

commit 627c70ee92ffb64fd1000a2fb2de6a749b2fbb93
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2009-09-01

    Update Norwegian bokmål translation.

 po/nb.po | 225 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 127 insertions(+), 98 deletions(-)

commit 1c05c6682823d0d0e6636261a61669751c158fb6
Author: Jamil Ahmed <itsjamil@gmail.com>
Date:   2009-09-01

    Updated Bengali translation

 po/bn.po | 1372 +++++++++++++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 1177 insertions(+), 195 deletions(-)

commit b96f35c47bc65d32fc712d473812d4e89d12f4dc
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2009-08-31

    Updated Arabic translation

 po/ar.po | 157 ++++++++++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 105 insertions(+), 52 deletions(-)

commit 519ca498ca7c0b7d1b1ad0ea59834f951c1a11b1
Author: Duarte Loreto <happyguy_pt@hotmail.com>
Date:   2009-08-31

    Updated Portuguese translation

 po/pt.po | 412 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 207 insertions(+), 205 deletions(-)

commit 052b588dea6973d64d8138dc89eeef490233b640
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [dbus] Implement setting of collection and item properties.

 daemon/dbus/gkd-secrets-objects.c | 244 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 239 insertions(+), 5 deletions(-)

commit 74af3a973c4d8c39f7022992849a233d8a6ac847
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [secret-store] Only return CKR_USER_NOT_LOGGED_IN when attribute valid.
    
    Don't return CKR_USER_NOT_LOGGED_IN for any attribute that is being
    set on a collection or item. Only when the attribute is valid and
    not a read-only attribute.

 pkcs11/secret-store/gck-secret-object.c | 14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 046dcf54982611d735c9cf690c49154bc0fa3057
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [gck] Return CKR_ATTRIBUTE_READ_ONLY when attribute exists.
    
    When setting an attribute, return CKR_ATTRIBUTE_READ_ONLY when an
    attribute exists but cannot be written to. Up until now we were
    returning CKR_ATTRIBUTE_TYPE_INVALID.

 pkcs11/gck/gck-object.c | 28 +++++++++++++---------------
 1 file changed, 13 insertions(+), 15 deletions(-)

commit 7396a4fca5b55c6ce0e9e5f2fdd1d04b427e3b13
Author: Vincent Untz <vuntz@gnome.org>
Date:   2009-08-30

    [pam] Fix logic for only_if option
    
    The logic was reverted, so we were ignoring services that were supposed
    to be the ones allowed.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593575

 pam/gkr-pam-module.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 522d8d99bc5b99231ebc619882502a0f7aade7ea
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [secret-store] Implement C_SetAttributeValue.
    
    Complete the implementation of C_SetAttributeValue, which has been
    missing up until this point.

 pkcs11/gck/gck-module-ep.h |  2 +-
 pkcs11/gck/gck-session.c   | 26 ++++++++++++++++++++++++--
 2 files changed, 25 insertions(+), 3 deletions(-)

commit ce8210972a892e905a8262cdc247b7321becfe1b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [secret-store] Remove write protection from secret store.
    
    Remove the CKF_WRITE_PROTECTED flag from the secret store token.

 pkcs11/secret-store/gck-secret-module.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d99d472992fe5086ac2e93272462086af6dcc231
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [secret-store] Mark objects as modifiable.
    
    Mark item and collection objects as modifiable.

 pkcs11/secret-store/gck-secret-object.c | 3 +++
 1 file changed, 3 insertions(+)

commit 85ccdcfe3ca4b6b01e446b76760e2e038fd30b2f
Merge: a1b0215 0fa6f05
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    Merge branch 'master' into dbus-api

commit ddeadea08913230532f12200cebb74811691ddd3
Author: Mario Blättermann <mariobl@gnome.org>
Date:   2009-08-30

    Updated German translation

 po/de.po | 667 +++++++++++++++++++++++----------------------------------------
 1 file changed, 243 insertions(+), 424 deletions(-)

commit 0fa6f05cfcedef35dd5de25908cbc1aceb50e61d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [egg] Remove unneeded signal handling code.

 egg/Makefile.am              |   1 -
 egg/egg-unix-signal.c        | 230 -------------------------------------------
 egg/egg-unix-signal.h        |  34 -------
 egg/tests/Makefile.am        |   1 -
 egg/tests/unit-test-signal.c | 114 ---------------------
 5 files changed, 380 deletions(-)

commit 7d19e6eb281a60b6f39af32b1242b808f0f7edd0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    [daemon] Rework signal handling, startup procedure.
    
    Reworking the signal handling, so we have a specific thread for
    handling signals. All other threads ignore signals. This is the
    recommended way to 'mix' signals and threads.
    
    In addition we move the part of startup that we can perform
    after forking into separate procedures. In particular we try
    to prevent starting threads until after we've forked. Besides
    the obvious sanity, this helps the signal handling to work
    for all threads.

 daemon/gkr-daemon-dbus.c                     |   2 +-
 daemon/gkr-daemon.c                          | 164 +++++++++++++++++++-------
 daemon/gkr-daemon.h                          |   4 +-
 daemon/pkcs11/gkr-pkcs11-daemon.c            |  43 ++++---
 daemon/pkcs11/gkr-pkcs11-daemon.h            |   4 +-
 pkcs11/rpc-layer/gck-rpc-daemon-standalone.c |   6 +-
 pkcs11/rpc-layer/gck-rpc-dispatch.c          |  68 ++++++++---
 pkcs11/rpc-layer/gck-rpc-layer.h             |  11 +-
 pkcs11/ssh-agent/gck-ssh-agent-private.h     |   2 +-
 pkcs11/ssh-agent/gck-ssh-agent-standalone.c  |  16 ++-
 pkcs11/ssh-agent/gck-ssh-agent.c             | 165 +++++++++++++--------------
 pkcs11/ssh-agent/gck-ssh-agent.h             |   6 +-
 12 files changed, 313 insertions(+), 178 deletions(-)

commit 639d8e67269dc13b0ab5b029376b1a9fcf9d3e31
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-30

    Add silent-rules automake option when running automake 1.11
    
    Can now supress most automake output. This makes it easier to
    see warnings and the like. Use the following to build quietly:
    
    make -s V=0

 configure.in | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 13fd62543d55daf4f20cf954b2027bc36d9a92ce
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-29

    [daemon] No warning when a disk doesn't have a UDI identifier.

 daemon/util/gkr-location.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 0d6d93aabfd6aa447bbad09843201cbb93426eee
Author: Miloš Popović <mpopovic@src.gnome.org>
Date:   2009-08-29

    Updated Serbian translation

 po/sr.po       | 220 +++++++++++++++++++++++++++++----------------------------
 po/sr@latin.po | 220 +++++++++++++++++++++++++++++----------------------------
 2 files changed, 222 insertions(+), 218 deletions(-)

commit e1c5db68d690a6a782b7e8051c3260557cc1d671
Author: Baris Cicek <baris@teamforce.name.tr>
Date:   2009-08-29

    Updated Turkish translation.

 po/tr.po | 220 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 110 insertions(+), 110 deletions(-)

commit cb155df155579ba1f40c674c5679214bca8a4610
Author: Runa Bhattacharjee <runab@redhat.com>
Date:   2009-08-28

    Updated Bengali India Translations

 po/bn_IN.po | 239 +++++++++++++++++++++++++++++-------------------------------
 1 file changed, 114 insertions(+), 125 deletions(-)

commit 51a225aa3f19d51bb1108744990f17ce35ca0627
Author: Branko Kokanović <branko.kokanovic@gmail.com>
Date:   2009-08-28

    Updated Serbian translation

 po/sr.po       | 1192 +++++++++++++++++++++++++++++++++++++++++++++++++++-----
 po/sr@latin.po | 1192 +++++++++++++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 2180 insertions(+), 204 deletions(-)

commit a2ac7c176871813f19747b55b103aebf57eeca39
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2009-08-27

    Updated Basque language

 po/eu.po | 87 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 84 insertions(+), 3 deletions(-)

commit a1b021547622d4a3d5372bc15677aff0b0a1ed8f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-27

    [dbus] Add introspection to all our dbus objects.

 daemon/dbus/Makefile.am           | 11 ++++++-----
 daemon/dbus/gkd-dbus-util.c       | 35 +++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-dbus-util.h       |  8 +++++---
 daemon/dbus/gkd-secrets-objects.c |  6 ++++++
 daemon/dbus/gkd-secrets-service.c |  9 ++++++---
 daemon/dbus/gkd-secrets-session.c |  4 ++++
 6 files changed, 62 insertions(+), 11 deletions(-)

commit 1108b3c93b2656de8670897e4a9441a308b3ad6f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-27

    [dbus] Add introspectable XML files.

 daemon/data/Makefile.am               | 13 +++++-
 daemon/data/introspect-collection.xml | 58 ++++++++++++++++++++++++++
 daemon/data/introspect-item.xml       | 39 ++++++++++++++++++
 daemon/data/introspect-service.xml    | 76 +++++++++++++++++++++++++++++++++++
 daemon/data/introspect-session.xml    | 34 ++++++++++++++++
 5 files changed, 218 insertions(+), 2 deletions(-)

commit bf1c01ef1b4ed2857cf7e993e63b0c0e7865d540
Author: Claude Paroz <claude@2xlibre.net>
Date:   2009-08-26

    Updated French translation

 po/fr.po | 521 +++++++++++++++++++++++++--------------------------------------
 1 file changed, 206 insertions(+), 315 deletions(-)

commit 2cdea2e016e4464b90bde3048bf0dd80584036c9
Author: Claude Paroz <claude@2xlibre.net>
Date:   2009-08-26

    Missing prefix before gtkbuilder ui files

 po/POTFILES.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2398042c4279fc0f3d0ab9f7fbdfb33afd1079bc
Author: Inaki Larranaga Murgoitio <dooteo@zundan.com>
Date:   2009-08-26

    Updated Basque language

 po/eu.po | 465 ++++++++++++++++++++++++++-------------------------------------
 1 file changed, 192 insertions(+), 273 deletions(-)

commit 6b040de8507e02c7569217dbab7396abb0b77475
Author: Tomasz Dominikowski <dominikowski@gmail.com>
Date:   2009-08-25

    Updated Polish translation

 po/pl.po | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 922dc2b1def4601c86309f2c7bb58a5a084b1353
Author: Tomasz Dominikowski <dominikowski@gmail.com>
Date:   2009-08-25

    Updated Polish translation

 po/pl.po | 511 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 236 insertions(+), 275 deletions(-)

commit 2dce6c36ff1e00e58dd32d41d04784b45541f7b2
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2009-08-24

    Updated Gujarati Translations

 po/gu.po | 221 ++++++++++++++++++++-------------------------------------------
 1 file changed, 71 insertions(+), 150 deletions(-)

commit 196280d7cfde3ab899a51f7173f15783fde95f91
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Make property calls handle interfaces better.
    
    More relaxed checking of interface arguments to property
    calls. Null and empty interfaces match anything.

 daemon/dbus/gkd-dbus-util.c       | 14 ++++++++++++++
 daemon/dbus/gkd-dbus-util.h       |  2 ++
 daemon/dbus/gkd-secrets-objects.c | 34 ++++++++++++++++++++++++++--------
 daemon/dbus/gkd-secrets-service.c | 16 ++++++++++++----
 4 files changed, 54 insertions(+), 12 deletions(-)

commit 8595b972135762671fc6838f28d52506f14f90a6
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Put in stubs for all methods.
    
    Put in stubs for all methods and treat properties methods just
    like other methods.

 daemon/dbus/gkd-secrets-objects.c | 48 ++++++++++++++++----------------
 daemon/dbus/gkd-secrets-service.c | 58 +++++++++++++++++++++++----------------
 2 files changed, 58 insertions(+), 48 deletions(-)

commit 773eb970105edba605800465726d3fd7d5a237fb
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Implement Collections proprerty on Service.
    
    Implement Service.Collections and reorganize how we look up
    object paths.

 daemon/dbus/gkd-secrets-objects.c | 235 +++++++++++++++++++++++---------------
 daemon/dbus/gkd-secrets-objects.h |  17 ++-
 daemon/dbus/gkd-secrets-service.c |  84 +++++++++++---
 3 files changed, 226 insertions(+), 110 deletions(-)

commit 4312f618a4306014b2c7e79f1fa408d80744b305
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Refactor property lookups, less duplicated code.

 daemon/dbus/gkd-secrets-objects.c | 142 ++++++++++++++++----------------------
 1 file changed, 60 insertions(+), 82 deletions(-)

commit bb1778cc17540d1fffc7768b4e49007557703c89
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [secrets-store] Use const pointers when parsing fields attribute.

 pkcs11/secret-store/gck-secret-fields.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 093406d826b57e48fd41f718c9822a41b59de5f5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Implement the Collection.Items property.
    
    Implement the collection Items property which involves looking
    up item identifiers and encoding object paths.

 daemon/dbus/gkd-secrets-objects.c | 138 +++++++++++++++++++++++++++++++++++---
 1 file changed, 130 insertions(+), 8 deletions(-)

commit fc22ede6c3a9ead61dc5dccee27d3c0889b8641b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Implement support for Attributes property.
    
    Implement support for parsing the fields attribute into an
    attributes property dictionary.

 daemon/dbus/gkd-secrets-objects.c | 67 ++++++++++++++++++++++++++++++++++++++-
 1 file changed, 66 insertions(+), 1 deletion(-)

commit 94ddef028a98dfc3f8e05ce1e950d982478d5a9b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Add support for Locked, Created, Modified.
    
    Add support for boolean and time properties, and add in Locked
    Created and Modifed, on both items and collections.

 daemon/dbus/gkd-secrets-objects.c | 88 ++++++++++++++++++++++++++++++++++++++-
 1 file changed, 87 insertions(+), 1 deletion(-)

commit 2f4b8e93d704b4263ee05dea2a11610f6a926e09
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [dbus] Add property access, and collection/item mapping.
    
    Map dbus object paths to collectionts and items, and add the first
    property access: Label

 daemon/dbus/gkd-secrets-objects.c | 582 ++++++++++++++++++++++++++++++++++----
 daemon/dbus/gkd-secrets-service.c |  31 ++
 daemon/dbus/gkd-secrets-service.h |   3 +
 daemon/dbus/gkd-secrets-types.h   |   3 +
 4 files changed, 562 insertions(+), 57 deletions(-)

commit 57a72502f1bf57db91006bb64577a01afb55978c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [secret-store] Load *.keyring instead of *.keyrings files

 pkcs11/secret-store/gck-secret-module.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 17a897bada44cd82d8a467ae13bc57e0fca2c3fa
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [secret-store] Add proper CKA_CLASS attributes to item/collection

 pkcs11/secret-store/gck-secret-collection.c | 15 +++++++++++++++
 pkcs11/secret-store/gck-secret-item.c       |  3 +++
 2 files changed, 18 insertions(+)

commit 927bd8be0797f22f2c5edd813b862eb3be05dfb0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-23

    [gp11] Don't fail when allocating zero length value.
    
    When copying a zero length value, don't fail.

 gp11/gp11-object.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a631446b97c99f08f93bbf0d864aede11e875148
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [daemon] Support calling pkcs11 code from mainloop.
    
    The old daemon code uses gkr_daemon_async_xxx() functionality.
    Make the concurrency locking functionality disabled when
    already in the mainloop

 daemon/util/gkr-daemon-async.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit f16c577d25587de33db236d3e7e4c0beac33618c
Author: Changwoo Ryu <cwryu@debian.org>
Date:   2009-08-23

    Update Korean translation

 po/ko.po | 521 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 251 insertions(+), 270 deletions(-)

commit 567db59f5266e1985981d920b97366961f2db34a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [gck] Don't crash on OpenSession if flags invalid.
    
    If the combination of flags and app_data was invalid when calling
    OpenSession then it would segfault

 pkcs11/gck/gck-module.c | 2 ++
 1 file changed, 2 insertions(+)

commit e0d1520333dd15c75658d09a228a66a28acab850
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [gp11] CK_NOTIFY accepted when opening a session.
    
    The gp11_slot_open_session_full() and gp11_slot_open_session_async()
    functions now accept CK_NOTIFY and app data parameters.

 gcr/gcr-importer.c                  |  4 ++--
 gp11/gp11-object.c                  |  3 ++-
 gp11/gp11-slot.c                    | 20 ++++++++++++++++----
 gp11/gp11.h                         |  4 ++++
 gp11/tests/unit-test-gp11-session.c |  8 ++++----
 5 files changed, 28 insertions(+), 11 deletions(-)

commit 3e8b8fc73a4c70a91159d92efe1a74d0a3f31051
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [dbus] Do our own dispatch of dbus messages.
    
    Do our own dispatch of dbus messages, which allows us to:
    a) Make sure we've identified the client, b) show certain
    objects to certain clients.

 daemon/dbus/gkd-secrets-objects.c |  98 ++++-----
 daemon/dbus/gkd-secrets-objects.h |   4 +-
 daemon/dbus/gkd-secrets-service.c | 416 ++++++++++++++++++++++++--------------
 daemon/dbus/gkd-secrets-service.h |   1 -
 daemon/dbus/gkd-secrets-session.c | 116 +++++------
 daemon/dbus/gkd-secrets-session.h |   4 +-
 daemon/dbus/gkd-secrets-types.h   |   2 +-
 pkcs11/pkcs11i.h                  |   2 -
 8 files changed, 356 insertions(+), 287 deletions(-)

commit 46dbc9cc44c2d0d26d8d05fab7d23a339cefd98a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [dbus] Return dbus messages from method/property handlers.
    
    Simpler overall construction. Only async methods shouldn't
    return a message. They'll return the usual handler result.

 daemon/dbus/gkd-secrets-objects.c |  9 ++++++++-
 daemon/dbus/gkd-secrets-service.c | 20 +++++++++++++-------
 daemon/dbus/gkd-secrets-session.c | 38 ++++++++++++++++++--------------------
 3 files changed, 39 insertions(+), 28 deletions(-)

commit e72c31eb8c318e5b679f3e44cbccb8fca07912bf
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [dbus] We'll be proxying objects to pkcs11 from GkdSecretsObjects.
    
    Create a new GkdSecretsObjects class which the service will use
    to proxy all collections and items from PKCS#11 over DBus.

 daemon/dbus/Makefile.am           |   1 +
 daemon/dbus/gkd-dbus-secrets.c    |   2 +
 daemon/dbus/gkd-secrets-objects.c | 271 ++++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secrets-objects.h |  49 +++++++
 daemon/dbus/gkd-secrets-service.c |  36 +++--
 daemon/dbus/gkd-secrets-types.h   |   1 +
 6 files changed, 348 insertions(+), 12 deletions(-)

commit 17618f2595cc541f2c90b2639e23d34a631bb863
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [dbus] Initialize dbus service with pkcs11 slot.
    
    Choose the correct pkcs11 slot, and initialize the dbus
    service with it. The criteria is currently simplistic.

 daemon/dbus/gkd-dbus-secrets.c    | 42 ++++++++++++++++++++++++++++++++++++++-
 daemon/dbus/gkd-secrets-service.c | 29 +++++++++++++++++++++++++++
 daemon/dbus/gkd-secrets-service.h |  8 ++++++--
 daemon/pkcs11/gkr-pkcs11-daemon.c |  6 ++++++
 daemon/pkcs11/gkr-pkcs11-daemon.h |  4 ++++
 5 files changed, 86 insertions(+), 3 deletions(-)

commit 96a6ea0472febb9f52c41a76d203858473774af2
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-22

    [daemon] Load secret-store component when starting daemon.
    
    Load the secret-store PKCS#11 component.

 daemon/Makefile.am                | 1 +
 daemon/pkcs11/gkr-pkcs11-daemon.c | 8 +++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 325a4b269626b8bd7a23316cc1a9159197680512
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-21

    [dbus] Close all sessions for a caller when caller goes away.
    
    Use NameOwnerChanged signal to close all sessions for a caller
    when that caller drops of the bus. Also hold sessions in a
    hash table organized by caller, for efficiency.

 daemon/dbus/gkd-secrets-service.c | 136 +++++++++++++++++++++++++++++++++-----
 daemon/dbus/gkd-secrets-types.h   |   1 +
 2 files changed, 119 insertions(+), 18 deletions(-)

commit f71149bb726914bb2152a6e75379ace20e0708ed
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-21

    [dbus] Add start of implementation of session object.
    
    Hook up the Close() method of session object, and OpenSession
    now actually creates a real object.

 daemon/dbus/Makefile.am           |   1 +
 daemon/dbus/gkd-secrets-service.c |  94 +++++------
 daemon/dbus/gkd-secrets-service.h |   5 +-
 daemon/dbus/gkd-secrets-session.c | 328 ++++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secrets-session.h |  51 ++++++
 5 files changed, 421 insertions(+), 58 deletions(-)

commit f742ab53fdf67ab17024be36395af0095aab86f7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-21

    [pkcs11, gck] Each GckObject now has manager for life.
    
    Rearchitect how things work with regard to managers. Each object
    has a manager for life (or null). The gck_object_expose() method
    is used to show and hide the object on the determined manager.

 pkcs11/gck/gck-authenticator.c                     | 15 +++--
 pkcs11/gck/gck-authenticator.h                     |  1 +
 pkcs11/gck/gck-certificate-key.c                   |  5 +-
 pkcs11/gck/gck-certificate-key.h                   |  1 +
 pkcs11/gck/gck-certificate-trust.c                 |  5 +-
 pkcs11/gck/gck-certificate-trust.h                 |  1 +
 pkcs11/gck/gck-certificate.c                       |  9 ++-
 pkcs11/gck/gck-manager.c                           | 32 ++++++++---
 pkcs11/gck/gck-manager.h                           | 10 ++--
 pkcs11/gck/gck-module.c                            |  6 +-
 pkcs11/gck/gck-object.c                            | 66 +++++++++++++++++-----
 pkcs11/gck/gck-object.h                            |  7 ++-
 pkcs11/gck/gck-private-key.c                       |  4 +-
 pkcs11/gck/gck-public-key.c                        |  6 +-
 pkcs11/gck/gck-session.c                           |  9 +--
 pkcs11/gck/tests/mock-locked-object.c              |  7 ++-
 pkcs11/gck/tests/mock-locked-object.h              |  2 +-
 pkcs11/gck/tests/unit-test-authenticator.c         | 10 ++--
 pkcs11/roots-store/gck-roots-certificate.c         | 14 ++++-
 pkcs11/roots-store/gck-roots-module.c              |  5 +-
 pkcs11/secret-store/gck-secret-collection.c        | 15 +++++
 pkcs11/secret-store/gck-secret-module.c            |  3 +-
 .../tests/unit-test-secret-collection.c            | 31 ++++++----
 pkcs11/secret-store/tests/unit-test-secret-item.c  |  5 +-
 pkcs11/ssh-store/gck-ssh-module.c                  | 14 ++---
 pkcs11/ssh-store/gck-ssh-private-key.c             | 11 +++-
 pkcs11/ssh-store/gck-ssh-public-key.c              |  3 +-
 pkcs11/ssh-store/tests/unit-test-private-key.c     |  2 +-
 pkcs11/user-store/gck-user-private-key.c           |  6 +-
 pkcs11/user-store/gck-user-public-key.c            |  6 +-
 pkcs11/user-store/gck-user-storage.c               |  5 +-
 31 files changed, 220 insertions(+), 96 deletions(-)

commit 1dbc6744a6df1d22f4dd12486f59b7d8b0437240
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-19

    [pkcs11] Move unfinalized stuff out of pkcs11g.h

 pkcs11/pkcs11g.h                        | 16 ----------------
 pkcs11/pkcs11i.h                        | 21 +++++++++++++++++++++
 pkcs11/secret-store/gck-secret-item.c   |  2 +-
 pkcs11/secret-store/gck-secret-object.c |  2 +-
 pkcs11/secret-store/gck-secret-search.c |  2 +-
 5 files changed, 24 insertions(+), 19 deletions(-)

commit 563046a7f521ebb63a2606fcdabc8157b7e47e94
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-18

    [gck] Add signals to GckManager, for objects added, deleted, changed
    
    Also add gck_manager_find_by_class() function, for easily getting
    a list of objects of a certain class.

 pkcs11/gck/gck-manager.c    | 49 ++++++++++++++++++++++++++++++++++++++++++++-
 pkcs11/gck/gck-manager.h    | 11 ++++++++++
 pkcs11/gck/gck-marshal.list |  1 +
 3 files changed, 60 insertions(+), 1 deletion(-)

commit 8bfec80d353e333e492025ed1c0fbf3e438784b5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-18

    [gck] Add gck_attribute_set_empty() function.

 pkcs11/gck/gck-attributes.c             |  6 ++++++
 pkcs11/gck/gck-attributes.h             |  2 ++
 pkcs11/gck/tests/unit-test-attributes.c | 13 +++++++++++++
 3 files changed, 21 insertions(+)

commit 0b59a1d4ffb5990de4154d23576b64d4fe322345
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-18

    [gck] Fix unit test for GckAuthenticator

 pkcs11/gck/tests/unit-test-authenticator.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit fa07fe4f87615ded11dbde23ffe584ca38fae2e6
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-15

    [daemon] Add initial framework for DBus Secrets API Service.
    
    Implement part of the OpenSession() method call.

 daemon/dbus/Makefile.am           |   6 +-
 daemon/dbus/gkd-dbus-private.h    |   4 +
 daemon/dbus/gkd-dbus-secrets.c    |  80 +++++++
 daemon/dbus/gkd-dbus-service.c    |   1 +
 daemon/dbus/gkd-dbus-util.c       |  37 +++
 daemon/dbus/gkd-dbus-util.h       |  35 +++
 daemon/dbus/gkd-dbus.c            |   5 +
 daemon/dbus/gkd-secrets-service.c | 459 ++++++++++++++++++++++++++++++++++++++
 daemon/dbus/gkd-secrets-service.h |  61 +++++
 daemon/dbus/gkd-secrets-types.h   |  45 ++++
 10 files changed, 732 insertions(+), 1 deletion(-)

commit 46bef5367df6814c3146c2f3304738a27552ab3e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-15

    [daemon] Refactor dbus code into seperate files.
    
    Since dbus is used for several things in the daemon, refactor DBus
    code into a separate component, with each task in a separate file.

 configure.in                       |   1 +
 daemon/Makefile.am                 |   3 +-
 daemon/dbus/Makefile.am            |  22 ++
 daemon/dbus/gkd-dbus-environment.c |  97 ++++++++
 daemon/dbus/gkd-dbus-private.h     |  42 ++++
 daemon/dbus/gkd-dbus-service.c     | 161 +++++++++++++
 daemon/dbus/gkd-dbus-session.c     | 226 ++++++++++++++++++
 daemon/dbus/gkd-dbus.c             |  99 ++++++++
 daemon/dbus/gkd-dbus.h             |  29 +++
 daemon/gkr-daemon-dbus.c           | 462 -------------------------------------
 daemon/gkr-daemon.c                |   4 +-
 daemon/gkr-daemon.h                |   2 -
 12 files changed, 682 insertions(+), 466 deletions(-)

commit 2798e6b63edc34419e0dd44f3ef6e72ab4996d13
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-15

    [secret-store] Complete loading/unlocking code for GckSecretCollection.
    
    Complete the loading and unlocking code for collections. Integrate loading
    properly into GckSecretModule.

 pkcs11/secret-store/gck-secret-binary.c            |  17 +-
 pkcs11/secret-store/gck-secret-collection.c        | 230 ++++++++++++++++-----
 pkcs11/secret-store/gck-secret-collection.h        |   9 +
 pkcs11/secret-store/gck-secret-module.c            |  45 ++--
 pkcs11/secret-store/gck-secret-types.h             |   3 +
 .../secret-store/tests/unit-test-secret-binary.c   |  33 +++
 .../tests/unit-test-secret-collection.c            | 209 +++++++++++++++++++
 7 files changed, 471 insertions(+), 75 deletions(-)

commit a4cd86635a776d13ab99076df29b12dc536d1bba
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-15

    [gck] Authenticator always has a login.
    
    A GckAuthenticator always has a login, even if the secret inside that login
    is NULL.

 pkcs11/gck/gck-authenticator.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 00eef882286633fd49acc3986e7ca8cafad255e1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-15

    [gck] Add gck_secret_equal(), change so NULL secret == ""
    
    Change semantics of secret comparing so that a NULL secret is equal to
    a zero length secret. Also add gck_secret_equal() function.

 pkcs11/gck/gck-secret.c             | 23 ++++++++++++++++++++++-
 pkcs11/gck/gck-secret.h             |  3 +++
 pkcs11/gck/tests/unit-test-secret.c | 20 ++++++++++++++++++--
 3 files changed, 43 insertions(+), 3 deletions(-)

commit 0572bfe3d95b0ee3f016eb113931a433a8eaa956
Author: Seán de Búrca <leftmostcat@gmail.com>
Date:   2009-08-15

    Updated Irish translation

 po/ga.po | 35 ++++++++++++++++++++++-------------
 1 file changed, 22 insertions(+), 13 deletions(-)

commit 5b7534a73963d48baded578db27320902cf37976
Merge: cbd6ed8 b404c5a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-15

    Merge branch 'master' into dbus-api

commit cbd6ed86f6f3b332a5819b5a9a035b40cd35a2d7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-14

    [egg] Fix unit test.

 egg/tests/unit-test-secmem.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ad533bce5c46c3de3225217663d1a1e7f6bfd27
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-14

    [secret-store] Complete binary parsing, and write tests.
    
    Complete gck_secret_binary_read/write() fix bugs exposed by tests,
    and clean up the implementation a little.

 pkcs11/secret-store/gck-secret-binary.c            | 252 +++++++++++----------
 pkcs11/secret-store/gck-secret-binary.h            |   4 +-
 pkcs11/secret-store/tests/Makefile.am              |   7 +-
 .../secret-store/tests/test-data/encrypted.keyring | Bin 0 -> 733 bytes
 .../secret-store/tests/unit-test-secret-binary.c   | 167 ++++++++++++++
 5 files changed, 309 insertions(+), 121 deletions(-)

commit b668b4c4d0cfbce0d7fa1b4d480bbfb1fc192b35
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-14

    [secret-store] Better tests for textual parsing, and fix bugs.

 pkcs11/secret-store/gck-secret-textual.c           |   2 +
 pkcs11/secret-store/tests/test-secret-module.c     | 144 ++++++++++++++++++++-
 pkcs11/secret-store/tests/test-secret-module.h     |   7 +
 .../secret-store/tests/unit-test-secret-textual.c  |  44 +------
 4 files changed, 156 insertions(+), 41 deletions(-)

commit 0844852539aa61a820a175f218761aacf458aefa
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-14

    [egg] Add missing definition of egg_buffer_uninit_steal()

 egg/egg-buffer.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit e741f9810746a0980fcb5029e6dbfad9a564ffb8
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-14

    [secret-store] Finish up textual reading code, and test.
    
    Add tests for gck_secret_textual_read/write, and fix the problems found.

 pkcs11/secret-store/gck-secret-item.c              |   2 +
 pkcs11/secret-store/gck-secret-textual.c           | 315 ++++++++++-----------
 pkcs11/secret-store/gck-secret-textual.h           |   4 +-
 pkcs11/secret-store/tests/Makefile.am              |   1 +
 .../tests/test-data/plain-bad-number.keyring       |  23 ++
 pkcs11/secret-store/tests/test-data/plain.keyring  |  55 ++++
 .../secret-store/tests/unit-test-secret-textual.c  | 220 ++++++++++++++
 7 files changed, 455 insertions(+), 165 deletions(-)

commit 25e684ce4dcfaf07dcd604a5fab364cb875ce691
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-14

    [secret-store] Add gck_secret_fields_take() functionality.

 pkcs11/secret-store/gck-secret-fields.c             | 12 +++++++++++-
 pkcs11/secret-store/gck-secret-fields.h             |  4 ++++
 pkcs11/secret-store/tests/unit-test-secret-fields.c |  6 +++++-
 3 files changed, 20 insertions(+), 2 deletions(-)

commit b404c5af71bbbc93803ddc8a909fb4340c7fd775
Author: Rajesh Ranjan <rranjan@rranjan.csb>
Date:   2009-08-14

    hindi update

 po/hi.po | 1559 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 1367 insertions(+), 192 deletions(-)

commit c2102df0949f7bcf4c1b5fe842ff876bcfbed235
Author: Tommi Vainikainen <thv@iki.fi>
Date:   2009-08-14

    Updated Finnish translation

 po/fi.po | 500 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 240 insertions(+), 260 deletions(-)

commit 61e98d048fbdcbdb6cc3f816b5921c4042a175a9
Author: Alexander Shopov <ash@contact.bg>
Date:   2009-08-14

    Updated Bulgarian translation

 po/bg.po | 454 ++++++++++++++++++++++++++-------------------------------------
 1 file changed, 186 insertions(+), 268 deletions(-)

commit 2023490dc208bc6eb2ab98e3f094550c5b336aad
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-14

    [secret-store] Implement tests for gck_secret_fields_().
    
    Implement tests for fields code, and fix bugs found.

 pkcs11/secret-store/gck-secret-fields.c            |  87 +++--
 pkcs11/secret-store/tests/Makefile.am              |   1 +
 .../secret-store/tests/unit-test-secret-fields.c   | 383 +++++++++++++++++++++
 3 files changed, 435 insertions(+), 36 deletions(-)

commit da2637e05fe021ed5c514d4183567d3a2b731eb3
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-08-13

    Updated Oriya Translation

 po/or.po | 486 ++++++++++++++++++++++++---------------------------------------
 1 file changed, 185 insertions(+), 301 deletions(-)

commit 387c10e80c4c1ad2da5c3199e5316dff729b8fe1
Author: Leonardo Ferreira Fontenelle <leonardof@gnome.org>
Date:   2009-08-13

    Updated Brazilian Portuguese translation.

 po/pt_BR.po | 457 +++++++++++++++++++++++++++++-------------------------------
 1 file changed, 219 insertions(+), 238 deletions(-)

commit b0785e38813d4f841a5fcf07d787490c99be632b
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   2009-08-12

    Updating Estonian translation

 po/et.po | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d110855653817775aadcc9341134255143fc689e
Author: Antón Méixome <meixome@mancoumun.org>
Date:   2009-08-12

    Updated Galician translation

 po/gl.po | 567 ++++++++++++++++++++++++++-------------------------------------
 1 file changed, 231 insertions(+), 336 deletions(-)

commit 4dd3f8eed8f20e36b4cec240f3d7c03d11660867
Author: Priit Laes <plaes@plaes.org>
Date:   2009-08-12

    Updating Estonian translation

 po/et.po | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 330ff74a1b8e2e5dc2198654f13259295dde637f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-12

    [secret-store] Complete GckSecretItem functionality and unit tests.
    
    Complete most basic GckSecretItem functionality, and write tests
    to cover all remaining collection and item functionality.

 pkcs11/gck/gck-object.c                           |   4 +-
 pkcs11/secret-store/gck-secret-binary.c           |  10 +
 pkcs11/secret-store/gck-secret-fields.c           |   3 +-
 pkcs11/secret-store/gck-secret-item.c             | 121 +++-----
 pkcs11/secret-store/gck-secret-item.h             |   5 -
 pkcs11/secret-store/gck-secret-textual.c          |   9 +
 pkcs11/secret-store/tests/Makefile.am             |   1 +
 pkcs11/secret-store/tests/unit-test-secret-item.c | 351 ++++++++++++++++++++++
 8 files changed, 413 insertions(+), 91 deletions(-)

commit ae1a21d1c358a58b4609011ddf2975d8062e5bf1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-11

    [secret-store] Complete basic GckSecretCollection, and test.
    
    Complete all basic methods for GckSecretCollection and add unit tests.
    No actual parsing of keyrings is hooked in yet.

 pkcs11/secret-store/gck-secret-binary.c            |   1 -
 pkcs11/secret-store/gck-secret-collection.c        | 199 +++++++++++++--------
 pkcs11/secret-store/gck-secret-collection.h        |  14 +-
 pkcs11/secret-store/gck-secret-textual.c           |   1 -
 pkcs11/secret-store/tests/Makefile.am              |   1 +
 .../tests/unit-test-secret-collection.c            |  95 ++++++++++
 6 files changed, 223 insertions(+), 88 deletions(-)

commit 201d6725a061d516cbef16a48406a2dbe93bd3dc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-11

    [gck] Add public method to add session object.
    
    Add gck_session_add_session_object() method.

 pkcs11/gck/gck-session.c | 22 ++++++++++++++++++++--
 pkcs11/gck/gck-session.h |  4 ++++
 2 files changed, 24 insertions(+), 2 deletions(-)

commit 4c1f1893f37cb90841bd8d87c0edd3e2e7e1aede
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-10

    Bump version number

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57d4b5089a69a50c5009f7f5a0ac59d7bcd242a8
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-10

    Release version 2.27.90

 NEWS | 4 ++++
 1 file changed, 4 insertions(+)

commit b363ae95cbc0584b747befeb602b4df7538597ad
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-10

    [gck] Fix test parsing ASN.1 data.

 pkcs11/gck/tests/unit-test-data-der.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e0b6b8ffaf1550628772855322e72d05fd50c90d
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-10

    [secret-store] Complete implementation of GckSecretObject.
    
    Complete missing functions in GckSecretObject, and add tests.
    Add test module functionality, so we can run unit-tests on things
    that require a module/session.

 pkcs11/secret-store/gck-secret-module.c            |  11 +
 pkcs11/secret-store/gck-secret-object.c            |  99 ++++----
 pkcs11/secret-store/gck-secret-object.h            |   5 -
 pkcs11/secret-store/tests/Makefile.am              |   4 +-
 pkcs11/secret-store/tests/test-secret-module.c     | 105 ++++++++
 pkcs11/secret-store/tests/test-secret-module.h     |  43 ++++
 .../secret-store/tests/unit-test-secret-object.c   | 269 +++++++++++++++++++++
 7 files changed, 489 insertions(+), 47 deletions(-)

commit d0416fb1785af404616a563f5784d2432058a73e
Author: Seán de Búrca <leftmostcat@gmail.com>
Date:   2009-08-09

    Added Irish translation

 po/LINGUAS |    1 +
 po/ga.po   | 1236 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1237 insertions(+)

commit 7436c475e54c40a0350ba9071f1541204127e09c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-09

    [gck] Add missing gck_attribute_get_string() function and add tests.
    
    Add tests to all gck_attribute_xxx() functions, and add missing
    functions, remove unused declarations.

 pkcs11/gck/gck-attributes.c             |  23 +-
 pkcs11/gck/gck-attributes.h             |   5 -
 pkcs11/gck/tests/unit-test-attributes.c | 574 +++++++++++++++++++++++++++++++-
 3 files changed, 588 insertions(+), 14 deletions(-)

commit 943b63f6ebe91ddb043ad211d7d17cd6b6219725
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-09

    [secret-store] Additional methods for GckSecretData.
    
    Add gck_secret_data_get_raw() to return secret directly. And
    gck_secret_data_set_transacted() to set a secret as part of
    a transaction.

 pkcs11/secret-store/gck-secret-data.c             |  98 +++++++++++++++++
 pkcs11/secret-store/gck-secret-data.h             |  11 +-
 pkcs11/secret-store/tests/unit-test-secret-data.c | 122 ++++++++++++++++++++++
 3 files changed, 230 insertions(+), 1 deletion(-)

commit 7e4290a2cd393d158610389d2ff5396dc851e66f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-09

    [gck] More tests for GckSecret, and complete missing functions.

 pkcs11/gck/gck-secret.c             | 50 +++++++++++++++++++++----------------
 pkcs11/gck/tests/unit-test-secret.c | 19 ++++++++++++++
 2 files changed, 48 insertions(+), 21 deletions(-)

commit fa0fb0c9084d02f4a773767892a25f33e312ce07
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   2009-08-08

    Updated Arabic translation

 po/ar.po | 662 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 295 insertions(+), 367 deletions(-)

commit 0bbf7361da926c55a723b2ca0417552c537b4ee1
Author: Chao-Hsiung Liao <j_h_liau@yahoo.com.tw>
Date:   2009-08-08

    Updated Traditional Chinese translation(Hong Kong and Taiwan)

 po/zh_HK.po | 737 ++++++++++++++++++++++++++++++---------------------------
 po/zh_TW.po | 769 +++++++++++++++++++++++++++++++++---------------------------
 2 files changed, 818 insertions(+), 688 deletions(-)

commit 33eb206ab77e2bff56b5309184fa9eed92087a88
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-08

    [secret-store] Use GckSecret in GckSecretData.
    
    Use GckSecret objects to hold master password and secrets in a
    GckSecretData. Also change binary storage using GckSecret
    to hold master password. Unit tests for GckSecretData.

 pkcs11/secret-store/gck-secret-binary.c           |  39 +++---
 pkcs11/secret-store/gck-secret-binary.h           |   5 +-
 pkcs11/secret-store/gck-secret-collection.c       |  25 ++--
 pkcs11/secret-store/gck-secret-collection.h       |   2 -
 pkcs11/secret-store/gck-secret-data.c             | 153 ++++------------------
 pkcs11/secret-store/gck-secret-data.h             |  35 ++---
 pkcs11/secret-store/tests/Makefile.am             |   3 +-
 pkcs11/secret-store/tests/unit-test-secret-data.c |  93 +++++++++++++
 8 files changed, 165 insertions(+), 190 deletions(-)

commit 645d9ee992671100db6a80b4b7bfa7d225e4cd38
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-08

    [secret-store] Fix erroneous comment on top of unit test.

 pkcs11/secret-store/tests/unit-test-secret-compat.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 286782de74d265e1ee091946f49e81c7efc8aaa4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-08-08

    [gck] Add missing function gck_secret_new_from_password()

 pkcs11/gck/gck-secret.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit 21dc1fc5a4dee83d2b67b040b503dfaad3062acb
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-08

    [secret-store] Add basic incomplete concpet of GckSecretData
    
    Secret data is the sensitive data in a keyring. This remains in
    memory as long as the collection/keyring is unlocked by some
    session.

 pkcs11/secret-store/Makefile.am             |   1 +
 pkcs11/secret-store/gck-secret-collection.c |  54 +++++--
 pkcs11/secret-store/gck-secret-collection.h |   8 +-
 pkcs11/secret-store/gck-secret-data.c       | 223 ++++++++++++++++++++++++++++
 pkcs11/secret-store/gck-secret-data.h       |  74 +++++++++
 pkcs11/secret-store/gck-secret-types.h      |   1 +
 6 files changed, 347 insertions(+), 14 deletions(-)

commit 9c7bead1546bace7db9d019d3bd483b6e1bc58e0
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-08

    [egg] Function for clearing secure memory.
    
    Added egg_secure_clear() and fine tuned egg_secure_strclear().

 egg/egg-secure-memory.c      | 26 ++++++++++++++++----------
 egg/egg-secure-memory.h      |  2 ++
 egg/tests/unit-test-secmem.c | 31 +++++++++++++++++++++++++++++++
 3 files changed, 49 insertions(+), 10 deletions(-)

commit 8204424b682dbf72f0bc307411a56a1df0af2628
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-07

    [gck, secret-store, user-store] Rename GckLogin to GckSecret.
    
    We can use the GckLogin class for more stuff like holding keyring
    secrets etc... Rename and fine tune methods.

 pkcs11/gck/Makefile.am                      |   2 +-
 pkcs11/gck/gck-authenticator.c              |  18 ++--
 pkcs11/gck/gck-authenticator.h              |   4 +-
 pkcs11/gck/gck-certificate.c                |   4 +-
 pkcs11/gck/gck-data-file.c                  |  26 ++---
 pkcs11/gck/gck-data-file.h                  |   6 +-
 pkcs11/gck/gck-login.c                      | 154 ----------------------------
 pkcs11/gck/gck-login.h                      |  58 -----------
 pkcs11/gck/gck-secret.c                     |  25 -----
 pkcs11/gck/gck-serializable.c               |   4 +-
 pkcs11/gck/gck-serializable.h               |   8 +-
 pkcs11/gck/gck-types.h                      |   2 +-
 pkcs11/gck/tests/Makefile.am                |   2 +-
 pkcs11/gck/tests/dump-data-file.c           |   4 +-
 pkcs11/gck/tests/unit-test-authenticator.c  |  10 +-
 pkcs11/gck/tests/unit-test-data-file.c      |   4 +-
 pkcs11/gck/tests/unit-test-secret.c         | 109 ++++++++++++--------
 pkcs11/secret-store/gck-secret-binary.c     |  10 +-
 pkcs11/secret-store/gck-secret-collection.c |   6 +-
 pkcs11/secret-store/gck-secret-collection.h |   2 +-
 pkcs11/secret-store/gck-secret-item.c       |  24 ++---
 pkcs11/secret-store/gck-secret-item.h       |   4 +-
 pkcs11/secret-store/gck-secret-textual.c    |  10 +-
 pkcs11/user-store/gck-user-module.c         |  14 +--
 pkcs11/user-store/gck-user-private-key.c    |  14 +--
 pkcs11/user-store/gck-user-private-key.h    |   2 +-
 pkcs11/user-store/gck-user-public-key.c     |   4 +-
 pkcs11/user-store/gck-user-storage.c        |  22 ++--
 pkcs11/user-store/gck-user-storage.h        |  10 +-
 29 files changed, 174 insertions(+), 388 deletions(-)

commit 083f9078bf23a3507080cdde5a6395ec8291152e
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-07

    [gck, secret-store, user-store] Rename GckLogin to GckSecret.
    
    We can use the GckLogin class for more stuff like holding keyring
    secrets etc... Rename and fine tune methods.

 pkcs11/gck/gck-secret.c             | 167 ++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-secret.h             |  64 ++++++++++++++
 pkcs11/gck/tests/unit-test-login.c  | 120 --------------------------
 pkcs11/gck/tests/unit-test-secret.c | 120 ++++++++++++++++++++++++++
 4 files changed, 351 insertions(+), 120 deletions(-)

commit fccb81c434f5d7fbd37bcd732033aed45dd7ac3a
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-03

    [secret] Add compat function for converting item types.
    
    The old concept of 'item type' is stored as an additional attribute
    gkr:item-type

 pkcs11/secret-store/gck-secret-binary.c            | 10 ++---
 pkcs11/secret-store/gck-secret-compat.c            | 46 +++++++++++++++++++
 pkcs11/secret-store/gck-secret-compat.h            |  8 +++-
 pkcs11/secret-store/gck-secret-textual.c           | 25 +++++++----
 .../secret-store/tests/unit-test-secret-compat.c   | 52 ++++++++++++++++++++++
 5 files changed, 123 insertions(+), 18 deletions(-)

commit 5f2473bbebcfc5320dc8d874134ca3d3bd9d0c69
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-03

    [secret] Add tests to secret-store component.

 configure.in                                       |  1 +
 pkcs11/secret-store/Makefile.am                    |  9 ++++
 pkcs11/secret-store/tests/.gitignore               |  4 ++
 pkcs11/secret-store/tests/Makefile.am              | 11 ++++
 .../secret-store/tests/unit-test-secret-compat.c   | 63 ++++++++++++++++++++++
 5 files changed, 88 insertions(+)

commit 404319811a88ae6fdb30d773d55d444248f53bf2
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-03

    [secrets] Add compat functions for acls.

 pkcs11/secret-store/Makefile.am          |  2 +-
 pkcs11/secret-store/gck-secret-binary.c  |  6 ++---
 pkcs11/secret-store/gck-secret-compat.c  | 45 ++++++++++++++++++++++++++++++++
 pkcs11/secret-store/gck-secret-compat.h  |  4 ++-
 pkcs11/secret-store/gck-secret-textual.c |  2 +-
 5 files changed, 53 insertions(+), 6 deletions(-)

commit fc589f391ac9b3ef9d987736cd9d0522a608ea40
Author: Stefan Walter <Stefan Walter>
Date:   2009-08-02

    [egg, gcr, pkcs11] Take length of ASN.1 into account, when parsing.
    
    When parsing ASN.1, take length of elements into account, in order
    to prevent null character related vulnerabilities.

 egg/egg-asn1.c                        | 104 +++++++++++++++++++++++-----------
 egg/egg-asn1.h                        |   4 +-
 egg/tests/unit-test-asn1.c            |   4 +-
 gcr/gcr-certificate-details-widget.c  |  18 ++----
 gcr/gcr-certificate.c                 |   3 +-
 pkcs11/gck/gck-certificate.c          |   7 ++-
 pkcs11/gck/gck-data-der.c             |   6 +-
 pkcs11/gck/tests/unit-test-data-der.c |   5 +-
 8 files changed, 94 insertions(+), 57 deletions(-)

commit bc68a79d44f4d93f913e312332f8c9c60df3c985
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2009-08-01

    Updated Norwegian bokmål translation.

 po/nb.po | 218 ++++++++++++++++++++++++++++-----------------------------------
 1 file changed, 97 insertions(+), 121 deletions(-)

commit bcbcf90ec45a98dfe2222debefca52040448e9f5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-31

    [secrets] Distribute necessary header files and use $(srcdir)

 pkcs11/secret-store/Makefile.am |  3 +++
 secrets/Makefile.am             | 10 +++++-----
 2 files changed, 8 insertions(+), 5 deletions(-)

commit 193b002e32a4f657e80c3742215f1b4d87849bc3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-31

    [secrets] Complete some parts of the secrets fields code.
    
    Including compat stuff to work with old uint32 and hashed
    attributes present in keyrings, but not in the secrets api.

 pkcs11/secret-store/gck-secret-binary.c     | 134 ++++++------
 pkcs11/secret-store/gck-secret-collection.c |   7 +
 pkcs11/secret-store/gck-secret-fields.c     | 319 +++++++++++++++++++++++++---
 pkcs11/secret-store/gck-secret-fields.h     |  79 +++++--
 4 files changed, 437 insertions(+), 102 deletions(-)

commit 9c505e89975af6d8849987e4d1ecb88d1e8482f9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-31

    [pam] Fix use of constant not found in Solaris or FreeBSD.
    
    The PAM_BAD_ITEM constant is linux specific. We don't need to use it,
    so I've removed usage. Fixes bug #590268

 pam/gkr-pam-module.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b51aaae5133686190ca8aced6b44f14274feeff0
Author: drtvasudevan <agnihot3@gmail.com>
Date:   2009-07-29

    Updated Tamil translation

 po/ta.po | 546 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 254 insertions(+), 292 deletions(-)

commit 078e697eacbad37ae03869fd0e8a9749b345f581
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-28

    [secret] Add standalone module for secrets-store.

 pkcs11/secret-store/Makefile.am             | 25 +++++++++++-
 pkcs11/secret-store/gck-secret-standalone.c | 60 +++++++++++++++++++++++++++++
 2 files changed, 84 insertions(+), 1 deletion(-)

commit 8144aa2b90545d9c25e26da63dc9e275396e67b2
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-27

    Bump version number.

 configure.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94d5a4282da6d7bdcc9ed3d29cbb95100318c39b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-27

    Release version 2.27.5.

 NEWS         | 6 ++++++
 configure.in | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 8fbb0c3e9df32dc9eb0fb9ebe9e791d5bb39036f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-27

    [daemon] Use gio instead of libhal for monitoring volumes.
    
    Remove use of libhal from GkrLocationManager. Use GVolumeMonitor
    from gio instead. Fixes bug #589837

 configure.in               |  29 ---
 daemon/Makefile.am         |   2 +
 daemon/util/gkr-location.c | 438 +++++++++++----------------------------------
 3 files changed, 110 insertions(+), 359 deletions(-)

commit 9fdf6602cc4eb6b810a66a6705285c59a9ae0293
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-26

    [secrets] Fix up some of the basic module stuff for secret-store.

 pkcs11/secret-store/Makefile.am         |   1 +
 pkcs11/secret-store/gck-secret-module.c | 206 +++++++++-----------------------
 2 files changed, 56 insertions(+), 151 deletions(-)

commit 6a9310cc435346b75147743dec9e80ab133457e8
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-26

    [secrets] Port over some parts of the keyring parsing.
    
    The code compiles, but does not run, and is not tested.

 egg/egg-buffer.c                            |   8 +-
 egg/egg-buffer.h                            |  15 +-
 pkcs11/gck/gck-login.h                      |   4 +-
 pkcs11/secret-store/Makefile.am             |   4 +-
 pkcs11/secret-store/gck-secret-binary.c     | 929 ++++++++++++++++++++++++++++
 pkcs11/secret-store/gck-secret-binary.h     |  37 ++
 pkcs11/secret-store/gck-secret-collection.c |  64 +-
 pkcs11/secret-store/gck-secret-collection.h |  24 +-
 pkcs11/secret-store/gck-secret-compat.h     |  41 ++
 pkcs11/secret-store/gck-secret-fields.c     |  31 +
 pkcs11/secret-store/gck-secret-fields.h     |  12 +-
 pkcs11/secret-store/gck-secret-item.h       |   3 +-
 pkcs11/secret-store/gck-secret-module.c     | 356 +++++++++++
 pkcs11/secret-store/gck-secret-module.h     |  44 ++
 pkcs11/secret-store/gck-secret-object.h     |  11 +-
 pkcs11/secret-store/gck-secret-search.h     |   7 +-
 pkcs11/secret-store/gck-secret-store.h      |  29 +
 pkcs11/secret-store/gck-secret-textual.c    | 545 ++++++++++++++++
 pkcs11/secret-store/gck-secret-textual.h    |  37 ++
 pkcs11/secret-store/gck-secret-types.h      |  31 +
 20 files changed, 2207 insertions(+), 25 deletions(-)

commit d6974c331db6b3a05e1d853baa0a140f9a842e2f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-25

    [secrets] Add skeleton of search object.

 pkcs11/secret-store/Makefile.am             |   4 +-
 pkcs11/secret-store/gck-secret-collection.c |  28 +++--
 pkcs11/secret-store/gck-secret-collection.h |   3 +
 pkcs11/secret-store/gck-secret-fields.c     | 170 +++++++++++++++++++++++++
 pkcs11/secret-store/gck-secret-fields.h     |  45 +++++++
 pkcs11/secret-store/gck-secret-item.c       | 159 ++++--------------------
 pkcs11/secret-store/gck-secret-search.c     | 184 ++++++++++++++++++++++++++++
 pkcs11/secret-store/gck-secret-search.h     |  47 +++++++
 8 files changed, 499 insertions(+), 141 deletions(-)

commit 30ebc87d02b38e470970e7b4c48eb1bb5d834038
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-24

    [secrets] Implement some smaller bits of secrets-store.
    
    Implement some smaller bits of the secrets-store

 configure.in                                |   1 +
 pkcs11/Makefile.am                          |   1 +
 pkcs11/gck/gck-attributes.h                 |   3 +
 pkcs11/pkcs11g.h                            |  16 +
 pkcs11/secret-store/Makefile.am             |  20 ++
 pkcs11/secret-store/gck-secret-collection.c | 141 ++++++++
 pkcs11/secret-store/gck-secret-collection.h |  45 +++
 pkcs11/secret-store/gck-secret-item.c       | 486 ++++++++++++++++++++++++++++
 pkcs11/secret-store/gck-secret-item.h       |  58 ++++
 pkcs11/secret-store/gck-secret-object.c     | 338 +++++++++++++++++++
 pkcs11/secret-store/gck-secret-object.h     |  73 +++++
 11 files changed, 1182 insertions(+)

commit 04024cd895ad060e1e84e5c1312aa1294ce75cbd
Author: Andre Klapper <a9016009@gmx.de>
Date:   2009-07-24

    Update Czech translation.

 po/cs.po | 455 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 217 insertions(+), 238 deletions(-)

commit 1b4d1a5a1fbb41b684d40ef677abf1b99104d4b9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-24

    [roots] Properly initialize certificate parent klass.

 pkcs11/roots-store/gck-roots-certificate.c | 2 ++
 1 file changed, 2 insertions(+)

commit 9c09766eda22ab3143ed65abcdceeb798de1b588
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-23

    [secrets] Move secrets api to top level in source tree.

 Makefile.am                                    |   1 +
 configure.in                                   |   3 +-
 daemon/Makefile.am                             |   3 +-
 daemon/secrets/Makefile.am                     |   2 -
 daemon/secrets/api/.gitignore                  |   8 -
 daemon/secrets/api/Makefile.am                 |  22 --
 daemon/secrets/api/org.freedesktop.Secrets.xml | 372 -------------------------
 docs/reference/secrets/Makefile.am             |   8 +-
 docs/reference/secrets/secrets-docs.sgml       |  14 +-
 secrets/.gitignore                             |   8 +
 secrets/Makefile.am                            |  22 ++
 secrets/org.freedesktop.Secrets.xml            | 372 +++++++++++++++++++++++++
 12 files changed, 416 insertions(+), 419 deletions(-)

commit d31e4f0b4bfb79e0fd95767ff6fe165020b03aa0
Merge: d9d9544 0275804
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-23

    Merge branch 'master' into dbus-api
    
    Conflicts:
    	pkcs11/gck/gck-module.c
    	pkcs11/pkcs11g.h

commit 0275804640ccb2d64ab7f28fa23affdc3ba04420
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-23

    [gck] Add concept of PKCS#11 applications.
    
    Remove VirtualSlot stuff and hide a lot of the apartment
    stuff inside the module whenever possible.

 pkcs11/gck/gck-module.c             | 406 +++++++++++++++++++-----------------
 pkcs11/gck/gck-session.c            |  27 ++-
 pkcs11/gck/gck-session.h            |   7 +-
 pkcs11/pkcs11g.h                    |   5 +-
 pkcs11/pkcs11i.h                    |  57 ++---
 pkcs11/plex-layer/gck-plex-layer.c  |  14 +-
 pkcs11/rpc-layer/gck-rpc-dispatch.c |  71 ++++---
 7 files changed, 315 insertions(+), 272 deletions(-)

commit b7dd715014c145f43dff2b35a0471357a6ff3ea4
Author: Ivar Smolin <okul@linux.ee>
Date:   2009-07-23

    Updating Estonian translation

 po/et.po | 135 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 68 insertions(+), 67 deletions(-)

commit 5021d8af9b297c97eaf0f93d83a4672250b65971
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:   2009-07-23

    Updated Thai translation.

 po/th.po | 465 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 222 insertions(+), 243 deletions(-)

commit d8e3f67b1bc68cb2545358d5d4882efc9a1b5376
Author: Daniel Nylander <po@danielnylander.se>
Date:   2009-07-22

    Updated Swedish translation

 po/sv.po | 804 +++++++++++++++++++++++----------------------------------------
 1 file changed, 290 insertions(+), 514 deletions(-)

commit 6f0865f2489e498352deb022dca7cf0cebf46e78
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   2009-07-21

    Updated Spanish translation

 po/es.po | 475 ++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 229 insertions(+), 246 deletions(-)

commit 08977420782b3fe2c7b5f70f517fe37b69dedde2
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-21

    [daemon] Translatable string fix.
    
    Fixes bug #573662. Remove spaces from end of translatable string.

 daemon/gkr-daemon-ops.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 767bac01f7800d26553af73dc28c0f4ee9877416
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-21

    Fix a couple more minor memory leaks.
    
    Fix memory leaks highlighted by the valgrind trace on bug #588443

 daemon/gkr-daemon-dbus.c          | 1 +
 pkcs11/gck/gck-session.c          | 2 ++
 pkcs11/ssh-store/gck-ssh-module.c | 2 ++
 3 files changed, 5 insertions(+)

commit d9d95445cc7008d29b0845b35fbc45c120d865d2
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-21

    [tests] Fix some minor memory leaks in unit tests.

 pkcs11/gck/tests/unit-test-data-asn1.c | 2 ++
 tests/gtest-helpers.c                  | 2 ++
 2 files changed, 4 insertions(+)

commit deaae13e184dfd8141d454899af94f692231c66e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Write files without group or world permissions.
    
    Fixes bug #587908. Don't use g_file_set_contents() but write our
    own routines for writing file data from a transaction.

 pkcs11/gck/gck-transaction.c | 68 +++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 61 insertions(+), 7 deletions(-)

commit 52ddab79ad6d11953f58afb38e5d95a727856be1
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [daemon, ssh-agent] Use authenticator objects instead of auth-cache.
    
    Now that we have authenticator objects in the actual pkcs#11 modules
    remove the auth cache for unlocking objects from the daemon, and
    use authenticator objects to lock objects from the ssh-agent.

 daemon/pkcs11/gkr-pkcs11-auth-ep.c   | 414 +++--------------------------------
 daemon/pkcs11/gkr-pkcs11-auth.c      | 167 ++------------
 daemon/pkcs11/gkr-pkcs11-auth.h      |  16 +-
 pkcs11/pkcs11g.h                     |  11 -
 pkcs11/ssh-agent/gck-ssh-agent-ops.c |  32 ++-
 5 files changed, 76 insertions(+), 564 deletions(-)

commit a077d102f2e5d2af1063d2388a1ebdeb0e6101a3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Pass session to get/set attribute functions.
    
    This allows attributes to be different depending on which session or
    application they're accessed from. Implement CKA_ALWAYS_AUTHENTICATE
    as a session dependent attribute.

 pkcs11/gck/gck-authenticator.c             |  4 +-
 pkcs11/gck/gck-certificate-key.c           |  6 +--
 pkcs11/gck/gck-certificate-trust.c         | 14 ++++---
 pkcs11/gck/gck-certificate.c               |  6 +--
 pkcs11/gck/gck-key.c                       |  4 +-
 pkcs11/gck/gck-manager.c                   | 12 +++---
 pkcs11/gck/gck-object.c                    | 64 ++++++++++++++----------------
 pkcs11/gck/gck-object.h                    | 19 ++++++---
 pkcs11/gck/gck-private-key.c               | 21 +++++++---
 pkcs11/gck/gck-private-key.h               |  3 +-
 pkcs11/gck/gck-public-key.c                |  4 +-
 pkcs11/gck/gck-session.c                   | 20 +++++-----
 pkcs11/gck/tests/mock-locked-object.c      |  4 +-
 pkcs11/roots-store/gck-roots-certificate.c |  4 +-
 pkcs11/ssh-store/gck-ssh-private-key.c     |  6 +--
 pkcs11/ssh-store/gck-ssh-public-key.c      |  4 +-
 pkcs11/user-store/gck-user-private-key.c   |  4 +-
 pkcs11/user-store/gck-user-storage.c       |  6 +--
 18 files changed, 110 insertions(+), 95 deletions(-)

commit 347806670a6a592f29f367c4596d3025606fd449
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Don't map object identifiers in plex layer.
    
    This conflicts with future plans for having object handles
    present in the attributes of other objects.

 pkcs11/plex-layer/gck-plex-layer.c | 123 ++++++-------------------------------
 1 file changed, 20 insertions(+), 103 deletions(-)

commit 7e690f38ee06b9f9b8b3dc9a38a7b6d9d5cd75f9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Tweak authenticator enumerator to return boolean.
    
    gck_session_for_each_authenticator() now returns a boolean value
    if any of the callbacks returned successfully.

 pkcs11/gck/gck-session.c | 14 ++++++++------
 pkcs11/gck/gck-session.h |  2 +-
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 399c7e2cc66d593e892a1df4df6f3a90071cd23a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Add authenticator objects for storing authenticated state.
    
    Authenticator objects are now used for PKCS#11 context specific
    logins. In the future we'll use them for unlocking stuff on a
    token, session, or timeout basis.

 pkcs11/gck/Makefile.am                         |   1 +
 pkcs11/gck/gck-authenticator.c                 | 402 +++++++++++++++++++++++++
 pkcs11/gck/gck-authenticator.h                 |  77 +++++
 pkcs11/gck/gck-key.c                           |   4 +-
 pkcs11/gck/gck-key.h                           |   5 +-
 pkcs11/gck/gck-login.c                         |   1 +
 pkcs11/gck/gck-module.c                        |  12 +-
 pkcs11/gck/gck-object.c                        |  50 ++-
 pkcs11/gck/gck-object.h                        |   8 +-
 pkcs11/gck/gck-private-key.c                   |  82 +++--
 pkcs11/gck/gck-private-key.h                   |   8 +-
 pkcs11/gck/gck-public-key.c                    |   2 +-
 pkcs11/gck/gck-session.c                       | 107 ++++++-
 pkcs11/gck/gck-session.h                       |   8 +
 pkcs11/gck/gck-sexp.c                          |   3 +-
 pkcs11/gck/gck-sexp.h                          |   2 +-
 pkcs11/gck/gck-types.h                         |   1 +
 pkcs11/gck/gck-util.c                          |  11 +
 pkcs11/gck/gck-util.h                          |   2 +
 pkcs11/gck/tests/Makefile.am                   |   2 +
 pkcs11/gck/tests/mock-locked-object.c          |  88 ++++++
 pkcs11/gck/tests/mock-locked-object.h          |  52 ++++
 pkcs11/gck/tests/test-module.c                 |  34 ++-
 pkcs11/gck/tests/test-module.h                 |  10 +-
 pkcs11/gck/tests/unit-test-authenticator.c     | 254 ++++++++++++++++
 pkcs11/gck/tests/unit-test-memory-store.c      |   6 +-
 pkcs11/gck/tests/unit-test-object.c            |  23 +-
 pkcs11/gck/tests/unit-test-store.c             |   7 +-
 pkcs11/gck/tests/unit-test-timer.c             |   6 +-
 pkcs11/pkcs11g.h                               |  14 +-
 pkcs11/ssh-store/gck-ssh-module.c              |   8 +
 pkcs11/ssh-store/gck-ssh-private-key.c         |  40 ++-
 pkcs11/ssh-store/tests/Makefile.am             |   4 +-
 pkcs11/ssh-store/tests/test-ssh-module.c       | 105 +++++++
 pkcs11/ssh-store/tests/test-ssh-module.h       |  43 +++
 pkcs11/ssh-store/tests/unit-test-private-key.c |  97 ++++++
 pkcs11/user-store/gck-user-private-key.c       |   4 +-
 pkcs11/user-store/gck-user-storage.c           |  10 +-
 38 files changed, 1451 insertions(+), 142 deletions(-)

commit 3f57aedbbcc1813fab601f8d3f1259059f23a5d0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    [gck] Add support for transient PKCS#11 objects.
    
    Transient objects are not stored permanently. These may be token
    objects with token 'scope' but dissappear automatically at some
    point in the future.
    
    Auto-destructed objects are always token objects.

 pkcs11/gck/gck-module.c             | 114 +++++++++++++++-
 pkcs11/gck/gck-object.c             | 132 +++++++++++-------
 pkcs11/gck/gck-object.h             |  13 +-
 pkcs11/gck/gck-session.c            |  17 ++-
 pkcs11/gck/tests/Makefile.am        |   1 +
 pkcs11/gck/tests/unit-test-object.c | 262 ++++++++++++++++++++++++++++++++++++
 pkcs11/gck/tests/unit-test-timer.c  |   2 +-
 pkcs11/pkcs11g.h                    |   2 +
 8 files changed, 478 insertions(+), 65 deletions(-)

commit 60993ad1cb5a9b7ba7f4e647eff58d2940ea3c2f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    [gck] Add helper function to parse bool attribute.

 pkcs11/gck/gck-attributes.c             | 17 +++++++++++++++++
 pkcs11/gck/gck-attributes.h             |  5 ++++-
 pkcs11/gck/tests/unit-test-attributes.c | 27 +++++++++++++++++++++++++++
 3 files changed, 48 insertions(+), 1 deletion(-)

commit 3f1bb2106099d6f6e0f11261710b466248d3e726
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    [gck] PKCS#11 objects now track the module they're in.
    
    Since multiple modules share the same address space, this is
    a necessary change for future robustness and changes.

 pkcs11/gck/gck-certificate-key.c            |  4 +--
 pkcs11/gck/gck-certificate-key.h            |  3 ++-
 pkcs11/gck/gck-certificate-trust.c          |  4 +--
 pkcs11/gck/gck-certificate-trust.h          |  3 ++-
 pkcs11/gck/gck-certificate.c                |  5 ++--
 pkcs11/gck/gck-object.c                     | 41 +++++++++++++++++++++++++++--
 pkcs11/gck/gck-object.h                     |  2 ++
 pkcs11/gck/gck-private-key.c                |  4 ++-
 pkcs11/gck/gck-public-key.c                 |  4 ++-
 pkcs11/gck/tests/unit-test-memory-store.c   | 13 +++++++--
 pkcs11/gck/tests/unit-test-store.c          |  9 +++++++
 pkcs11/roots-store/gck-roots-certificate.c  | 20 +++++++++++---
 pkcs11/roots-store/gck-roots-certificate.h  |  3 ++-
 pkcs11/roots-store/gck-roots-module.c       |  2 +-
 pkcs11/ssh-store/gck-ssh-module.c           |  2 +-
 pkcs11/ssh-store/gck-ssh-private-key.c      | 11 +++++---
 pkcs11/ssh-store/gck-ssh-private-key.h      |  3 ++-
 pkcs11/ssh-store/gck-ssh-public-key.c       |  5 ++--
 pkcs11/ssh-store/gck-ssh-public-key.h       |  3 ++-
 pkcs11/user-store/gck-user-module.c         |  2 +-
 pkcs11/user-store/gck-user-private-key.c    |  4 ++-
 pkcs11/user-store/gck-user-public-key.c     |  4 ++-
 pkcs11/user-store/gck-user-storage.c        | 33 ++++++++++++++++++-----
 pkcs11/user-store/gck-user-storage.h        |  2 +-
 pkcs11/user-store/tests/.gitignore          |  2 ++
 pkcs11/user-store/tests/Makefile.am         |  7 +++++
 pkcs11/user-store/tests/p11-tests.conf      |  2 ++
 pkcs11/user-store/tests/test-data/.gitempty |  0
 28 files changed, 159 insertions(+), 38 deletions(-)

commit c6984ff529116280817fecda73250b4027da9da7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Figure out CKA_TOKEN for a PKCS#11 object based on manager.
    
    Instead of manually setting CKA_TOKEN as the 'permanent' property
    on an object, we automatically infer it from the manager that
    the token object is on.

 pkcs11/gck/gck-manager.c |  3 ---
 pkcs11/gck/gck-object.c  | 23 +++++------------------
 pkcs11/gck/gck-session.c |  5 -----
 3 files changed, 5 insertions(+), 26 deletions(-)

commit 8eb5359b0368d47a2388d7e8cd788fd08ac58e07
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Update translatable files for last change

 po/POTFILES.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 42ec4fce143ff179038626d7ec38397add4fda3e
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Use .ui files directly now that they're supported by glade.
    
    Remove old glade files, and the conversion rules from Makefile.am.

 gcr/.gitignore                          |   2 -
 gcr/Makefile.am                         |  14 +-
 gcr/gcr-certificate-basics-widget.glade | 512 --------------------------------
 gcr/gcr-certificate-basics-widget.ui    | 504 +++++++++++++++++++++++++++++++
 gcr/gcr-import-dialog.glade             | 130 --------
 gcr/gcr-import-dialog.ui                | 125 ++++++++
 6 files changed, 633 insertions(+), 654 deletions(-)

commit cc550a98945f50d0794da681750395774444f5e9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for lifetime constrained identities.
    
    We don't support prompt constrained identities, as security
    wise this is incompatible with the current X11 desktop. And
    currently amounts to 'security theater'.

 pkcs11/ssh-agent/gck-ssh-agent-ops.c | 74 +++++++++++++++++++++++++++++++++---
 1 file changed, 69 insertions(+), 5 deletions(-)

commit 267864417e44e023dc70e42b5c45e62326707567
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Make standalone socket in a directory we know exists: /tmp

 pkcs11/ssh-agent/gck-ssh-agent-standalone.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 950a42ee6deec596e696636536abfcb06da49771
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for auto destructing session objects.
    
    These destroy themselves after a certain amount of lifetime
    controlled by the CKA_GNOME_AUTO_DESTRUCT attribute.

 pkcs11/gck/gck-object.c  | 120 +++++++++++++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-object.h  |   8 ++++
 pkcs11/gck/gck-session.c |  32 ++++++++++++-
 pkcs11/gck/gck-session.h |   5 ++
 pkcs11/pkcs11g.h         |   6 +++
 5 files changed, 170 insertions(+), 1 deletion(-)

commit caa1e0c645299a6f508f4163e76adf224a986b8f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for parsing and storing time attributes.
    
    These time attributes follow the PKCS#11 clock format.
    That is: YYYYmmddHHMMSS00 16 chars

 pkcs11/gck/gck-attributes.c             |  97 +++++++++++++++++++++++++
 pkcs11/gck/gck-attributes.h             |   8 ++
 pkcs11/gck/tests/Makefile.am            |   1 +
 pkcs11/gck/tests/unit-test-attributes.c | 125 ++++++++++++++++++++++++++++++++
 4 files changed, 231 insertions(+)

commit f2131bc5ab08b15e2095482eaf6c0adb37823de2
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for thread timers.
    
    We can't use mainloop timers from PKCS#11 modules, since no
    mainloop runs in those modules. Thread timers all share a
    single thread and callback into the module at the given time.

 pkcs11/gck/Makefile.am             |   1 +
 pkcs11/gck/gck-module-ep.h         |   4 +-
 pkcs11/gck/gck-module.c            |  32 +++++-
 pkcs11/gck/gck-module.h            |   6 +-
 pkcs11/gck/gck-timer.c             | 225 +++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-timer.h             |  43 +++++++
 pkcs11/gck/gck-types.h             |   1 +
 pkcs11/gck/tests/Makefile.am       |   2 +
 pkcs11/gck/tests/test-module.c     |  70 ++++++++++++
 pkcs11/gck/tests/test-module.h     |  41 +++++++
 pkcs11/gck/tests/unit-test-timer.c | 159 ++++++++++++++++++++++++++
 11 files changed, 578 insertions(+), 6 deletions(-)

commit 65f187fb72874a139c47e6af5463cb2a469cf682
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2009-07-14

    Updated Gujarati Translations

 po/gu.po | 206 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 108 insertions(+), 98 deletions(-)

commit e5e1a36d943e317ed8b83d73af47233e42cf7e39
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2009-07-14

    Updated Gujarati Translations

 po/gu.po | 37 +++++++++++++++++++------------------
 1 file changed, 19 insertions(+), 18 deletions(-)

commit 70ab6a29522506575a0207fc9d562acab14430e8
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Release version 2.27.4

 NEWS         | 12 ++++++++++++
 configure.in |  2 +-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit d5840ce7c0e47906a372953301bbb186d3257288
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Fix tests so they work from 'make distwcheck'
    
    Fix path issues in the tests which need data from their
    test-data directory, so that they work when running 'make distcheck'

 daemon/keyrings/tests/unit-test-keyring-file.c | 20 +++++---------
 gcr/gcr-library.c                              |  2 +-
 gcr/tests/unit-test-certificate.c              | 11 ++------
 gcr/tests/unit-test-parser.c                   |  2 +-
 pkcs11/gck/tests/unit-test-data-der.c          |  2 +-
 pkcs11/gck/tests/unit-test-data-file.c         |  4 +--
 pkcs11/ssh-store/tests/Makefile.am             |  4 ++-
 tests/gtest-helpers.c                          | 38 ++++++++++++++++++++++----
 tests/gtest-helpers.h                          |  1 +
 tests/gtest.make                               |  2 +-
 10 files changed, 53 insertions(+), 33 deletions(-)

commit f0dbbfc44f524f5937becb9f3188cd0dfe678308
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Make gkr_proto_get_raw_secret work as null-terminated when poss.
    
    Add an extra zero byte at the end of the returned secret, so that
    it can work as a string where possible

 library/gnome-keyring-proto.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 586c07f068f67581c1a35b4e91b7e3901ecc9996
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Cleanup tests, hook into 'make check'.
    
    Hook tests into make check. Fix some assumptions in tests
    about the order of setup functions being run.

 Makefile.am                                     |  9 ---------
 daemon/keyrings/tests/unit-test-keyring-login.c | 16 +++++++++++----
 tests/Makefile.am                               | 13 ------------
 tests/gtest.make                                |  7 +++++--
 tests/run-tests.sh                              | 27 -------------------------
 5 files changed, 17 insertions(+), 55 deletions(-)

commit 0c691b4570e726835af4b742aa41137fa5b74562
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Parse, but don't use non-utf8 secrets in keyrings.
    
    This is a change for future backwards compatibility.

 daemon/keyrings/gkr-keyring-binary.c | 13 +++++++++++--
 egg/egg-buffer.c                     |  4 ++--
 library/gnome-keyring-proto.c        | 19 +++++++++++++++++++
 library/gnome-keyring-proto.h        |  5 +++++
 4 files changed, 37 insertions(+), 4 deletions(-)

commit 15c168e8c7849c4b963ec01efaad9450d9b4ec5f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Don't be as strict with reserved/unused areas in keyrings.
    
    This will be used for future backwards compatibility where possible.

 daemon/keyrings/gkr-keyring-binary.c | 34 +++++++++-------------------------
 1 file changed, 9 insertions(+), 25 deletions(-)

commit 31fa05aca90307c107131269eed5a0a5a6785fed
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-09

    Add support in pam module for use_authtok
    
    The use_authtok option can be used to prevent prompting for
    a password by the pam module, if one was not already supplied.
    See bug #587164.

 pam/gkr-pam-module.c | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 56a71de91971fb9e09eab2cd4aa99335302b5117
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-29

    Release version 2.26.3

 NEWS         | 6 ++++++
 configure.in | 2 +-
 po/ChangeLog | 2 ++
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 189fe9d11bd74065345e20c18063b541d2e5ccf3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-27

    Remove == bashisms from 'test' calls configure.
    
    Patch by Alexis Ballier. POSIX does not document the == construction
    for test. Fixes bug #587118

 configure.in | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 5a175e3c45883fc43a231f8144fdc8102a28c780
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-21

    [tests] Fix some minor memory leaks in unit tests.

 pkcs11/gck/tests/unit-test-data-asn1.c | 2 ++
 tests/gtest-helpers.c                  | 2 ++
 2 files changed, 4 insertions(+)

commit 00f08d16d86ee109a73372aa13f8ab7670b4f62b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Write files without group or world permissions.
    
    Fixes bug #587908. Don't use g_file_set_contents() but write our
    own routines for writing file data from a transaction.

 pkcs11/gck/gck-transaction.c | 68 +++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 61 insertions(+), 7 deletions(-)

commit a957c0ed1fbf61d355e8d0eed8fdfac969ec4e37
Merge: 40a9f2a 5baf704
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    Merge branch 'unlock-objects'

commit 5baf7048a690e1d1e6d6b677f19bcd687c92c9ac
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [daemon, ssh-agent] Use authenticator objects instead of auth-cache.
    
    Now that we have authenticator objects in the actual pkcs#11 modules
    remove the auth cache for unlocking objects from the daemon, and
    use authenticator objects to lock objects from the ssh-agent.

 daemon/pkcs11/gkr-pkcs11-auth-ep.c   | 414 +++--------------------------------
 daemon/pkcs11/gkr-pkcs11-auth.c      | 167 ++------------
 daemon/pkcs11/gkr-pkcs11-auth.h      |  16 +-
 pkcs11/pkcs11g.h                     |  11 -
 pkcs11/ssh-agent/gck-ssh-agent-ops.c |  32 ++-
 5 files changed, 76 insertions(+), 564 deletions(-)

commit 71c0f037a3bbcf2ba4e1c46302834b345cf41847
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Pass session to get/set attribute functions.
    
    This allows attributes to be different depending on which session or
    application they're accessed from. Implement CKA_ALWAYS_AUTHENTICATE
    as a session dependent attribute.

 pkcs11/gck/gck-authenticator.c             |  4 +-
 pkcs11/gck/gck-certificate-key.c           |  6 +--
 pkcs11/gck/gck-certificate-trust.c         | 14 ++++---
 pkcs11/gck/gck-certificate.c               |  6 +--
 pkcs11/gck/gck-key.c                       |  4 +-
 pkcs11/gck/gck-manager.c                   | 12 +++---
 pkcs11/gck/gck-object.c                    | 64 ++++++++++++++----------------
 pkcs11/gck/gck-object.h                    | 19 ++++++---
 pkcs11/gck/gck-private-key.c               | 21 +++++++---
 pkcs11/gck/gck-private-key.h               |  3 +-
 pkcs11/gck/gck-public-key.c                |  4 +-
 pkcs11/gck/gck-session.c                   | 20 +++++-----
 pkcs11/gck/tests/mock-locked-object.c      |  4 +-
 pkcs11/roots-store/gck-roots-certificate.c |  4 +-
 pkcs11/ssh-store/gck-ssh-private-key.c     |  6 +--
 pkcs11/ssh-store/gck-ssh-public-key.c      |  4 +-
 pkcs11/user-store/gck-user-private-key.c   |  4 +-
 pkcs11/user-store/gck-user-storage.c       |  6 +--
 18 files changed, 110 insertions(+), 95 deletions(-)

commit 45c79443a280bcda6e4c88f79e5db2f3391ac938
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Don't map object identifiers in plex layer.
    
    This conflicts with future plans for having object handles
    present in the attributes of other objects.

 pkcs11/plex-layer/gck-plex-layer.c | 123 ++++++-------------------------------
 1 file changed, 20 insertions(+), 103 deletions(-)

commit d5f960e74da3c39c46b358f982e24407c77441b9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Tweak authenticator enumerator to return boolean.
    
    gck_session_for_each_authenticator() now returns a boolean value
    if any of the callbacks returned successfully.

 pkcs11/gck/gck-session.c | 14 ++++++++------
 pkcs11/gck/gck-session.h |  2 +-
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 6a6d07aa2265ff842b37900faaf13b096c0fdd5a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-19

    [gck] Add authenticator objects for storing authenticated state.
    
    Authenticator objects are now used for PKCS#11 context specific
    logins. In the future we'll use them for unlocking stuff on a
    token, session, or timeout basis.

 pkcs11/gck/Makefile.am                         |   1 +
 pkcs11/gck/gck-authenticator.c                 | 402 +++++++++++++++++++++++++
 pkcs11/gck/gck-authenticator.h                 |  77 +++++
 pkcs11/gck/gck-key.c                           |   4 +-
 pkcs11/gck/gck-key.h                           |   5 +-
 pkcs11/gck/gck-login.c                         |   1 +
 pkcs11/gck/gck-module.c                        |  12 +-
 pkcs11/gck/gck-object.c                        |  50 ++-
 pkcs11/gck/gck-object.h                        |   8 +-
 pkcs11/gck/gck-private-key.c                   |  82 +++--
 pkcs11/gck/gck-private-key.h                   |   8 +-
 pkcs11/gck/gck-public-key.c                    |   2 +-
 pkcs11/gck/gck-session.c                       | 107 ++++++-
 pkcs11/gck/gck-session.h                       |   8 +
 pkcs11/gck/gck-sexp.c                          |   3 +-
 pkcs11/gck/gck-sexp.h                          |   2 +-
 pkcs11/gck/gck-types.h                         |   1 +
 pkcs11/gck/gck-util.c                          |  11 +
 pkcs11/gck/gck-util.h                          |   2 +
 pkcs11/gck/tests/Makefile.am                   |   2 +
 pkcs11/gck/tests/mock-locked-object.c          |  88 ++++++
 pkcs11/gck/tests/mock-locked-object.h          |  52 ++++
 pkcs11/gck/tests/test-module.c                 |  34 ++-
 pkcs11/gck/tests/test-module.h                 |  10 +-
 pkcs11/gck/tests/unit-test-authenticator.c     | 254 ++++++++++++++++
 pkcs11/gck/tests/unit-test-memory-store.c      |   6 +-
 pkcs11/gck/tests/unit-test-object.c            |  23 +-
 pkcs11/gck/tests/unit-test-store.c             |   7 +-
 pkcs11/gck/tests/unit-test-timer.c             |   6 +-
 pkcs11/pkcs11g.h                               |  14 +-
 pkcs11/ssh-store/gck-ssh-module.c              |   8 +
 pkcs11/ssh-store/gck-ssh-private-key.c         |  40 ++-
 pkcs11/ssh-store/tests/Makefile.am             |   4 +-
 pkcs11/ssh-store/tests/test-ssh-module.c       | 105 +++++++
 pkcs11/ssh-store/tests/test-ssh-module.h       |  43 +++
 pkcs11/ssh-store/tests/unit-test-private-key.c |  97 ++++++
 pkcs11/user-store/gck-user-private-key.c       |   4 +-
 pkcs11/user-store/gck-user-storage.c           |  10 +-
 38 files changed, 1451 insertions(+), 142 deletions(-)

commit 4508771f734590140051391b0a9222451f2aa453
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    [gck] Add support for transient PKCS#11 objects.
    
    Transient objects are not stored permanently. These may be token
    objects with token 'scope' but dissappear automatically at some
    point in the future.
    
    Auto-destructed objects are always token objects.

 pkcs11/gck/gck-module.c             | 114 +++++++++++++++-
 pkcs11/gck/gck-object.c             | 132 +++++++++++-------
 pkcs11/gck/gck-object.h             |  13 +-
 pkcs11/gck/gck-session.c            |  17 ++-
 pkcs11/gck/tests/Makefile.am        |   1 +
 pkcs11/gck/tests/unit-test-object.c | 262 ++++++++++++++++++++++++++++++++++++
 pkcs11/gck/tests/unit-test-timer.c  |   2 +-
 pkcs11/pkcs11g.h                    |   2 +
 8 files changed, 478 insertions(+), 65 deletions(-)

commit 3f7704cd340e9e8ee88dd5180a52cc583bb9daf3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    [gck] Add helper function to parse bool attribute.

 pkcs11/gck/gck-attributes.c             | 17 +++++++++++++++++
 pkcs11/gck/gck-attributes.h             |  5 ++++-
 pkcs11/gck/tests/unit-test-attributes.c | 27 +++++++++++++++++++++++++++
 3 files changed, 48 insertions(+), 1 deletion(-)

commit b98358d3c3e43792474ff2622c6d3397c3a9badf
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    [gck] PKCS#11 objects now track the module they're in.
    
    Since multiple modules share the same address space, this is
    a necessary change for future robustness and changes.

 pkcs11/gck/gck-certificate-key.c            |  4 +--
 pkcs11/gck/gck-certificate-key.h            |  3 ++-
 pkcs11/gck/gck-certificate-trust.c          |  4 +--
 pkcs11/gck/gck-certificate-trust.h          |  3 ++-
 pkcs11/gck/gck-certificate.c                |  5 ++--
 pkcs11/gck/gck-object.c                     | 41 +++++++++++++++++++++++++++--
 pkcs11/gck/gck-object.h                     |  2 ++
 pkcs11/gck/gck-private-key.c                |  4 ++-
 pkcs11/gck/gck-public-key.c                 |  4 ++-
 pkcs11/gck/tests/unit-test-memory-store.c   | 13 +++++++--
 pkcs11/gck/tests/unit-test-store.c          |  9 +++++++
 pkcs11/roots-store/gck-roots-certificate.c  | 20 +++++++++++---
 pkcs11/roots-store/gck-roots-certificate.h  |  3 ++-
 pkcs11/roots-store/gck-roots-module.c       |  2 +-
 pkcs11/ssh-store/gck-ssh-module.c           |  2 +-
 pkcs11/ssh-store/gck-ssh-private-key.c      | 11 +++++---
 pkcs11/ssh-store/gck-ssh-private-key.h      |  3 ++-
 pkcs11/ssh-store/gck-ssh-public-key.c       |  5 ++--
 pkcs11/ssh-store/gck-ssh-public-key.h       |  3 ++-
 pkcs11/user-store/gck-user-module.c         |  2 +-
 pkcs11/user-store/gck-user-private-key.c    |  4 ++-
 pkcs11/user-store/gck-user-public-key.c     |  4 ++-
 pkcs11/user-store/gck-user-storage.c        | 33 ++++++++++++++++++-----
 pkcs11/user-store/gck-user-storage.h        |  2 +-
 pkcs11/user-store/tests/.gitignore          |  2 ++
 pkcs11/user-store/tests/Makefile.am         |  7 +++++
 pkcs11/user-store/tests/p11-tests.conf      |  2 ++
 pkcs11/user-store/tests/test-data/.gitempty |  0
 28 files changed, 159 insertions(+), 38 deletions(-)

commit 508054a15c332a7fa3ba3dd509863ed81eeea188
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Figure out CKA_TOKEN for a PKCS#11 object based on manager.
    
    Instead of manually setting CKA_TOKEN as the 'permanent' property
    on an object, we automatically infer it from the manager that
    the token object is on.

 pkcs11/gck/gck-manager.c |  3 ---
 pkcs11/gck/gck-object.c  | 23 +++++------------------
 pkcs11/gck/gck-session.c |  5 -----
 3 files changed, 5 insertions(+), 26 deletions(-)

commit 40a9f2aa3e0a888d856981b565d88e4f780df494
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Update translatable files for last change

 po/POTFILES.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d480df5f8f66478f00ed02bd46b15e9d2783f7d0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Use .ui files directly now that they're supported by glade.
    
    Remove old glade files, and the conversion rules from Makefile.am.

 gcr/.gitignore                          |   2 -
 gcr/Makefile.am                         |  14 +-
 gcr/gcr-certificate-basics-widget.glade | 512 --------------------------------
 gcr/gcr-certificate-basics-widget.ui    | 504 +++++++++++++++++++++++++++++++
 gcr/gcr-import-dialog.glade             | 130 --------
 gcr/gcr-import-dialog.ui                | 125 ++++++++
 6 files changed, 633 insertions(+), 654 deletions(-)

commit 28bf965222e58c0eae7eb76ff0143ce3b86a6fda
Merge: 92251a5 d69fdd3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Merge branch 'auto-destruct'

commit d69fdd36a70052114b8b0c4cc0efa0868709ebb0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for lifetime constrained identities.
    
    We don't support prompt constrained identities, as security
    wise this is incompatible with the current X11 desktop. And
    currently amounts to 'security theater'.

 pkcs11/ssh-agent/gck-ssh-agent-ops.c | 74 +++++++++++++++++++++++++++++++++---
 1 file changed, 69 insertions(+), 5 deletions(-)

commit 274b2f5d8993e7b1b8717b7df50a4c678aa64641
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Make standalone socket in a directory we know exists: /tmp

 pkcs11/ssh-agent/gck-ssh-agent-standalone.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ad2c0e75977c7a76c25ef27fb29b767d3c1e94ad
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for auto destructing session objects.
    
    These destroy themselves after a certain amount of lifetime
    controlled by the CKA_GNOME_AUTO_DESTRUCT attribute.

 pkcs11/gck/gck-object.c  | 120 +++++++++++++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-object.h  |   8 ++++
 pkcs11/gck/gck-session.c |  32 ++++++++++++-
 pkcs11/gck/gck-session.h |   5 ++
 pkcs11/pkcs11g.h         |   6 +++
 5 files changed, 170 insertions(+), 1 deletion(-)

commit 10ecb163793305ceed6a3cee48f2e593daabdd20
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for parsing and storing time attributes.
    
    These time attributes follow the PKCS#11 clock format.
    That is: YYYYmmddHHMMSS00 16 chars

 pkcs11/gck/gck-attributes.c             |  97 +++++++++++++++++++++++++
 pkcs11/gck/gck-attributes.h             |   8 ++
 pkcs11/gck/tests/Makefile.am            |   1 +
 pkcs11/gck/tests/unit-test-attributes.c | 125 ++++++++++++++++++++++++++++++++
 4 files changed, 231 insertions(+)

commit 30d87d669ce3c17a3de5de1e065ddc09357d2170
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-18

    Add support for thread timers.
    
    We can't use mainloop timers from PKCS#11 modules, since no
    mainloop runs in those modules. Thread timers all share a
    single thread and callback into the module at the given time.

 pkcs11/gck/Makefile.am             |   1 +
 pkcs11/gck/gck-module-ep.h         |   4 +-
 pkcs11/gck/gck-module.c            |  32 +++++-
 pkcs11/gck/gck-module.h            |   6 +-
 pkcs11/gck/gck-timer.c             | 225 +++++++++++++++++++++++++++++++++++++
 pkcs11/gck/gck-timer.h             |  43 +++++++
 pkcs11/gck/gck-types.h             |   1 +
 pkcs11/gck/tests/Makefile.am       |   2 +
 pkcs11/gck/tests/test-module.c     |  70 ++++++++++++
 pkcs11/gck/tests/test-module.h     |  41 +++++++
 pkcs11/gck/tests/unit-test-timer.c | 159 ++++++++++++++++++++++++++
 11 files changed, 578 insertions(+), 6 deletions(-)

commit d4ca6d4f828a914d0e2070877c01b1523e46ba62
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Make object paths static for the lifetime of an object.
    
    Suggestion from Michael Leupold.

 docs/reference/secrets/secrets-docs.sgml | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 843a2825c648b4680f50392311199289b94dd2f9
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Rename 'results' arg of SearchItems to 'unlocked'
    
    Suggestion by Michael Leupold.

 daemon/secrets/api/org.freedesktop.Secrets.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a12ed7e56b0dddb5e84105c78ec062b1abe8ff58
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Use a dict to return secrets from RetrieveSecrets.

 daemon/secrets/api/org.freedesktop.Secrets.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4d76282c1007fc10e210cce3fc34b0c0acea8a93
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Add more documentation of algorithms.

 docs/reference/secrets/secrets-docs.sgml | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 0aa4918aff004429ac5459cd255bc9bb650b8eef
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Add 'complete' argument to Negotiate method.

 daemon/secrets/api/org.freedesktop.Secrets.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 2adf4a1b8f8b919c7662092ea34ca87cc4bb2864
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Rename SearchCollections method to SearchItems.
    
    As suggested by Guillaume Martres.

 daemon/secrets/api/org.freedesktop.Secrets.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9a407e1850aec391868a9d6d7e23045e5827a44f
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Consistently use term fields instead of attributes.
    
    As suggested by Guillaume Martres.

 daemon/secrets/api/org.freedesktop.Secrets.xml | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 49fa9ac1c0e2be35f66c565c7d21882259db29e6
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Add org.freedesktop.Secrets.Error.NoSession error.
    
    As suggested by Michael Leupold. Used when an action requires a session
    but the client application has not opened one.

 daemon/secrets/api/org.freedesktop.Secrets.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 3135e3e3f0242c10e16b839440a72c8947c97c71
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Rename ItemCreated, ItemDeleted, and move ItemChanged.
    
    Change CreatedItem signal to ItemCreated and DeletedItem to ItemDeleted,
    as suggested by Kevin Krammer.
    
    Also move 'changed' signal from Item interface to ItemChanged on
    Collection interface. If people want to monitor properties of an
    individual item they can do so with the standard dbus properties
    api. ItemChanged is useful for monitoring changes in a whole
    collection (in a GUI for example).

 daemon/secrets/api/org.freedesktop.Secrets.xml | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 946719e94276122287162e0eaa6e7d2a5cf6254b
Author: Stefan Walter <Stefan Walter>
Date:   2009-07-16

    Remove conflict lines from old merge

 docs/reference/secrets/secrets-docs.sgml | 4 ----
 1 file changed, 4 deletions(-)

commit 92251a5d0995fb04ea54d148d7825b19d1c430b4
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2009-07-14

    Updated Gujarati Translations

 po/gu.po | 206 +++++++++++++++++++++++++++++++++------------------------------
 1 file changed, 108 insertions(+), 98 deletions(-)

commit 8261600a736854d44c869cf8077776b286e80680
Author: Sweta Kothari <swkothar@redhat.com>
Date:   2009-07-14

    Updated Gujarati Translations

 po/gu.po | 37 +++++++++++++++++++------------------
 1 file changed, 19 insertions(+), 18 deletions(-)

commit 28005c65148d730e417669f227d8db35e2db2cac
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Release version 2.27.4

 NEWS         | 12 ++++++++++++
 configure.in |  2 +-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 5f7e6f921cb4bc01aca90416ba83cb046fee1506
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Fix tests so they work from 'make distwcheck'
    
    Fix path issues in the tests which need data from their
    test-data directory, so that they work when running 'make distcheck'

 daemon/keyrings/tests/unit-test-keyring-file.c | 20 +++++---------
 gcr/gcr-library.c                              |  2 +-
 gcr/tests/unit-test-certificate.c              | 11 ++------
 gcr/tests/unit-test-parser.c                   |  2 +-
 pkcs11/gck/tests/unit-test-data-der.c          |  2 +-
 pkcs11/gck/tests/unit-test-data-file.c         |  4 +--
 pkcs11/ssh-store/tests/Makefile.am             |  4 ++-
 tests/gtest-helpers.c                          | 38 ++++++++++++++++++++++----
 tests/gtest-helpers.h                          |  1 +
 tests/gtest.make                               |  2 +-
 10 files changed, 53 insertions(+), 33 deletions(-)

commit a786f3e04907797eb72e5632d737661f9cbd791c
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Make gkr_proto_get_raw_secret work as null-terminated when poss.
    
    Add an extra zero byte at the end of the returned secret, so that
    it can work as a string where possible

 library/gnome-keyring-proto.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3b9592e09fab786ef8518ac49269314a6c08a521
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Cleanup tests, hook into 'make check'.
    
    Hook tests into make check. Fix some assumptions in tests
    about the order of setup functions being run.

 Makefile.am                                     |  9 ---------
 daemon/keyrings/tests/unit-test-keyring-login.c | 16 +++++++++++----
 tests/Makefile.am                               | 13 ------------
 tests/gtest.make                                |  7 +++++--
 tests/run-tests.sh                              | 27 -------------------------
 5 files changed, 17 insertions(+), 55 deletions(-)

commit cb32f8b10ca51afa699afdaf339029aa5fbd0e74
Merge: 6c92cd1 eccba13
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Merge branch 'gnome-2-26'

commit 6c92cd1c56f34e29e750aa595e8884fbb27eb684
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Parse, but don't use non-utf8 secrets in keyrings.
    
    This is a change for future backwards compatibility.

 daemon/keyrings/gkr-keyring-binary.c | 13 +++++++++++--
 egg/egg-buffer.c                     |  4 ++--
 library/gnome-keyring-proto.c        | 19 +++++++++++++++++++
 library/gnome-keyring-proto.h        |  5 +++++
 4 files changed, 37 insertions(+), 4 deletions(-)

commit a55053287ab6710bd882246aeb44267a7391d758
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-13

    Don't be as strict with reserved/unused areas in keyrings.
    
    This will be used for future backwards compatibility where possible.

 daemon/keyrings/gkr-keyring-binary.c | 34 +++++++++-------------------------
 1 file changed, 9 insertions(+), 25 deletions(-)

commit 07935696286dcb99d6ec48eae0309d9dab1ec618
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-07-09

    Add support in pam module for use_authtok
    
    The use_authtok option can be used to prevent prompting for
    a password by the pam module, if one was not already supplied.
    See bug #587164.

 pam/gkr-pam-module.c | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit eccba135c041cd2894737657c37a28a4fff1d0fa
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-29

    Release version 2.26.3

 ChangeLog    | 37 +++++++++++++++++++++++++++++++++++++
 NEWS         |  6 ++++++
 configure.in |  2 +-
 po/ChangeLog |  2 ++
 4 files changed, 46 insertions(+), 1 deletion(-)

commit d2681b8e7ee6a76176c3064bab8da8d5d52c32f9
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-27

    Combine entire DBus definition into a single file.
    
    Combine multiple parts of the DBus API introspection xml into
    a single file.

 daemon/secrets/api/Makefile.am                     |  18 +-
 .../api/org.freedesktop.Secrets.Collection.xml     |  94 ------
 .../secrets/api/org.freedesktop.Secrets.Item.xml   |  63 ----
 .../api/org.freedesktop.Secrets.Service.xml        | 117 -------
 .../api/org.freedesktop.Secrets.Session.xml        |  67 ----
 daemon/secrets/api/org.freedesktop.Secrets.xml     | 359 +++++++++++++++++++++
 6 files changed, 365 insertions(+), 353 deletions(-)

commit 78dd7109bd834f8c335137da06cdbc5f67f077fb
Merge: 1251b19 0ac8ef2
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-27

    Merge branch 'master' into dbus-api

commit 0ac8ef230ab893e303765ea0bfcb5cd15f0de693
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-27

    Fix build problem that resulted from recent merge.
    
    Accidentally merged this line back in from gnome-2-26.

 pkcs11/rpc-layer/Makefile.am | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 3407fca4e68a8d7dcbdc63f5fc7fde8d811932ab
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-27

    Remove == bashisms from 'test' calls configure.
    
    Patch by Alexis Ballier. POSIX does not document the == construction
    for test. Fixes bug #587118

 configure.in | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 1251b19def3e70bd9cfb5ae81afceaa2df666caa
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-20

    Build docs for the secrets API.

 docs/reference/secrets/secrets-docs.sgml | 3 +++
 1 file changed, 3 insertions(+)

commit cfc984da4993bc8495eb2736a4c02905e172fcc5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-19

    Add build support for eggdbus interfaces.
    
    Depend on eggdbus 0.4 or later, add makefiles, and use
    eggdbus-binding-tool to compile boilerplate code.

 .gitignore                     | 1 +
 daemon/secrets/api/Makefile.am | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 8ad038146bd8d4a8420e5a197d5076eab51abcd0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Better message when gck-ssh-agent-standalone (test binary) used wrong.
    
    Add a better message when this test binary is used in the wrong way.
    Fixes bug #581782 Research by Jon Downland.

 pkcs11/ssh-agent/gck-ssh-agent-standalone.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 4556871195b8f422144af7a075b20a83427856fa
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Add only_if= option to pam module, can limit services its enabled for.
    
    By Vincent Untz. The only_if= option allows administrators to disable
    the gnome-keyring pam module to only run under certain pam services.
    This is useful if gnome-keyring is to be included in a common pam
    included config file. Fixes bug #559781

 pam/gkr-pam-module.c | 85 +++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 75 insertions(+), 10 deletions(-)

commit 6d5b85c8c09c5c6546eb3192bac51c175a9ed273
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Make "Password: " prompt be translated in pam module.
    
    Fixed on Linux. I'm not an expert in this area, and have no idea
    how make other desktops work. Patches are welcome.
    Patch from Vincent Untz. Fixes bug #572360

 pam/gkr-pam-module.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit acc70d1450d850102a4fd5701f8111913006552f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Fixed problem with RSA key sizes that were not a multiple of 8.
    
    This was a problem in the PKCS#1 padding functions, which calculated
    the padding length incorrectly. All instances of this have been
    searched out and fixed. Should fix bug #576700 at least with the
    key that Robert Ancell posted.

 pkcs11/gck/gck-crypto.c | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 0740ce23d720e7d1c9ac97f3324c39591147d3f5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Fix linking problem on FreeBSD.
    
    The dlopen function is in libc rather than libdl, so add a check for
    that in configure.in. Fixes bug #584307

 configure.in                 | 11 +++++++++++
 pkcs11/rpc-layer/Makefile.am |  6 +++---
 2 files changed, 14 insertions(+), 3 deletions(-)

commit 18f06695aeecef2a3a1992f653d1db83a4328318
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Add missing header.
    
    Fixes compilation problem on OS X 10.4. Bug #584781. Patch by Daniel Macks.

 library/gnome-keyring-socket.c | 1 +
 1 file changed, 1 insertion(+)

commit 9dac7c94bac3ce067dc912232dc580f4425eb475
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Use proper functions to free secure memory.
    
    Fixes crash reported in bug #586192. Patch by Ryan Beasley.

 pkcs11/gck/gck-data-der.c          | 2 +-
 pkcs11/ssh-store/gck-ssh-openssh.c | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ebd93a251942550a390b90ce99322fe4a05612b3
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Ignore more built files

 .gitignore | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 5a1c93177d1290798a18a708f529a80ae2804397
Author: Ivar Smolin <okul@linux.ee>
Date:   2009-06-26

    Updating Estonian translation

 po/et.po | 99 ++++++++++++++++++++--------------------------------------------
 1 file changed, 31 insertions(+), 68 deletions(-)

commit a24b8e8b33ca1f0c3fb9fd412187de93eef94a3e
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   2009-06-25

    Updating Estonian translation

 po/et.po | 824 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 457 insertions(+), 367 deletions(-)

commit 6360f117cbfdd9326864de02e5857690ada956d5
Author: Runa Bhattacharjee <runab@redhat.com>
Date:   2009-06-15

    Updated Bengali India Translations

 po/bn_IN.po | 113 +++++++++++++++++++++++++++---------------------------------
 1 file changed, 50 insertions(+), 63 deletions(-)

commit 81a8e515cb77313e1649eee0adbaafa4487da36d
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-06-10

    Added entries for Hindi Translation updated by Rajesh Ranjan

 po/ChangeLog | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 46131f9b937d45ff287c633e4c7b45be8f29790d
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-06-10

    Updated Hindi Translation on behalf of Rajesh Ranjan

 po/hi.po | 1536 ++++++++++++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 1244 insertions(+), 292 deletions(-)

commit 1166aab82a8d2152ea3259d75c3ec99ae02e625a
Merge: f824505 bea1715
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Merge branch 'gnome-2-26'

commit f824505952f17804d447179ef2bd38f81805eb16
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Better message when gck-ssh-agent-standalone (test binary) used wrong.
    
    Add a better message when this test binary is used in the wrong way.
    Fixes bug #581782 Research by Jon Downland.

 pkcs11/ssh-agent/gck-ssh-agent-standalone.c | 5 +++++
 1 file changed, 5 insertions(+)

commit 19bdcf05461175d40ea8c5c324146379e028c38a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Add only_if= option to pam module, can limit services its enabled for.
    
    By Vincent Untz. The only_if= option allows administrators to disable
    the gnome-keyring pam module to only run under certain pam services.
    This is useful if gnome-keyring is to be included in a common pam
    included config file. Fixes bug #559781

 pam/gkr-pam-module.c | 85 +++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 75 insertions(+), 10 deletions(-)

commit 039311c6022e5068f92418ac1cc641e092a50915
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Make "Password: " prompt be translated in pam module.
    
    Fixed on Linux. I'm not an expert in this area, and have no idea
    how make other desktops work. Patches are welcome.
    Patch from Vincent Untz. Fixes bug #572360

 pam/gkr-pam-module.c | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit bea17154da4c84f54064489e8ea875b74c7a6256
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Fixed problem with RSA key sizes that were not a multiple of 8.
    
    This was a problem in the PKCS#1 padding functions, which calculated
    the padding length incorrectly. All instances of this have been
    searched out and fixed. Should fix bug #576700 at least with the
    key that Robert Ancell posted.

 pkcs11/gck/gck-crypto.c | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 6ddb14eef4368d63ce7055ee52718010a8f8190a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Fix linking problem on FreeBSD.
    
    The dlopen function is in libc rather than libdl, so add a check for
    that in configure.in. Fixes bug #584307

 configure.in                 | 11 +++++++++++
 pkcs11/rpc-layer/Makefile.am |  2 +-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 41a1e0202d70a39f2e446f2eafafafe3d6b749cc
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Add missing header.
    
    Fixes compilation problem on OS X 10.4. Bug #584781. Patch by Daniel Macks.

 library/gnome-keyring-socket.c | 1 +
 1 file changed, 1 insertion(+)

commit 0c5d330655fff930a0afedc426254bca7922f1b0
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Use proper functions to free secure memory.
    
    Fixes crash reported in bug #586192. Patch by Ryan Beasley.

 pkcs11/gck/gck-data-der.c          | 2 +-
 pkcs11/ssh-store/gck-ssh-openssh.c | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ae87daa1f3840b643abac4ea84507fe7663910ec
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-26

    Ignore more built files

 .gitignore | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 4c3220df49733c460cb7964962bc1a9701c54978
Author: Ivar Smolin <okul@linux.ee>
Date:   2009-06-26

    Updating Estonian translation

 po/et.po | 99 ++++++++++++++++++++--------------------------------------------
 1 file changed, 31 insertions(+), 68 deletions(-)

commit 9e7b99f18680d0299299c0e6d61378aaabd4f5a6
Author: Mattias Põldaru <mahfiaz gmail com>
Date:   2009-06-25

    Updating Estonian translation

 po/et.po | 824 +++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 457 insertions(+), 367 deletions(-)

commit 23b4a9b6c73af6471d56cc46515cf8d81035155f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-21

    Move lookup executable path from pid into common code.
    
    Created egg_unix_credentials_executable() function with code
    from gkr_daemon_client_set_current() so that it can be reused
    from more locations.

 daemon/util/gkr-daemon-util.c | 31 ++++++-------------------------
 egg/egg-unix-credentials.c    | 25 +++++++++++++++++++++++++
 egg/egg-unix-credentials.h    |  2 ++
 3 files changed, 33 insertions(+), 25 deletions(-)

commit bc00dc5f6d1fc9d02f74a510a252827b25c7c894
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-21

    API changes: add error codes, add Created Modified properties.
    
    A bunch of API changes that fixed names, property orders,
    and added the missing Created/Modified properties for
    collections and items.
    
    Also added error codes and documented them.

 .../api/org.freedesktop.Secrets.Collection.xml       | 20 ++++++++++++++------
 daemon/secrets/api/org.freedesktop.Secrets.Item.xml  | 12 ++++++++++--
 .../secrets/api/org.freedesktop.Secrets.Service.xml  | 18 ++++++++++++++++++
 docs/reference/secrets/secrets-docs.sgml             | 17 +++++++++++------
 4 files changed, 53 insertions(+), 14 deletions(-)

commit 17b9c64d857dc68795f57c1e08c15240a051b6ed
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-20

    Complete most of the secrets API documentation.

 .../api/org.freedesktop.Secrets.Collection.xml     |   8 +-
 .../secrets/api/org.freedesktop.Secrets.Item.xml   |   7 +
 .../api/org.freedesktop.Secrets.Service.xml        |   9 +-
 .../api/org.freedesktop.Secrets.Session.xml        |  12 +-
 docs/reference/secrets/secrets-docs.sgml           | 401 ++++++++++++++++++++-
 5 files changed, 411 insertions(+), 26 deletions(-)

commit 691990ce1859191fe6025b90bfbe26af320fb738
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-20

    Build docs for the secrets API.

 .gitignore                               |  36 +++++------
 configure.in                             |   1 +
 docs/reference/.gitignore                |  15 +++++
 docs/reference/Makefile.am               |   2 +-
 docs/reference/gcr/.gitignore            |  17 -----
 docs/reference/gnome-keyring/.gitignore  |  17 -----
 docs/reference/gp11/.gitignore           |  17 -----
 docs/reference/secrets/.gitignore        |  12 ++++
 docs/reference/secrets/Makefile.am       | 104 +++++++++++++++++++++++++++++++
 docs/reference/secrets/empty/EMPTY       |   1 +
 docs/reference/secrets/secrets-docs.sgml |  39 ++++++++++++
 11 files changed, 191 insertions(+), 70 deletions(-)

commit c7e43d42c7671086be24824d63e7c65d37f53a0a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-19

    Spec out the remainder of the stuff in the api.
    
    Completed basic Collection, Item, Service, Session and Secret
    interfaces and structures.

 daemon/secrets/api/.gitignore                      |   6 +-
 daemon/secrets/api/Makefile.am                     |   3 +
 .../api/org.freedesktop.Secrets.Collection.xml     | 113 +++++++++++----------
 .../secrets/api/org.freedesktop.Secrets.Item.xml   |  65 +++++++-----
 .../api/org.freedesktop.Secrets.Service.xml        |  70 ++++++++-----
 .../api/org.freedesktop.Secrets.Session.xml        |  73 +++++++++----
 6 files changed, 207 insertions(+), 123 deletions(-)

commit 695a738f880aa1e15f0c7df4f65e6e04045b0df5
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-19

    Add build support for eggdbus interfaces.
    
    Depend on eggdbus 0.4 or later, add makefiles, and use
    eggdbus-binding-tool to compile boilerplate code.

 .gitignore                     |  1 +
 configure.in                   |  4 +++-
 daemon/.gitignore              |  4 ++--
 daemon/Makefile.am             |  3 ++-
 daemon/secrets/Makefile.am     |  2 ++
 daemon/secrets/api/Makefile.am | 25 +++++++++++++++++++++++++
 6 files changed, 35 insertions(+), 4 deletions(-)

commit 84a13ea4fa7e0bb70a0489a63bbc2decd589eac7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-19

    Ignore built files

 daemon/secrets/api/.gitignore | 4 ++++
 1 file changed, 4 insertions(+)

commit 176b91af8700e65a54c92c7d6b81fef2a8e558c8
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-19

    Add a rough draft of the secrets interfaces.
    
    These are not usable yet, but imported them into this
    branch, so we can make progress here.

 .../api/org.freedesktop.Secrets.Collection.xml     | 71 +++++++++++++++++++
 .../secrets/api/org.freedesktop.Secrets.Item.xml   | 35 ++++++++++
 .../api/org.freedesktop.Secrets.Service.xml        | 80 ++++++++++++++++++++++
 .../api/org.freedesktop.Secrets.Session.xml        | 24 +++++++
 4 files changed, 210 insertions(+)

commit 6207f9ba46946b39b3a8d8ea7f197dc1f2d67744
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-21

    Make translation file not be executable.
    
    I'm trying to branch, but I have to placate this dumb hook
    first. Somehow the po/mai.po file was executable.

 po/mai.po | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit ba8ed988b599c53d5c82e8a2df592b70da7c3a5f
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-06-19

    Use gcrypt to generate encryption iv/salt.
    
    Remove needlessly duplicated code init_salt(), and use libcrypt
    to generate salt.

 daemon/keyrings/gkr-keyring-binary.c | 31 +------------------------------
 1 file changed, 1 insertion(+), 30 deletions(-)

commit 1ee5080bfc5f234b587fe089ed9827603998afbe
Author: Runa Bhattacharjee <runab@redhat.com>
Date:   2009-06-15

    Updated Bengali India Translations

 po/bn_IN.po | 406 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 202 insertions(+), 204 deletions(-)

commit f62e1ef19faefa53406ec81ef02300c662e4085a
Author: Runa Bhattacharjee <runab@redhat.com>
Date:   2009-06-15

    Updated Bengali India Translations

 po/bn_IN.po | 295 +++++++++++++++++++++++++++++-------------------------------
 1 file changed, 140 insertions(+), 155 deletions(-)

commit fb5cc2d33f12648e7093589b7ed07665cf03c727
Author: Rajesh Ranjan <rranjan@rranjan.csb>
Date:   2009-06-11

    hindi update

 po/hi.po | 1536 ++++++++++++--------------------------------------------------
 1 file changed, 292 insertions(+), 1244 deletions(-)

commit 6086364cd1bb7f23ac2cde8e678d78578b47a84b
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-06-10

    Added entries for Hindi Translation updated by Rajesh Ranjan

 po/ChangeLog | 4 ++++
 1 file changed, 4 insertions(+)

commit 68897290bb901679aaf66d22d29687b7f9351a0f
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-06-10

    Updated Hindi Translation on behalf of Rajesh Ranjan

 po/hi.po | 435 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 219 insertions(+), 216 deletions(-)

commit 99f66f4ff38b8385a7aa41a7c76b01a6ac06b20d
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-06-10

    Added entries for Hindi Translation updated by Rajesh Ranjan

 po/ChangeLog | 4 ++++
 1 file changed, 4 insertions(+)

commit 8d5c44ce94693ab2d97a98661189a3f11c4a3b65
Author: Manoj Kumar Giri <mgiri@mgiri.csb>
Date:   2009-06-10

    Updated Hindi Translation on behalf of Rajesh Ranjan

 po/hi.po | 435 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 219 insertions(+), 216 deletions(-)

commit fb88a646f2e15ac8ba62ea211fbc844388df5985
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2009-06-10

    Fix path to a file

 po/POTFILES.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 13fc43c5f9e1611b99c02b271873a9180da08d68
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   2009-06-10

    Updated Norwegian bokmål translation.

 po/nb.po | 81 +++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 42 insertions(+), 39 deletions(-)

commit 0a2d392a8eb2dee71d063da05d3eb9c4ff8f9ede
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-05-12

    Fix problems when no tests exist in a test directory.

 tests/prep-gtest.sh | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0854932ebd93cf247097506f6a87c65f75bfa08a
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-05-10

    Move remainder to new style tests.
    
    Remove old tests based on cu-test package, and use glib tests
    exclusively.

 daemon/keyrings/tests/Makefile.am               |   2 +-
 daemon/keyrings/tests/unit-test-keyring-file.c  | 147 ++---
 daemon/keyrings/tests/unit-test-keyring-login.c |  72 +--
 daemon/keyrings/tests/unit-test-login-prompt.c  |  55 +-
 daemon/util/tests/.gitignore                    |   1 +
 egg/tests/.gitignore                            |   2 +
 gcr/tests/.gitignore                            |   2 +
 library/tests/Makefile.am                       |   5 +-
 library/tests/unit-test-daemon-setup.c          |  17 +-
 library/tests/unit-test-keyrings-prompt.c       | 102 ++--
 library/tests/unit-test-keyrings.c              | 257 +++++----
 library/tests/unit-test-login-prompt.c          |  41 +-
 library/tests/unit-test-memory.c                |  61 +-
 library/tests/unit-test-other.c                 |  41 +-
 pam/tests/Makefile.am                           |   5 +-
 pam/tests/unit-test-pam-setup.c                 |  17 +-
 pam/tests/unit-test-pam.c                       |  32 +-
 pkcs11/rpc-layer/Makefile.am                    |   1 -
 pkcs11/ssh-store/tests/.gitignore               |   5 +-
 tests/Makefile.am                               |   8 +-
 tests/cu-test/AllTests.c                        |  25 -
 tests/cu-test/CuTest.c                          | 309 -----------
 tests/cu-test/CuTest.h                          | 111 ----
 tests/cu-test/CuTestTest.c                      | 709 ------------------------
 tests/cu-test/README                            | 209 -------
 tests/cu-test/license.txt                       |  38 --
 tests/cu-test/make-tests.sh                     |  51 --
 tests/gtest-helpers.c                           |  10 +-
 tests/gtest-helpers.h                           |  10 +
 tests/gtest.make                                |  21 +-
 tests/prep-gtest.sh                             |  31 +-
 tests/prep-tests.sh                             | 115 ----
 tests/test-helpers.c                            | 122 ----
 tests/test-helpers.h                            |  33 --
 tests/test.make                                 |  62 ---
 35 files changed, 479 insertions(+), 2250 deletions(-)

commit cd4f164f26188719e8130b94b7eca6e7f8772696
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-05-10

    Move gkr_location stuff into daemon component.
    
    It's only used in the daemon component. Also update tests of location stuff.
    Also remove common component all together.

 Makefile.am                                     |    1 -
 common/.gitignore                               |    4 -
 common/Makefile.am                              |   37 -
 common/gkr-location-watch.c                     |  365 -------
 common/gkr-location-watch.h                     |   70 --
 common/gkr-location.c                           | 1177 -----------------------
 common/gkr-location.h                           |  130 ---
 common/tests/.gitignore                         |    4 -
 common/tests/Makefile.am                        |   15 -
 common/tests/unit-test-location-watch.c         |  234 -----
 common/tests/unit-test-location.c               |  177 ----
 configure.in                                    |    2 -
 daemon/Makefile.am                              |    1 -
 daemon/gkr-daemon-ops.c                         |    3 +-
 daemon/keyrings/gkr-keyring-login.c             |    3 +-
 daemon/keyrings/gkr-keyring.c                   |    3 +-
 daemon/keyrings/gkr-keyrings.c                  |    6 +-
 daemon/keyrings/tests/Makefile.am               |    3 +-
 daemon/keyrings/tests/unit-test-keyring-file.c  |    4 +-
 daemon/keyrings/tests/unit-test-keyring-login.c |    4 +-
 daemon/ui/gkr-ask-request.c                     |    4 +-
 daemon/util/Makefile.am                         |    6 +-
 daemon/util/gkr-location-watch.c                |  365 +++++++
 daemon/util/gkr-location-watch.h                |   70 ++
 daemon/util/gkr-location.c                      | 1177 +++++++++++++++++++++++
 daemon/util/gkr-location.h                      |  130 +++
 daemon/util/tests/Makefile.am                   |    8 +-
 daemon/util/tests/unit-test-location-watch.c    |  245 +++++
 daemon/util/tests/unit-test-location.c          |  209 ++++
 pkcs11/rpc-layer/Makefile.am                    |    5 +-
 30 files changed, 2225 insertions(+), 2237 deletions(-)

commit 7ee0ec368642c482d5f67e275c54cce815b05b53
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-05-10

    Move gkr_async code into daemon component
    
    That's where it's only used. Update tests to new style.

 common/Makefile.am                  |   1 -
 common/gkr-async.c                  | 624 -----------------------------------
 common/gkr-async.h                  | 171 ----------
 common/tests/Makefile.am            |   4 +-
 common/tests/unit-test-async.c      | 228 -------------
 configure.in                        |   2 +
 daemon/Makefile.am                  |   7 +-
 daemon/gkr-daemon-dbus.c            |   3 +-
 daemon/gkr-daemon-io.c              |  32 +-
 daemon/gkr-daemon-ops.c             |   3 +-
 daemon/gkr-daemon-util.c            | 557 --------------------------------
 daemon/gkr-daemon-util.h            |  78 -----
 daemon/gkr-daemon.c                 |  12 +-
 daemon/keyrings/tests/Makefile.am   |   9 +-
 daemon/pkcs11/gkr-pkcs11-auth-ep.c  |   6 +-
 daemon/pkcs11/gkr-pkcs11-daemon.c   |  41 ++-
 daemon/ui/gkr-ask-daemon.c          |  17 +-
 daemon/ui/gkr-ask-request.c         |  24 +-
 daemon/util/.gitignore              |   5 +
 daemon/util/Makefile.am             |  30 ++
 daemon/util/gkr-daemon-async.c      | 627 ++++++++++++++++++++++++++++++++++++
 daemon/util/gkr-daemon-async.h      | 171 ++++++++++
 daemon/util/gkr-daemon-util.c       | 556 ++++++++++++++++++++++++++++++++
 daemon/util/gkr-daemon-util.h       |  78 +++++
 daemon/util/tests/.gitignore        |   6 +
 daemon/util/tests/Makefile.am       |  11 +
 daemon/util/tests/unit-test-async.c | 222 +++++++++++++
 tests/test-helpers.c                |   4 +-
 28 files changed, 1790 insertions(+), 1739 deletions(-)

commit 6208f071cf6b2b08e0c939104c9981ad9a3505a4
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-05-10

    Move gkr_cleanup code into egg component.
    
    Update tests to new style as well.

 common/Makefile.am                |   1 -
 common/gkr-cleanup.c              |  88 --------------------
 common/gkr-cleanup.h              |  35 --------
 common/gkr-location.c             |   5 +-
 common/tests/Makefile.am          |   1 -
 common/tests/unit-test-cleanup.c  | 166 --------------------------------------
 daemon/gkr-daemon-dbus.c          |   5 +-
 daemon/gkr-daemon-io.c            |   5 +-
 daemon/gkr-daemon-util.c          |   7 +-
 daemon/gkr-daemon.c               |  10 +--
 daemon/keyrings/gkr-keyrings.c    |   5 +-
 daemon/pkcs11/gkr-pkcs11-auth.c   |   2 +-
 daemon/pkcs11/gkr-pkcs11-daemon.c |   9 ++-
 daemon/ui/gkr-ask-daemon.c        |   5 +-
 egg/Makefile.am                   |   1 +
 egg/egg-cleanup.c                 |  88 ++++++++++++++++++++
 egg/egg-cleanup.h                 |  35 ++++++++
 egg/tests/Makefile.am             |   1 +
 egg/tests/unit-test-cleanup.c     | 153 +++++++++++++++++++++++++++++++++++
 19 files changed, 306 insertions(+), 316 deletions(-)

commit e78027e151bbaff82ab8799aec13c7be5002311b
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-05-10

    Cleanup gkr_unix_signal and move to egg component
    
    Also update tests to new style.

 common/Makefile.am              |   3 +-
 common/gkr-unix-signal.c        | 230 ----------------------------------------
 common/gkr-unix-signal.h        |  34 ------
 common/tests/Makefile.am        |   3 +-
 common/tests/unit-test-signal.c | 117 --------------------
 daemon/gkr-daemon.c             |   8 +-
 egg/Makefile.am                 |   1 +
 egg/egg-unix-signal.c           | 230 ++++++++++++++++++++++++++++++++++++++++
 egg/egg-unix-signal.h           |  34 ++++++
 egg/tests/Makefile.am           |   1 +
 egg/tests/unit-test-signal.c    | 114 ++++++++++++++++++++
 11 files changed, 386 insertions(+), 389 deletions(-)

commit a85e0dd4b3bddb1be7e359d05bb4a6ee35ead3e8
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-05-10

    Cleanup extra gkr_wakeup functionality
    
    Use g_main_context_wakeup where appropriate, and move some code
    into the gkr_unix_signal stuff.

 common/Makefile.am       |   3 +-
 common/gkr-async.c       |  12 ++----
 common/gkr-unix-signal.c |  96 ++++++++++++++++++++++++++++++++++++++----
 common/gkr-wakeup.c      | 107 -----------------------------------------------
 common/gkr-wakeup.h      |  37 ----------------
 5 files changed, 93 insertions(+), 162 deletions(-)

commit 2e331bf3f47d7ae91f4939919c3a43c86199a4e0
Merge: 7a71860 e26bf33
Author: Stefan Walter <Stefan Walter>
Date:   2009-05-03

    Merge branch 'gnome-2-26'
    
    Conflicts:
    	ChangeLog
    	po/ca@valencia.po
    	po/uk.po

commit e26bf33456cc80277885eaf68ecb5d77234ac0fd
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   2009-04-27

    Updated Ukrainian translation

 po/uk.po | 1008 ++++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 649 insertions(+), 359 deletions(-)

commit 7a71860ef8c194d040917ec5604e6f238c2029ab
Author: Maxim V. Dziumanenko <dziumanenko@gmail.com>
Date:   2009-04-27

    Updated Ukrainian translation

 po/uk.po | 1008 ++++++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 649 insertions(+), 359 deletions(-)

commit 72c60e72f8eae337c915bbe32a41930cc1d53cf3
Author: Olav Vitters <olav@bkor.dhs.org>
Date:   2009-04-23

    doap: Add desktop category

 gnome-keyring.doap | 1 +
 1 file changed, 1 insertion(+)

commit e3917a94bfda558f080a162d75ea15faeffa8e70
Author: Miquel Esplà <miquelespla@gmail.com>
Date:   2009-04-21

    Added Valencian-Catalan translation

 po/LINGUAS        |    1 +
 po/ca@valencia.po | 1549 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1550 insertions(+)

commit 4e505fe4974471989dc8f089e002ef62d31e5633
Author: Miquel Esplà <miquelespla@gmail.com>
Date:   2009-04-21

    Added Valencian-Catalan translation

 po/LINGUAS        |    1 +
 po/ca@valencia.po | 1549 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 1550 insertions(+)

commit d80360ff55372eb24382e19acc6e80cd4919fd7b
Author: krishnababu k <kkrothap@redhat.ocm>
Date:   2009-04-20

    Updated Telugu translation

 po/te.po | 399 +++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 194 insertions(+), 205 deletions(-)

commit 99a11e50218017fb94a23f2fddefe133ce832fe7
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-04-18

    Some tweaks to the autogenerated ChangeLog.
    
    Less output and don't wrap stat lines.

 Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2bf836abf7b779236469d34848656e5d314fdcd
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-04-18

    Add project description DOAP file.
    
    This is used by the cgit web interface, and some other uses
    in the future.

 gnome-keyring.doap | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit bf7ff5505040f5ccedfdd8184c2e67fd500b4887
Author: Stef Walter <stef@memberwebs.com>
Date:   2009-04-18

    Autogenerate the ChangeLog from git history
    
    Moved the old ChangeLog out of the way. Place instructions in a
    placeholder ChangeLog.

 ChangeLog     | 6177 +--------------------------------------------------------
 ChangeLog.old | 6166 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 Makefile.am   |   18 +-
 3 files changed, 6205 insertions(+), 6156 deletions(-)

commit 3167f637394703b11325f6e6f630cf6a8414afab
Author: stefw <stefw@localhost>
Date:   2009-04-12

    Release 2.26.1
    
    svn path=/branches/gnome-2-26/; revision=1722

 ChangeLog                                |  9 +++++++++
 NEWS                                     | 12 ++++++++++++
 docs/reference/gcr/Makefile.am           |  2 +-
 docs/reference/gnome-keyring/Makefile.am |  2 +-
 docs/reference/gp11/Makefile.am          |  2 +-
 po/ChangeLog                             |  2 ++
 6 files changed, 26 insertions(+), 3 deletions(-)

commit 23871133bccec3756c921317ca595009bb4d993b
Author: stefw <stefw@localhost>
Date:   2009-04-12

    Fill in some API documentation.
    
    svn path=/branches/gnome-2-26/; revision=1721

 ChangeLog             |   4 ++
 gcr/gcr-certificate.c | 185 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 189 insertions(+)

commit 5cee5736d6e10181eeb747a9e3964e86a61db214
Author: stefw <stefw@localhost>
Date:   2009-04-11

    Don't use g_warning when the problem originated outside of our own process, just print a message.
    
    svn path=/branches/gnome-2-26/; revision=1720

 ChangeLog                |  5 +++++
 daemon/gkr-daemon-dbus.c | 16 ++++++++--------
 2 files changed, 13 insertions(+), 8 deletions(-)

commit 33c9c3526dac9c5e53dce204d43b4433f4136ee4
Author: stefw <stefw@localhost>
Date:   2009-04-11

    Don't autostart another gnome-keyring-daemon if one has already started.
    Just initialize the one that's already running.
    
    svn path=/branches/gnome-2-26/; revision=1719

 ChangeLog                           | 6 ++++++
 daemon/org.gnome.keyring.service.in | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 811209c2c9a01724c98a61b5bbc0190b3e0c83ee
Author: stefw <stefw@localhost>
Date:   2009-04-10

    Bump glib dependency to 2.16, in all the pkg-config checks.
    
    svn path=/branches/gnome-2-26/; revision=1718

 ChangeLog    | 5 +++++
 configure.in | 4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit d070a88dd0cf72992c77183d77360db403fab809
Author: stefw <stefw@localhost>
Date:   2009-04-10

    Fix problem with integer overflow in memory allocator.
    
    svn path=/branches/gnome-2-26/; revision=1717

 ChangeLog                    | 5 +++++
 egg/egg-secure-memory.c      | 2 +-
 egg/tests/unit-test-secmem.c | 4 ++--
 3 files changed, 8 insertions(+), 3 deletions(-)

commit 9f6679d57d536051d40f72e0390b0e517e0d2bfe
Author: stefw <stefw@localhost>
Date:   2009-04-10

    Add DBus method for getting the important environment variables
    that the gnome-keyring daemon wants to set. See bug #577614
    
    svn path=/branches/gnome-2-26/; revision=1716

 ChangeLog                |  6 ++++
 daemon/gkr-daemon-dbus.c | 74 +++++++++++++++++++++++++++++++++++-------------
 tests/dbus-test.py       | 16 +++++++++++
 3 files changed, 76 insertions(+), 20 deletions(-)

commit e4030a9808f24fba468816f1c12b58aeb7d2d3f1
Author: stefw <stefw@localhost>
Date:   2009-04-10

    Fix crash caused by not holding	a reference to the keyring while prompting.
    
    svn path=/branches/gnome-2-26/; revision=1715

 ChangeLog               | 5 +++++
 daemon/gkr-daemon-ops.c | 8 ++++++--
 2 files changed, 11 insertions(+), 2 deletions(-)
