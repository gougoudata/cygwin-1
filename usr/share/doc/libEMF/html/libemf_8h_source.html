<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<title>EMF: libemf.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.5.9-20090622 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>libemf.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- c++ -*-</span>
<a name="l00002"></a>00002 <span class="comment"> * EMF: A library for generating ECMA-234 Enhanced Metafiles</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright (C) 2002, 2003 lignum Computing, Inc. &lt;dallenbarnett@users.sourceforge.net&gt;</span>
<a name="l00004"></a>00004 <span class="comment"> * $Id: libemf.h 57 2012-05-24 12:25:37Z dallenbarnett $</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
<a name="l00007"></a>00007 <span class="comment"> * modify it under the terms of the GNU Lesser General Public</span>
<a name="l00008"></a>00008 <span class="comment"> * License as published by the Free Software Foundation; either</span>
<a name="l00009"></a>00009 <span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * This library is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00014"></a>00014 <span class="comment"> * Lesser General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU Lesser General Public</span>
<a name="l00017"></a>00017 <span class="comment"> * License along with this library; if not, write to the Free Software</span>
<a name="l00018"></a>00018 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> */</span>
<a name="l00021"></a>00021 <span class="preprocessor">#ifndef _LIBEMF_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#define _LIBEMF_H 1</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;functional&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;config.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;libEMF/emf.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;libEMF/wine/w16.h&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">namespace </span>EMF {
<a name="l00040"></a>00040 <span class="preprocessor">#if 1</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">int</span> XMAX_PIXELS = 1024; <span class="comment">/*(INT_MAX)*/</span>
<a name="l00042"></a>00042 <span class="preprocessor">#else</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">int</span> XMAX_PIXELS = 1280; <span class="comment">/*(INT_MAX)*/</span>
<a name="l00044"></a>00044 <span class="preprocessor">#endif</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="preprocessor">#if 1</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">int</span> YMAX_PIXELS = 768; <span class="comment">/*(INT_MAX)*/</span>
<a name="l00051"></a>00051 <span class="preprocessor">#else</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">int</span> YMAX_PIXELS = 1024; <span class="comment">/*(INT_MAX)*/</span>
<a name="l00053"></a>00053 <span class="preprocessor">#endif</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00059"></a>00059   <span class="keyword">const</span> <span class="keywordtype">int</span> XMAX_MM = 320;
<a name="l00065"></a>00065   <span class="keyword">const</span> <span class="keywordtype">int</span> YMAX_MM = 240;
<a name="l00069"></a>00069   <span class="keyword">const</span> <span class="keywordtype">int</span> RESOLUTION = 96;
<a name="l00073"></a>00073   <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> ROUND_TO_LONG ( <span class="keywordtype">int</span> n ) { <span class="keywordflow">return</span> ((n+3)/4)*4; }
<a name="l00074"></a>00074 
<a name="l00076"></a>00076 
<a name="l00081"></a><a class="code" href="structEMF_1_1WCHARSTR.html">00081</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a> {
<a name="l00082"></a><a class="code" href="structEMF_1_1WCHARSTR.html#aa29ea9607479b53538eb428d19be9745">00082</a>     WCHAR *<span class="keyword">const</span> <a class="code" href="structEMF_1_1WCHARSTR.html#aa29ea9607479b53538eb428d19be9745" title="String of WCHARs.">string_</a>;       
<a name="l00083"></a><a class="code" href="structEMF_1_1WCHARSTR.html#a3a860480831a02e1fb7e8a087f55e8d6">00083</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structEMF_1_1WCHARSTR.html#a3a860480831a02e1fb7e8a087f55e8d6" title="Number of WCHARs in string.">length_</a>;          
<a name="l00084"></a>00084 
<a name="l00089"></a>00089     <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a> ( WCHAR *<span class="keyword">const</span> <span class="keywordtype">string</span>, <span class="keyword">const</span> <span class="keywordtype">int</span> length )
<a name="l00090"></a><a class="code" href="structEMF_1_1WCHARSTR.html#aaabb65ae342fd32838e51a0e5bbeb721">00090</a>       : <a class="code" href="structEMF_1_1WCHARSTR.html#aa29ea9607479b53538eb428d19be9745" title="String of WCHARs.">string_</a>( string ), <a class="code" href="structEMF_1_1WCHARSTR.html#a3a860480831a02e1fb7e8a087f55e8d6" title="Number of WCHARs in string.">length_</a>( length ) {}
<a name="l00091"></a>00091   };
<a name="l00092"></a>00092 
<a name="l00094"></a>00094 
<a name="l00099"></a><a class="code" href="structEMF_1_1CHARSTR.html">00099</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1CHARSTR.html" title="Represent an ASCII character string in a simple way.">CHARSTR</a> {
<a name="l00100"></a><a class="code" href="structEMF_1_1CHARSTR.html#aade6f2e26bf81bccd98cdb63933389a0">00100</a>     CHAR *<span class="keyword">const</span> <a class="code" href="structEMF_1_1CHARSTR.html#aade6f2e26bf81bccd98cdb63933389a0" title="Array of single byte characters.">string_</a>;        
<a name="l00101"></a><a class="code" href="structEMF_1_1CHARSTR.html#a0bdb4712808e0c6386c0f93e8faaac27">00101</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structEMF_1_1CHARSTR.html#a0bdb4712808e0c6386c0f93e8faaac27" title="Number of single byte characers in array.">length_</a>;          
<a name="l00102"></a>00102 
<a name="l00107"></a>00107     <a class="code" href="structEMF_1_1CHARSTR.html" title="Represent an ASCII character string in a simple way.">CHARSTR</a> ( CHAR *<span class="keyword">const</span> <span class="keywordtype">string</span>, <span class="keyword">const</span> <span class="keywordtype">int</span> length )
<a name="l00108"></a><a class="code" href="structEMF_1_1CHARSTR.html#a31d0b052a880f8a5e2ff955fdd249c97">00108</a>       : <a class="code" href="structEMF_1_1CHARSTR.html#aade6f2e26bf81bccd98cdb63933389a0" title="Array of single byte characters.">string_</a>( string ), <a class="code" href="structEMF_1_1CHARSTR.html#a0bdb4712808e0c6386c0f93e8faaac27" title="Number of single byte characers in array.">length_</a>( length ) {}
<a name="l00109"></a>00109   };
<a name="l00110"></a>00110 
<a name="l00112"></a>00112 
<a name="l00116"></a><a class="code" href="structEMF_1_1BYTEARRAY.html">00116</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1BYTEARRAY.html" title="Represent a byte array in a simple way.">BYTEARRAY</a> {
<a name="l00117"></a><a class="code" href="structEMF_1_1BYTEARRAY.html#a5babfbc5de9db0be4efc06ca54ca2939">00117</a>     BYTE *<span class="keyword">const</span> <a class="code" href="structEMF_1_1BYTEARRAY.html#a5babfbc5de9db0be4efc06ca54ca2939" title="Array of unsigned bytes.">array_</a>;         
<a name="l00118"></a><a class="code" href="structEMF_1_1BYTEARRAY.html#a3bda8955ddb7ec44d5eca489d4947ab3">00118</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structEMF_1_1BYTEARRAY.html#a3bda8955ddb7ec44d5eca489d4947ab3" title="Number of bytes in array.">n_</a>;               
<a name="l00119"></a>00119 
<a name="l00124"></a>00124     <a class="code" href="structEMF_1_1BYTEARRAY.html" title="Represent a byte array in a simple way.">BYTEARRAY</a> ( BYTE *<span class="keyword">const</span> array, <span class="keyword">const</span> <span class="keywordtype">int</span> n )
<a name="l00125"></a><a class="code" href="structEMF_1_1BYTEARRAY.html#a2d28aa48f76a4c9316f489eb7ad2d0ea">00125</a>       : <a class="code" href="structEMF_1_1BYTEARRAY.html#a5babfbc5de9db0be4efc06ca54ca2939" title="Array of unsigned bytes.">array_</a>( array ), <a class="code" href="structEMF_1_1BYTEARRAY.html#a3bda8955ddb7ec44d5eca489d4947ab3" title="Number of bytes in array.">n_</a>( n ) {}
<a name="l00126"></a>00126   };
<a name="l00127"></a>00127 
<a name="l00129"></a>00129 
<a name="l00132"></a><a class="code" href="structEMF_1_1POINTLARRAY.html">00132</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> {
<a name="l00133"></a><a class="code" href="structEMF_1_1POINTLARRAY.html#aaf492d07e89bccefdc657856057be0cc">00133</a>     POINTL *<span class="keyword">const</span> <a class="code" href="structEMF_1_1POINTLARRAY.html#aaf492d07e89bccefdc657856057be0cc" title="Array of POINTLs.">points_</a>;      
<a name="l00134"></a><a class="code" href="structEMF_1_1POINTLARRAY.html#a52d6623edaabc04c4d07a776c448758d">00134</a>     <span class="keyword">const</span> DWORD <a class="code" href="structEMF_1_1POINTLARRAY.html#a52d6623edaabc04c4d07a776c448758d" title="Number of POINTLs in array.">n_</a>;             
<a name="l00135"></a>00135 
<a name="l00140"></a>00140     <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> ( POINTL *<span class="keyword">const</span> points, <span class="keyword">const</span> DWORD n )
<a name="l00141"></a><a class="code" href="structEMF_1_1POINTLARRAY.html#a05e6dc207b4c7f412e852891490cb19f">00141</a>       : <a class="code" href="structEMF_1_1POINTLARRAY.html#aaf492d07e89bccefdc657856057be0cc" title="Array of POINTLs.">points_</a>( points ), <a class="code" href="structEMF_1_1POINTLARRAY.html#a52d6623edaabc04c4d07a776c448758d" title="Number of POINTLs in array.">n_</a>( n ) {}
<a name="l00142"></a>00142   };
<a name="l00143"></a>00143 
<a name="l00145"></a>00145 
<a name="l00148"></a><a class="code" href="structEMF_1_1POINT16ARRAY.html">00148</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> {
<a name="l00149"></a><a class="code" href="structEMF_1_1POINT16ARRAY.html#a95f6c9f99ab25639ad63d624af750033">00149</a>     POINT16 *<span class="keyword">const</span> <a class="code" href="structEMF_1_1POINT16ARRAY.html#a95f6c9f99ab25639ad63d624af750033" title="Array of POINT16s.">points_</a>;     
<a name="l00150"></a><a class="code" href="structEMF_1_1POINT16ARRAY.html#adb29c5e4281bcbfe8f8a63d7a9e9d3db">00150</a>     <span class="keyword">const</span> DWORD <a class="code" href="structEMF_1_1POINT16ARRAY.html#adb29c5e4281bcbfe8f8a63d7a9e9d3db" title="Number of POINT16s in array.">n_</a>;             
<a name="l00151"></a>00151 
<a name="l00156"></a>00156     <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> ( POINT16 *<span class="keyword">const</span> points, <span class="keyword">const</span> DWORD n )
<a name="l00157"></a><a class="code" href="structEMF_1_1POINT16ARRAY.html#a4fa54f710a433f326a878ea926f09b76">00157</a>       : <a class="code" href="structEMF_1_1POINT16ARRAY.html#a95f6c9f99ab25639ad63d624af750033" title="Array of POINT16s.">points_</a>( points ), <a class="code" href="structEMF_1_1POINT16ARRAY.html#adb29c5e4281bcbfe8f8a63d7a9e9d3db" title="Number of POINT16s in array.">n_</a>( n ) {}
<a name="l00158"></a>00158   };
<a name="l00159"></a>00159 
<a name="l00161"></a>00161 
<a name="l00164"></a><a class="code" href="structEMF_1_1INTARRAY.html">00164</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1INTARRAY.html" title="Represent an array of integers in a simple way.">INTARRAY</a> {
<a name="l00165"></a><a class="code" href="structEMF_1_1INTARRAY.html#a4891e4046b9b0a0bc41670b0016bd35a">00165</a>     INT *<span class="keyword">const</span> <a class="code" href="structEMF_1_1INTARRAY.html#a4891e4046b9b0a0bc41670b0016bd35a" title="Array of ints.">ints_</a>;           
<a name="l00166"></a><a class="code" href="structEMF_1_1INTARRAY.html#a72a522bbae91cb07d59a23118b0037ea">00166</a>     <span class="keyword">const</span> DWORD <a class="code" href="structEMF_1_1INTARRAY.html#a72a522bbae91cb07d59a23118b0037ea" title="Number of ints in array.">n_</a>;             
<a name="l00167"></a>00167 
<a name="l00172"></a>00172     <a class="code" href="structEMF_1_1INTARRAY.html" title="Represent an array of integers in a simple way.">INTARRAY</a> ( INT *<span class="keyword">const</span> ints, <span class="keyword">const</span> DWORD n )
<a name="l00173"></a><a class="code" href="structEMF_1_1INTARRAY.html#ac11aa76a6a72f429234abaf85681caac">00173</a>       : <a class="code" href="structEMF_1_1INTARRAY.html#a4891e4046b9b0a0bc41670b0016bd35a" title="Array of ints.">ints_</a>( ints ), <a class="code" href="structEMF_1_1INTARRAY.html#a72a522bbae91cb07d59a23118b0037ea" title="Number of ints in array.">n_</a>( n ) {}
<a name="l00174"></a>00174   };
<a name="l00175"></a>00175 
<a name="l00177"></a>00177 
<a name="l00180"></a><a class="code" href="structEMF_1_1DWORDARRAY.html">00180</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1DWORDARRAY.html" title="Represent an array of double word integers in a simple way.">DWORDARRAY</a> {
<a name="l00181"></a><a class="code" href="structEMF_1_1DWORDARRAY.html#a1fb1927a79a14d1f5cade84644deab95">00181</a>     DWORD *<span class="keyword">const</span> <a class="code" href="structEMF_1_1DWORDARRAY.html#a1fb1927a79a14d1f5cade84644deab95" title="Array of double words.">dwords_</a>;       
<a name="l00182"></a><a class="code" href="structEMF_1_1DWORDARRAY.html#ab34108f7f98d829eebf70647b4101c1d">00182</a>     <span class="keyword">const</span> DWORD <a class="code" href="structEMF_1_1DWORDARRAY.html#ab34108f7f98d829eebf70647b4101c1d" title="Number of double words in array.">n_</a>;             
<a name="l00183"></a>00183 
<a name="l00188"></a>00188     <a class="code" href="structEMF_1_1DWORDARRAY.html" title="Represent an array of double word integers in a simple way.">DWORDARRAY</a> ( DWORD *<span class="keyword">const</span> dwords, <span class="keyword">const</span> DWORD n )
<a name="l00189"></a><a class="code" href="structEMF_1_1DWORDARRAY.html#a04fa67c91034619c44fba98282c4c7d1">00189</a>       : <a class="code" href="structEMF_1_1DWORDARRAY.html#a1fb1927a79a14d1f5cade84644deab95" title="Array of double words.">dwords_</a>( dwords ), <a class="code" href="structEMF_1_1DWORDARRAY.html#ab34108f7f98d829eebf70647b4101c1d" title="Number of double words in array.">n_</a>( n ) {}
<a name="l00190"></a>00190   };
<a name="l00191"></a>00191 
<a name="l00193"></a>00193 
<a name="l00196"></a><a class="code" href="structEMF_1_1PADDING.html">00196</a>   <span class="keyword">struct </span><a class="code" href="structEMF_1_1PADDING.html" title="All metafile records must be padded out to a multiple of 4 bytes.">PADDING</a> {
<a name="l00197"></a><a class="code" href="structEMF_1_1PADDING.html#a35904b9e340d3838321b27564ef1290b">00197</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="structEMF_1_1PADDING.html#a35904b9e340d3838321b27564ef1290b" title="Pad with &amp;#39;&amp;#39;s.">padding_</a>[4]; 
<a name="l00198"></a><a class="code" href="structEMF_1_1PADDING.html#ad9f51fb5115c0acaf54dbfe4f163802c">00198</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structEMF_1_1PADDING.html#ad9f51fb5115c0acaf54dbfe4f163802c" title="Number of bytes of padding.">size_</a>;            
<a name="l00199"></a>00199 
<a name="l00203"></a><a class="code" href="structEMF_1_1PADDING.html#a92dc3ce876a76e7c46c5e123522c7970">00203</a>     <a class="code" href="structEMF_1_1PADDING.html#a92dc3ce876a76e7c46c5e123522c7970">PADDING</a> ( <span class="keyword">const</span> <span class="keywordtype">int</span> size ) : <a class="code" href="structEMF_1_1PADDING.html#ad9f51fb5115c0acaf54dbfe4f163802c" title="Number of bytes of padding.">size_</a>( size ) {}
<a name="l00204"></a>00204   };
<a name="l00205"></a>00205   
<a name="l00207"></a>00207 
<a name="l00214"></a><a class="code" href="classEMF_1_1DATASTREAM.html">00214</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> {
<a name="l00215"></a>00215     <span class="keywordtype">bool</span> swap_;
<a name="l00216"></a>00216     ::FILE* fp_;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218     <span class="keyword">static</span> <span class="keywordtype">bool</span> bigEndian ( <span class="keywordtype">void</span> );
<a name="l00219"></a>00219   <span class="keyword">public</span>:
<a name="l00225"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a811ad3cc6158bfd82b36162e430f5d70">00225</a>     <a class="code" href="classEMF_1_1DATASTREAM.html#a811ad3cc6158bfd82b36162e430f5d70">DATASTREAM</a> ( ::FILE* fp = 0 ) : swap_( bigEndian() ), fp_( fp ) {}
<a name="l00230"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a459a9360f3d4829f1bace240b56e7d2f">00230</a>     <span class="keywordtype">void</span> <a class="code" href="classEMF_1_1DATASTREAM.html#a459a9360f3d4829f1bace240b56e7d2f">setStream</a> ( ::FILE* fp ) { fp_ = fp; }
<a name="l00235"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">00235</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> BYTE&amp; byte )
<a name="l00236"></a>00236     {
<a name="l00237"></a>00237       fwrite( &amp;byte, <span class="keyword">sizeof</span>(BYTE), 1, fp_ );
<a name="l00238"></a>00238       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00239"></a>00239     }
<a name="l00244"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">00244</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( BYTE&amp; byte )
<a name="l00245"></a>00245     {
<a name="l00246"></a>00246       fread( &amp;byte, <span class="keyword">sizeof</span>(BYTE), 1, fp_ );
<a name="l00247"></a>00247       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00248"></a>00248     }
<a name="l00253"></a><a class="code" href="classEMF_1_1DATASTREAM.html#af9dce66dd366b66e73ea4ca4dee3e45f">00253</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> WORD&amp; word )
<a name="l00254"></a>00254     {
<a name="l00255"></a>00255       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00256"></a>00256         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> * p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>*)&amp;word;
<a name="l00257"></a>00257         fwrite( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00258"></a>00258         fwrite( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00259"></a>00259       }
<a name="l00260"></a>00260       <span class="keywordflow">else</span>
<a name="l00261"></a>00261         fwrite( &amp;word, <span class="keyword">sizeof</span>(WORD), 1, fp_ );
<a name="l00262"></a>00262       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00263"></a>00263     }
<a name="l00268"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a677ae2c3be5bd3d25a86f2ae98930ff2">00268</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( WORD&amp; word )
<a name="l00269"></a>00269     {
<a name="l00270"></a>00270       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00271"></a>00271         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;word;
<a name="l00272"></a>00272         fread( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00273"></a>00273         fread( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00274"></a>00274       }
<a name="l00275"></a>00275       <span class="keywordflow">else</span>
<a name="l00276"></a>00276         fread( &amp;word, <span class="keyword">sizeof</span>(WORD), 1, fp_ );
<a name="l00277"></a>00277       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00278"></a>00278     }
<a name="l00283"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a9f38533eded25bad3d54c984370cc540">00283</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> INT16&amp; word )
<a name="l00284"></a>00284     {
<a name="l00285"></a>00285       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00286"></a>00286         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> * p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>*)&amp;word;
<a name="l00287"></a>00287         fwrite( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00288"></a>00288         fwrite( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00289"></a>00289       }
<a name="l00290"></a>00290       <span class="keywordflow">else</span>
<a name="l00291"></a>00291         fwrite( &amp;word, <span class="keyword">sizeof</span>(INT16), 1, fp_ );
<a name="l00292"></a>00292       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00293"></a>00293     }
<a name="l00298"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a46c9f61d0a0247cd1782ee5e1b4a7370">00298</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( INT16&amp; word )
<a name="l00299"></a>00299     {
<a name="l00300"></a>00300       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00301"></a>00301         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;word;
<a name="l00302"></a>00302         fread( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00303"></a>00303         fread( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00304"></a>00304       }
<a name="l00305"></a>00305       <span class="keywordflow">else</span>
<a name="l00306"></a>00306         fread( &amp;word, <span class="keyword">sizeof</span>(INT16), 1, fp_ );
<a name="l00307"></a>00307       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00308"></a>00308     }
<a name="l00313"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ab23a6e14b8de8418afd5619b92453b9b">00313</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> DWORD&amp; dword )
<a name="l00314"></a>00314     {
<a name="l00315"></a>00315       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00316"></a>00316         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>*)&amp;dword;
<a name="l00317"></a>00317         fwrite( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00318"></a>00318         fwrite( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00319"></a>00319         fwrite( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00320"></a>00320         fwrite( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00321"></a>00321       }
<a name="l00322"></a>00322       <span class="keywordflow">else</span>
<a name="l00323"></a>00323         fwrite( &amp;dword, <span class="keyword">sizeof</span>(DWORD), 1, fp_ );
<a name="l00324"></a>00324       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00325"></a>00325     }
<a name="l00330"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a75d4802e56935d82133f19f6c519aebb">00330</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( DWORD&amp; dword )
<a name="l00331"></a>00331     {
<a name="l00332"></a>00332       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00333"></a>00333         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;dword;
<a name="l00334"></a>00334         fread( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00335"></a>00335         fread( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00336"></a>00336         fread( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00337"></a>00337         fread( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00338"></a>00338       }
<a name="l00339"></a>00339       <span class="keywordflow">else</span>
<a name="l00340"></a>00340         fread( &amp;dword, <span class="keyword">sizeof</span>(DWORD), 1, fp_ );
<a name="l00341"></a>00341       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00342"></a>00342     }
<a name="l00343"></a>00343 <span class="preprocessor">#if !defined( __x86_64__ )</span>
<a name="l00344"></a>00344 <span class="preprocessor"></span>
<a name="l00348"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ae96dca8532e237eb1b7491c138ea0d85">00348</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> LONG&amp; long_ )
<a name="l00349"></a>00349     {
<a name="l00350"></a>00350       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00351"></a>00351         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>*)&amp;long_;
<a name="l00352"></a>00352         fwrite( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00353"></a>00353         fwrite( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00354"></a>00354         fwrite( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00355"></a>00355         fwrite( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00356"></a>00356       }
<a name="l00357"></a>00357       <span class="keywordflow">else</span>
<a name="l00358"></a>00358         fwrite( &amp;long_, <span class="keyword">sizeof</span>(LONG), 1, fp_ );
<a name="l00359"></a>00359       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00360"></a>00360     }
<a name="l00365"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a124b088766b6733443ffb179733a7017">00365</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( LONG&amp; long_ )
<a name="l00366"></a>00366     {
<a name="l00367"></a>00367       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00368"></a>00368         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;long_;
<a name="l00369"></a>00369         fread( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00370"></a>00370         fread( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00371"></a>00371         fread( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00372"></a>00372         fread( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00373"></a>00373       }
<a name="l00374"></a>00374       <span class="keywordflow">else</span>
<a name="l00375"></a>00375         fread( &amp;long_, <span class="keyword">sizeof</span>(LONG), 1, fp_ );
<a name="l00376"></a>00376       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00377"></a>00377     }
<a name="l00378"></a>00378 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l00379"></a>00379 
<a name="l00383"></a><a class="code" href="classEMF_1_1DATASTREAM.html#aea9c08026ddb3dab0fc63ef4b2c05e13">00383</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> INT&amp; int_ )
<a name="l00384"></a>00384     {
<a name="l00385"></a>00385       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00386"></a>00386         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>*)&amp;int_;
<a name="l00387"></a>00387         fwrite( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00388"></a>00388         fwrite( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00389"></a>00389         fwrite( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00390"></a>00390         fwrite( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00391"></a>00391       }
<a name="l00392"></a>00392       <span class="keywordflow">else</span>
<a name="l00393"></a>00393         fwrite( &amp;int_, <span class="keyword">sizeof</span>(INT), 1, fp_ );
<a name="l00394"></a>00394       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00395"></a>00395     }
<a name="l00400"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a142672df41e3408bb8267ead82c0e2f8">00400</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( INT&amp; int_ )
<a name="l00401"></a>00401     {
<a name="l00402"></a>00402       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00403"></a>00403         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;int_;
<a name="l00404"></a>00404         fread( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00405"></a>00405         fread( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00406"></a>00406         fread( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00407"></a>00407         fread( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00408"></a>00408       }
<a name="l00409"></a>00409       <span class="keywordflow">else</span>
<a name="l00410"></a>00410         fread( &amp;int_, <span class="keyword">sizeof</span>(INT), 1, fp_ );
<a name="l00411"></a>00411       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00412"></a>00412     }
<a name="l00413"></a>00413 <span class="preprocessor">#if !defined(__x86_64__)</span>
<a name="l00414"></a>00414 <span class="preprocessor"></span>
<a name="l00418"></a><a class="code" href="classEMF_1_1DATASTREAM.html#aaac08e24797712e7ed0167b7f2a25db8">00418</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> UINT&amp; uint )
<a name="l00419"></a>00419     {
<a name="l00420"></a>00420       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00421"></a>00421         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>*)&amp;uint;
<a name="l00422"></a>00422         fwrite( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00423"></a>00423         fwrite( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00424"></a>00424         fwrite( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00425"></a>00425         fwrite( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00426"></a>00426       }
<a name="l00427"></a>00427       <span class="keywordflow">else</span>
<a name="l00428"></a>00428         fwrite( &amp;uint, <span class="keyword">sizeof</span>(UINT), 1, fp_ );
<a name="l00429"></a>00429       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00430"></a>00430     }
<a name="l00435"></a><a class="code" href="classEMF_1_1DATASTREAM.html#aa2c7452e44ba89813103ac3e6e5cbc79">00435</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( UINT&amp; uint )
<a name="l00436"></a>00436     {
<a name="l00437"></a>00437       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00438"></a>00438         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;uint;
<a name="l00439"></a>00439         fread( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00440"></a>00440         fread( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00441"></a>00441         fread( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00442"></a>00442         fread( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00443"></a>00443       }
<a name="l00444"></a>00444       <span class="keywordflow">else</span>
<a name="l00445"></a>00445         fread( &amp;uint, <span class="keyword">sizeof</span>(UINT), 1, fp_ );
<a name="l00446"></a>00446       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00447"></a>00447     }
<a name="l00448"></a>00448 <span class="preprocessor">#endif </span><span class="comment">/* !__x86_64__ */</span>
<a name="l00449"></a>00449 
<a name="l00453"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a8d5628efc355bec848bab22dcc9cf3e9">00453</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> FLOAT&amp; float_ )
<a name="l00454"></a>00454     {
<a name="l00455"></a>00455       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00456"></a>00456         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span>*)&amp;float_;
<a name="l00457"></a>00457         fwrite( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00458"></a>00458         fwrite( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00459"></a>00459         fwrite( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00460"></a>00460         fwrite( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00461"></a>00461       }
<a name="l00462"></a>00462       <span class="keywordflow">else</span>
<a name="l00463"></a>00463         fwrite( &amp;float_, <span class="keyword">sizeof</span>(FLOAT), 1, fp_ );
<a name="l00464"></a>00464       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00465"></a>00465     }
<a name="l00470"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ab30a7ff34cfe8ff4f63ea098e2f8f6d9">00470</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( FLOAT&amp; float_ )
<a name="l00471"></a>00471     {
<a name="l00472"></a>00472       <span class="keywordflow">if</span> ( swap_ ) {
<a name="l00473"></a>00473         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)&amp;float_;
<a name="l00474"></a>00474         fread( &amp;p[3], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00475"></a>00475         fread( &amp;p[2], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00476"></a>00476         fread( &amp;p[1], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00477"></a>00477         fread( &amp;p[0], <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>), 1, fp_ );
<a name="l00478"></a>00478       }
<a name="l00479"></a>00479       <span class="keywordflow">else</span>
<a name="l00480"></a>00480         fread( &amp;float_, <span class="keyword">sizeof</span>(FLOAT), 1, fp_ );
<a name="l00481"></a>00481       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00482"></a>00482     }
<a name="l00487"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a76c0fa2819650f5ebca359c0031a3522">00487</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1PADDING.html" title="All metafile records must be padded out to a multiple of 4 bytes.">PADDING</a>&amp; padding )
<a name="l00488"></a>00488     {
<a name="l00489"></a>00489       <span class="keywordflow">if</span> ( padding.<a class="code" href="structEMF_1_1PADDING.html#ad9f51fb5115c0acaf54dbfe4f163802c" title="Number of bytes of padding.">size_</a> != 0 )
<a name="l00490"></a>00490         fwrite( &amp;padding.<a class="code" href="structEMF_1_1PADDING.html#a35904b9e340d3838321b27564ef1290b" title="Pad with &amp;#39;&amp;#39;s.">padding_</a>, <span class="keyword">sizeof</span>(CHAR), padding.<a class="code" href="structEMF_1_1PADDING.html#ad9f51fb5115c0acaf54dbfe4f163802c" title="Number of bytes of padding.">size_</a>, fp_ );
<a name="l00491"></a>00491       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00492"></a>00492     }
<a name="l00497"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a195b107be18609da43e09c9f429bfb59">00497</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> RECTL&amp; rectl )
<a name="l00498"></a>00498     {
<a name="l00499"></a>00499       *<span class="keyword">this</span> &lt;&lt; rectl.left &lt;&lt; rectl.top &lt;&lt; rectl.right &lt;&lt; rectl.bottom;
<a name="l00500"></a>00500       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00501"></a>00501     }
<a name="l00506"></a><a class="code" href="classEMF_1_1DATASTREAM.html#afe3dca2ecee81d625f318d75d9a244b8">00506</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( RECTL&amp; rectl )
<a name="l00507"></a>00507     {
<a name="l00508"></a>00508       *<span class="keyword">this</span> &gt;&gt; rectl.left &gt;&gt; rectl.top &gt;&gt; rectl.right &gt;&gt; rectl.bottom;
<a name="l00509"></a>00509       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00510"></a>00510     }
<a name="l00515"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a12937972cb41ff8ea497b6ce1837921f">00515</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> SIZEL&amp; sizel )
<a name="l00516"></a>00516     {
<a name="l00517"></a>00517       *<span class="keyword">this</span> &lt;&lt; sizel.cx &lt;&lt; sizel.cy;
<a name="l00518"></a>00518       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00519"></a>00519     }
<a name="l00524"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ae159fa14e8fd1e2a16859cb46482dd26">00524</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( SIZEL&amp; sizel )
<a name="l00525"></a>00525     {
<a name="l00526"></a>00526       *<span class="keyword">this</span> &gt;&gt; sizel.cx &gt;&gt; sizel.cy;
<a name="l00527"></a>00527       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00528"></a>00528     }
<a name="l00533"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ab98bab27859f955c3d8392c79e2cecad">00533</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a>&amp; wcharstr )
<a name="l00534"></a>00534     {
<a name="l00535"></a>00535       <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; wcharstr.<a class="code" href="structEMF_1_1WCHARSTR.html#a3a860480831a02e1fb7e8a087f55e8d6" title="Number of WCHARs in string.">length_</a>; i++ )
<a name="l00536"></a>00536         *<span class="keyword">this</span> &lt;&lt; wcharstr.<a class="code" href="structEMF_1_1WCHARSTR.html#aa29ea9607479b53538eb428d19be9745" title="String of WCHARs.">string_</a>[i];
<a name="l00537"></a>00537       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00538"></a>00538     }
<a name="l00543"></a><a class="code" href="classEMF_1_1DATASTREAM.html#aa4b87ff57cba86653fdc8129ffe88789">00543</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a>&amp; wcharstr )
<a name="l00544"></a>00544     {
<a name="l00545"></a>00545       <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; wcharstr.<a class="code" href="structEMF_1_1WCHARSTR.html#a3a860480831a02e1fb7e8a087f55e8d6" title="Number of WCHARs in string.">length_</a>; i++ )
<a name="l00546"></a>00546         *<span class="keyword">this</span> &gt;&gt; wcharstr.<a class="code" href="structEMF_1_1WCHARSTR.html#aa29ea9607479b53538eb428d19be9745" title="String of WCHARs.">string_</a>[i];
<a name="l00547"></a>00547       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00548"></a>00548     }
<a name="l00553"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a2ca93e4526523bab597ae945945403fa">00553</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1CHARSTR.html" title="Represent an ASCII character string in a simple way.">CHARSTR</a>&amp; charstr )
<a name="l00554"></a>00554     {
<a name="l00555"></a>00555       fwrite( charstr.<a class="code" href="structEMF_1_1CHARSTR.html#aade6f2e26bf81bccd98cdb63933389a0" title="Array of single byte characters.">string_</a>, <span class="keyword">sizeof</span>(CHAR), charstr.<a class="code" href="structEMF_1_1CHARSTR.html#a0bdb4712808e0c6386c0f93e8faaac27" title="Number of single byte characers in array.">length_</a>, fp_ );
<a name="l00556"></a>00556       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00557"></a>00557     }
<a name="l00562"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a7a188c7162a2af6b4a09268ed0420888">00562</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( <a class="code" href="structEMF_1_1CHARSTR.html" title="Represent an ASCII character string in a simple way.">CHARSTR</a>&amp; charstr )
<a name="l00563"></a>00563     {
<a name="l00564"></a>00564       fread( charstr.<a class="code" href="structEMF_1_1CHARSTR.html#aade6f2e26bf81bccd98cdb63933389a0" title="Array of single byte characters.">string_</a>, <span class="keyword">sizeof</span>(CHAR), charstr.<a class="code" href="structEMF_1_1CHARSTR.html#a0bdb4712808e0c6386c0f93e8faaac27" title="Number of single byte characers in array.">length_</a>, fp_ );
<a name="l00565"></a>00565       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00566"></a>00566     }
<a name="l00571"></a><a class="code" href="classEMF_1_1DATASTREAM.html#aa4b189c145c7290596aee882273179fa">00571</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( const ::EMR&amp; emr )
<a name="l00572"></a>00572     {
<a name="l00573"></a>00573       *<span class="keyword">this</span> &lt;&lt; emr.iType &lt;&lt; emr.nSize;
<a name="l00574"></a>00574       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00575"></a>00575     }
<a name="l00580"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a83f62d9c2a91499996346998eced7bd3">00580</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( ::EMR&amp; emr )
<a name="l00581"></a>00581     {
<a name="l00582"></a>00582       *<span class="keyword">this</span> &gt;&gt; emr.iType &gt;&gt; emr.nSize;
<a name="l00583"></a>00583       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00584"></a>00584     }
<a name="l00589"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a0ef7c5d0b17e9ec461bcfdd283ca929c">00589</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> POINT&amp; point )
<a name="l00590"></a>00590     {
<a name="l00591"></a>00591       *<span class="keyword">this</span> &lt;&lt; point.x &lt;&lt; point.y;
<a name="l00592"></a>00592       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00593"></a>00593     }
<a name="l00598"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a7091266b58218d6503975353e7f19713">00598</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( POINT&amp; point )
<a name="l00599"></a>00599     {
<a name="l00600"></a>00600       *<span class="keyword">this</span> &gt;&gt; point.x &gt;&gt; point.y;
<a name="l00601"></a>00601       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00602"></a>00602     }
<a name="l00607"></a><a class="code" href="classEMF_1_1DATASTREAM.html#acee4dfd53fff0fc881805e8b9a31ed52">00607</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> POINTL&amp; pointl )
<a name="l00608"></a>00608     {
<a name="l00609"></a>00609       *<span class="keyword">this</span> &lt;&lt; pointl.x &lt;&lt; pointl.y;
<a name="l00610"></a>00610       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00611"></a>00611     }
<a name="l00616"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a867b530877683f113465850d5634e38b">00616</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( POINTL&amp; pointl )
<a name="l00617"></a>00617     {
<a name="l00618"></a>00618       *<span class="keyword">this</span> &gt;&gt; pointl.x &gt;&gt; pointl.y;
<a name="l00619"></a>00619       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00620"></a>00620     }
<a name="l00625"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ade33ecfc78429b6550fa8cf6962fb18f">00625</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> POINT16&amp; point )
<a name="l00626"></a>00626     {
<a name="l00627"></a>00627       *<span class="keyword">this</span> &lt;&lt; point.x &lt;&lt; point.y;
<a name="l00628"></a>00628       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00629"></a>00629     }
<a name="l00634"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a209501356776549a7f77248beb9a3fe8">00634</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( POINT16&amp; point )
<a name="l00635"></a>00635     {
<a name="l00636"></a>00636       *<span class="keyword">this</span> &gt;&gt; point.x &gt;&gt; point.y;
<a name="l00637"></a>00637       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00638"></a>00638     }
<a name="l00643"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a909b34b77b5278fc7dbc123dfb75825e">00643</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> XFORM&amp; xform )
<a name="l00644"></a>00644     {
<a name="l00645"></a>00645       *<span class="keyword">this</span> &lt;&lt; xform.eM11 &lt;&lt; xform.eM12 &lt;&lt; xform.eM21 &lt;&lt; xform.eM22
<a name="l00646"></a>00646             &lt;&lt; xform.eDx &lt;&lt; xform.eDy;
<a name="l00647"></a>00647       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00648"></a>00648     }
<a name="l00653"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a10091e38977421ed981f0843cf4eb958">00653</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( XFORM&amp; xform )
<a name="l00654"></a>00654     {
<a name="l00655"></a>00655       *<span class="keyword">this</span> &gt;&gt; xform.eM11 &gt;&gt; xform.eM12 &gt;&gt; xform.eM21 &gt;&gt; xform.eM22
<a name="l00656"></a>00656             &gt;&gt; xform.eDx &gt;&gt; xform.eDy;
<a name="l00657"></a>00657       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00658"></a>00658     }
<a name="l00663"></a><a class="code" href="classEMF_1_1DATASTREAM.html#abadd1b61c37dd43d8fdc03689521dd58">00663</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1BYTEARRAY.html" title="Represent a byte array in a simple way.">BYTEARRAY</a>&amp; array )
<a name="l00664"></a>00664     {
<a name="l00665"></a>00665       fwrite( array.<a class="code" href="structEMF_1_1BYTEARRAY.html#a5babfbc5de9db0be4efc06ca54ca2939" title="Array of unsigned bytes.">array_</a>, <span class="keyword">sizeof</span>(BYTE), array.<a class="code" href="structEMF_1_1BYTEARRAY.html#a3bda8955ddb7ec44d5eca489d4947ab3" title="Number of bytes in array.">n_</a>, fp_ );
<a name="l00666"></a>00666       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00667"></a>00667     }
<a name="l00672"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a7aed3fe310225b564f72d405fab5e633">00672</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( <a class="code" href="structEMF_1_1BYTEARRAY.html" title="Represent a byte array in a simple way.">BYTEARRAY</a>&amp; array )
<a name="l00673"></a>00673     {
<a name="l00674"></a>00674       fread( array.<a class="code" href="structEMF_1_1BYTEARRAY.html#a5babfbc5de9db0be4efc06ca54ca2939" title="Array of unsigned bytes.">array_</a>, <span class="keyword">sizeof</span>(BYTE), array.<a class="code" href="structEMF_1_1BYTEARRAY.html#a3bda8955ddb7ec44d5eca489d4947ab3" title="Number of bytes in array.">n_</a>, fp_ );
<a name="l00675"></a>00675       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00676"></a>00676     }
<a name="l00681"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a705caa21100d55801655f2a553fcf371">00681</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a>&amp; array )
<a name="l00682"></a>00682     {
<a name="l00683"></a>00683       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1POINTLARRAY.html#a52d6623edaabc04c4d07a776c448758d" title="Number of POINTLs in array.">n_</a>; i++ )
<a name="l00684"></a>00684         *<span class="keyword">this</span> &lt;&lt; array.<a class="code" href="structEMF_1_1POINTLARRAY.html#aaf492d07e89bccefdc657856057be0cc" title="Array of POINTLs.">points_</a>[i];
<a name="l00685"></a>00685       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00686"></a>00686     }
<a name="l00691"></a><a class="code" href="classEMF_1_1DATASTREAM.html#af8e67a709d68f74b09b87f757027f0d9">00691</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a>&amp; array )
<a name="l00692"></a>00692     {
<a name="l00693"></a>00693       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1POINTLARRAY.html#a52d6623edaabc04c4d07a776c448758d" title="Number of POINTLs in array.">n_</a>; i++ )
<a name="l00694"></a>00694         *<span class="keyword">this</span> &gt;&gt; array.<a class="code" href="structEMF_1_1POINTLARRAY.html#aaf492d07e89bccefdc657856057be0cc" title="Array of POINTLs.">points_</a>[i];
<a name="l00695"></a>00695       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00696"></a>00696     }
<a name="l00701"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a64a9a520a009abf514cb5b2e9f083da6">00701</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a>&amp; array )
<a name="l00702"></a>00702     {
<a name="l00703"></a>00703       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1POINT16ARRAY.html#adb29c5e4281bcbfe8f8a63d7a9e9d3db" title="Number of POINT16s in array.">n_</a>; i++ )
<a name="l00704"></a>00704         *<span class="keyword">this</span> &lt;&lt; array.<a class="code" href="structEMF_1_1POINT16ARRAY.html#a95f6c9f99ab25639ad63d624af750033" title="Array of POINT16s.">points_</a>[i];
<a name="l00705"></a>00705       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00706"></a>00706     }
<a name="l00711"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a00911a7e5794abe8e30f60bbd7d08cc5">00711</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a>&amp; array )
<a name="l00712"></a>00712     {
<a name="l00713"></a>00713       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1POINT16ARRAY.html#adb29c5e4281bcbfe8f8a63d7a9e9d3db" title="Number of POINT16s in array.">n_</a>; i++ )
<a name="l00714"></a>00714         *<span class="keyword">this</span> &gt;&gt; array.<a class="code" href="structEMF_1_1POINT16ARRAY.html#a95f6c9f99ab25639ad63d624af750033" title="Array of POINT16s.">points_</a>[i];
<a name="l00715"></a>00715       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00716"></a>00716     }
<a name="l00721"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ada094a1c45a292b7c54215dd9b18dcb0">00721</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1INTARRAY.html" title="Represent an array of integers in a simple way.">INTARRAY</a>&amp; array )
<a name="l00722"></a>00722     {
<a name="l00723"></a>00723       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1INTARRAY.html#a72a522bbae91cb07d59a23118b0037ea" title="Number of ints in array.">n_</a>; i++ )
<a name="l00724"></a>00724         *<span class="keyword">this</span> &lt;&lt; array.<a class="code" href="structEMF_1_1INTARRAY.html#a4891e4046b9b0a0bc41670b0016bd35a" title="Array of ints.">ints_</a>[i];
<a name="l00725"></a>00725       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00726"></a>00726     }
<a name="l00731"></a><a class="code" href="classEMF_1_1DATASTREAM.html#aa6d84b4206d6a0c28cda8fa442b585b7">00731</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( <a class="code" href="structEMF_1_1INTARRAY.html" title="Represent an array of integers in a simple way.">INTARRAY</a>&amp; array )
<a name="l00732"></a>00732     {
<a name="l00733"></a>00733       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1INTARRAY.html#a72a522bbae91cb07d59a23118b0037ea" title="Number of ints in array.">n_</a>; i++ )
<a name="l00734"></a>00734         *<span class="keyword">this</span> &gt;&gt; array.<a class="code" href="structEMF_1_1INTARRAY.html#a4891e4046b9b0a0bc41670b0016bd35a" title="Array of ints.">ints_</a>[i];
<a name="l00735"></a>00735       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00736"></a>00736     }
<a name="l00741"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ab78fd39b8113884ace75a1f7d9833eb8">00741</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> <a class="code" href="structEMF_1_1DWORDARRAY.html" title="Represent an array of double word integers in a simple way.">DWORDARRAY</a>&amp; array )
<a name="l00742"></a>00742     {
<a name="l00743"></a>00743       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1DWORDARRAY.html#ab34108f7f98d829eebf70647b4101c1d" title="Number of double words in array.">n_</a>; i++ )
<a name="l00744"></a>00744         *<span class="keyword">this</span> &lt;&lt; array.<a class="code" href="structEMF_1_1DWORDARRAY.html#a1fb1927a79a14d1f5cade84644deab95" title="Array of double words.">dwords_</a>[i];
<a name="l00745"></a>00745       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00746"></a>00746     }
<a name="l00751"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a660dff83d72a5cddbecf4dddfc043cd9">00751</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( <a class="code" href="structEMF_1_1DWORDARRAY.html" title="Represent an array of double word integers in a simple way.">DWORDARRAY</a>&amp; array )
<a name="l00752"></a>00752     {
<a name="l00753"></a>00753       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; array.<a class="code" href="structEMF_1_1DWORDARRAY.html#ab34108f7f98d829eebf70647b4101c1d" title="Number of double words in array.">n_</a>; i++ )
<a name="l00754"></a>00754         *<span class="keyword">this</span> &gt;&gt; array.<a class="code" href="structEMF_1_1DWORDARRAY.html#a1fb1927a79a14d1f5cade84644deab95" title="Array of double words.">dwords_</a>[i];
<a name="l00755"></a>00755       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00756"></a>00756     }
<a name="l00761"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a2aa625f8466249dd14001d3f30f562a0">00761</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( const ::EMRTEXT&amp; text )
<a name="l00762"></a>00762     {
<a name="l00763"></a>00763       *<span class="keyword">this</span> &lt;&lt; text.ptlReference &lt;&lt; text.nChars &lt;&lt; text.offString &lt;&lt; text.fOptions
<a name="l00764"></a>00764          &lt;&lt; text.rcl &lt;&lt; text.offDx;
<a name="l00765"></a>00765       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00766"></a>00766     }
<a name="l00771"></a><a class="code" href="classEMF_1_1DATASTREAM.html#aefbc0d3c2b7d714d11c53669dc7b8152">00771</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( ::EMRTEXT&amp; text )
<a name="l00772"></a>00772     {
<a name="l00773"></a>00773       *<span class="keyword">this</span> &gt;&gt; text.ptlReference &gt;&gt; text.nChars &gt;&gt; text.offString &gt;&gt; text.fOptions
<a name="l00774"></a>00774             &gt;&gt; text.rcl &gt;&gt; text.offDx;
<a name="l00775"></a>00775       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00776"></a>00776     }
<a name="l00781"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ad3fb566046a61f366d2af4d7014614d1">00781</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> LOGPEN&amp; pen )
<a name="l00782"></a>00782     {
<a name="l00783"></a>00783       *<span class="keyword">this</span> &lt;&lt; pen.lopnStyle &lt;&lt; pen.lopnWidth &lt;&lt; pen.lopnColor;
<a name="l00784"></a>00784       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00785"></a>00785     }
<a name="l00790"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ada1edba594d84d2554387559c949d079">00790</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( LOGPEN&amp; pen )
<a name="l00791"></a>00791     {
<a name="l00792"></a>00792       *<span class="keyword">this</span> &gt;&gt; pen.lopnStyle &gt;&gt; pen.lopnWidth &gt;&gt; pen.lopnColor;
<a name="l00793"></a>00793       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00794"></a>00794     }
<a name="l00799"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a7cd62b05e8abd58eb8fe32bbaefb6ab7">00799</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> EXTLOGPEN&amp; pen )
<a name="l00800"></a>00800     {
<a name="l00801"></a>00801       <span class="comment">// *** How big is this structure if there are no style entries? ***</span>
<a name="l00802"></a>00802       *<span class="keyword">this</span> &lt;&lt; pen.elpPenStyle &lt;&lt; pen.elpWidth &lt;&lt; pen.elpBrushStyle &lt;&lt; pen.elpColor
<a name="l00803"></a>00803             &lt;&lt; pen.elpHatch &lt;&lt; pen.elpNumEntries;
<a name="l00804"></a>00804       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00805"></a>00805     }
<a name="l00810"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a8afea9489434c0f77bedcca83eb97459">00810</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( EXTLOGPEN&amp; pen )
<a name="l00811"></a>00811     {
<a name="l00812"></a>00812       <span class="comment">// *** How big is this structure if there are no style entries? ***</span>
<a name="l00813"></a>00813       *<span class="keyword">this</span> &gt;&gt; pen.elpPenStyle &gt;&gt; pen.elpWidth &gt;&gt; pen.elpBrushStyle &gt;&gt; pen.elpColor
<a name="l00814"></a>00814             &gt;&gt; pen.elpHatch &gt;&gt; pen.elpNumEntries;
<a name="l00815"></a>00815       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00816"></a>00816     }
<a name="l00821"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a8314f54a24f4b9d67eca4aa1f628566d">00821</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> LOGBRUSH&amp; brush )
<a name="l00822"></a>00822     {
<a name="l00823"></a>00823       *<span class="keyword">this</span> &lt;&lt; brush.lbStyle &lt;&lt; brush.lbColor &lt;&lt; brush.lbHatch;
<a name="l00824"></a>00824       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00825"></a>00825     }
<a name="l00830"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ae36784cd716ab17ed709e65c8dd655ce">00830</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( LOGBRUSH&amp; brush )
<a name="l00831"></a>00831     {
<a name="l00832"></a>00832       *<span class="keyword">this</span> &gt;&gt; brush.lbStyle &gt;&gt; brush.lbColor &gt;&gt; brush.lbHatch;
<a name="l00833"></a>00833       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00834"></a>00834     }
<a name="l00839"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ab3fb78ba42e0535859fdf6c0e30e59b8">00839</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> LOGFONTW&amp; font )
<a name="l00840"></a>00840     {
<a name="l00841"></a>00841       *<span class="keyword">this</span> &lt;&lt; font.lfHeight &lt;&lt; font.lfWidth &lt;&lt; font.lfEscapement
<a name="l00842"></a>00842             &lt;&lt; font.lfOrientation &lt;&lt; font.lfWeight &lt;&lt; font.lfItalic
<a name="l00843"></a>00843             &lt;&lt; font.lfUnderline &lt;&lt; font.lfStrikeOut &lt;&lt; font.lfCharSet
<a name="l00844"></a>00844             &lt;&lt; font.lfOutPrecision &lt;&lt; font.lfClipPrecision &lt;&lt; font.lfQuality
<a name="l00845"></a>00845             &lt;&lt; font.lfPitchAndFamily
<a name="l00846"></a>00846             &lt;&lt; <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a>( const_cast&lt;WCHAR*const&gt;(font.lfFaceName), LF_FACESIZE );
<a name="l00847"></a>00847       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00848"></a>00848     }
<a name="l00853"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a15a6f9cb07a737641a3f0bd9e3d2ee21">00853</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( LOGFONTW&amp; font )
<a name="l00854"></a>00854     {
<a name="l00855"></a>00855       <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a> wFaceName( font.lfFaceName, LF_FACESIZE );
<a name="l00856"></a>00856 
<a name="l00857"></a>00857       *<span class="keyword">this</span> &gt;&gt; font.lfHeight &gt;&gt; font.lfWidth &gt;&gt; font.lfEscapement
<a name="l00858"></a>00858             &gt;&gt; font.lfOrientation &gt;&gt; font.lfWeight &gt;&gt; font.lfItalic
<a name="l00859"></a>00859             &gt;&gt; font.lfUnderline &gt;&gt; font.lfStrikeOut &gt;&gt; font.lfCharSet
<a name="l00860"></a>00860             &gt;&gt; font.lfOutPrecision &gt;&gt; font.lfClipPrecision &gt;&gt; font.lfQuality
<a name="l00861"></a>00861             &gt;&gt; font.lfPitchAndFamily
<a name="l00862"></a>00862             &gt;&gt; wFaceName;
<a name="l00863"></a>00863       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00864"></a>00864     }
<a name="l00869"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ac5615b4165663c6375cd6259373a0513">00869</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> PANOSE&amp; panose )
<a name="l00870"></a>00870     {
<a name="l00871"></a>00871       fwrite( &amp;panose, <span class="keyword">sizeof</span>(PANOSE), 1, fp_ );
<a name="l00872"></a>00872       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00873"></a>00873     }
<a name="l00878"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a22c1a4e5352d9d8f21871a0ed323b3c1">00878</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( PANOSE&amp; panose )
<a name="l00879"></a>00879     {
<a name="l00880"></a>00880       fread( &amp;panose, <span class="keyword">sizeof</span>(PANOSE), 1, fp_ );
<a name="l00881"></a>00881       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00882"></a>00882     }
<a name="l00887"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a617bee772f4e22896f99290935784ffe">00887</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> EXTLOGFONTW&amp; font )
<a name="l00888"></a>00888     {
<a name="l00889"></a>00889       *<span class="keyword">this</span> &lt;&lt; font.elfLogFont
<a name="l00890"></a>00890             &lt;&lt; <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a>( const_cast&lt;WCHAR*const&gt;(font.elfFullName),
<a name="l00891"></a>00891                          LF_FULLFACESIZE )
<a name="l00892"></a>00892             &lt;&lt; <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a>( const_cast&lt;WCHAR*const&gt;(font.elfStyle), LF_FACESIZE )
<a name="l00893"></a>00893             &lt;&lt; font.elfVersion &lt;&lt; font.elfStyleSize &lt;&lt; font.elfMatch
<a name="l00894"></a>00894             &lt;&lt; font.elfReserved
<a name="l00895"></a>00895             &lt;&lt; <a class="code" href="structEMF_1_1BYTEARRAY.html" title="Represent a byte array in a simple way.">BYTEARRAY</a>( const_cast&lt;BYTE*const&gt;(font.elfVendorId),
<a name="l00896"></a>00896                           ELF_VENDOR_SIZE )
<a name="l00897"></a>00897             &lt;&lt; font.elfCulture &lt;&lt; font.elfPanose;
<a name="l00898"></a>00898       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00899"></a>00899     }
<a name="l00904"></a><a class="code" href="classEMF_1_1DATASTREAM.html#ad18a52faf7ae6d3d94cf4ed9431b62ae">00904</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( EXTLOGFONTW&amp; font )
<a name="l00905"></a>00905     {
<a name="l00906"></a>00906       <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a> wFullName( font.elfFullName, LF_FULLFACESIZE );
<a name="l00907"></a>00907       <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a> wStyle( font.elfStyle, LF_FACESIZE );
<a name="l00908"></a>00908       <a class="code" href="structEMF_1_1BYTEARRAY.html" title="Represent a byte array in a simple way.">BYTEARRAY</a> bVendorId( font.elfVendorId, ELF_VENDOR_SIZE );
<a name="l00909"></a>00909       *<span class="keyword">this</span> &gt;&gt; font.elfLogFont
<a name="l00910"></a>00910             &gt;&gt; wFullName &gt;&gt; wStyle
<a name="l00911"></a>00911             &gt;&gt; font.elfVersion &gt;&gt; font.elfStyleSize &gt;&gt; font.elfMatch
<a name="l00912"></a>00912             &gt;&gt; font.elfReserved &gt;&gt; bVendorId
<a name="l00913"></a>00913             &gt;&gt; font.elfCulture &gt;&gt; font.elfPanose;
<a name="l00914"></a>00914       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00915"></a>00915     }
<a name="l00920"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a88bbad6caa69bf948df7ce70a00c1e82">00920</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a554394001dcb94f1f8bb3d92566e01fd">operator&lt;&lt; </a>( <span class="keyword">const</span> LOGPALETTE&amp; palette )
<a name="l00921"></a>00921     {
<a name="l00922"></a>00922       <span class="comment">// *** How big is this structure if the palette is empty? ***</span>
<a name="l00923"></a>00923       *<span class="keyword">this</span> &lt;&lt; palette.palVersion &lt;&lt; palette.palNumEntries;
<a name="l00924"></a>00924       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00925"></a>00925     }
<a name="l00930"></a><a class="code" href="classEMF_1_1DATASTREAM.html#a7008a98eb519ae4ecb12b4a0952949cc">00930</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; <a class="code" href="classEMF_1_1DATASTREAM.html#a01d6930e8997be4fb5fbfbd30914118e">operator&gt;&gt; </a>( LOGPALETTE&amp; palette )
<a name="l00931"></a>00931     {
<a name="l00932"></a>00932       <span class="comment">// *** How big is this structure if the palette is empty? ***</span>
<a name="l00933"></a>00933       *<span class="keyword">this</span> &gt;&gt; palette.palVersion &gt;&gt; palette.palNumEntries;
<a name="l00934"></a>00934       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00935"></a>00935     }
<a name="l00936"></a>00936   };
<a name="l00937"></a>00937 
<a name="l00938"></a>00938   <span class="keyword">class </span>METAFILEDEVICECONTEXT;
<a name="l00939"></a>00939 
<a name="l00941"></a>00941 
<a name="l00947"></a><a class="code" href="classEMF_1_1METARECORD.html">00947</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a> {
<a name="l00948"></a>00948   <span class="keyword">public</span>:
<a name="l00955"></a>00955     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classEMF_1_1METARECORD.html#aaca04b465e93b055b3d7e6ecff5f85d5">execute</a> ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span> = 0;
<a name="l00962"></a>00962     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classEMF_1_1METARECORD.html#ac644fbab42ec8d9d164fe8125af96585">serialize</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds ) = 0;
<a name="l00968"></a>00968     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classEMF_1_1METARECORD.html#a255c4cd568e166aa8cee9c50eddbb92e">size</a> ( <span class="keywordtype">void</span> ) <span class="keyword">const</span> = 0;
<a name="l00974"></a><a class="code" href="classEMF_1_1METARECORD.html#a540d01fd4233e3164809c02c477a7cca">00974</a>     <span class="keyword">virtual</span> <a class="code" href="classEMF_1_1METARECORD.html#a540d01fd4233e3164809c02c477a7cca">~METARECORD</a>( ) { }
<a name="l00975"></a>00975 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l00976"></a>00976 <span class="preprocessor"></span>
<a name="l00980"></a>00980     <span class="keyword">virtual</span> <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{}
<a name="l00981"></a>00981 <span class="preprocessor">#endif</span>
<a name="l00982"></a>00982 <span class="preprocessor"></span>  };
<a name="l00983"></a>00983 
<a name="l00984"></a>00984 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l00985"></a>00985 <span class="preprocessor"></span>  <span class="comment">/* Miscellaneous editing routines */</span>
<a name="l00986"></a>00986   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_rectl ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, <span class="keyword">const</span> RECTL&amp; rectl )
<a name="l00987"></a>00987   {
<a name="l00988"></a>00988 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l00989"></a>00989 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: (%d, %d) - (%d, %d)\n&quot;</span>;
<a name="l00990"></a>00990 <span class="preprocessor">#else</span>
<a name="l00991"></a>00991 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: (%ld, %ld) - (%ld, %ld)\n&quot;</span>;
<a name="l00992"></a>00992 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l00993"></a>00993     printf( FMT, tag, rectl.left, rectl.top, rectl.right, rectl.bottom );
<a name="l00994"></a>00994   }
<a name="l00995"></a>00995 
<a name="l00996"></a>00996   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_xform ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, <span class="keyword">const</span> XFORM&amp; xform )
<a name="l00997"></a>00997   {
<a name="l00998"></a>00998     printf( <span class="stringliteral">&quot;\t%s.eM11\t: %f\n&quot;</span>, tag, xform.eM11 );
<a name="l00999"></a>00999     printf( <span class="stringliteral">&quot;\t%s.eM12\t: %f\n&quot;</span>, tag, xform.eM12 );
<a name="l01000"></a>01000     printf( <span class="stringliteral">&quot;\t%s.eM21\t: %f\n&quot;</span>, tag, xform.eM21 );
<a name="l01001"></a>01001     printf( <span class="stringliteral">&quot;\t%s.eM22\t: %f\n&quot;</span>, tag, xform.eM22 );
<a name="l01002"></a>01002     printf( <span class="stringliteral">&quot;\t%s.eDx\t: %f\n&quot;</span>, tag, xform.eDx );
<a name="l01003"></a>01003     printf( <span class="stringliteral">&quot;\t%s.eDy\t: %f\n&quot;</span>, tag, xform.eDy );
<a name="l01004"></a>01004   }
<a name="l01005"></a>01005 
<a name="l01006"></a>01006   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_color ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, <span class="keyword">const</span> COLORREF&amp; color )
<a name="l01007"></a>01007   {
<a name="l01008"></a>01008 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01009"></a>01009 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: R(0x%02x) G(0x%02x) B(0x%02x)\n&quot;</span>;
<a name="l01010"></a>01010 <span class="preprocessor">#else</span>
<a name="l01011"></a>01011 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: R(0x%02lx) G(0x%02lx) B(0x%02lx)\n&quot;</span>;
<a name="l01012"></a>01012 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l01013"></a>01013     printf( FMT, tag,
<a name="l01014"></a>01014             GetRValue( color ), GetGValue( color ), GetBValue( color ) );
<a name="l01015"></a>01015   }
<a name="l01016"></a>01016 
<a name="l01017"></a>01017   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_sizel ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, <span class="keyword">const</span> SIZEL&amp; size )
<a name="l01018"></a>01018   {
<a name="l01019"></a>01019 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01020"></a>01020 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: (%d, %d)\n&quot;</span>;
<a name="l01021"></a>01021 <span class="preprocessor">#else</span>
<a name="l01022"></a>01022 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: (%ld, %ld)\n&quot;</span>;
<a name="l01023"></a>01023 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l01024"></a>01024     printf( FMT, tag, size.cx, size.cy );
<a name="l01025"></a>01025   }
<a name="l01026"></a>01026 
<a name="l01027"></a>01027   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_pointl ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, <span class="keyword">const</span> POINTL&amp; point )
<a name="l01028"></a>01028   {
<a name="l01029"></a>01029 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01030"></a>01030 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: (%d, %d)\n&quot;</span>;
<a name="l01031"></a>01031 <span class="preprocessor">#else</span>
<a name="l01032"></a>01032 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\t%s\t: (%ld, %ld)\n&quot;</span>;
<a name="l01033"></a>01033 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l01034"></a>01034     printf( FMT, tag, point.x, point.y );
<a name="l01035"></a>01035   }
<a name="l01036"></a>01036 
<a name="l01037"></a>01037   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_pointlarray ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, <span class="keyword">const</span> DWORD cptl,
<a name="l01038"></a>01038                                   <span class="keyword">const</span> POINTL* points )
<a name="l01039"></a>01039   {
<a name="l01040"></a>01040 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01041"></a>01041 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tcptl%s\t: %d\n&quot;</span>;
<a name="l01042"></a>01042     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;%d, %d\n&quot;</span>;
<a name="l01043"></a>01043     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\t\t%s  %d, %d\n&quot;</span>;
<a name="l01044"></a>01044 <span class="preprocessor">#else</span>
<a name="l01045"></a>01045 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tcptl%s\t: %ld\n&quot;</span>;
<a name="l01046"></a>01046     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;%ld, %ld\n&quot;</span>;
<a name="l01047"></a>01047     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\t\t%s  %ld, %ld\n&quot;</span>;
<a name="l01048"></a>01048 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l01049"></a>01049     printf( FMT0, tag, cptl );
<a name="l01050"></a>01050     printf( <span class="stringliteral">&quot;\taptl%s\t: &quot;</span>, tag );
<a name="l01051"></a>01051     <span class="keywordflow">if</span> ( cptl &gt; 0 )
<a name="l01052"></a>01052       printf( FMT1, points[0].x, points[0].y );
<a name="l01053"></a>01053     <span class="keywordflow">else</span>
<a name="l01054"></a>01054       puts( <span class="stringliteral">&quot;&quot;</span> );
<a name="l01055"></a>01055     <span class="keywordflow">for</span> ( DWORD i = 1; i &lt; cptl; i++ )
<a name="l01056"></a>01056       printf( FMT2, tag, points[i].x, points[i].y );
<a name="l01057"></a>01057   }
<a name="l01058"></a>01058 
<a name="l01059"></a>01059   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_point16array ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpts,
<a name="l01060"></a>01060                                   <span class="keyword">const</span> POINT16* points )
<a name="l01061"></a>01061   {
<a name="l01062"></a>01062     printf( <span class="stringliteral">&quot;\tcpts%s\t: %d\n&quot;</span>, tag, cpts );
<a name="l01063"></a>01063     printf( <span class="stringliteral">&quot;\tapts%s\t: &quot;</span>, tag );
<a name="l01064"></a>01064     <span class="keywordflow">if</span> ( cpts &gt; 0 )
<a name="l01065"></a>01065       printf( <span class="stringliteral">&quot;%d, %d\n&quot;</span>, points[0].x, points[0].y );
<a name="l01066"></a>01066     <span class="keywordflow">else</span>
<a name="l01067"></a>01067       puts( <span class="stringliteral">&quot;&quot;</span> );
<a name="l01068"></a>01068     <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; cpts; i++ )
<a name="l01069"></a>01069       printf( <span class="stringliteral">&quot;\t\t%s  %d, %d\n&quot;</span>, tag, points[i].x, points[i].y );
<a name="l01070"></a>01070   }
<a name="l01071"></a>01071 
<a name="l01072"></a>01072   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_pen_style ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, DWORD style )
<a name="l01073"></a>01073   {
<a name="l01074"></a>01074     printf( <span class="stringliteral">&quot;\t%s\t: &quot;</span>, tag );
<a name="l01075"></a>01075     <span class="keywordflow">switch</span> ( style &amp; PS_STYLE_MASK ) {
<a name="l01076"></a>01076     <span class="keywordflow">case</span> PS_SOLID: printf( <span class="stringliteral">&quot;PS_SOLID&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01077"></a>01077     <span class="keywordflow">case</span> PS_DASH: printf( <span class="stringliteral">&quot;PS_DASH&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01078"></a>01078     <span class="keywordflow">case</span> PS_DOT: printf( <span class="stringliteral">&quot;PS_DOT&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01079"></a>01079     <span class="keywordflow">case</span> PS_DASHDOT: printf( <span class="stringliteral">&quot;PS_DASHDOT&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01080"></a>01080     <span class="keywordflow">case</span> PS_DASHDOTDOT: printf( <span class="stringliteral">&quot;PS_DASHDOTDOT&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01081"></a>01081     <span class="keywordflow">case</span> PS_NULL: printf( <span class="stringliteral">&quot;PS_NULL&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01082"></a>01082     <span class="keywordflow">case</span> PS_INSIDEFRAME: printf( <span class="stringliteral">&quot;PS_INSIDEFRAME&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01083"></a>01083     <span class="keywordflow">case</span> PS_USERSTYLE: printf( <span class="stringliteral">&quot;PS_USERSTYLE&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01084"></a>01084     <span class="keywordflow">case</span> PS_ALTERNATE: printf( <span class="stringliteral">&quot;PS_ALTERNATE&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01085"></a>01085     }
<a name="l01086"></a>01086     <span class="keywordflow">switch</span> ( style &amp; PS_ENDCAP_MASK ) {
<a name="l01087"></a>01087     <span class="keywordflow">case</span> PS_ENDCAP_ROUND: printf( <span class="stringliteral">&quot; | PS_ENDCAP_ROUND&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01088"></a>01088     <span class="keywordflow">case</span> PS_ENDCAP_SQUARE: printf( <span class="stringliteral">&quot; | PS_ENDCAP_SQUARE&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01089"></a>01089     <span class="keywordflow">case</span> PS_ENDCAP_FLAT: printf( <span class="stringliteral">&quot; | PS_ENDCAP_FLAT&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01090"></a>01090     }
<a name="l01091"></a>01091     <span class="keywordflow">switch</span> ( style &amp; PS_JOIN_MASK ) {
<a name="l01092"></a>01092     <span class="keywordflow">case</span> PS_JOIN_ROUND: printf( <span class="stringliteral">&quot; | PS_JOIN_ROUND&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01093"></a>01093     <span class="keywordflow">case</span> PS_JOIN_BEVEL: printf( <span class="stringliteral">&quot; | PS_JOIN_BEVEL&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01094"></a>01094     <span class="keywordflow">case</span> PS_JOIN_MITER: printf( <span class="stringliteral">&quot; | PS_JOIN_MITER&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01095"></a>01095     }
<a name="l01096"></a>01096     <span class="keywordflow">switch</span> ( style &amp; PS_TYPE_MASK ) {
<a name="l01097"></a>01097     <span class="keywordflow">case</span> PS_COSMETIC: printf( <span class="stringliteral">&quot; | PS_COSMETIC&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01098"></a>01098     <span class="keywordflow">case</span> PS_GEOMETRIC: printf( <span class="stringliteral">&quot; | PS_GEOMETRIC&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01099"></a>01099     }
<a name="l01100"></a>01100     printf( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01101"></a>01101   }
<a name="l01102"></a>01102 
<a name="l01103"></a>01103   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_brush_style ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, DWORD style )
<a name="l01104"></a>01104   {
<a name="l01105"></a>01105 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01106"></a>01106 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%d)&quot;</span>;
<a name="l01107"></a>01107 <span class="preprocessor">#else</span>
<a name="l01108"></a>01108 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%ld)&quot;</span>;
<a name="l01109"></a>01109 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l01110"></a>01110     printf( <span class="stringliteral">&quot;\t%s\t: &quot;</span>, tag );
<a name="l01111"></a>01111     <span class="keywordflow">switch</span> ( style ) {
<a name="l01112"></a>01112     <span class="keywordflow">case</span> BS_SOLID: printf( <span class="stringliteral">&quot;BS_SOLID&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01113"></a>01113     <span class="keywordflow">case</span> BS_NULL: printf( <span class="stringliteral">&quot;BS_NULL&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01114"></a>01114     <span class="keywordflow">case</span> BS_HATCHED: printf( <span class="stringliteral">&quot;BS_HATCHED&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01115"></a>01115     <span class="keywordflow">case</span> BS_PATTERN: printf( <span class="stringliteral">&quot;BS_PATTERN&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01116"></a>01116     <span class="keywordflow">case</span> BS_INDEXED: printf( <span class="stringliteral">&quot;BS_INDEXED&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01117"></a>01117     <span class="keywordflow">case</span> BS_DIBPATTERN: printf( <span class="stringliteral">&quot;BS_DIBPATTERN&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01118"></a>01118     <span class="keywordflow">case</span> BS_DIBPATTERNPT: printf( <span class="stringliteral">&quot;BS_DIBPATTERNPT&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01119"></a>01119     <span class="keywordflow">case</span> BS_PATTERN8X8: printf( <span class="stringliteral">&quot;BS_PATTERN8X8&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01120"></a>01120     <span class="keywordflow">case</span> BS_DIBPATTERN8X8: printf( <span class="stringliteral">&quot;BS_DIBPATTERN8X8&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01121"></a>01121     <span class="keywordflow">case</span> BS_MONOPATTERN: printf( <span class="stringliteral">&quot;BS_DIBPATTERN8X8&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01122"></a>01122     <span class="keywordflow">default</span>: printf( FMT, style );
<a name="l01123"></a>01123     }
<a name="l01124"></a>01124     printf( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01125"></a>01125   }
<a name="l01126"></a>01126 
<a name="l01127"></a>01127   <span class="keyword">inline</span> <span class="keywordtype">void</span> edit_brush_hatch ( <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, DWORD hatch )
<a name="l01128"></a>01128   {
<a name="l01129"></a>01129 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01130"></a>01130 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%d)&quot;</span>;
<a name="l01131"></a>01131 <span class="preprocessor">#else</span>
<a name="l01132"></a>01132 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%ld)&quot;</span>;
<a name="l01133"></a>01133 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l01134"></a>01134     printf( <span class="stringliteral">&quot;\t%s\t: &quot;</span>, tag );
<a name="l01135"></a>01135     <span class="keywordflow">switch</span> ( hatch ) {
<a name="l01136"></a>01136     <span class="keywordflow">case</span> HS_HORIZONTAL: printf( <span class="stringliteral">&quot;HS_HORIZONTAL&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01137"></a>01137     <span class="keywordflow">case</span> HS_VERTICAL: printf( <span class="stringliteral">&quot;HS_VERTICAL&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01138"></a>01138     <span class="keywordflow">case</span> HS_FDIAGONAL: printf( <span class="stringliteral">&quot;HS_FDIAGONAL&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01139"></a>01139     <span class="keywordflow">case</span> HS_BDIAGONAL: printf( <span class="stringliteral">&quot;HS_BDIAGONAL&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01140"></a>01140     <span class="keywordflow">case</span> HS_CROSS: printf( <span class="stringliteral">&quot;HS_CROSS&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01141"></a>01141     <span class="keywordflow">case</span> HS_DIAGCROSS: printf( <span class="stringliteral">&quot;HS_DIAGCROSS&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l01142"></a>01142     <span class="keywordflow">default</span>: printf( FMT, hatch );
<a name="l01143"></a>01143     }
<a name="l01144"></a>01144     printf( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01145"></a>01145   }
<a name="l01146"></a>01146 <span class="preprocessor">#endif</span>
<a name="l01147"></a>01147 <span class="preprocessor"></span>
<a name="l01154"></a>01154   <span class="keyword">enum</span> OBJECTTYPE { O_METAFILEDEVICECONTEXT     = OBJ_METADC,
<a name="l01155"></a>01155                     O_FONT                      = OBJ_FONT,
<a name="l01156"></a>01156                     O_PEN                       = OBJ_PEN,
<a name="l01157"></a>01157                     O_EXTPEN                    = OBJ_EXTPEN,
<a name="l01158"></a>01158                     O_BRUSH                     = OBJ_BRUSH,
<a name="l01159"></a>01159                     O_PALETTE                   = OBJ_PAL };
<a name="l01160"></a>01160 <span class="preprocessor">#if 0</span>
<a name="l01161"></a>01161 <span class="preprocessor"></span>
<a name="l01164"></a>01164   <span class="keyword">static</span> <span class="keywordtype">char</span>* typStr ( OBJECTTYPE type )
<a name="l01165"></a>01165   {
<a name="l01166"></a>01166     <span class="keywordflow">switch</span> (type) {
<a name="l01167"></a>01167     <span class="keywordflow">case</span> O_METAFILEDEVICECONTEXT:
<a name="l01168"></a>01168       <span class="keywordflow">return</span> <span class="stringliteral">&quot;metafile device context&quot;</span>;
<a name="l01169"></a>01169     <span class="keywordflow">case</span> O_FONT:
<a name="l01170"></a>01170       <span class="keywordflow">return</span> <span class="stringliteral">&quot;font&quot;</span>;
<a name="l01171"></a>01171     <span class="keywordflow">case</span> O_PEN:
<a name="l01172"></a>01172       <span class="keywordflow">return</span> <span class="stringliteral">&quot;pen&quot;</span>;
<a name="l01173"></a>01173     <span class="keywordflow">case</span> O_EXTPEN:
<a name="l01174"></a>01174       <span class="keywordflow">return</span> <span class="stringliteral">&quot;extended pen&quot;</span>;
<a name="l01175"></a>01175     <span class="keywordflow">case</span> O_BRUSH:
<a name="l01176"></a>01176       <span class="keywordflow">return</span> <span class="stringliteral">&quot;brush&quot;</span>;
<a name="l01177"></a>01177     <span class="keywordflow">case</span> O_PALETTE:
<a name="l01178"></a>01178       <span class="keywordflow">return</span> <span class="stringliteral">&quot;palette&quot;</span>;
<a name="l01179"></a>01179     }
<a name="l01180"></a>01180     <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown object&quot;</span>;
<a name="l01181"></a>01181   }
<a name="l01182"></a>01182 <span class="preprocessor">#endif</span>
<a name="l01184"></a>01184 <span class="preprocessor"></span>
<a name="l01189"></a><a class="code" href="classEMF_1_1OBJECT.html">01189</a> <span class="preprocessor">  class OBJECT {</span>
<a name="l01190"></a>01190 <span class="preprocessor"></span>  <span class="keyword">public</span>:
<a name="l01191"></a><a class="code" href="classEMF_1_1OBJECT.html#a83eb89fbb67a586bd514b98381f95e44">01191</a>     HGDIOBJ handle;             
<a name="l01192"></a>01192 
<a name="l01193"></a><a class="code" href="classEMF_1_1OBJECT.html#aeb60c61b46ee7dd06eb40030275ef5ad">01193</a>     <span class="keyword">virtual</span> <a class="code" href="classEMF_1_1OBJECT.html#aeb60c61b46ee7dd06eb40030275ef5ad" title="OBJECTs have a virtual destructor.">~OBJECT</a> () {}
<a name="l01198"></a><a class="code" href="classEMF_1_1OBJECT.html#a06f2c15ae065fd8dcafa635f7fc1946a">01198</a>     <a class="code" href="classEMF_1_1OBJECT.html#a06f2c15ae065fd8dcafa635f7fc1946a">OBJECT</a> ( <span class="keywordtype">void</span> ) : handle( 0 ) {}
<a name="l01202"></a>01202     <span class="keyword">virtual</span> OBJECTTYPE getType ( <span class="keywordtype">void</span> ) <span class="keyword">const</span> = 0;
<a name="l01203"></a>01203   };
<a name="l01204"></a>01204 
<a name="l01206"></a>01206 
<a name="l01211"></a><a class="code" href="classEMF_1_1GRAPHICSOBJECT.html">01211</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1GRAPHICSOBJECT.html" title="A global graphics object.">GRAPHICSOBJECT</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1OBJECT.html" title="Global GDI object.">OBJECT</a> {
<a name="l01212"></a>01212   <span class="keyword">public</span>:
<a name="l01214"></a><a class="code" href="classEMF_1_1GRAPHICSOBJECT.html#adc6b05ae26090e146a749287f1d5f42a">01214</a>     <span class="keyword">virtual</span> <a class="code" href="classEMF_1_1GRAPHICSOBJECT.html#adc6b05ae26090e146a749287f1d5f42a" title="GRAPHICSOBJECTs has a virtual destructor.">~GRAPHICSOBJECT</a> () {}
<a name="l01219"></a><a class="code" href="classEMF_1_1GRAPHICSOBJECT.html#a134e249f179993ae0f3a5c62ac7ccafe">01219</a>     std::map&lt; HDC, HGDIOBJ &gt; contexts;
<a name="l01225"></a>01225     <span class="keyword">virtual</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* newEMR ( HDC dc, HGDIOBJ handle ) = 0;
<a name="l01226"></a>01226   };
<a name="l01227"></a>01227 
<a name="l01228"></a>01228   <span class="keyword">typedef</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>*(*METARECORDCTOR)(<a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp;);
<a name="l01229"></a>01229 
<a name="l01230"></a>01230   <span class="keyword">class </span>GLOBALOBJECTS {
<a name="l01234"></a>01234     std::vector&lt;OBJECT*&gt; objects;
<a name="l01235"></a>01235 
<a name="l01242"></a>01242     std::map&lt; DWORD, METARECORDCTOR &gt; new_records;
<a name="l01243"></a>01243 
<a name="l01244"></a>01244   <span class="keyword">public</span>:
<a name="l01245"></a>01245     GLOBALOBJECTS ( <span class="keywordtype">void</span> );
<a name="l01246"></a>01246     ~GLOBALOBJECTS ( <span class="keywordtype">void</span> );
<a name="l01247"></a>01247     HGDIOBJ add ( <a class="code" href="classEMF_1_1OBJECT.html" title="Global GDI object.">OBJECT</a>* <span class="keywordtype">object</span> );
<a name="l01248"></a>01248     <a class="code" href="classEMF_1_1OBJECT.html" title="Global GDI object.">OBJECT</a>* find ( <span class="keyword">const</span> HGDIOBJ handle );
<a name="l01249"></a>01249     <span class="keywordtype">void</span> <span class="keyword">remove</span> ( <span class="keyword">const</span> <a class="code" href="classEMF_1_1OBJECT.html" title="Global GDI object.">OBJECT</a>* object );
<a name="l01250"></a>01250 
<a name="l01251"></a>01251     std::vector&lt;EMF::OBJECT*&gt;::const_iterator begin ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01252"></a>01252 <span class="keyword">    </span>{ <span class="keywordflow">return</span> objects.begin(); }
<a name="l01253"></a>01253     std::vector&lt;EMF::OBJECT*&gt;::const_iterator end ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01254"></a>01254 <span class="keyword">    </span>{ <span class="keywordflow">return</span> objects.end(); }
<a name="l01255"></a>01255 
<a name="l01256"></a>01256     METARECORDCTOR newRecord ( DWORD iType ) <span class="keyword">const</span>;
<a name="l01257"></a>01257 
<a name="l01258"></a>01258     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_eof ( DATASTREAM&amp; ds );
<a name="l01259"></a>01259     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setviewportorgex ( DATASTREAM&amp; ds );
<a name="l01260"></a>01260     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setwindoworgex ( DATASTREAM&amp; ds );
<a name="l01261"></a>01261     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setviewportextex ( DATASTREAM&amp; ds );
<a name="l01262"></a>01262     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setwindowextex ( DATASTREAM&amp; ds );
<a name="l01263"></a>01263     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_scaleviewportextex ( DATASTREAM&amp; ds );
<a name="l01264"></a>01264     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_scalewindowextex ( DATASTREAM&amp; ds );
<a name="l01265"></a>01265     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_modifyworldtransform ( DATASTREAM&amp; ds );
<a name="l01266"></a>01266     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setworldtransform ( DATASTREAM&amp; ds );
<a name="l01267"></a>01267     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_settextalign ( DATASTREAM&amp; ds );
<a name="l01268"></a>01268     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_settextcolor ( DATASTREAM&amp; ds );
<a name="l01269"></a>01269     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setbkcolor ( DATASTREAM&amp; ds );
<a name="l01270"></a>01270     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setbkmode ( DATASTREAM&amp; ds );
<a name="l01271"></a>01271     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setpolyfillmode ( DATASTREAM&amp; ds );
<a name="l01272"></a>01272     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setmapmode ( DATASTREAM&amp; ds );
<a name="l01273"></a>01273     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_selectobject ( DATASTREAM&amp; ds );
<a name="l01274"></a>01274     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_deleteobject ( DATASTREAM&amp; ds );
<a name="l01275"></a>01275     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_movetoex ( DATASTREAM&amp; ds );
<a name="l01276"></a>01276     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_lineto ( DATASTREAM&amp; ds );
<a name="l01277"></a>01277     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_arc ( DATASTREAM&amp; ds );
<a name="l01278"></a>01278     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_arcto ( DATASTREAM&amp; ds );
<a name="l01279"></a>01279     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_rectangle ( DATASTREAM&amp; ds );
<a name="l01280"></a>01280     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_ellipse ( DATASTREAM&amp; ds );
<a name="l01281"></a>01281     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polyline ( DATASTREAM&amp; ds );
<a name="l01282"></a>01282     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polyline16 ( DATASTREAM&amp; ds );
<a name="l01283"></a>01283     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polygon ( DATASTREAM&amp; ds );
<a name="l01284"></a>01284     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polygon16 ( DATASTREAM&amp; ds );
<a name="l01285"></a>01285     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polypolygon ( DATASTREAM&amp; ds );
<a name="l01286"></a>01286     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polypolygon16 ( DATASTREAM&amp; ds );
<a name="l01287"></a>01287     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polybezier ( DATASTREAM&amp; ds );
<a name="l01288"></a>01288     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polybezier16 ( DATASTREAM&amp; ds );
<a name="l01289"></a>01289     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polybezierto ( DATASTREAM&amp; ds );
<a name="l01290"></a>01290     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polybezierto16 ( DATASTREAM&amp; ds );
<a name="l01291"></a>01291     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polylineto ( DATASTREAM&amp; ds );
<a name="l01292"></a>01292     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_polylineto16 ( DATASTREAM&amp; ds );
<a name="l01293"></a>01293     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_exttextouta ( DATASTREAM&amp; ds );
<a name="l01294"></a>01294     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setpixelv ( DATASTREAM&amp; ds );
<a name="l01295"></a>01295     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_createpen ( DATASTREAM&amp; ds );
<a name="l01296"></a>01296     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_extcreatepen ( DATASTREAM&amp; ds );
<a name="l01297"></a>01297     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_createbrushindirect ( DATASTREAM&amp; ds );
<a name="l01298"></a>01298     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_extcreatefontindirectw ( DATASTREAM&amp; ds );
<a name="l01299"></a>01299     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_fillpath ( DATASTREAM&amp; ds );
<a name="l01300"></a>01300     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_strokepath ( DATASTREAM&amp; ds );
<a name="l01301"></a>01301     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_strokeandfillpath ( DATASTREAM&amp; ds );
<a name="l01302"></a>01302     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_beginpath ( DATASTREAM&amp; ds );
<a name="l01303"></a>01303     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_endpath ( DATASTREAM&amp; ds );
<a name="l01304"></a>01304     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_closefigure ( DATASTREAM&amp; ds );
<a name="l01305"></a>01305     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_savedc ( DATASTREAM&amp; ds );
<a name="l01306"></a>01306     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_restoredc ( DATASTREAM&amp; ds );
<a name="l01307"></a>01307     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setmetargn ( DATASTREAM&amp; ds );
<a name="l01308"></a>01308     <span class="keyword">static</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">EMF::METARECORD</a>* new_setmiterlimit ( DATASTREAM&amp; ds );
<a name="l01309"></a>01309   };
<a name="l01310"></a>01310 
<a name="l01311"></a>01311   <span class="keyword">extern</span> GLOBALOBJECTS globalObjects;
<a name="l01312"></a>01312 
<a name="l01314"></a>01314 
<a name="l01320"></a><a class="code" href="classEMF_1_1ENHMETAHEADER.html">01320</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, <span class="keyword">public</span> ::<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a> {
<a name="l01321"></a>01321 
<a name="l01322"></a>01322     LPWSTR description_w;
<a name="l01323"></a>01323     <span class="keywordtype">int</span> description_size;
<a name="l01324"></a>01324 
<a name="l01325"></a>01325   <span class="keyword">public</span>:
<a name="l01332"></a>01332     <a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a> ( LPCWSTR description = 0 )
<a name="l01333"></a><a class="code" href="classEMF_1_1ENHMETAHEADER.html#ac7d8dca536b2a08d135c67f05d80436a">01333</a>       : description_w( 0 ), description_size( 0 )
<a name="l01334"></a>01334     {
<a name="l01335"></a>01335       iType = EMR_HEADER;
<a name="l01336"></a>01336       nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record."> ::ENHMETAHEADER</a> );
<a name="l01337"></a>01337 
<a name="l01338"></a>01338       <span class="comment">// Compute the bounds</span>
<a name="l01339"></a>01339       RECTL default_bounds = { 0, 0, 0, 0 };
<a name="l01340"></a>01340       rclBounds = default_bounds;
<a name="l01341"></a>01341       RECTL default_frame = { 0, 0, 0, 0 };
<a name="l01342"></a>01342       rclFrame = default_frame;
<a name="l01343"></a>01343       dSignature = ENHMETA_SIGNATURE;
<a name="l01344"></a>01344       nVersion = 0x10000;
<a name="l01345"></a>01345       nBytes = nSize;
<a name="l01346"></a>01346       nRecords = 1;
<a name="l01347"></a>01347       nHandles = 0;
<a name="l01348"></a>01348       sReserved = 0;
<a name="l01349"></a>01349       nDescription = 0;
<a name="l01350"></a>01350       offDescription = 0;
<a name="l01351"></a>01351       nPalEntries = 0;
<a name="l01352"></a>01352       szlDevice.cx = XMAX_PIXELS;
<a name="l01353"></a>01353       szlDevice.cy = YMAX_PIXELS;
<a name="l01354"></a>01354       szlMillimeters.cx = XMAX_MM;
<a name="l01355"></a>01355       szlMillimeters.cy = YMAX_MM;
<a name="l01356"></a>01356       <span class="comment">//</span>
<a name="l01357"></a>01357       cbPixelFormat = 0;
<a name="l01358"></a>01358       offPixelFormat = 0;
<a name="l01359"></a>01359       bOpenGL = FALSE;
<a name="l01360"></a>01360       <span class="comment">//</span>
<a name="l01361"></a>01361 <span class="preprocessor">#if 1</span>
<a name="l01362"></a>01362 <span class="preprocessor"></span>      szlMicrometers.cx = 1000 * szlMillimeters.cx;
<a name="l01363"></a>01363       szlMicrometers.cy = 1000 * szlMillimeters.cy;
<a name="l01364"></a>01364 <span class="preprocessor">#endif</span>
<a name="l01365"></a>01365 <span class="preprocessor"></span>      <span class="keywordflow">if</span> ( description ) {
<a name="l01366"></a>01366         <span class="comment">// Count the number of characters in the description</span>
<a name="l01367"></a>01367         <span class="keywordtype">int</span> description_count = 0, nulls = 0;
<a name="l01368"></a>01368         LPCWSTR description_p = description;
<a name="l01369"></a>01369         <span class="keywordflow">while</span> ( nulls &lt; 3 ) {
<a name="l01370"></a>01370           description_count++;
<a name="l01371"></a>01371           <span class="keywordflow">if</span> ( (*description_p++) == 0 ) nulls++;
<a name="l01372"></a>01372         }
<a name="l01373"></a>01373 
<a name="l01374"></a>01374         <span class="comment">// Make sure that the TOTAL record length will be a multiple of 4</span>
<a name="l01375"></a>01375 
<a name="l01376"></a>01376         <span class="keywordtype">int</span> record_size = ROUND_TO_LONG( <span class="keyword">sizeof</span>( ::<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a> ) +
<a name="l01377"></a>01377                                          <span class="keyword">sizeof</span>( WCHAR ) * description_count );
<a name="l01378"></a>01378         description_size =
<a name="l01379"></a>01379           (record_size - <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record."> ::ENHMETAHEADER</a> )) / <span class="keyword">sizeof</span>( WCHAR );
<a name="l01380"></a>01380 
<a name="l01381"></a>01381         description_w = <span class="keyword">new</span> WCHAR[ description_size ];
<a name="l01382"></a>01382 
<a name="l01383"></a>01383         memset( description_w, 0, <span class="keyword">sizeof</span>(WCHAR) * description_size );
<a name="l01384"></a>01384 
<a name="l01385"></a>01385         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0; i&lt;description_count; i++ )
<a name="l01386"></a>01386           description_w[i] = *description++;
<a name="l01387"></a>01387 
<a name="l01388"></a>01388         nSize = nBytes = record_size;
<a name="l01389"></a>01389         nDescription = description_count;
<a name="l01390"></a>01390         offDescription = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record."> ::ENHMETAHEADER</a> );
<a name="l01391"></a>01391       }
<a name="l01392"></a>01392     }
<a name="l01393"></a>01393     
<a name="l01397"></a><a class="code" href="classEMF_1_1ENHMETAHEADER.html#a9323524a3fded34ce6c6954bf2bf0755">01397</a>     ~<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a> ( )
<a name="l01398"></a>01398     {
<a name="l01399"></a>01399       <span class="keywordflow">if</span> ( description_w ) <span class="keyword">delete</span>[] description_w;
<a name="l01400"></a>01400     }
<a name="l01405"></a><a class="code" href="classEMF_1_1ENHMETAHEADER.html#a1a4afcf6dde95552973e4e4ad9df889e">01405</a>     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01406"></a>01406     {
<a name="l01407"></a>01407       ds &lt;&lt; iType &lt;&lt; nSize
<a name="l01408"></a>01408          &lt;&lt; rclBounds &lt;&lt; rclFrame
<a name="l01409"></a>01409          &lt;&lt; dSignature &lt;&lt; nVersion &lt;&lt; nBytes &lt;&lt; nRecords &lt;&lt; nHandles &lt;&lt; sReserved
<a name="l01410"></a>01410          &lt;&lt; nDescription &lt;&lt; offDescription &lt;&lt; nPalEntries
<a name="l01411"></a>01411          &lt;&lt; szlDevice &lt;&lt; szlMillimeters
<a name="l01412"></a>01412          &lt;&lt; cbPixelFormat &lt;&lt; offPixelFormat &lt;&lt; bOpenGL
<a name="l01413"></a>01413 <span class="preprocessor">#if 1</span>
<a name="l01414"></a>01414 <span class="preprocessor"></span>         &lt;&lt; szlMicrometers
<a name="l01415"></a>01415 <span class="preprocessor">#endif</span>
<a name="l01416"></a>01416 <span class="preprocessor"></span>         &lt;&lt; <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a>( description_w, description_size );
<a name="l01417"></a>01417       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01418"></a>01418     }
<a name="l01422"></a><a class="code" href="classEMF_1_1ENHMETAHEADER.html#a8560649f5953da19d5f21e9a1dc4fb66">01422</a>     <span class="keywordtype">bool</span> unserialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01423"></a>01423     {
<a name="l01424"></a>01424       ds &gt;&gt; iType &gt;&gt; nSize
<a name="l01425"></a>01425          &gt;&gt; rclBounds &gt;&gt; rclFrame
<a name="l01426"></a>01426          &gt;&gt; dSignature &gt;&gt; nVersion &gt;&gt; nBytes &gt;&gt; nRecords &gt;&gt; nHandles &gt;&gt; sReserved
<a name="l01427"></a>01427          &gt;&gt; nDescription &gt;&gt; offDescription &gt;&gt; nPalEntries
<a name="l01428"></a>01428          &gt;&gt; szlDevice &gt;&gt; szlMillimeters;
<a name="l01429"></a>01429 
<a name="l01430"></a>01430       <span class="comment">// Some elements of the metafile header were added at later dates</span>
<a name="l01431"></a>01431 
<a name="l01432"></a>01432 <span class="preprocessor">#define OffsetOf( a, b ) ((unsigned int)(((char*)&amp;(((::ENHMETAHEADER*)a)-&gt;b)) - \</span>
<a name="l01433"></a>01433 <span class="preprocessor">(char*)((::ENHMETAHEADER*)a)))</span>
<a name="l01434"></a>01434 <span class="preprocessor"></span><span class="preprocessor">#if 1</span>
<a name="l01435"></a>01435 <span class="preprocessor"></span>      <span class="keywordflow">if</span> ( OffsetOf( <span class="keyword">this</span>, szlMicrometers ) &lt;= offDescription )
<a name="l01436"></a>01436         ds &gt;&gt; cbPixelFormat &gt;&gt; offPixelFormat &gt;&gt; bOpenGL;
<a name="l01437"></a>01437 <span class="preprocessor">#else</span>
<a name="l01438"></a>01438 <span class="preprocessor"></span>      <span class="keywordflow">if</span> ( <span class="keyword">sizeof</span>(::<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a>) &lt;= offDescription )
<a name="l01439"></a>01439         ds &gt;&gt; cbPixelFormat &gt;&gt; offPixelFormat &gt;&gt; bOpenGL;
<a name="l01440"></a>01440 <span class="preprocessor">#endif</span>
<a name="l01441"></a>01441 <span class="preprocessor"></span><span class="preprocessor">#undef OffsetOf</span>
<a name="l01442"></a>01442 <span class="preprocessor"></span><span class="preprocessor">#if 1</span>
<a name="l01443"></a>01443 <span class="preprocessor"></span>      <span class="keywordflow">if</span> ( <span class="keyword">sizeof</span>(::<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a>) &lt;= offDescription )
<a name="l01444"></a>01444         ds &gt;&gt; szlMicrometers;
<a name="l01445"></a>01445 <span class="preprocessor">#endif</span>
<a name="l01446"></a>01446 <span class="preprocessor"></span>      <span class="comment">// Should now probably check that the offset is correct...</span>
<a name="l01447"></a>01447 
<a name="l01448"></a>01448       description_size = ( nSize - offDescription ) / <span class="keyword">sizeof</span>(WCHAR);
<a name="l01449"></a>01449       description_w = <span class="keyword">new</span> WCHAR[ description_size ];
<a name="l01450"></a>01450 
<a name="l01451"></a>01451       <a class="code" href="structEMF_1_1WCHARSTR.html" title="Represent a wide (UNICODE) character string in a simple way.">WCHARSTR</a> description( description_w, description_size );
<a name="l01452"></a>01452 
<a name="l01453"></a>01453       ds &gt;&gt; description;
<a name="l01454"></a>01454 
<a name="l01455"></a>01455       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01456"></a>01456     }
<a name="l01460"></a><a class="code" href="classEMF_1_1ENHMETAHEADER.html#abf5a70b37585adc59c99b8a9128dd3fd">01460</a>     <span class="keywordtype">int</span> <a class="code" href="classEMF_1_1ENHMETAHEADER.html#abf5a70b37585adc59c99b8a9128dd3fd">size</a> ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> nSize; }
<a name="l01466"></a><a class="code" href="classEMF_1_1ENHMETAHEADER.html#a66d358ee4a6ea36e13d9c6cd79d00c48">01466</a>     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC <span class="comment">/*dc*/</span> )<span class="keyword"> const</span>
<a name="l01467"></a>01467 <span class="keyword">    </span>{
<a name="l01468"></a>01468       <span class="comment">// Actually handled by the destination device context.</span>
<a name="l01469"></a>01469     }
<a name="l01470"></a>01470 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01471"></a>01471 <span class="preprocessor"></span>
<a name="l01474"></a>01474     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01475"></a>01475 <span class="keyword">    </span>{
<a name="l01476"></a>01476 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01477"></a>01477 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tiType\t\t\t: %d\n&quot;</span>;
<a name="l01478"></a>01478       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tnSize\t\t\t: %d\n&quot;</span>;
<a name="l01479"></a>01479       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tnBytes\t\t\t: %d\n&quot;</span>;
<a name="l01480"></a>01480       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tnRecords\t\t: %d\n&quot;</span>;
<a name="l01481"></a>01481       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\tnDescription\t\t: %d\n&quot;</span>;
<a name="l01482"></a>01482       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\toffDescription\t\t: %d\n&quot;</span>;
<a name="l01483"></a>01483       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT6 = <span class="stringliteral">&quot;\tnPalEntries\t\t: %d\n&quot;</span>;
<a name="l01484"></a>01484       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT7 = <span class="stringliteral">&quot;\tcbPixelFormat\t\t: %d\n&quot;</span>;
<a name="l01485"></a>01485       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT8 = <span class="stringliteral">&quot;\toffPixelFormat\t\t: %d\n&quot;</span>;
<a name="l01486"></a>01486       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT9 = <span class="stringliteral">&quot;\tbOpenGL\t\t\t: %d\n&quot;</span>;
<a name="l01487"></a>01487 <span class="preprocessor">#else</span>
<a name="l01488"></a>01488 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tiType\t\t\t: %ld\n&quot;</span>;
<a name="l01489"></a>01489       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tnSize\t\t\t: %ld\n&quot;</span>;
<a name="l01490"></a>01490       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tnBytes\t\t\t: %ld\n&quot;</span>;
<a name="l01491"></a>01491       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tnRecords\t\t: %ld\n&quot;</span>;
<a name="l01492"></a>01492       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\tnDescription\t\t: %ld\n&quot;</span>;
<a name="l01493"></a>01493       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\toffDescription\t\t: %ld\n&quot;</span>;
<a name="l01494"></a>01494       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT6 = <span class="stringliteral">&quot;\tnPalEntries\t\t: %ld\n&quot;</span>;
<a name="l01495"></a>01495       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT7 = <span class="stringliteral">&quot;\tcbPixelFormat\t\t: %ld\n&quot;</span>;
<a name="l01496"></a>01496       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT8 = <span class="stringliteral">&quot;\toffPixelFormat\t\t: %ld\n&quot;</span>;
<a name="l01497"></a>01497       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT9 = <span class="stringliteral">&quot;\tbOpenGL\t\t\t: %ld\n&quot;</span>;
<a name="l01498"></a>01498 <span class="preprocessor">#endif</span>
<a name="l01499"></a>01499 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;*HEADER*\n&quot;</span> );
<a name="l01500"></a>01500       printf( FMT0, iType );
<a name="l01501"></a>01501       printf( FMT1, nSize );
<a name="l01502"></a>01502       edit_rectl( <span class="stringliteral">&quot;rclBounds\t&quot;</span>, rclBounds );
<a name="l01503"></a>01503       edit_rectl( <span class="stringliteral">&quot;rclFrame\t&quot;</span>, rclFrame );
<a name="l01504"></a>01504       printf( <span class="stringliteral">&quot;\tdSignature\t\t: %.4s\n&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)&amp;dSignature );
<a name="l01505"></a>01505       printf( <span class="stringliteral">&quot;\tnVersion\t\t: 0x%x\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)nVersion );
<a name="l01506"></a>01506       printf( FMT2, nBytes );
<a name="l01507"></a>01507       printf( FMT3, nRecords );
<a name="l01508"></a>01508       printf( <span class="stringliteral">&quot;\tnHandles\t\t: %d\n&quot;</span>, nHandles );
<a name="l01509"></a>01509       printf( FMT4, nDescription );
<a name="l01510"></a>01510       printf( FMT5, offDescription );
<a name="l01511"></a>01511       printf( FMT6, nPalEntries );
<a name="l01512"></a>01512       edit_sizel( <span class="stringliteral">&quot;szlDevice\t&quot;</span>, szlDevice );
<a name="l01513"></a>01513       edit_sizel( <span class="stringliteral">&quot;szlMillimeters\t&quot;</span>, szlMillimeters );
<a name="l01514"></a>01514 
<a name="l01515"></a>01515       <span class="comment">/* Make a crude guess as to the age of this file */</span>
<a name="l01516"></a>01516 <span class="preprocessor">#define OffsetOf( a, b ) ((unsigned int)(((const char*)&amp;(((const ::ENHMETAHEADER*)a)-&gt;b)) - \</span>
<a name="l01517"></a>01517 <span class="preprocessor">(const char*)((const ::ENHMETAHEADER*)a)))</span>
<a name="l01518"></a>01518 <span class="preprocessor"></span>
<a name="l01519"></a>01519       <span class="keywordflow">if</span> ( OffsetOf( <span class="keyword">this</span>, cbPixelFormat ) &lt;= offDescription ) {
<a name="l01520"></a>01520         printf( FMT7, cbPixelFormat );
<a name="l01521"></a>01521         printf( FMT8, offPixelFormat );
<a name="l01522"></a>01522         printf( FMT9, bOpenGL );
<a name="l01523"></a>01523 <span class="preprocessor">#if 1</span>
<a name="l01524"></a>01524 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( <span class="keyword">sizeof</span>(::<a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a>) &lt;= offDescription ) {
<a name="l01525"></a>01525           edit_sizel( <span class="stringliteral">&quot;szlMicrometers\t&quot;</span>, szlMicrometers );
<a name="l01526"></a>01526         }
<a name="l01527"></a>01527 <span class="preprocessor">#endif</span>
<a name="l01528"></a>01528 <span class="preprocessor"></span>      }
<a name="l01529"></a>01529 
<a name="l01530"></a>01530 <span class="preprocessor">#undef OffsetOf</span>
<a name="l01531"></a>01531 <span class="preprocessor"></span>
<a name="l01532"></a>01532       <span class="keywordflow">if</span> ( nDescription != 0 ) {
<a name="l01533"></a>01533 
<a name="l01534"></a>01534         <span class="keywordtype">wchar_t</span> last_w = 0;
<a name="l01535"></a>01535         WCHAR* description = description_w;
<a name="l01536"></a>01536 
<a name="l01537"></a>01537         printf( <span class="stringliteral">&quot;\tDescription:&quot;</span> );
<a name="l01538"></a>01538 
<a name="l01539"></a>01539         <span class="keywordflow">for</span> ( DWORD i = 0; i &lt; nDescription; i++ ) {
<a name="l01540"></a>01540 
<a name="l01541"></a>01541           <span class="keywordtype">wchar_t</span> w = *description++; <span class="comment">/* This is not true, really. UNICODE is not</span>
<a name="l01542"></a>01542 <span class="comment">                                       * glibc&apos;s wide character representation */</span>
<a name="l01543"></a>01543 
<a name="l01544"></a>01544           <span class="keywordflow">if</span> ( w != 0 ) {
<a name="l01545"></a>01545             <span class="keywordflow">if</span> ( last_w == 0 ) printf( <span class="stringliteral">&quot;\n\t\t&quot;</span> );
<a name="l01546"></a>01546             putchar( w );
<a name="l01547"></a>01547           }
<a name="l01548"></a>01548           
<a name="l01549"></a>01549           last_w = w;
<a name="l01550"></a>01550         }
<a name="l01551"></a>01551         printf( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01552"></a>01552       }
<a name="l01553"></a>01553     }
<a name="l01554"></a>01554 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l01555"></a>01555   };
<a name="l01556"></a>01556 
<a name="l01558"></a>01558 
<a name="l01563"></a><a class="code" href="classEMF_1_1EMREOF.html">01563</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMREOF.html" title="EMF End of File Record.">EMREOF</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMREOF.html" title="EMF End of File Record.">EMREOF</a> {
<a name="l01564"></a>01564   <span class="keyword">public</span>:
<a name="l01568"></a>01568     <a class="code" href="classEMF_1_1EMREOF.html" title="EMF End of File Record.">EMREOF</a> ( <span class="keywordtype">void</span> )
<a name="l01569"></a>01569     {
<a name="l01570"></a><a class="code" href="classEMF_1_1EMREOF.html#a591aac1ec45284e3425b486f4b1f4c7a">01570</a>       emr.iType = EMR_EOF;
<a name="l01571"></a>01571       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMREOF.html" title="EMF End of File Record."> ::EMREOF</a> );
<a name="l01572"></a>01572       nPalEntries = 0;
<a name="l01573"></a>01573       offPalEntries = 0;
<a name="l01574"></a>01574       nSizeLast = 0;
<a name="l01575"></a>01575     }
<a name="l01576"></a>01576 
<a name="l01581"></a>01581     <a class="code" href="classEMF_1_1EMREOF.html" title="EMF End of File Record.">EMREOF</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l01582"></a>01582     {
<a name="l01583"></a>01583       ds &gt;&gt; emr &gt;&gt; nPalEntries &gt;&gt; offPalEntries &gt;&gt; nSizeLast;
<a name="l01584"></a>01584     }
<a name="l01585"></a>01585 
<a name="l01589"></a>01589     <span class="keywordtype">bool</span> serialize ( DATASTREAM ds )
<a name="l01590"></a>01590     {
<a name="l01591"></a>01591       ds &lt;&lt; emr &lt;&lt; nPalEntries &lt;&lt; offPalEntries &lt;&lt; nSizeLast;
<a name="l01592"></a>01592       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01593"></a>01593     }
<a name="l01597"></a>01597     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l01603"></a>01603     <span class="keywordtype">void</span> execute ( METAFILEDEVICECONTEXT* <span class="comment">/*source*/</span>, HDC <span class="comment">/*dc*/</span> )<span class="keyword"> const</span>
<a name="l01604"></a>01604 <span class="keyword">    </span>{
<a name="l01605"></a>01605       <span class="comment">// Actually handled by the destination device context.</span>
<a name="l01606"></a>01606     }
<a name="l01607"></a>01607 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01608"></a>01608 <span class="preprocessor"></span>
<a name="l01611"></a>01611     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01612"></a>01612 <span class="keyword">    </span>{
<a name="l01613"></a>01613       printf( <span class="stringliteral">&quot;*EOF*\n&quot;</span> );
<a name="l01614"></a>01614     }
<a name="l01615"></a>01615 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l01616"></a>01616   };
<a name="l01617"></a>01617 
<a name="l01619"></a>01619 
<a name="l01624"></a><a class="code" href="classEMF_1_1EMRSETVIEWPORTORGEX.html">01624</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETVIEWPORTORGEX.html" title="EMF Set Viewport Origin (ex).">EMRSETVIEWPORTORGEX</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETVIEWPORTORGEX.html" title="EMF Set Viewport Origin (ex).">EMRSETVIEWPORTORGEX</a> {
<a name="l01625"></a>01625   <span class="keyword">public</span>:
<a name="l01630"></a>01630     <a class="code" href="classEMF_1_1EMRSETVIEWPORTORGEX.html" title="EMF Set Viewport Origin (ex).">EMRSETVIEWPORTORGEX</a> ( INT x, INT y )
<a name="l01631"></a>01631     {
<a name="l01632"></a>01632       emr.iType = EMR_SETVIEWPORTORGEX;
<a name="l01633"></a>01633       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETVIEWPORTORGEX.html" title="EMF Set Viewport Origin (ex)."> ::EMRSETVIEWPORTORGEX</a> );
<a name="l01634"></a>01634       ptlOrigin.x = x;
<a name="l01635"></a>01635       ptlOrigin.y = y;
<a name="l01636"></a>01636     }
<a name="l01641"></a>01641     <a class="code" href="classEMF_1_1EMRSETVIEWPORTORGEX.html" title="EMF Set Viewport Origin (ex).">EMRSETVIEWPORTORGEX</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l01642"></a>01642     {
<a name="l01643"></a>01643       ds &gt;&gt; emr &gt;&gt; ptlOrigin;
<a name="l01644"></a>01644     }
<a name="l01648"></a>01648     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01649"></a>01649     {
<a name="l01650"></a>01650       ds &lt;&lt; emr &lt;&lt; ptlOrigin;
<a name="l01651"></a>01651       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01652"></a>01652     }
<a name="l01656"></a>01656     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l01662"></a>01662     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l01663"></a>01663 <span class="keyword">    </span>{
<a name="l01664"></a>01664       SetViewportOrgEx( dc, ptlOrigin.x, ptlOrigin.y, 0 );
<a name="l01665"></a>01665     }
<a name="l01666"></a>01666 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01667"></a>01667 <span class="preprocessor"></span>
<a name="l01670"></a>01670     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01671"></a>01671 <span class="keyword">    </span>{
<a name="l01672"></a>01672       printf( <span class="stringliteral">&quot;*SETVIEWPORTORGEX*\n&quot;</span> );
<a name="l01673"></a>01673       edit_pointl( <span class="stringliteral">&quot;ptlOrigin&quot;</span>, ptlOrigin );
<a name="l01674"></a>01674     }
<a name="l01675"></a>01675 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l01676"></a>01676   };
<a name="l01677"></a>01677 
<a name="l01679"></a>01679 
<a name="l01686"></a><a class="code" href="classEMF_1_1EMRSETWINDOWORGEX.html">01686</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETWINDOWORGEX.html" title="EMF Set Window Origin (ex).">EMRSETWINDOWORGEX</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETWINDOWORGEX.html" title="EMF Set Window Origin (ex).">EMRSETWINDOWORGEX</a> {
<a name="l01687"></a>01687   <span class="keyword">public</span>:
<a name="l01692"></a>01692     <a class="code" href="classEMF_1_1EMRSETWINDOWORGEX.html" title="EMF Set Window Origin (ex).">EMRSETWINDOWORGEX</a> ( INT x, INT y )
<a name="l01693"></a>01693     {
<a name="l01694"></a>01694       emr.iType = EMR_SETWINDOWORGEX;
<a name="l01695"></a>01695       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETWINDOWORGEX.html" title="EMF Set Window Origin (ex)."> ::EMRSETWINDOWORGEX</a> );
<a name="l01696"></a>01696       ptlOrigin.x = x;
<a name="l01697"></a>01697       ptlOrigin.y = y;
<a name="l01698"></a>01698     }
<a name="l01703"></a>01703     <a class="code" href="classEMF_1_1EMRSETWINDOWORGEX.html" title="EMF Set Window Origin (ex).">EMRSETWINDOWORGEX</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l01704"></a>01704     {
<a name="l01705"></a>01705       ds &gt;&gt; emr &gt;&gt; ptlOrigin;
<a name="l01706"></a>01706     }
<a name="l01710"></a>01710     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01711"></a>01711     {
<a name="l01712"></a>01712       ds &lt;&lt; emr &lt;&lt; ptlOrigin;
<a name="l01713"></a>01713       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01714"></a>01714     }
<a name="l01718"></a>01718     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l01724"></a>01724     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l01725"></a>01725 <span class="keyword">    </span>{
<a name="l01726"></a>01726       SetWindowOrgEx( dc, ptlOrigin.x, ptlOrigin.y, 0 );
<a name="l01727"></a>01727     }
<a name="l01728"></a>01728 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01729"></a>01729 <span class="preprocessor"></span>
<a name="l01732"></a>01732     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01733"></a>01733 <span class="keyword">    </span>{
<a name="l01734"></a>01734       printf( <span class="stringliteral">&quot;*SETWINDOWORGEX*\n&quot;</span> );
<a name="l01735"></a>01735       edit_pointl( <span class="stringliteral">&quot;ptlOrigin&quot;</span>, ptlOrigin );
<a name="l01736"></a>01736     }
<a name="l01737"></a>01737 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l01738"></a>01738   };
<a name="l01739"></a>01739 
<a name="l01741"></a>01741 
<a name="l01746"></a><a class="code" href="classEMF_1_1EMRSETVIEWPORTEXTEX.html">01746</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETVIEWPORTEXTEX.html" title="EMF Set Viewport Extents (ex).">EMRSETVIEWPORTEXTEX</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETVIEWPORTEXTEX.html" title="EMF Set Viewport Extents (ex).">EMRSETVIEWPORTEXTEX</a> {
<a name="l01747"></a>01747   <span class="keyword">public</span>:
<a name="l01752"></a>01752     <a class="code" href="classEMF_1_1EMRSETVIEWPORTEXTEX.html" title="EMF Set Viewport Extents (ex).">EMRSETVIEWPORTEXTEX</a> ( INT cx, INT cy )
<a name="l01753"></a>01753     {
<a name="l01754"></a>01754       emr.iType = EMR_SETVIEWPORTEXTEX;
<a name="l01755"></a>01755       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETVIEWPORTEXTEX.html" title="EMF Set Viewport Extents (ex)."> ::EMRSETVIEWPORTEXTEX</a> );
<a name="l01756"></a>01756       szlExtent.cx = cx;
<a name="l01757"></a>01757       szlExtent.cy = cy;
<a name="l01758"></a>01758     }
<a name="l01763"></a>01763     <a class="code" href="classEMF_1_1EMRSETVIEWPORTEXTEX.html" title="EMF Set Viewport Extents (ex).">EMRSETVIEWPORTEXTEX</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l01764"></a>01764     {
<a name="l01765"></a>01765       ds &gt;&gt; emr &gt;&gt; szlExtent;
<a name="l01766"></a>01766     }
<a name="l01770"></a>01770     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01771"></a>01771     {
<a name="l01772"></a>01772       ds &lt;&lt; emr &lt;&lt; szlExtent;
<a name="l01773"></a>01773       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01774"></a>01774     }
<a name="l01778"></a>01778     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l01784"></a>01784     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l01785"></a>01785 <span class="keyword">    </span>{
<a name="l01786"></a>01786       SetViewportExtEx( dc, szlExtent.cx, szlExtent.cy, 0 );
<a name="l01787"></a>01787     }
<a name="l01788"></a>01788 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01789"></a>01789 <span class="preprocessor"></span>
<a name="l01792"></a>01792     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01793"></a>01793 <span class="keyword">    </span>{
<a name="l01794"></a>01794       printf( <span class="stringliteral">&quot;*SETVIEWPORTEXTEX*\n&quot;</span> );
<a name="l01795"></a>01795       edit_sizel( <span class="stringliteral">&quot;szlExtent&quot;</span>, szlExtent );
<a name="l01796"></a>01796     }
<a name="l01797"></a>01797 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l01798"></a>01798   };
<a name="l01799"></a>01799 
<a name="l01801"></a>01801 
<a name="l01806"></a><a class="code" href="classEMF_1_1EMRSCALEVIEWPORTEXTEX.html">01806</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSCALEVIEWPORTEXTEX.html" title="EMF Scale Viewport Extents (ex).">EMRSCALEVIEWPORTEXTEX</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSCALEVIEWPORTEXTEX.html" title="EMF Scale Viewport Extents (ex).">EMRSCALEVIEWPORTEXTEX</a> {
<a name="l01807"></a>01807   <span class="keyword">public</span>:
<a name="l01814"></a>01814     <a class="code" href="classEMF_1_1EMRSCALEVIEWPORTEXTEX.html" title="EMF Scale Viewport Extents (ex).">EMRSCALEVIEWPORTEXTEX</a> ( LONG x_num, LONG x_den, LONG y_num, LONG y_den )
<a name="l01815"></a>01815     {
<a name="l01816"></a>01816       emr.iType = EMR_SCALEVIEWPORTEXTEX;
<a name="l01817"></a>01817       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSCALEVIEWPORTEXTEX.html" title="EMF Scale Viewport Extents (ex)."> ::EMRSCALEVIEWPORTEXTEX</a> );
<a name="l01818"></a>01818       xNum = x_num;
<a name="l01819"></a>01819       xDenom = x_den;
<a name="l01820"></a>01820       yNum = y_num;
<a name="l01821"></a>01821       yDenom = y_den;
<a name="l01822"></a>01822     }
<a name="l01827"></a>01827     <a class="code" href="classEMF_1_1EMRSCALEVIEWPORTEXTEX.html" title="EMF Scale Viewport Extents (ex).">EMRSCALEVIEWPORTEXTEX</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l01828"></a>01828     {
<a name="l01829"></a>01829       ds &gt;&gt; emr &gt;&gt; xNum &gt;&gt; xDenom &gt;&gt; yNum &gt;&gt; yDenom;
<a name="l01830"></a>01830     }
<a name="l01834"></a>01834     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01835"></a>01835     {
<a name="l01836"></a>01836       ds &lt;&lt; emr &lt;&lt; xNum &lt;&lt; xDenom &lt;&lt; yNum &lt;&lt; yDenom;
<a name="l01837"></a>01837       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01838"></a>01838     }
<a name="l01842"></a>01842     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l01848"></a>01848     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l01849"></a>01849 <span class="keyword">    </span>{
<a name="l01850"></a>01850       ScaleViewportExtEx( dc, xNum, xDenom, yNum, yDenom, 0 );
<a name="l01851"></a>01851     }
<a name="l01852"></a>01852 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01853"></a>01853 <span class="preprocessor"></span>
<a name="l01856"></a>01856     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01857"></a>01857 <span class="keyword">    </span>{
<a name="l01858"></a>01858 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01859"></a>01859 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\txNum\t: %d\n&quot;</span>;
<a name="l01860"></a>01860       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\txDenom\t: %d\n&quot;</span>;
<a name="l01861"></a>01861       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tyNum\t: %d\n&quot;</span>;
<a name="l01862"></a>01862       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tyDenom\t: %d\n&quot;</span>;
<a name="l01863"></a>01863 <span class="preprocessor">#else</span>
<a name="l01864"></a>01864 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\txNum\t: %ld\n&quot;</span>;
<a name="l01865"></a>01865       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\txDenom\t: %ld\n&quot;</span>;
<a name="l01866"></a>01866       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tyNum\t: %ld\n&quot;</span>;
<a name="l01867"></a>01867       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tyDenom\t: %ld\n&quot;</span>;
<a name="l01868"></a>01868 <span class="preprocessor">#endif</span>
<a name="l01869"></a>01869 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;*SCALEVIEWPORTEXTEX*\n&quot;</span> );
<a name="l01870"></a>01870       printf( FMT0, xNum );
<a name="l01871"></a>01871       printf( FMT1, xDenom );
<a name="l01872"></a>01872       printf( FMT2, yNum );
<a name="l01873"></a>01873       printf( FMT3, yDenom );
<a name="l01874"></a>01874     }
<a name="l01875"></a>01875 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l01876"></a>01876   };
<a name="l01877"></a>01877 
<a name="l01879"></a>01879 
<a name="l01884"></a><a class="code" href="classEMF_1_1EMRSETWINDOWEXTEX.html">01884</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETWINDOWEXTEX.html" title="EMF Set Window Extent (ex).">EMRSETWINDOWEXTEX</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETWINDOWEXTEX.html" title="EMF Set Window Extent (ex).">EMRSETWINDOWEXTEX</a> {
<a name="l01885"></a>01885   <span class="keyword">public</span>:
<a name="l01890"></a>01890     <a class="code" href="classEMF_1_1EMRSETWINDOWEXTEX.html" title="EMF Set Window Extent (ex).">EMRSETWINDOWEXTEX</a> ( INT cx, INT cy )
<a name="l01891"></a>01891     {
<a name="l01892"></a>01892       emr.iType = EMR_SETWINDOWEXTEX;
<a name="l01893"></a>01893       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETWINDOWEXTEX.html" title="EMF Set Window Extent (ex)."> ::EMRSETWINDOWEXTEX</a> );
<a name="l01894"></a>01894       szlExtent.cx = cx;
<a name="l01895"></a>01895       szlExtent.cy = cy;
<a name="l01896"></a>01896     }
<a name="l01901"></a>01901     <a class="code" href="classEMF_1_1EMRSETWINDOWEXTEX.html" title="EMF Set Window Extent (ex).">EMRSETWINDOWEXTEX</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l01902"></a>01902     {
<a name="l01903"></a>01903       ds &gt;&gt; emr &gt;&gt; szlExtent;
<a name="l01904"></a>01904     }
<a name="l01908"></a>01908     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01909"></a>01909     {
<a name="l01910"></a>01910       ds &lt;&lt; emr &lt;&lt; szlExtent;
<a name="l01911"></a>01911       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01912"></a>01912     }
<a name="l01916"></a>01916     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l01922"></a>01922     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l01923"></a>01923 <span class="keyword">    </span>{
<a name="l01924"></a>01924       SetWindowExtEx( dc, szlExtent.cx, szlExtent.cy, 0 );
<a name="l01925"></a>01925     }
<a name="l01926"></a>01926 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01927"></a>01927 <span class="preprocessor"></span>
<a name="l01930"></a>01930     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01931"></a>01931 <span class="keyword">    </span>{
<a name="l01932"></a>01932       printf( <span class="stringliteral">&quot;*SETWINDOWEXTEX*\n&quot;</span> );
<a name="l01933"></a>01933       edit_sizel( <span class="stringliteral">&quot;szlExtent&quot;</span>, szlExtent );
<a name="l01934"></a>01934     }
<a name="l01935"></a>01935 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l01936"></a>01936   };
<a name="l01937"></a>01937 
<a name="l01939"></a>01939 
<a name="l01944"></a><a class="code" href="classEMF_1_1EMRSCALEWINDOWEXTEX.html">01944</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSCALEWINDOWEXTEX.html" title="EMF Scale Window Extents (ex).">EMRSCALEWINDOWEXTEX</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSCALEWINDOWEXTEX.html" title="EMF Scale Window Extents (ex).">EMRSCALEWINDOWEXTEX</a> {
<a name="l01945"></a>01945   <span class="keyword">public</span>:
<a name="l01952"></a>01952     <a class="code" href="classEMF_1_1EMRSCALEWINDOWEXTEX.html" title="EMF Scale Window Extents (ex).">EMRSCALEWINDOWEXTEX</a> ( LONG x_num, LONG x_den, LONG y_num, LONG y_den )
<a name="l01953"></a>01953     {
<a name="l01954"></a>01954       emr.iType = EMR_SCALEWINDOWEXTEX;
<a name="l01955"></a>01955       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSCALEWINDOWEXTEX.html" title="EMF Scale Window Extents (ex)."> ::EMRSCALEWINDOWEXTEX</a> );
<a name="l01956"></a>01956       xNum = x_num;
<a name="l01957"></a>01957       xDenom = x_den;
<a name="l01958"></a>01958       yNum = y_num;
<a name="l01959"></a>01959       yDenom = y_den;
<a name="l01960"></a>01960     }
<a name="l01965"></a>01965     <a class="code" href="classEMF_1_1EMRSCALEWINDOWEXTEX.html" title="EMF Scale Window Extents (ex).">EMRSCALEWINDOWEXTEX</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l01966"></a>01966     {
<a name="l01967"></a>01967       ds &gt;&gt; emr &gt;&gt; xNum &gt;&gt; xDenom &gt;&gt; yNum &gt;&gt; yDenom;
<a name="l01968"></a>01968     }
<a name="l01972"></a>01972     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l01973"></a>01973     {
<a name="l01974"></a>01974       ds &lt;&lt; emr &lt;&lt; xNum &lt;&lt; xDenom &lt;&lt; yNum &lt;&lt; yDenom;
<a name="l01975"></a>01975       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01976"></a>01976     }
<a name="l01980"></a>01980     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l01986"></a>01986     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l01987"></a>01987 <span class="keyword">    </span>{
<a name="l01988"></a>01988       ScaleWindowExtEx( dc, xNum, xDenom, yNum, yDenom, 0 );
<a name="l01989"></a>01989     }
<a name="l01990"></a>01990 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l01991"></a>01991 <span class="preprocessor"></span>
<a name="l01994"></a>01994     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l01995"></a>01995 <span class="keyword">    </span>{
<a name="l01996"></a>01996 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l01997"></a>01997 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\txNum\t: %d\n&quot;</span>;
<a name="l01998"></a>01998       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\txDenom\t: %d\n&quot;</span>;
<a name="l01999"></a>01999       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tyNum\t: %d\n&quot;</span>;
<a name="l02000"></a>02000       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tyDenom\t: %d\n&quot;</span>;
<a name="l02001"></a>02001 <span class="preprocessor">#else</span>
<a name="l02002"></a>02002 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\txNum\t: %ld\n&quot;</span>;
<a name="l02003"></a>02003       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\txDenom\t: %ld\n&quot;</span>;
<a name="l02004"></a>02004       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tyNum\t: %ld\n&quot;</span>;
<a name="l02005"></a>02005       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tyDenom\t: %ld\n&quot;</span>;
<a name="l02006"></a>02006 <span class="preprocessor">#endif</span>
<a name="l02007"></a>02007 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;*SCALEWINDOWEXTEX*\n&quot;</span> );
<a name="l02008"></a>02008       printf( FMT0, xNum );
<a name="l02009"></a>02009       printf( FMT1, xDenom );
<a name="l02010"></a>02010       printf( FMT2, yNum );
<a name="l02011"></a>02011       printf( FMT3, yDenom );
<a name="l02012"></a>02012     }
<a name="l02013"></a>02013 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02014"></a>02014   };
<a name="l02015"></a>02015 
<a name="l02017"></a>02017 
<a name="l02023"></a><a class="code" href="classEMF_1_1EMRMODIFYWORLDTRANSFORM.html">02023</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRMODIFYWORLDTRANSFORM.html" title="EMF Modify World Transform.">EMRMODIFYWORLDTRANSFORM</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRMODIFYWORLDTRANSFORM.html" title="EMF Modify World Transform.">EMRMODIFYWORLDTRANSFORM</a> {
<a name="l02024"></a>02024   <span class="keyword">public</span>:
<a name="l02030"></a>02030     <a class="code" href="classEMF_1_1EMRMODIFYWORLDTRANSFORM.html" title="EMF Modify World Transform.">EMRMODIFYWORLDTRANSFORM</a> ( <span class="keyword">const</span> XFORM* transform, DWORD mode )
<a name="l02031"></a>02031     {
<a name="l02032"></a>02032       emr.iType = EMR_MODIFYWORLDTRANSFORM;
<a name="l02033"></a>02033       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRMODIFYWORLDTRANSFORM.html" title="EMF Modify World Transform."> ::EMRMODIFYWORLDTRANSFORM</a> );
<a name="l02034"></a>02034       xform = *transform;
<a name="l02035"></a>02035       iMode = mode;
<a name="l02036"></a>02036     }
<a name="l02041"></a>02041     <a class="code" href="classEMF_1_1EMRMODIFYWORLDTRANSFORM.html" title="EMF Modify World Transform.">EMRMODIFYWORLDTRANSFORM</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02042"></a>02042     {
<a name="l02043"></a>02043       ds &gt;&gt; emr &gt;&gt; xform &gt;&gt; iMode;
<a name="l02044"></a>02044     }
<a name="l02048"></a>02048     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02049"></a>02049     {
<a name="l02050"></a>02050       ds &lt;&lt; emr &lt;&lt; xform &lt;&lt; iMode;
<a name="l02051"></a>02051       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02052"></a>02052     }
<a name="l02056"></a>02056     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02062"></a>02062     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02063"></a>02063 <span class="keyword">    </span>{
<a name="l02064"></a>02064       ModifyWorldTransform( dc, &amp;xform, iMode );
<a name="l02065"></a>02065     }
<a name="l02066"></a>02066 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02067"></a>02067 <span class="preprocessor"></span>
<a name="l02070"></a>02070     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02071"></a>02071 <span class="keyword">    </span>{
<a name="l02072"></a>02072 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l02073"></a>02073 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%d)\n&quot;</span>;
<a name="l02074"></a>02074 <span class="preprocessor">#else</span>
<a name="l02075"></a>02075 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%ld)\n&quot;</span>;
<a name="l02076"></a>02076 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l02077"></a>02077       printf( <span class="stringliteral">&quot;*MODIFYWORLDTRANSFORM*\n&quot;</span> );
<a name="l02078"></a>02078       edit_xform( <span class="stringliteral">&quot;xform&quot;</span>, xform );
<a name="l02079"></a>02079       printf( <span class="stringliteral">&quot;\tiMode\t\t: &quot;</span> );
<a name="l02080"></a>02080       <span class="keywordflow">switch</span> ( iMode ) {
<a name="l02081"></a>02081       <span class="keywordflow">case</span> MWT_IDENTITY: printf( <span class="stringliteral">&quot;MWT_IDENTITY\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02082"></a>02082       <span class="keywordflow">case</span> MWT_LEFTMULTIPLY: printf( <span class="stringliteral">&quot;MWT_LEFTMULTIPLY\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02083"></a>02083       <span class="keywordflow">case</span> MWT_RIGHTMULTIPLY: printf( <span class="stringliteral">&quot;MWT_RIGHTMULTIPLY\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02084"></a>02084       <span class="keywordflow">default</span>: printf( FMT, iMode );
<a name="l02085"></a>02085       }
<a name="l02086"></a>02086     }
<a name="l02087"></a>02087 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02088"></a>02088   };
<a name="l02089"></a>02089 
<a name="l02091"></a>02091 
<a name="l02097"></a><a class="code" href="classEMF_1_1EMRSETWORLDTRANSFORM.html">02097</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETWORLDTRANSFORM.html" title="EMF Set World Transform.">EMRSETWORLDTRANSFORM</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETWORLDTRANSFORM.html" title="EMF Set World Transform.">EMRSETWORLDTRANSFORM</a> {
<a name="l02098"></a>02098   <span class="keyword">public</span>:
<a name="l02102"></a>02102     <a class="code" href="classEMF_1_1EMRSETWORLDTRANSFORM.html" title="EMF Set World Transform.">EMRSETWORLDTRANSFORM</a> ( <span class="keyword">const</span> XFORM* transform )
<a name="l02103"></a>02103     {
<a name="l02104"></a>02104       emr.iType = EMR_SETWORLDTRANSFORM;
<a name="l02105"></a>02105       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETWORLDTRANSFORM.html" title="EMF Set World Transform."> ::EMRSETWORLDTRANSFORM</a> );
<a name="l02106"></a>02106       xform = *transform;
<a name="l02107"></a>02107     }
<a name="l02112"></a>02112     <a class="code" href="classEMF_1_1EMRSETWORLDTRANSFORM.html" title="EMF Set World Transform.">EMRSETWORLDTRANSFORM</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02113"></a>02113     {
<a name="l02114"></a>02114       ds &gt;&gt; emr &gt;&gt; xform;
<a name="l02115"></a>02115     }
<a name="l02119"></a>02119     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02120"></a>02120     {
<a name="l02121"></a>02121       ds &lt;&lt; emr &lt;&lt; xform;
<a name="l02122"></a>02122       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02123"></a>02123     }
<a name="l02127"></a>02127     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02133"></a>02133     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02134"></a>02134 <span class="keyword">    </span>{
<a name="l02135"></a>02135       SetWorldTransform( dc, &amp;xform );
<a name="l02136"></a>02136     }
<a name="l02137"></a>02137 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02138"></a>02138 <span class="preprocessor"></span>
<a name="l02141"></a>02141     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02142"></a>02142 <span class="keyword">    </span>{
<a name="l02143"></a>02143       printf( <span class="stringliteral">&quot;*SETWORLDTRANSFORM*\n&quot;</span> );
<a name="l02144"></a>02144       edit_xform( <span class="stringliteral">&quot;xform&quot;</span>, xform );
<a name="l02145"></a>02145     }
<a name="l02146"></a>02146 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02147"></a>02147   };
<a name="l02148"></a>02148 
<a name="l02150"></a>02150 
<a name="l02153"></a><a class="code" href="classEMF_1_1EMRSETTEXTALIGN.html">02153</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETTEXTALIGN.html" title="EMF Set Text Alignment.">EMRSETTEXTALIGN</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETTEXTALIGN.html" title="EMF Set Text Alignment.">EMRSETTEXTALIGN</a> {
<a name="l02154"></a>02154   <span class="keyword">public</span>:
<a name="l02158"></a>02158     <a class="code" href="classEMF_1_1EMRSETTEXTALIGN.html" title="EMF Set Text Alignment.">EMRSETTEXTALIGN</a> ( UINT mode )
<a name="l02159"></a>02159     {
<a name="l02160"></a>02160       emr.iType = EMR_SETTEXTALIGN;
<a name="l02161"></a>02161       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETTEXTALIGN.html" title="EMF Set Text Alignment."> ::EMRSETTEXTALIGN</a> );
<a name="l02162"></a>02162       iMode = mode;
<a name="l02163"></a>02163     }
<a name="l02168"></a>02168     <a class="code" href="classEMF_1_1EMRSETTEXTALIGN.html" title="EMF Set Text Alignment.">EMRSETTEXTALIGN</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02169"></a>02169     {
<a name="l02170"></a>02170       ds &gt;&gt; emr &gt;&gt; iMode;
<a name="l02171"></a>02171     }
<a name="l02175"></a>02175     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02176"></a>02176     {
<a name="l02177"></a>02177       ds &lt;&lt; emr &lt;&lt; iMode;
<a name="l02178"></a>02178       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02179"></a>02179     }
<a name="l02183"></a>02183     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02189"></a>02189     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02190"></a>02190 <span class="keyword">    </span>{
<a name="l02191"></a>02191       SetTextAlign( dc, iMode );
<a name="l02192"></a>02192     }
<a name="l02193"></a>02193 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02194"></a>02194 <span class="preprocessor"></span>
<a name="l02197"></a>02197     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02198"></a>02198 <span class="keyword">    </span>{
<a name="l02199"></a>02199 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l02200"></a>02200 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;| unknown bits(0x%x)&quot;</span>;
<a name="l02201"></a>02201 <span class="preprocessor">#else</span>
<a name="l02202"></a>02202 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;| unknown bits(0x%lx)&quot;</span>;
<a name="l02203"></a>02203 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l02204"></a>02204       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> known_bits = TA_BASELINE+TA_CENTER+TA_UPDATECP+TA_RTLREADING;
<a name="l02205"></a>02205       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unknown_bits = ~known_bits;
<a name="l02206"></a>02206 
<a name="l02207"></a>02207       printf( <span class="stringliteral">&quot;*SETTEXTALIGN*\n&quot;</span> );
<a name="l02208"></a>02208       printf( <span class="stringliteral">&quot;\tiMode\t: &quot;</span> );
<a name="l02209"></a>02209       <span class="keywordflow">if</span> ( iMode &amp; TA_UPDATECP )
<a name="l02210"></a>02210         printf( <span class="stringliteral">&quot;TA_UPDATECP&quot;</span> );
<a name="l02211"></a>02211       <span class="keywordflow">else</span>
<a name="l02212"></a>02212         printf( <span class="stringliteral">&quot;TA_NOUPDATECP&quot;</span> );
<a name="l02213"></a>02213       <span class="keywordflow">if</span> ( iMode &amp; TA_CENTER )
<a name="l02214"></a>02214         printf( <span class="stringliteral">&quot; | TA_CENTER&quot;</span> );
<a name="l02215"></a>02215       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( iMode &amp; TA_RIGHT )
<a name="l02216"></a>02216         printf( <span class="stringliteral">&quot; | TA_RIGHT&quot;</span> );
<a name="l02217"></a>02217       <span class="keywordflow">else</span>
<a name="l02218"></a>02218         printf( <span class="stringliteral">&quot; | TA_LEFT&quot;</span> );
<a name="l02219"></a>02219       <span class="keywordflow">if</span> ( iMode &amp; TA_BASELINE )
<a name="l02220"></a>02220         printf( <span class="stringliteral">&quot; | TA_BASELINE&quot;</span> );
<a name="l02221"></a>02221       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( iMode &amp; TA_BOTTOM )
<a name="l02222"></a>02222         printf( <span class="stringliteral">&quot; | TA_BOTTOM&quot;</span> );
<a name="l02223"></a>02223       <span class="keywordflow">else</span>
<a name="l02224"></a>02224         printf( <span class="stringliteral">&quot; | TA_TOP&quot;</span> );
<a name="l02225"></a>02225       <span class="keywordflow">if</span> ( iMode &amp; TA_RTLREADING )
<a name="l02226"></a>02226         printf( <span class="stringliteral">&quot; | TA_RTLREADING&quot;</span> );
<a name="l02227"></a>02227       <span class="keywordflow">if</span> ( iMode &amp; unknown_bits )
<a name="l02228"></a>02228         printf( FMT, iMode &amp; unknown_bits );
<a name="l02229"></a>02229       printf( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l02230"></a>02230     }
<a name="l02231"></a>02231 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02232"></a>02232   };
<a name="l02233"></a>02233 
<a name="l02235"></a>02235 
<a name="l02238"></a><a class="code" href="classEMF_1_1EMRSETTEXTCOLOR.html">02238</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETTEXTCOLOR.html" title="EMF Set Text Color.">EMRSETTEXTCOLOR</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETTEXTCOLOR.html" title="EMF Set Text Color.">EMRSETTEXTCOLOR</a> {
<a name="l02239"></a>02239   <span class="keyword">public</span>:
<a name="l02243"></a>02243     <a class="code" href="classEMF_1_1EMRSETTEXTCOLOR.html" title="EMF Set Text Color.">EMRSETTEXTCOLOR</a> ( COLORREF color )
<a name="l02244"></a>02244     {
<a name="l02245"></a>02245       emr.iType = EMR_SETTEXTCOLOR;
<a name="l02246"></a>02246       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETTEXTCOLOR.html" title="EMF Set Text Color."> ::EMRSETTEXTCOLOR</a> );
<a name="l02247"></a>02247       crColor = color;
<a name="l02248"></a>02248     }
<a name="l02253"></a>02253     <a class="code" href="classEMF_1_1EMRSETTEXTCOLOR.html" title="EMF Set Text Color.">EMRSETTEXTCOLOR</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02254"></a>02254     {
<a name="l02255"></a>02255       ds &gt;&gt; emr &gt;&gt; crColor;
<a name="l02256"></a>02256     }
<a name="l02260"></a>02260     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02261"></a>02261     {
<a name="l02262"></a>02262       ds &lt;&lt; emr &lt;&lt; crColor;
<a name="l02263"></a>02263       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02264"></a>02264     }
<a name="l02268"></a>02268     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02274"></a>02274     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02275"></a>02275 <span class="keyword">    </span>{
<a name="l02276"></a>02276       SetTextColor( dc, crColor );
<a name="l02277"></a>02277     }
<a name="l02278"></a>02278 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02279"></a>02279 <span class="preprocessor"></span>
<a name="l02282"></a>02282     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02283"></a>02283 <span class="keyword">    </span>{
<a name="l02284"></a>02284       printf( <span class="stringliteral">&quot;*SETTEXTCOLOR*\n&quot;</span> );
<a name="l02285"></a>02285       edit_color( <span class="stringliteral">&quot;crColor&quot;</span>, crColor );
<a name="l02286"></a>02286     }
<a name="l02287"></a>02287 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02288"></a>02288   };
<a name="l02289"></a>02289 
<a name="l02291"></a>02291 
<a name="l02294"></a><a class="code" href="classEMF_1_1EMRSETBKCOLOR.html">02294</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETBKCOLOR.html" title="EMF Set Background Color.">EMRSETBKCOLOR</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETBKCOLOR.html" title="EMF Set Background Color.">EMRSETBKCOLOR</a> {
<a name="l02295"></a>02295   <span class="keyword">public</span>:
<a name="l02299"></a>02299     <a class="code" href="classEMF_1_1EMRSETBKCOLOR.html" title="EMF Set Background Color.">EMRSETBKCOLOR</a> ( COLORREF color )
<a name="l02300"></a>02300     {
<a name="l02301"></a>02301       emr.iType = EMR_SETBKCOLOR;
<a name="l02302"></a>02302       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETBKCOLOR.html" title="EMF Set Background Color."> ::EMRSETBKCOLOR</a> );
<a name="l02303"></a>02303       crColor = color;
<a name="l02304"></a>02304     }
<a name="l02309"></a>02309     <a class="code" href="classEMF_1_1EMRSETBKCOLOR.html" title="EMF Set Background Color.">EMRSETBKCOLOR</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02310"></a>02310     {
<a name="l02311"></a>02311       ds &gt;&gt; emr &gt;&gt; crColor;
<a name="l02312"></a>02312     }
<a name="l02316"></a>02316     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02317"></a>02317     {
<a name="l02318"></a>02318       ds &lt;&lt; emr &lt;&lt; crColor;
<a name="l02319"></a>02319       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02320"></a>02320     }
<a name="l02324"></a>02324     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02330"></a>02330     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02331"></a>02331 <span class="keyword">    </span>{
<a name="l02332"></a>02332       SetBkColor( dc, crColor );
<a name="l02333"></a>02333     }
<a name="l02334"></a>02334 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02335"></a>02335 <span class="preprocessor"></span>
<a name="l02338"></a>02338     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02339"></a>02339 <span class="keyword">    </span>{
<a name="l02340"></a>02340       printf( <span class="stringliteral">&quot;*SETBKCOLOR*\n&quot;</span> );
<a name="l02341"></a>02341       edit_color( <span class="stringliteral">&quot;crColor&quot;</span>, crColor );
<a name="l02342"></a>02342     }
<a name="l02343"></a>02343 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02344"></a>02344   };
<a name="l02345"></a>02345 
<a name="l02347"></a>02347 
<a name="l02351"></a><a class="code" href="classEMF_1_1EMRSETBKMODE.html">02351</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETBKMODE.html" title="EMF Set Background Mode.">EMRSETBKMODE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETBKMODE.html" title="EMF Set Background Mode.">EMRSETBKMODE</a> {
<a name="l02352"></a>02352   <span class="keyword">public</span>:
<a name="l02356"></a>02356     <a class="code" href="classEMF_1_1EMRSETBKMODE.html" title="EMF Set Background Mode.">EMRSETBKMODE</a> ( DWORD mode )
<a name="l02357"></a>02357     {
<a name="l02358"></a>02358       emr.iType = EMR_SETBKMODE;
<a name="l02359"></a>02359       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETBKMODE.html" title="EMF Set Background Mode."> ::EMRSETBKMODE</a> );
<a name="l02360"></a>02360       iMode = mode;
<a name="l02361"></a>02361     }
<a name="l02366"></a>02366     <a class="code" href="classEMF_1_1EMRSETBKMODE.html" title="EMF Set Background Mode.">EMRSETBKMODE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02367"></a>02367     {
<a name="l02368"></a>02368       ds &gt;&gt; emr &gt;&gt; iMode;
<a name="l02369"></a>02369     }
<a name="l02373"></a>02373     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02374"></a>02374     {
<a name="l02375"></a>02375       ds &lt;&lt; emr &lt;&lt; iMode;
<a name="l02376"></a>02376       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02377"></a>02377     }
<a name="l02381"></a>02381     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02387"></a>02387     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02388"></a>02388 <span class="keyword">    </span>{
<a name="l02389"></a>02389       SetBkMode( dc, iMode );
<a name="l02390"></a>02390     }
<a name="l02391"></a>02391 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02392"></a>02392 <span class="preprocessor"></span>
<a name="l02395"></a>02395     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02396"></a>02396 <span class="keyword">    </span>{
<a name="l02397"></a>02397 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l02398"></a>02398 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%d)\n&quot;</span>;
<a name="l02399"></a>02399 <span class="preprocessor">#else</span>
<a name="l02400"></a>02400 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%ld)\n&quot;</span>;
<a name="l02401"></a>02401 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l02402"></a>02402       printf( <span class="stringliteral">&quot;*SETBKMODE*\n&quot;</span> );
<a name="l02403"></a>02403       printf( <span class="stringliteral">&quot;\tiMode\t: &quot;</span> );
<a name="l02404"></a>02404       <span class="keywordflow">switch</span> ( iMode ) {
<a name="l02405"></a>02405       <span class="keywordflow">case</span> TRANSPARENT: printf( <span class="stringliteral">&quot;TRANSPARENT\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02406"></a>02406       <span class="keywordflow">case</span> OPAQUE: printf( <span class="stringliteral">&quot;OPAQUE\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02407"></a>02407       <span class="keywordflow">default</span>: printf( FMT, iMode );
<a name="l02408"></a>02408       }
<a name="l02409"></a>02409     }
<a name="l02410"></a>02410 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02411"></a>02411   };
<a name="l02412"></a>02412 
<a name="l02414"></a>02414 
<a name="l02417"></a><a class="code" href="classEMF_1_1EMRSETPOLYFILLMODE.html">02417</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETPOLYFILLMODE.html" title="EMF Set the Polygon Fill Mode.">EMRSETPOLYFILLMODE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETPOLYFILLMODE.html" title="EMF Set the Polygon Fill Mode.">EMRSETPOLYFILLMODE</a> {
<a name="l02418"></a>02418   <span class="keyword">public</span>:
<a name="l02422"></a>02422     <a class="code" href="classEMF_1_1EMRSETPOLYFILLMODE.html" title="EMF Set the Polygon Fill Mode.">EMRSETPOLYFILLMODE</a> ( DWORD mode )
<a name="l02423"></a>02423     {
<a name="l02424"></a>02424       emr.iType = EMR_SETPOLYFILLMODE;
<a name="l02425"></a>02425       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETPOLYFILLMODE.html" title="EMF Set the Polygon Fill Mode."> ::EMRSETPOLYFILLMODE</a> );
<a name="l02426"></a>02426       iMode = mode;
<a name="l02427"></a>02427     }
<a name="l02432"></a>02432     <a class="code" href="classEMF_1_1EMRSETPOLYFILLMODE.html" title="EMF Set the Polygon Fill Mode.">EMRSETPOLYFILLMODE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02433"></a>02433     {
<a name="l02434"></a>02434       ds &gt;&gt; emr &gt;&gt; iMode;
<a name="l02435"></a>02435     }
<a name="l02439"></a>02439     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02440"></a>02440     {
<a name="l02441"></a>02441       ds &lt;&lt; emr &lt;&lt; iMode;
<a name="l02442"></a>02442       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02443"></a>02443     }
<a name="l02447"></a>02447     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02453"></a>02453     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02454"></a>02454 <span class="keyword">    </span>{
<a name="l02455"></a>02455       SetPolyFillMode( dc, iMode );
<a name="l02456"></a>02456     }
<a name="l02457"></a>02457 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02458"></a>02458 <span class="preprocessor"></span>
<a name="l02461"></a>02461     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02462"></a>02462 <span class="keyword">    </span>{
<a name="l02463"></a>02463 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l02464"></a>02464 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%d)\n&quot;</span>;
<a name="l02465"></a>02465 <span class="preprocessor">#else</span>
<a name="l02466"></a>02466 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%ld)\n&quot;</span>;
<a name="l02467"></a>02467 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l02468"></a>02468       printf( <span class="stringliteral">&quot;*SETPOLYFILLMODE*\n&quot;</span> );
<a name="l02469"></a>02469       printf( <span class="stringliteral">&quot;\tiMode: &quot;</span> );
<a name="l02470"></a>02470       <span class="keywordflow">switch</span> ( iMode ) {
<a name="l02471"></a>02471       <span class="keywordflow">case</span> ALTERNATE: printf( <span class="stringliteral">&quot;ALTERNATE\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02472"></a>02472       <span class="keywordflow">case</span> WINDING: printf( <span class="stringliteral">&quot;WINDING\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02473"></a>02473       <span class="keywordflow">default</span>: printf( FMT, iMode );
<a name="l02474"></a>02474       }
<a name="l02475"></a>02475     }
<a name="l02476"></a>02476 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02477"></a>02477   };
<a name="l02478"></a>02478 
<a name="l02480"></a>02480 
<a name="l02484"></a><a class="code" href="classEMF_1_1EMRSETMAPMODE.html">02484</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETMAPMODE.html" title="EMF Set Mapping Mode.">EMRSETMAPMODE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETMAPMODE.html" title="EMF Set Mapping Mode.">EMRSETMAPMODE</a> {
<a name="l02485"></a>02485   <span class="keyword">public</span>:
<a name="l02489"></a>02489     <a class="code" href="classEMF_1_1EMRSETMAPMODE.html" title="EMF Set Mapping Mode.">EMRSETMAPMODE</a> ( DWORD mode )
<a name="l02490"></a>02490     {
<a name="l02491"></a>02491       emr.iType = EMR_SETMAPMODE;
<a name="l02492"></a>02492       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETMAPMODE.html" title="EMF Set Mapping Mode."> ::EMRSETMAPMODE</a> );
<a name="l02493"></a>02493       iMode = mode;
<a name="l02494"></a>02494     }
<a name="l02499"></a>02499     <a class="code" href="classEMF_1_1EMRSETMAPMODE.html" title="EMF Set Mapping Mode.">EMRSETMAPMODE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02500"></a>02500     {
<a name="l02501"></a>02501       ds &gt;&gt; emr &gt;&gt; iMode;
<a name="l02502"></a>02502     }
<a name="l02506"></a>02506     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02507"></a>02507     {
<a name="l02508"></a>02508       ds &lt;&lt; emr &lt;&lt; iMode;
<a name="l02509"></a>02509       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02510"></a>02510     }
<a name="l02514"></a>02514     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02520"></a>02520     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02521"></a>02521 <span class="keyword">    </span>{
<a name="l02522"></a>02522       SetMapMode( dc, iMode );
<a name="l02523"></a>02523     }
<a name="l02524"></a>02524 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02525"></a>02525 <span class="preprocessor"></span>
<a name="l02528"></a>02528     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02529"></a>02529 <span class="keyword">    </span>{
<a name="l02530"></a>02530 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l02531"></a>02531 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%d)\n&quot;</span>;
<a name="l02532"></a>02532 <span class="preprocessor">#else</span>
<a name="l02533"></a>02533 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;unknown(%ld)\n&quot;</span>;
<a name="l02534"></a>02534 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l02535"></a>02535       printf( <span class="stringliteral">&quot;*SETMAPMODE*\n&quot;</span> );
<a name="l02536"></a>02536       printf( <span class="stringliteral">&quot;\tiMode\t: &quot;</span> );
<a name="l02537"></a>02537       <span class="keywordflow">switch</span> ( iMode ) {
<a name="l02538"></a>02538       <span class="keywordflow">case</span> MM_TEXT: printf( <span class="stringliteral">&quot;MM_TEXT\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02539"></a>02539       <span class="keywordflow">case</span> MM_LOMETRIC: printf( <span class="stringliteral">&quot;MM_LOMETRIC\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02540"></a>02540       <span class="keywordflow">case</span> MM_HIMETRIC: printf( <span class="stringliteral">&quot;MM_HIMETRIC\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02541"></a>02541       <span class="keywordflow">case</span> MM_LOENGLISH: printf( <span class="stringliteral">&quot;MM_LOENGLISH\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02542"></a>02542       <span class="keywordflow">case</span> MM_HIENGLISH: printf( <span class="stringliteral">&quot;MM_HIENGLISH\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02543"></a>02543       <span class="keywordflow">case</span> MM_TWIPS: printf( <span class="stringliteral">&quot;MM_TWIPS\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02544"></a>02544       <span class="keywordflow">case</span> MM_ISOTROPIC: printf( <span class="stringliteral">&quot;MM_ISOTROPIC\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02545"></a>02545       <span class="keywordflow">case</span> MM_ANISOTROPIC: printf( <span class="stringliteral">&quot;MM_ANISOTROPIC\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l02546"></a>02546       <span class="keywordflow">default</span>: printf( FMT, iMode );
<a name="l02547"></a>02547       }
<a name="l02548"></a>02548     }
<a name="l02549"></a>02549 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02550"></a>02550   };
<a name="l02551"></a>02551 
<a name="l02553"></a>02553 
<a name="l02556"></a><a class="code" href="classEMF_1_1EMRSELECTOBJECT.html">02556</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSELECTOBJECT.html" title="EMF Select Object.">EMRSELECTOBJECT</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSELECTOBJECT.html" title="EMF Select Object.">EMRSELECTOBJECT</a> {
<a name="l02557"></a>02557   <span class="keyword">public</span>:
<a name="l02561"></a>02561     <a class="code" href="classEMF_1_1EMRSELECTOBJECT.html" title="EMF Select Object.">EMRSELECTOBJECT</a> ( HGDIOBJ <span class="keywordtype">object</span> )
<a name="l02562"></a>02562     {
<a name="l02563"></a>02563       emr.iType = EMR_SELECTOBJECT;
<a name="l02564"></a>02564       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSELECTOBJECT.html" title="EMF Select Object."> ::EMRSELECTOBJECT</a> );
<a name="l02565"></a>02565       ihObject = object;
<a name="l02566"></a>02566     }
<a name="l02571"></a>02571     <a class="code" href="classEMF_1_1EMRSELECTOBJECT.html" title="EMF Select Object.">EMRSELECTOBJECT</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02572"></a>02572     {
<a name="l02573"></a>02573       ds &gt;&gt; emr &gt;&gt; ihObject;
<a name="l02574"></a>02574     }
<a name="l02578"></a>02578     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02579"></a>02579     {
<a name="l02580"></a>02580       ds &lt;&lt; emr &lt;&lt; ihObject;
<a name="l02581"></a>02581       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02582"></a>02582     }
<a name="l02586"></a>02586     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02592"></a>02592     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span>;
<a name="l02593"></a>02593 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02594"></a>02594 <span class="preprocessor"></span>
<a name="l02597"></a>02597     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02598"></a>02598 <span class="keyword">    </span>{
<a name="l02599"></a>02599 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l02600"></a>02600 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tihObject\t: 0x%x\n&quot;</span>;
<a name="l02601"></a>02601 <span class="preprocessor">#else</span>
<a name="l02602"></a>02602 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tihObject\t: 0x%lx\n&quot;</span>;
<a name="l02603"></a>02603 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l02604"></a>02604       printf( <span class="stringliteral">&quot;*SELECTOBJECT*\n&quot;</span> );
<a name="l02605"></a>02605       printf( FMT, ihObject );
<a name="l02606"></a>02606     }
<a name="l02607"></a>02607 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02608"></a>02608   };
<a name="l02609"></a>02609 
<a name="l02611"></a>02611 
<a name="l02614"></a><a class="code" href="classEMF_1_1EMRDELETEOBJECT.html">02614</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRDELETEOBJECT.html" title="EMF Delete Object.">EMRDELETEOBJECT</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRDELETEOBJECT.html" title="EMF Delete Object.">EMRDELETEOBJECT</a> {
<a name="l02615"></a>02615   <span class="keyword">public</span>:
<a name="l02619"></a>02619     <a class="code" href="classEMF_1_1EMRDELETEOBJECT.html" title="EMF Delete Object.">EMRDELETEOBJECT</a> ( HGDIOBJ <span class="keywordtype">object</span> )
<a name="l02620"></a>02620     {
<a name="l02621"></a>02621       emr.iType = EMR_DELETEOBJECT;
<a name="l02622"></a>02622       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRDELETEOBJECT.html" title="EMF Delete Object."> ::EMRDELETEOBJECT</a> );
<a name="l02623"></a>02623       ihObject = object;
<a name="l02624"></a>02624     }
<a name="l02629"></a>02629     <a class="code" href="classEMF_1_1EMRDELETEOBJECT.html" title="EMF Delete Object.">EMRDELETEOBJECT</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02630"></a>02630     {
<a name="l02631"></a>02631       ds &gt;&gt; emr &gt;&gt; ihObject;
<a name="l02632"></a>02632     }
<a name="l02636"></a>02636     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02637"></a>02637     {
<a name="l02638"></a>02638       ds &lt;&lt; emr &lt;&lt; ihObject;
<a name="l02639"></a>02639       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02640"></a>02640     }
<a name="l02644"></a>02644     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02650"></a>02650     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span>;
<a name="l02651"></a>02651 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02652"></a>02652 <span class="preprocessor"></span>
<a name="l02655"></a>02655     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02656"></a>02656 <span class="keyword">    </span>{
<a name="l02657"></a>02657 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l02658"></a>02658 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tihObject\t: 0x%x\n&quot;</span>;
<a name="l02659"></a>02659 <span class="preprocessor">#else</span>
<a name="l02660"></a>02660 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tihObject\t: 0x%lx\n&quot;</span>;
<a name="l02661"></a>02661 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l02662"></a>02662       printf( <span class="stringliteral">&quot;*DELETEOBJECT*\n&quot;</span> );
<a name="l02663"></a>02663       printf( FMT, ihObject );
<a name="l02664"></a>02664     }
<a name="l02665"></a>02665 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02666"></a>02666   };
<a name="l02667"></a>02667 
<a name="l02669"></a>02669 
<a name="l02672"></a><a class="code" href="classEMF_1_1EMRMOVETOEX.html">02672</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRMOVETOEX.html" title="EMF MoveTo (ex).">EMRMOVETOEX</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRMOVETOEX.html" title="EMF MoveTo (ex).">EMRMOVETOEX</a> {
<a name="l02673"></a>02673   <span class="keyword">public</span>:
<a name="l02678"></a>02678     <a class="code" href="classEMF_1_1EMRMOVETOEX.html" title="EMF MoveTo (ex).">EMRMOVETOEX</a> ( INT x, INT y )
<a name="l02679"></a>02679     {
<a name="l02680"></a>02680       emr.iType = EMR_MOVETOEX;
<a name="l02681"></a>02681       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRMOVETOEX.html" title="EMF MoveTo (ex)."> ::EMRMOVETOEX</a> );
<a name="l02682"></a>02682       ptl.x = x;
<a name="l02683"></a>02683       ptl.y = y;
<a name="l02684"></a>02684     }
<a name="l02689"></a>02689     <a class="code" href="classEMF_1_1EMRMOVETOEX.html" title="EMF MoveTo (ex).">EMRMOVETOEX</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02690"></a>02690     {
<a name="l02691"></a>02691       ds &gt;&gt; emr &gt;&gt; ptl;
<a name="l02692"></a>02692     }
<a name="l02696"></a>02696     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02697"></a>02697     {
<a name="l02698"></a>02698       ds &lt;&lt; emr &lt;&lt; ptl;
<a name="l02699"></a>02699       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02700"></a>02700     }
<a name="l02704"></a>02704     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02710"></a>02710     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02711"></a>02711 <span class="keyword">    </span>{
<a name="l02712"></a>02712       MoveToEx( dc,  ptl.x, ptl.y, 0 );
<a name="l02713"></a>02713     }
<a name="l02714"></a>02714 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02715"></a>02715 <span class="preprocessor"></span>
<a name="l02718"></a>02718     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02719"></a>02719 <span class="keyword">    </span>{
<a name="l02720"></a>02720       printf( <span class="stringliteral">&quot;*MOVETOEX*\n&quot;</span> );
<a name="l02721"></a>02721       edit_pointl( <span class="stringliteral">&quot;ptl&quot;</span>, ptl );
<a name="l02722"></a>02722     }
<a name="l02723"></a>02723 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02724"></a>02724   };
<a name="l02725"></a>02725 
<a name="l02727"></a>02727 
<a name="l02730"></a><a class="code" href="classEMF_1_1EMRLINETO.html">02730</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRLINETO.html" title="EMF Line To.">EMRLINETO</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRLINETO.html" title="EMF Line To.">EMRLINETO</a> {
<a name="l02731"></a>02731   <span class="keyword">public</span>:
<a name="l02736"></a>02736     <a class="code" href="classEMF_1_1EMRLINETO.html" title="EMF Line To.">EMRLINETO</a> ( INT x, INT y )
<a name="l02737"></a>02737     {
<a name="l02738"></a>02738       emr.iType = EMR_LINETO;
<a name="l02739"></a>02739       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRLINETO.html" title="EMF Line To."> ::EMRLINETO</a> );
<a name="l02740"></a>02740       ptl.x = x;
<a name="l02741"></a>02741       ptl.y = y;
<a name="l02742"></a>02742     }
<a name="l02747"></a>02747     <a class="code" href="classEMF_1_1EMRLINETO.html" title="EMF Line To.">EMRLINETO</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02748"></a>02748     {
<a name="l02749"></a>02749       ds &gt;&gt; emr &gt;&gt; ptl;
<a name="l02750"></a>02750     }
<a name="l02754"></a>02754     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02755"></a>02755     {
<a name="l02756"></a>02756       ds &lt;&lt; emr &lt;&lt; ptl;
<a name="l02757"></a>02757       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02758"></a>02758     }
<a name="l02762"></a>02762     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02768"></a>02768     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02769"></a>02769 <span class="keyword">    </span>{
<a name="l02770"></a>02770       LineTo( dc,  ptl.x, ptl.y );
<a name="l02771"></a>02771     }
<a name="l02772"></a>02772 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02773"></a>02773 <span class="preprocessor"></span>
<a name="l02776"></a>02776     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02777"></a>02777 <span class="keyword">    </span>{
<a name="l02778"></a>02778       printf( <span class="stringliteral">&quot;*LINETO*\n&quot;</span> );
<a name="l02779"></a>02779       edit_pointl( <span class="stringliteral">&quot;ptl&quot;</span>, ptl );
<a name="l02780"></a>02780     }
<a name="l02781"></a>02781 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02782"></a>02782   };
<a name="l02783"></a>02783 
<a name="l02785"></a>02785 
<a name="l02788"></a><a class="code" href="classEMF_1_1EMRARC.html">02788</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRARC.html" title="EMF Arc.">EMRARC</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRARC.html" title="EMF Arc.">EMRARC</a> {
<a name="l02789"></a>02789   <span class="keyword">public</span>:
<a name="l02801"></a><a class="code" href="classEMF_1_1EMRARC.html#a191cb7b4d88b8e788178ad250b90c066">02801</a>     <a class="code" href="classEMF_1_1EMRARC.html" title="EMF Arc.">EMRARC</a> ( INT left, INT top, INT right, INT bottom, INT xstart,
<a name="l02802"></a>02802              INT ystart, INT xend, INT yend )
<a name="l02803"></a>02803     {
<a name="l02804"></a>02804       emr.iType = EMR_ARC;
<a name="l02805"></a>02805       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRARC.html" title="EMF Arc."> ::EMRARC</a> );
<a name="l02806"></a>02806       rclBox.left = left;
<a name="l02807"></a>02807       rclBox.right = right;
<a name="l02808"></a>02808       rclBox.bottom = bottom;
<a name="l02809"></a>02809       rclBox.top = top;
<a name="l02810"></a>02810       ptlStart.x = xstart;
<a name="l02811"></a>02811       ptlStart.y = ystart;
<a name="l02812"></a>02812       ptlEnd.x = xend;
<a name="l02813"></a>02813       ptlEnd.y = yend;
<a name="l02814"></a>02814     }
<a name="l02819"></a>02819     <a class="code" href="classEMF_1_1EMRARC.html" title="EMF Arc.">EMRARC</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02820"></a>02820     {
<a name="l02821"></a>02821       ds &gt;&gt; emr &gt;&gt; rclBox &gt;&gt; ptlStart &gt;&gt; ptlEnd;
<a name="l02822"></a>02822     }
<a name="l02826"></a>02826     <span class="keywordtype">bool</span> serialize ( DATASTREAM ds )
<a name="l02827"></a>02827     {
<a name="l02828"></a>02828       ds &lt;&lt; emr &lt;&lt; rclBox &lt;&lt; ptlStart &lt;&lt; ptlEnd;
<a name="l02829"></a>02829       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02830"></a>02830     }
<a name="l02834"></a>02834     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02840"></a>02840     <span class="keywordtype">void</span> execute ( METAFILEDEVICECONTEXT* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02841"></a>02841 <span class="keyword">    </span>{
<a name="l02842"></a>02842       Arc( dc, rclBox.left, rclBox.top, rclBox.right, rclBox.bottom,
<a name="l02843"></a>02843            ptlStart.x, ptlStart.y, ptlEnd.x, ptlEnd.y );
<a name="l02844"></a>02844     }
<a name="l02845"></a>02845 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02846"></a>02846 <span class="preprocessor"></span>
<a name="l02849"></a>02849     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02850"></a>02850 <span class="keyword">    </span>{
<a name="l02851"></a>02851       printf( <span class="stringliteral">&quot;*ARC*\n&quot;</span> );
<a name="l02852"></a>02852       edit_rectl( <span class="stringliteral">&quot;rclBox\t&quot;</span>, rclBox );
<a name="l02853"></a>02853       edit_pointl( <span class="stringliteral">&quot;ptlStart&quot;</span>, ptlStart );
<a name="l02854"></a>02854       edit_pointl( <span class="stringliteral">&quot;ptlEnd\t&quot;</span>, ptlEnd );
<a name="l02855"></a>02855     }
<a name="l02856"></a>02856 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02857"></a>02857   };
<a name="l02858"></a>02858 
<a name="l02860"></a>02860 
<a name="l02863"></a><a class="code" href="classEMF_1_1EMRARCTO.html">02863</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRARCTO.html" title="EMF Arc To.">EMRARCTO</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRARCTO.html" title="EMF Arc To.">EMRARCTO</a> {
<a name="l02864"></a>02864   <span class="keyword">public</span>:
<a name="l02876"></a><a class="code" href="classEMF_1_1EMRARCTO.html#a5ab95dc7b2fbb00eb70e293c47b07559">02876</a>     <a class="code" href="classEMF_1_1EMRARCTO.html" title="EMF Arc To.">EMRARCTO</a> ( INT left, INT top, INT right, INT bottom, INT xstart,
<a name="l02877"></a>02877              INT ystart, INT xend, INT yend )
<a name="l02878"></a>02878     {
<a name="l02879"></a>02879       emr.iType = EMR_ARCTO;
<a name="l02880"></a>02880       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRARCTO.html" title="EMF Arc To."> ::EMRARCTO</a> );
<a name="l02881"></a>02881       rclBox.left = left;
<a name="l02882"></a>02882       rclBox.right = right;
<a name="l02883"></a>02883       rclBox.bottom = bottom;
<a name="l02884"></a>02884       rclBox.top = top;
<a name="l02885"></a>02885       ptlStart.x = xstart;
<a name="l02886"></a>02886       ptlStart.y = ystart;
<a name="l02887"></a>02887       ptlEnd.x = xend;
<a name="l02888"></a>02888       ptlEnd.y = yend;
<a name="l02889"></a>02889     }
<a name="l02894"></a>02894     <a class="code" href="classEMF_1_1EMRARCTO.html" title="EMF Arc To.">EMRARCTO</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02895"></a>02895     {
<a name="l02896"></a>02896       ds &gt;&gt; emr &gt;&gt; rclBox &gt;&gt; ptlStart &gt;&gt; ptlEnd;
<a name="l02897"></a>02897     }
<a name="l02901"></a>02901     <span class="keywordtype">bool</span> serialize ( DATASTREAM ds )
<a name="l02902"></a>02902     {
<a name="l02903"></a>02903       ds &lt;&lt; emr &lt;&lt; rclBox &lt;&lt; ptlStart &lt;&lt; ptlEnd;
<a name="l02904"></a>02904       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02905"></a>02905     }
<a name="l02909"></a>02909     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02915"></a>02915     <span class="keywordtype">void</span> execute ( METAFILEDEVICECONTEXT* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02916"></a>02916 <span class="keyword">    </span>{
<a name="l02917"></a>02917       ArcTo( dc, rclBox.left, rclBox.top, rclBox.right, rclBox.bottom,
<a name="l02918"></a>02918              ptlStart.x, ptlStart.y, ptlEnd.x, ptlEnd.y );
<a name="l02919"></a>02919     }
<a name="l02920"></a>02920 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02921"></a>02921 <span class="preprocessor"></span>
<a name="l02924"></a>02924     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02925"></a>02925 <span class="keyword">    </span>{
<a name="l02926"></a>02926       printf( <span class="stringliteral">&quot;*ARCTO*\n&quot;</span> );
<a name="l02927"></a>02927       edit_rectl( <span class="stringliteral">&quot;rclBox\t&quot;</span>, rclBox );
<a name="l02928"></a>02928       edit_pointl( <span class="stringliteral">&quot;ptlStart&quot;</span>, ptlStart );
<a name="l02929"></a>02929       edit_pointl( <span class="stringliteral">&quot;ptlEnd\t&quot;</span>, ptlEnd );
<a name="l02930"></a>02930     }
<a name="l02931"></a>02931 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02932"></a>02932   };
<a name="l02933"></a>02933 
<a name="l02935"></a>02935 
<a name="l02938"></a><a class="code" href="classEMF_1_1EMRRECTANGLE.html">02938</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRRECTANGLE.html" title="EMF Rectangle.">EMRRECTANGLE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRRECTANGLE.html" title="EMF Rectangle.">EMRRECTANGLE</a> {
<a name="l02939"></a>02939   <span class="keyword">public</span>:
<a name="l02946"></a>02946     <a class="code" href="classEMF_1_1EMRRECTANGLE.html" title="EMF Rectangle.">EMRRECTANGLE</a> ( INT left, INT top, INT right, INT bottom )
<a name="l02947"></a>02947     {
<a name="l02948"></a>02948       emr.iType = EMR_RECTANGLE;
<a name="l02949"></a>02949       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRRECTANGLE.html" title="EMF Rectangle."> ::EMRRECTANGLE</a> );
<a name="l02950"></a>02950       rclBox.left = left;
<a name="l02951"></a>02951       rclBox.right = right;
<a name="l02952"></a>02952       rclBox.bottom = bottom;
<a name="l02953"></a>02953       rclBox.top = top;
<a name="l02954"></a>02954     }
<a name="l02959"></a>02959     <a class="code" href="classEMF_1_1EMRRECTANGLE.html" title="EMF Rectangle.">EMRRECTANGLE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l02960"></a>02960     {
<a name="l02961"></a>02961       ds &gt;&gt; emr &gt;&gt; rclBox;
<a name="l02962"></a>02962     }
<a name="l02966"></a>02966     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l02967"></a>02967     {
<a name="l02968"></a>02968       ds &lt;&lt; emr &lt;&lt; rclBox;
<a name="l02969"></a>02969       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02970"></a>02970     }
<a name="l02974"></a>02974     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l02980"></a>02980     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l02981"></a>02981 <span class="keyword">    </span>{
<a name="l02982"></a>02982       Rectangle( dc, rclBox.left, rclBox.top, rclBox.right, rclBox.bottom );
<a name="l02983"></a>02983     }
<a name="l02984"></a>02984 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l02985"></a>02985 <span class="preprocessor"></span>
<a name="l02988"></a>02988     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l02989"></a>02989 <span class="keyword">    </span>{
<a name="l02990"></a>02990       printf( <span class="stringliteral">&quot;*RECTANGLE*\n&quot;</span> );
<a name="l02991"></a>02991       edit_rectl( <span class="stringliteral">&quot;rclBox&quot;</span>, rclBox );
<a name="l02992"></a>02992     }
<a name="l02993"></a>02993 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l02994"></a>02994   };
<a name="l02995"></a>02995 
<a name="l02997"></a>02997 
<a name="l03000"></a><a class="code" href="classEMF_1_1EMRELLIPSE.html">03000</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRELLIPSE.html" title="EMF Ellipse.">EMRELLIPSE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRELLIPSE.html" title="EMF Ellipse.">EMRELLIPSE</a> {
<a name="l03001"></a>03001   <span class="keyword">public</span>:
<a name="l03009"></a>03009     <a class="code" href="classEMF_1_1EMRELLIPSE.html" title="EMF Ellipse.">EMRELLIPSE</a> ( INT left, INT top, INT right, INT bottom )
<a name="l03010"></a>03010     {
<a name="l03011"></a>03011       emr.iType = EMR_ELLIPSE;
<a name="l03012"></a>03012       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRELLIPSE.html" title="EMF Ellipse."> ::EMRELLIPSE</a> );
<a name="l03013"></a>03013       rclBox.left = left;
<a name="l03014"></a>03014       rclBox.right = right;
<a name="l03015"></a>03015       rclBox.bottom = bottom;
<a name="l03016"></a>03016       rclBox.top = top;
<a name="l03017"></a>03017     }
<a name="l03022"></a>03022     <a class="code" href="classEMF_1_1EMRELLIPSE.html" title="EMF Ellipse.">EMRELLIPSE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03023"></a>03023     {
<a name="l03024"></a>03024       ds &gt;&gt; emr &gt;&gt; rclBox;
<a name="l03025"></a>03025     }
<a name="l03029"></a>03029     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l03030"></a>03030     {
<a name="l03031"></a>03031       ds &lt;&lt; emr &lt;&lt; rclBox;
<a name="l03032"></a>03032       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03033"></a>03033     }
<a name="l03037"></a>03037     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03043"></a>03043     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03044"></a>03044 <span class="keyword">    </span>{
<a name="l03045"></a>03045       Ellipse( dc, rclBox.left, rclBox.top, rclBox.right, rclBox.bottom );
<a name="l03046"></a>03046     }
<a name="l03047"></a>03047 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03048"></a>03048 <span class="preprocessor"></span>
<a name="l03051"></a>03051     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03052"></a>03052 <span class="keyword">    </span>{
<a name="l03053"></a>03053       printf( <span class="stringliteral">&quot;*ELLIPSE*\n&quot;</span> );
<a name="l03054"></a>03054       edit_rectl( <span class="stringliteral">&quot;rclBox&quot;</span>, rclBox );
<a name="l03055"></a>03055     }
<a name="l03056"></a>03056 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03057"></a>03057   };
<a name="l03058"></a>03058 
<a name="l03060"></a>03060 
<a name="l03063"></a><a class="code" href="classEMF_1_1EMRPOLYLINE.html">03063</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYLINE.html" title="EMF Polyline.">EMRPOLYLINE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYLINE.html" title="EMF Polyline.">EMRPOLYLINE</a> {
<a name="l03064"></a>03064     POINTL* lpoints;
<a name="l03065"></a>03065   <span class="keyword">public</span>:
<a name="l03071"></a>03071     <a class="code" href="classEMF_1_1EMRPOLYLINE.html" title="EMF Polyline.">EMRPOLYLINE</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l03072"></a>03072     {
<a name="l03073"></a>03073       cptl = n;
<a name="l03074"></a>03074       aptl[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03075"></a>03075       aptl[0].y = 0;
<a name="l03076"></a>03076 
<a name="l03077"></a>03077       emr.iType = EMR_POLYLINE;
<a name="l03078"></a>03078       <span class="comment">// The (cptl - 1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03079"></a>03079       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYLINE.html" title="EMF Polyline."> ::EMRPOLYLINE</a> ) + <span class="keyword">sizeof</span>( POINTL ) * ( cptl - 1);
<a name="l03080"></a>03080 
<a name="l03081"></a>03081       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03082"></a>03082 
<a name="l03083"></a>03083       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03084"></a>03084         lpoints[i].x = points[i].x;
<a name="l03085"></a>03085         lpoints[i].y = points[i].y;
<a name="l03086"></a>03086       }
<a name="l03087"></a>03087 
<a name="l03088"></a>03088       rclBounds = *bounds;
<a name="l03089"></a>03089     }
<a name="l03093"></a>03093     ~<a class="code" href="classEMF_1_1EMRPOLYLINE.html" title="EMF Polyline.">EMRPOLYLINE</a> ( )
<a name="l03094"></a>03094     {
<a name="l03095"></a>03095       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03096"></a>03096     }
<a name="l03101"></a>03101     <a class="code" href="classEMF_1_1EMRPOLYLINE.html" title="EMF Polyline.">EMRPOLYLINE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03102"></a>03102     {
<a name="l03103"></a>03103       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cptl;
<a name="l03104"></a>03104 
<a name="l03105"></a>03105       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03106"></a>03106 
<a name="l03107"></a>03107       <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> points( lpoints, cptl );
<a name="l03108"></a>03108 
<a name="l03109"></a>03109       ds &gt;&gt; points;
<a name="l03110"></a>03110     }
<a name="l03114"></a>03114     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l03115"></a>03115     {
<a name="l03116"></a>03116       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cptl &lt;&lt; <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a>( lpoints, cptl );
<a name="l03117"></a>03117       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03118"></a>03118     }
<a name="l03122"></a>03122     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03128"></a>03128     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03129"></a>03129 <span class="keyword">    </span>{
<a name="l03130"></a>03130       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03131"></a>03131       Polyline( dc, (POINT*)lpoints, cptl );
<a name="l03132"></a>03132     }
<a name="l03133"></a>03133 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03134"></a>03134 <span class="preprocessor"></span>
<a name="l03137"></a>03137     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03138"></a>03138 <span class="keyword">    </span>{
<a name="l03139"></a>03139       printf( <span class="stringliteral">&quot;*POLYLINE*\n&quot;</span> );
<a name="l03140"></a>03140       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l03141"></a>03141 <span class="preprocessor">#if 0</span>
<a name="l03142"></a>03142 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;\tcptl              : %ld\n&quot;</span>, cptl );
<a name="l03143"></a>03143       printf( <span class="stringliteral">&quot;\taptl-&gt;\n&quot;</span> );
<a name="l03144"></a>03144       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; cptl; i++ )
<a name="l03145"></a>03145         printf( <span class="stringliteral">&quot;\t\t%ld, %ld\n&quot;</span>, lpoints[i].x, lpoints[i].y );
<a name="l03146"></a>03146 <span class="preprocessor">#else</span>
<a name="l03147"></a>03147 <span class="preprocessor"></span>      edit_pointlarray( <span class="stringliteral">&quot;\t&quot;</span>, cptl, lpoints );
<a name="l03148"></a>03148 <span class="preprocessor">#endif</span>
<a name="l03149"></a>03149 <span class="preprocessor"></span>    }
<a name="l03150"></a>03150 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03151"></a>03151   };
<a name="l03152"></a>03152 
<a name="l03154"></a>03154 
<a name="l03157"></a><a class="code" href="classEMF_1_1EMRPOLYLINE16.html">03157</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16.">EMRPOLYLINE16</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16.">EMRPOLYLINE16</a> {
<a name="l03158"></a>03158     POINT16* lpoints;
<a name="l03159"></a>03159   <span class="keyword">public</span>:
<a name="l03165"></a>03165     <a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16.">EMRPOLYLINE16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT16* points, INT n )
<a name="l03166"></a>03166     {
<a name="l03167"></a>03167       cpts = n;
<a name="l03168"></a>03168       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03169"></a>03169       apts[0].y = 0;
<a name="l03170"></a>03170 
<a name="l03171"></a>03171       emr.iType = EMR_POLYLINE16;
<a name="l03172"></a>03172       <span class="comment">// The (cptl - 1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03173"></a>03173       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16."> ::EMRPOLYLINE16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * ( cpts - 1);
<a name="l03174"></a>03174 
<a name="l03175"></a>03175       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03176"></a>03176 
<a name="l03177"></a>03177       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03178"></a>03178         lpoints[i].x = points[i].x;
<a name="l03179"></a>03179         lpoints[i].y = points[i].y;
<a name="l03180"></a>03180       }
<a name="l03181"></a>03181 
<a name="l03182"></a>03182       rclBounds = *bounds;
<a name="l03183"></a>03183     }
<a name="l03190"></a>03190     <a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16.">EMRPOLYLINE16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l03191"></a>03191     {
<a name="l03192"></a>03192       cpts = n;
<a name="l03193"></a>03193       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03194"></a>03194       apts[0].y = 0;
<a name="l03195"></a>03195 
<a name="l03196"></a>03196       emr.iType = EMR_POLYLINE16;
<a name="l03197"></a>03197       <span class="comment">// The (cptl - 1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03198"></a>03198       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16."> ::EMRPOLYLINE16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * ( cpts - 1);
<a name="l03199"></a>03199 
<a name="l03200"></a>03200       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03201"></a>03201 
<a name="l03202"></a>03202       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03203"></a>03203         lpoints[i].x = points[i].x;
<a name="l03204"></a>03204         lpoints[i].y = points[i].y;
<a name="l03205"></a>03205       }
<a name="l03206"></a>03206 
<a name="l03207"></a>03207       rclBounds = *bounds;
<a name="l03208"></a>03208     }
<a name="l03212"></a>03212     ~<a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16.">EMRPOLYLINE16</a> ( )
<a name="l03213"></a>03213     {
<a name="l03214"></a>03214       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03215"></a>03215     }
<a name="l03220"></a>03220     <a class="code" href="classEMF_1_1EMRPOLYLINE16.html" title="EMF Polyline16.">EMRPOLYLINE16</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03221"></a>03221     {
<a name="l03222"></a>03222       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cpts;
<a name="l03223"></a>03223 
<a name="l03224"></a>03224       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03225"></a>03225 
<a name="l03226"></a>03226       <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> points( lpoints, cpts );
<a name="l03227"></a>03227 
<a name="l03228"></a>03228       ds &gt;&gt; points;
<a name="l03229"></a>03229     }
<a name="l03233"></a>03233     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l03234"></a>03234     {
<a name="l03235"></a>03235       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cpts &lt;&lt; <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a>( lpoints, cpts );
<a name="l03236"></a>03236       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03237"></a>03237     }
<a name="l03241"></a>03241     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03247"></a>03247     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03248"></a>03248 <span class="keyword">    </span>{
<a name="l03249"></a>03249       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03250"></a>03250       Polyline16( dc, lpoints, cpts );
<a name="l03251"></a>03251     }
<a name="l03252"></a>03252 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03253"></a>03253 <span class="preprocessor"></span>
<a name="l03256"></a>03256     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03257"></a>03257 <span class="keyword">    </span>{
<a name="l03258"></a>03258       printf( <span class="stringliteral">&quot;*POLYLINE16*\n&quot;</span> );
<a name="l03259"></a>03259       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l03260"></a>03260       edit_point16array( <span class="stringliteral">&quot;\t&quot;</span>, cpts, lpoints );
<a name="l03261"></a>03261     }
<a name="l03262"></a>03262 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03263"></a>03263   };
<a name="l03264"></a>03264 
<a name="l03266"></a>03266 
<a name="l03269"></a><a class="code" href="classEMF_1_1EMRPOLYGON.html">03269</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYGON.html" title="EMF Filled Polygon.">EMRPOLYGON</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYGON.html" title="EMF Filled Polygon.">EMRPOLYGON</a> {
<a name="l03270"></a>03270     POINTL* lpoints;
<a name="l03271"></a>03271   <span class="keyword">public</span>:
<a name="l03277"></a>03277     <a class="code" href="classEMF_1_1EMRPOLYGON.html" title="EMF Filled Polygon.">EMRPOLYGON</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l03278"></a>03278     {
<a name="l03279"></a>03279       cptl = n;
<a name="l03280"></a>03280       aptl[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03281"></a>03281       aptl[0].y = 0;
<a name="l03282"></a>03282 
<a name="l03283"></a>03283       emr.iType = EMR_POLYGON;
<a name="l03284"></a>03284       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03285"></a>03285       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYGON.html" title="EMF Filled Polygon."> ::EMRPOLYGON</a> ) + <span class="keyword">sizeof</span>( POINTL ) * (cptl-1);
<a name="l03286"></a>03286 
<a name="l03287"></a>03287       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03288"></a>03288 
<a name="l03289"></a>03289       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03290"></a>03290         lpoints[i].x = points[i].x;
<a name="l03291"></a>03291         lpoints[i].y = points[i].y;
<a name="l03292"></a>03292       }
<a name="l03293"></a>03293 
<a name="l03294"></a>03294       rclBounds = *bounds;
<a name="l03295"></a>03295     }
<a name="l03300"></a>03300     <a class="code" href="classEMF_1_1EMRPOLYGON.html" title="EMF Filled Polygon.">EMRPOLYGON</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03301"></a>03301     {
<a name="l03302"></a>03302       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cptl;
<a name="l03303"></a>03303 
<a name="l03304"></a>03304       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03305"></a>03305 
<a name="l03306"></a>03306       <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> points( lpoints, cptl );
<a name="l03307"></a>03307 
<a name="l03308"></a>03308       ds &gt;&gt; points;
<a name="l03309"></a>03309     }
<a name="l03313"></a>03313     ~<a class="code" href="classEMF_1_1EMRPOLYGON.html" title="EMF Filled Polygon.">EMRPOLYGON</a> ( )
<a name="l03314"></a>03314     {
<a name="l03315"></a>03315       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03316"></a>03316     }
<a name="l03320"></a>03320     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l03321"></a>03321     {
<a name="l03322"></a>03322       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cptl &lt;&lt; <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a>( lpoints, cptl );
<a name="l03323"></a>03323       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03324"></a>03324     }
<a name="l03328"></a>03328     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03334"></a>03334     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03335"></a>03335 <span class="keyword">    </span>{
<a name="l03336"></a>03336       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03337"></a>03337       Polygon( dc, (POINT*)lpoints, cptl );
<a name="l03338"></a>03338     }
<a name="l03339"></a>03339 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03340"></a>03340 <span class="preprocessor"></span>
<a name="l03343"></a>03343     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03344"></a>03344 <span class="keyword">    </span>{
<a name="l03345"></a>03345       printf( <span class="stringliteral">&quot;*POLYGON*\n&quot;</span> );
<a name="l03346"></a>03346       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l03347"></a>03347 <span class="preprocessor">#if 0</span>
<a name="l03348"></a>03348 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;\tcptl              : %ld\n&quot;</span>, cptl );
<a name="l03349"></a>03349       printf( <span class="stringliteral">&quot;\taptl-&gt;\n&quot;</span> );
<a name="l03350"></a>03350       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; cptl; i++ )
<a name="l03351"></a>03351         printf( <span class="stringliteral">&quot;\t\t%ld, %ld\n&quot;</span>, lpoints[i].x, lpoints[i].y );
<a name="l03352"></a>03352 <span class="preprocessor">#else</span>
<a name="l03353"></a>03353 <span class="preprocessor"></span>      edit_pointlarray( <span class="stringliteral">&quot;\t&quot;</span>, cptl, lpoints );
<a name="l03354"></a>03354 <span class="preprocessor">#endif</span>
<a name="l03355"></a>03355 <span class="preprocessor"></span>    }
<a name="l03356"></a>03356 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03357"></a>03357   };
<a name="l03358"></a>03358 
<a name="l03360"></a>03360 
<a name="l03363"></a><a class="code" href="classEMF_1_1EMRPOLYGON16.html">03363</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16.">EMRPOLYGON16</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16.">EMRPOLYGON16</a> {
<a name="l03364"></a>03364     POINT16* lpoints;
<a name="l03365"></a>03365   <span class="keyword">public</span>:
<a name="l03371"></a>03371     <a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16.">EMRPOLYGON16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT16 n )
<a name="l03372"></a>03372     {
<a name="l03373"></a>03373       cpts = n;
<a name="l03374"></a>03374       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03375"></a>03375       apts[0].y = 0;
<a name="l03376"></a>03376 
<a name="l03377"></a>03377       emr.iType = EMR_POLYGON16;
<a name="l03378"></a>03378       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03379"></a>03379       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16."> ::EMRPOLYGON16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l03380"></a>03380 
<a name="l03381"></a>03381       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03382"></a>03382 
<a name="l03383"></a>03383       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03384"></a>03384         lpoints[i].x = points[i].x;
<a name="l03385"></a>03385         lpoints[i].y = points[i].y;
<a name="l03386"></a>03386       }
<a name="l03387"></a>03387 
<a name="l03388"></a>03388       rclBounds = *bounds;
<a name="l03389"></a>03389     }
<a name="l03396"></a>03396     <a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16.">EMRPOLYGON16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT16* points, INT16 n )
<a name="l03397"></a>03397     {
<a name="l03398"></a>03398       cpts = n;
<a name="l03399"></a>03399       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03400"></a>03400       apts[0].y = 0;
<a name="l03401"></a>03401 
<a name="l03402"></a>03402       emr.iType = EMR_POLYGON16;
<a name="l03403"></a>03403       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03404"></a>03404       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16."> ::EMRPOLYGON16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l03405"></a>03405 
<a name="l03406"></a>03406       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03407"></a>03407 
<a name="l03408"></a>03408       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03409"></a>03409         lpoints[i].x = points[i].x;
<a name="l03410"></a>03410         lpoints[i].y = points[i].y;
<a name="l03411"></a>03411       }
<a name="l03412"></a>03412 
<a name="l03413"></a>03413       rclBounds = *bounds;
<a name="l03414"></a>03414     }
<a name="l03419"></a>03419     <a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16.">EMRPOLYGON16</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03420"></a>03420     {
<a name="l03421"></a>03421       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cpts;
<a name="l03422"></a>03422 
<a name="l03423"></a>03423       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03424"></a>03424 
<a name="l03425"></a>03425       <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> points( lpoints, cpts );
<a name="l03426"></a>03426 
<a name="l03427"></a>03427       ds &gt;&gt; points;
<a name="l03428"></a>03428     }
<a name="l03432"></a>03432     ~<a class="code" href="classEMF_1_1EMRPOLYGON16.html" title="EMF Filled Polygon16.">EMRPOLYGON16</a> ( )
<a name="l03433"></a>03433     {
<a name="l03434"></a>03434       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03435"></a>03435     }
<a name="l03439"></a>03439     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l03440"></a>03440     {
<a name="l03441"></a>03441       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cpts &lt;&lt; <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a>( lpoints, cpts );
<a name="l03442"></a>03442       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03443"></a>03443     }
<a name="l03447"></a>03447     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03453"></a>03453     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03454"></a>03454 <span class="keyword">    </span>{
<a name="l03455"></a>03455       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03456"></a>03456       Polygon16( dc, lpoints, cpts );
<a name="l03457"></a>03457     }
<a name="l03458"></a>03458 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03459"></a>03459 <span class="preprocessor"></span>
<a name="l03462"></a>03462     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03463"></a>03463 <span class="keyword">    </span>{
<a name="l03464"></a>03464       printf( <span class="stringliteral">&quot;*POLYGON16*\n&quot;</span> );
<a name="l03465"></a>03465       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l03466"></a>03466       edit_point16array( <span class="stringliteral">&quot;\t&quot;</span>, cpts, lpoints );
<a name="l03467"></a>03467     }
<a name="l03468"></a>03468 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03469"></a>03469   };
<a name="l03470"></a>03470 
<a name="l03472"></a>03472 
<a name="l03475"></a><a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html">03475</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html" title="EMF Poly Polygon.">EMRPOLYPOLYGON</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html" title="EMF Poly Polygon.">EMRPOLYPOLYGON</a> {
<a name="l03476"></a>03476     DWORD* lcounts;
<a name="l03477"></a>03477     POINTL* lpoints;
<a name="l03478"></a>03478   <span class="keyword">public</span>:
<a name="l03485"></a><a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html#a13710fe91791823800b17e0cd276b8ea">03485</a>     <a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html" title="EMF Poly Polygon.">EMRPOLYPOLYGON</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, <span class="keyword">const</span> INT* counts,
<a name="l03486"></a>03486                      UINT polygons )
<a name="l03487"></a>03487     {
<a name="l03488"></a>03488       nPolys = polygons;
<a name="l03489"></a>03489       <span class="comment">// Count the number of points in points</span>
<a name="l03490"></a>03490       <span class="keywordtype">int</span> n = 0;
<a name="l03491"></a>03491       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03492"></a>03492         n += counts[i];
<a name="l03493"></a>03493 
<a name="l03494"></a>03494       cptl = n;
<a name="l03495"></a>03495       aPolyCounts[0] = 0;       <span class="comment">// Really unused</span>
<a name="l03496"></a>03496       aptl[0].x = 0;
<a name="l03497"></a>03497       aptl[0].y = 0;
<a name="l03498"></a>03498 
<a name="l03499"></a>03499       emr.iType = EMR_POLYPOLYGON;
<a name="l03500"></a>03500       <span class="comment">// The (#-1)&apos;s below are to account for aPolyCounts[0] and aptl[0], which</span>
<a name="l03501"></a>03501       <span class="comment">// aren&apos;t directly written out</span>
<a name="l03502"></a>03502       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html" title="EMF Poly Polygon."> ::EMRPOLYPOLYGON</a> ) + <span class="keyword">sizeof</span>( POINTL ) * (cptl-1)
<a name="l03503"></a>03503         + <span class="keyword">sizeof</span>( DWORD ) * (nPolys-1);
<a name="l03504"></a>03504 
<a name="l03505"></a>03505       lcounts = <span class="keyword">new</span> DWORD[nPolys];
<a name="l03506"></a>03506 
<a name="l03507"></a>03507       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03508"></a>03508         lcounts[i] = counts[i];
<a name="l03509"></a>03509 
<a name="l03510"></a>03510       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03511"></a>03511 
<a name="l03512"></a>03512       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03513"></a>03513         lpoints[i].x = points[i].x;
<a name="l03514"></a>03514         lpoints[i].y = points[i].y;
<a name="l03515"></a>03515       }
<a name="l03516"></a>03516 
<a name="l03517"></a>03517       rclBounds = *bounds;
<a name="l03518"></a>03518     }
<a name="l03522"></a><a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html#ad88fac3d30b16b7e9452e1461664db32">03522</a>     ~<a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html" title="EMF Poly Polygon.">EMRPOLYPOLYGON</a> ( )
<a name="l03523"></a>03523     {
<a name="l03524"></a>03524       <span class="keywordflow">if</span> ( lcounts ) <span class="keyword">delete</span>[] lcounts;
<a name="l03525"></a>03525       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03526"></a>03526     }
<a name="l03531"></a>03531     <a class="code" href="classEMF_1_1EMRPOLYPOLYGON.html" title="EMF Poly Polygon.">EMRPOLYPOLYGON</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03532"></a>03532     {
<a name="l03533"></a>03533       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; nPolys &gt;&gt; cptl;
<a name="l03534"></a>03534 
<a name="l03535"></a>03535       lcounts = <span class="keyword">new</span> DWORD[nPolys];
<a name="l03536"></a>03536 
<a name="l03537"></a>03537       <a class="code" href="structEMF_1_1DWORDARRAY.html" title="Represent an array of double word integers in a simple way.">DWORDARRAY</a> counts( lcounts, nPolys );
<a name="l03538"></a>03538 
<a name="l03539"></a>03539       ds &gt;&gt; counts;
<a name="l03540"></a>03540 
<a name="l03541"></a>03541       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03542"></a>03542 
<a name="l03543"></a>03543       <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> points( lpoints, cptl );
<a name="l03544"></a>03544 
<a name="l03545"></a>03545       ds &gt;&gt; points;
<a name="l03546"></a>03546     }
<a name="l03550"></a>03550     <span class="keywordtype">bool</span> serialize ( DATASTREAM ds )
<a name="l03551"></a>03551     {
<a name="l03552"></a>03552       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; nPolys &lt;&lt; cptl &lt;&lt; DWORDARRAY( lcounts, nPolys )
<a name="l03553"></a>03553          &lt;&lt; POINTLARRAY( lpoints, cptl );
<a name="l03554"></a>03554       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03555"></a>03555     }
<a name="l03559"></a>03559     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03565"></a>03565     <span class="keywordtype">void</span> execute ( METAFILEDEVICECONTEXT* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03566"></a>03566 <span class="keyword">    </span>{
<a name="l03567"></a>03567       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03568"></a>03568       <span class="comment">// (but DWORD and INT are not)</span>
<a name="l03569"></a>03569       INT* counts = <span class="keyword">new</span> INT[nPolys];
<a name="l03570"></a>03570       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03571"></a>03571         counts[i] = lcounts[i];
<a name="l03572"></a>03572 
<a name="l03573"></a>03573       PolyPolygon( dc, (POINT*)lpoints, counts, nPolys );
<a name="l03574"></a>03574 
<a name="l03575"></a>03575       <span class="keyword">delete</span>[] counts;
<a name="l03576"></a>03576     }
<a name="l03577"></a>03577 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03578"></a>03578 <span class="preprocessor"></span>
<a name="l03581"></a>03581     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03582"></a>03582 <span class="keyword">    </span>{
<a name="l03583"></a>03583 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l03584"></a>03584 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tnPolys\t\t: %d\n&quot;</span>;
<a name="l03585"></a>03585       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tcptl\t\t: %d\n&quot;</span>;
<a name="l03586"></a>03586       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;%d\n&quot;</span>;
<a name="l03587"></a>03587       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\t\t\t  %d\n&quot;</span>;
<a name="l03588"></a>03588       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;%d, %d\n&quot;</span>;
<a name="l03589"></a>03589       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\t\t\t  %d, %d\n&quot;</span>;
<a name="l03590"></a>03590 <span class="preprocessor">#else</span>
<a name="l03591"></a>03591 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tnPolys\t\t: %ld\n&quot;</span>;
<a name="l03592"></a>03592       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tcptl\t\t: %ld\n&quot;</span>;
<a name="l03593"></a>03593       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;%ld\n&quot;</span>;
<a name="l03594"></a>03594       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\t\t\t  %ld\n&quot;</span>;
<a name="l03595"></a>03595       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;%ld, %ld\n&quot;</span>;
<a name="l03596"></a>03596       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\t\t\t  %ld, %ld\n&quot;</span>;
<a name="l03597"></a>03597 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l03598"></a>03598       printf( <span class="stringliteral">&quot;*POLYPOLYGON*\n&quot;</span> );
<a name="l03599"></a>03599       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l03600"></a>03600       printf( FMT0, nPolys );
<a name="l03601"></a>03601       printf( FMT1, cptl );
<a name="l03602"></a>03602       printf( <span class="stringliteral">&quot;\taPolyCounts\t: &quot;</span> );
<a name="l03603"></a>03603       <span class="keywordflow">if</span> ( nPolys &gt; 0 )
<a name="l03604"></a>03604         printf( FMT2, lcounts[0] );
<a name="l03605"></a>03605       <span class="keywordflow">else</span>
<a name="l03606"></a>03606         puts( <span class="stringliteral">&quot;&quot;</span> );
<a name="l03607"></a>03607       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; nPolys; i++ )
<a name="l03608"></a>03608         printf( FMT3, lcounts[i] );
<a name="l03609"></a>03609       printf( <span class="stringliteral">&quot;\tapts\t\t: &quot;</span> );
<a name="l03610"></a>03610       <span class="keywordflow">if</span> ( cptl &gt; 0 )
<a name="l03611"></a>03611         printf( FMT4, lpoints[0].x, lpoints[0].y );
<a name="l03612"></a>03612       <span class="keywordflow">else</span>
<a name="l03613"></a>03613         puts( <span class="stringliteral">&quot;&quot;</span> );
<a name="l03614"></a>03614       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; cptl; i++ )
<a name="l03615"></a>03615         printf( FMT5, lpoints[i].x, lpoints[i].y );
<a name="l03616"></a>03616     }
<a name="l03617"></a>03617 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03618"></a>03618   };
<a name="l03619"></a>03619 
<a name="l03621"></a>03621 
<a name="l03624"></a><a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html">03624</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16.">EMRPOLYPOLYGON16</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16.">EMRPOLYPOLYGON16</a> {
<a name="l03625"></a>03625     DWORD* lcounts;
<a name="l03626"></a>03626     POINT16* lpoints;
<a name="l03627"></a>03627   <span class="keyword">public</span>:
<a name="l03634"></a><a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html#aa83bad21cc70a1812d44b7d47da2b5cd">03634</a>     <a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16.">EMRPOLYPOLYGON16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points,
<a name="l03635"></a>03635                        <span class="keyword">const</span> INT* counts, UINT polygons )
<a name="l03636"></a>03636     {
<a name="l03637"></a>03637       nPolys = polygons;
<a name="l03638"></a>03638       <span class="comment">// Count the number of points in points</span>
<a name="l03639"></a>03639       <span class="keywordtype">int</span> n = 0;
<a name="l03640"></a>03640       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03641"></a>03641         n += counts[i];
<a name="l03642"></a>03642 
<a name="l03643"></a>03643       cpts = n;
<a name="l03644"></a>03644       aPolyCounts[0] = 0;       <span class="comment">// Really unused</span>
<a name="l03645"></a>03645       apts[0].x = 0;
<a name="l03646"></a>03646       apts[0].y = 0;
<a name="l03647"></a>03647 
<a name="l03648"></a>03648       emr.iType = EMR_POLYPOLYGON16;
<a name="l03649"></a>03649       <span class="comment">// The (#-1)&apos;s below are to account for aPolyCounts[0] and aptl[0], which</span>
<a name="l03650"></a>03650       <span class="comment">// aren&apos;t directly written out</span>
<a name="l03651"></a>03651       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16."> ::EMRPOLYPOLYGON16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1)
<a name="l03652"></a>03652         + <span class="keyword">sizeof</span>( DWORD ) * (nPolys-1);
<a name="l03653"></a>03653 
<a name="l03654"></a>03654       lcounts = <span class="keyword">new</span> DWORD[nPolys];
<a name="l03655"></a>03655 
<a name="l03656"></a>03656       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03657"></a>03657         lcounts[i] = counts[i];
<a name="l03658"></a>03658 
<a name="l03659"></a>03659       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03660"></a>03660 
<a name="l03661"></a>03661       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03662"></a>03662         lpoints[i].x = points[i].x;
<a name="l03663"></a>03663         lpoints[i].y = points[i].y;
<a name="l03664"></a>03664       }
<a name="l03665"></a>03665 
<a name="l03666"></a>03666       rclBounds = *bounds;
<a name="l03667"></a>03667     }
<a name="l03675"></a><a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html#a42f4cd8e07c920273b369522b5808515">03675</a>     <a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16.">EMRPOLYPOLYGON16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT16* points,
<a name="l03676"></a>03676                        <span class="keyword">const</span> INT* counts, UINT16 polygons )
<a name="l03677"></a>03677     {
<a name="l03678"></a>03678       nPolys = polygons;
<a name="l03679"></a>03679       <span class="comment">// Count the number of points in points</span>
<a name="l03680"></a>03680       <span class="keywordtype">int</span> n = 0;
<a name="l03681"></a>03681       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03682"></a>03682         n += counts[i];
<a name="l03683"></a>03683 
<a name="l03684"></a>03684       cpts = n;
<a name="l03685"></a>03685       aPolyCounts[0] = 0;       <span class="comment">// Really unused</span>
<a name="l03686"></a>03686       apts[0].x = 0;
<a name="l03687"></a>03687       apts[0].y = 0;
<a name="l03688"></a>03688 
<a name="l03689"></a>03689       emr.iType = EMR_POLYPOLYGON16;
<a name="l03690"></a>03690       <span class="comment">// The (#-1)&apos;s below are to account for aPolyCounts[0] and aptl[0], which</span>
<a name="l03691"></a>03691       <span class="comment">// aren&apos;t directly written out</span>
<a name="l03692"></a>03692       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16."> ::EMRPOLYPOLYGON16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1)
<a name="l03693"></a>03693         + <span class="keyword">sizeof</span>( DWORD ) * (nPolys-1);
<a name="l03694"></a>03694 
<a name="l03695"></a>03695       lcounts = <span class="keyword">new</span> DWORD[nPolys];
<a name="l03696"></a>03696 
<a name="l03697"></a>03697       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03698"></a>03698         lcounts[i] = counts[i];
<a name="l03699"></a>03699 
<a name="l03700"></a>03700       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03701"></a>03701 
<a name="l03702"></a>03702       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03703"></a>03703         lpoints[i].x = points[i].x;
<a name="l03704"></a>03704         lpoints[i].y = points[i].y;
<a name="l03705"></a>03705       }
<a name="l03706"></a>03706 
<a name="l03707"></a>03707       rclBounds = *bounds;
<a name="l03708"></a>03708     }
<a name="l03712"></a><a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html#acaa362f6c44079467b9b9dec8268ce49">03712</a>     ~<a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16.">EMRPOLYPOLYGON16</a> ( )
<a name="l03713"></a>03713     {
<a name="l03714"></a>03714       <span class="keywordflow">if</span> ( lcounts ) <span class="keyword">delete</span>[] lcounts;
<a name="l03715"></a>03715       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03716"></a>03716     }
<a name="l03721"></a>03721     <a class="code" href="classEMF_1_1EMRPOLYPOLYGON16.html" title="EMF Poly Polygon16.">EMRPOLYPOLYGON16</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03722"></a>03722     {
<a name="l03723"></a>03723       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; nPolys &gt;&gt; cpts;
<a name="l03724"></a>03724 
<a name="l03725"></a>03725       lcounts = <span class="keyword">new</span> DWORD[nPolys];
<a name="l03726"></a>03726 
<a name="l03727"></a>03727       <a class="code" href="structEMF_1_1DWORDARRAY.html" title="Represent an array of double word integers in a simple way.">DWORDARRAY</a> counts( lcounts, nPolys );
<a name="l03728"></a>03728 
<a name="l03729"></a>03729       ds &gt;&gt; counts;
<a name="l03730"></a>03730 
<a name="l03731"></a>03731       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03732"></a>03732 
<a name="l03733"></a>03733       <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> points( lpoints, cpts );
<a name="l03734"></a>03734 
<a name="l03735"></a>03735       ds &gt;&gt; points;
<a name="l03736"></a>03736     }
<a name="l03740"></a>03740     <span class="keywordtype">bool</span> serialize ( DATASTREAM ds )
<a name="l03741"></a>03741     {
<a name="l03742"></a>03742       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; nPolys &lt;&lt; cpts &lt;&lt; DWORDARRAY( lcounts, nPolys )
<a name="l03743"></a>03743          &lt;&lt; POINT16ARRAY( lpoints, cpts );
<a name="l03744"></a>03744       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03745"></a>03745     }
<a name="l03749"></a>03749     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03755"></a>03755     <span class="keywordtype">void</span> execute ( METAFILEDEVICECONTEXT* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03756"></a>03756 <span class="keyword">    </span>{
<a name="l03757"></a>03757       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03758"></a>03758       <span class="comment">// (but DWORD and INT are not)</span>
<a name="l03759"></a>03759       INT* counts = <span class="keyword">new</span> INT[nPolys];
<a name="l03760"></a>03760       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nPolys; i++ )
<a name="l03761"></a>03761         counts[i] = lcounts[i];
<a name="l03762"></a>03762 
<a name="l03763"></a>03763       PolyPolygon16( dc, lpoints, counts, nPolys );
<a name="l03764"></a>03764 
<a name="l03765"></a>03765       <span class="keyword">delete</span>[] counts;
<a name="l03766"></a>03766     }
<a name="l03767"></a>03767 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03768"></a>03768 <span class="preprocessor"></span>
<a name="l03771"></a>03771     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03772"></a>03772 <span class="keyword">    </span>{
<a name="l03773"></a>03773 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l03774"></a>03774 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tnPolys\t\t: %d\n&quot;</span>;
<a name="l03775"></a>03775       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tcptl\t\t: %d\n&quot;</span>;
<a name="l03776"></a>03776       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;%d\n&quot;</span>;
<a name="l03777"></a>03777       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\t\t\t  %d\n&quot;</span>;
<a name="l03778"></a>03778 <span class="preprocessor">#else</span>
<a name="l03779"></a>03779 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tnPolys\t\t: %ld\n&quot;</span>;
<a name="l03780"></a>03780       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tcptl\t\t: %ld\n&quot;</span>;
<a name="l03781"></a>03781       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;%ld\n&quot;</span>;
<a name="l03782"></a>03782       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\t\t\t  %ld\n&quot;</span>;
<a name="l03783"></a>03783 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l03784"></a>03784       printf( <span class="stringliteral">&quot;*POLYPOLYGON16*\n&quot;</span> );
<a name="l03785"></a>03785       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l03786"></a>03786       printf( FMT0, nPolys );
<a name="l03787"></a>03787       printf( FMT1, cpts );
<a name="l03788"></a>03788       printf( <span class="stringliteral">&quot;\taPolyCounts\t: &quot;</span> );
<a name="l03789"></a>03789       <span class="keywordflow">if</span> ( nPolys &gt; 0 )
<a name="l03790"></a>03790         printf( FMT2, lcounts[0] );
<a name="l03791"></a>03791       <span class="keywordflow">else</span>
<a name="l03792"></a>03792         puts( <span class="stringliteral">&quot;&quot;</span> );
<a name="l03793"></a>03793       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; nPolys; i++ )
<a name="l03794"></a>03794         printf( FMT3, lcounts[i] );
<a name="l03795"></a>03795       printf( <span class="stringliteral">&quot;\tapts\t\t: &quot;</span> );
<a name="l03796"></a>03796       <span class="keywordflow">if</span> ( cpts &gt; 0 )
<a name="l03797"></a>03797         printf( <span class="stringliteral">&quot;%d, %d\n&quot;</span>, lpoints[0].x, lpoints[0].y );
<a name="l03798"></a>03798       <span class="keywordflow">else</span>
<a name="l03799"></a>03799         puts( <span class="stringliteral">&quot;&quot;</span> );
<a name="l03800"></a>03800       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; cpts; i++ )
<a name="l03801"></a>03801         printf( <span class="stringliteral">&quot;\t\t\t  %d, %d\n&quot;</span>, lpoints[i].x, lpoints[i].y );
<a name="l03802"></a>03802     }
<a name="l03803"></a>03803 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03804"></a>03804   };
<a name="l03805"></a>03805 
<a name="l03807"></a>03807 
<a name="l03810"></a><a class="code" href="classEMF_1_1EMRPOLYBEZIER.html">03810</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYBEZIER.html" title="EMF Polybezier.">EMRPOLYBEZIER</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYBEZIER.html" title="EMF Polybezier.">EMRPOLYBEZIER</a> {
<a name="l03811"></a>03811     POINTL* lpoints;
<a name="l03812"></a>03812   <span class="keyword">public</span>:
<a name="l03818"></a>03818     <a class="code" href="classEMF_1_1EMRPOLYBEZIER.html" title="EMF Polybezier.">EMRPOLYBEZIER</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l03819"></a>03819     {
<a name="l03820"></a>03820       cptl = n;
<a name="l03821"></a>03821       aptl[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03822"></a>03822       aptl[0].y = 0;
<a name="l03823"></a>03823 
<a name="l03824"></a>03824       emr.iType = EMR_POLYBEZIER;
<a name="l03825"></a>03825       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03826"></a>03826       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYBEZIER.html" title="EMF Polybezier."> ::EMRPOLYBEZIER</a> ) + <span class="keyword">sizeof</span>( POINTL ) * (cptl-1);
<a name="l03827"></a>03827 
<a name="l03828"></a>03828       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03829"></a>03829 
<a name="l03830"></a>03830       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03831"></a>03831         lpoints[i].x = points[i].x;
<a name="l03832"></a>03832         lpoints[i].y = points[i].y;
<a name="l03833"></a>03833       }
<a name="l03834"></a>03834 
<a name="l03835"></a>03835       rclBounds = *bounds;
<a name="l03836"></a>03836     }
<a name="l03841"></a>03841     <a class="code" href="classEMF_1_1EMRPOLYBEZIER.html" title="EMF Polybezier.">EMRPOLYBEZIER</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03842"></a>03842     {
<a name="l03843"></a>03843       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cptl;
<a name="l03844"></a>03844 
<a name="l03845"></a>03845       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l03846"></a>03846 
<a name="l03847"></a>03847       <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> points( lpoints, cptl );
<a name="l03848"></a>03848 
<a name="l03849"></a>03849       ds &gt;&gt; points;
<a name="l03850"></a>03850     }
<a name="l03854"></a>03854     ~<a class="code" href="classEMF_1_1EMRPOLYBEZIER.html" title="EMF Polybezier.">EMRPOLYBEZIER</a> ( )
<a name="l03855"></a>03855     {
<a name="l03856"></a>03856       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03857"></a>03857     }
<a name="l03861"></a>03861     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l03862"></a>03862     {
<a name="l03863"></a>03863       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cptl &lt;&lt; <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a>( lpoints, cptl );
<a name="l03864"></a>03864       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03865"></a>03865     }
<a name="l03869"></a>03869     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03875"></a>03875     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03876"></a>03876 <span class="keyword">    </span>{
<a name="l03877"></a>03877       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03878"></a>03878       PolyBezier( dc, (POINT*)lpoints, cptl );
<a name="l03879"></a>03879     }
<a name="l03880"></a>03880 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l03881"></a>03881 <span class="preprocessor"></span>
<a name="l03884"></a>03884     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l03885"></a>03885 <span class="keyword">    </span>{
<a name="l03886"></a>03886       printf( <span class="stringliteral">&quot;*POLYBEZIER*\n&quot;</span> );
<a name="l03887"></a>03887       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l03888"></a>03888 <span class="preprocessor">#if 0</span>
<a name="l03889"></a>03889 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;\tcptl              : %ld\n&quot;</span>, cptl );
<a name="l03890"></a>03890       printf( <span class="stringliteral">&quot;\taptl-&gt;\n&quot;</span> );
<a name="l03891"></a>03891       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; cptl; i++ )
<a name="l03892"></a>03892         printf( <span class="stringliteral">&quot;\t\t%ld, %ld\n&quot;</span>, lpoints[i].x, lpoints[i].y );
<a name="l03893"></a>03893 <span class="preprocessor">#else</span>
<a name="l03894"></a>03894 <span class="preprocessor"></span>      edit_pointlarray( <span class="stringliteral">&quot;\t&quot;</span>, cptl, lpoints );
<a name="l03895"></a>03895 <span class="preprocessor">#endif</span>
<a name="l03896"></a>03896 <span class="preprocessor"></span>    }
<a name="l03897"></a>03897 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l03898"></a>03898   };
<a name="l03899"></a>03899 
<a name="l03901"></a>03901 
<a name="l03904"></a><a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html">03904</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16.">EMRPOLYBEZIER16</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16.">EMRPOLYBEZIER16</a> {
<a name="l03905"></a>03905     POINT16* lpoints;
<a name="l03906"></a>03906   <span class="keyword">public</span>:
<a name="l03912"></a>03912     <a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16.">EMRPOLYBEZIER16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT16* points, INT n )
<a name="l03913"></a>03913     {
<a name="l03914"></a>03914       cpts = n;
<a name="l03915"></a>03915       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03916"></a>03916       apts[0].y = 0;
<a name="l03917"></a>03917 
<a name="l03918"></a>03918       emr.iType = EMR_POLYBEZIER16;
<a name="l03919"></a>03919       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03920"></a>03920       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16."> ::EMRPOLYBEZIER16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l03921"></a>03921 
<a name="l03922"></a>03922       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03923"></a>03923 
<a name="l03924"></a>03924       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03925"></a>03925         lpoints[i].x = points[i].x;
<a name="l03926"></a>03926         lpoints[i].y = points[i].y;
<a name="l03927"></a>03927       }
<a name="l03928"></a>03928 
<a name="l03929"></a>03929       rclBounds = *bounds;
<a name="l03930"></a>03930     }
<a name="l03937"></a>03937     <a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16.">EMRPOLYBEZIER16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l03938"></a>03938     {
<a name="l03939"></a>03939       cpts = n;
<a name="l03940"></a>03940       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l03941"></a>03941       apts[0].y = 0;
<a name="l03942"></a>03942 
<a name="l03943"></a>03943       emr.iType = EMR_POLYBEZIER16;
<a name="l03944"></a>03944       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l03945"></a>03945       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16."> ::EMRPOLYBEZIER16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l03946"></a>03946 
<a name="l03947"></a>03947       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03948"></a>03948 
<a name="l03949"></a>03949       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l03950"></a>03950         lpoints[i].x = points[i].x;
<a name="l03951"></a>03951         lpoints[i].y = points[i].y;
<a name="l03952"></a>03952       }
<a name="l03953"></a>03953 
<a name="l03954"></a>03954       rclBounds = *bounds;
<a name="l03955"></a>03955     }
<a name="l03960"></a>03960     <a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16.">EMRPOLYBEZIER16</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l03961"></a>03961     {
<a name="l03962"></a>03962       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cpts;
<a name="l03963"></a>03963 
<a name="l03964"></a>03964       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l03965"></a>03965 
<a name="l03966"></a>03966       <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> points( lpoints, cpts );
<a name="l03967"></a>03967 
<a name="l03968"></a>03968       ds &gt;&gt; points;
<a name="l03969"></a>03969     }
<a name="l03973"></a>03973     ~<a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16.">EMRPOLYBEZIER16</a> ( )
<a name="l03974"></a>03974     {
<a name="l03975"></a>03975       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l03976"></a>03976     }
<a name="l03980"></a>03980     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l03981"></a>03981     {
<a name="l03982"></a>03982       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cpts &lt;&lt; <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a>( lpoints, cpts );
<a name="l03983"></a>03983       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l03984"></a>03984     }
<a name="l03988"></a>03988     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l03994"></a>03994     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l03995"></a>03995 <span class="keyword">    </span>{
<a name="l03996"></a>03996       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l03997"></a>03997       PolyBezier16( dc, lpoints, cpts );
<a name="l03998"></a>03998     }
<a name="l03999"></a>03999 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04000"></a>04000 <span class="preprocessor"></span>
<a name="l04003"></a>04003     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04004"></a>04004 <span class="keyword">    </span>{
<a name="l04005"></a>04005       printf( <span class="stringliteral">&quot;*POLYBEZIER16*\n&quot;</span> );
<a name="l04006"></a>04006       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l04007"></a>04007       edit_point16array( <span class="stringliteral">&quot;\t&quot;</span>, cpts, lpoints );
<a name="l04008"></a>04008     }
<a name="l04009"></a>04009 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04010"></a>04010   };
<a name="l04011"></a>04011 
<a name="l04013"></a>04013 
<a name="l04016"></a><a class="code" href="classEMF_1_1EMRPOLYBEZIERTO.html">04016</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYBEZIERTO.html" title="EMF PolyBezierTo.">EMRPOLYBEZIERTO</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYBEZIER.html" title="EMF Polybezier.">EMRPOLYBEZIER</a> {
<a name="l04017"></a>04017     POINTL* lpoints;
<a name="l04018"></a>04018   <span class="keyword">public</span>:
<a name="l04024"></a>04024     <a class="code" href="classEMF_1_1EMRPOLYBEZIERTO.html" title="EMF PolyBezierTo.">EMRPOLYBEZIERTO</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l04025"></a>04025     {
<a name="l04026"></a>04026       cptl = n;
<a name="l04027"></a>04027       aptl[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l04028"></a>04028       aptl[0].y = 0;
<a name="l04029"></a>04029 
<a name="l04030"></a>04030       emr.iType = EMR_POLYBEZIERTO;
<a name="l04031"></a>04031       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l04032"></a>04032       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYBEZIERTO.html" title="EMF PolyBezierTo."> ::EMRPOLYBEZIERTO</a> ) + <span class="keyword">sizeof</span>( POINTL ) * (cptl-1);
<a name="l04033"></a>04033 
<a name="l04034"></a>04034       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l04035"></a>04035 
<a name="l04036"></a>04036       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l04037"></a>04037         lpoints[i].x = points[i].x;
<a name="l04038"></a>04038         lpoints[i].y = points[i].y;
<a name="l04039"></a>04039       }
<a name="l04040"></a>04040 
<a name="l04041"></a>04041       rclBounds = *bounds;
<a name="l04042"></a>04042     }
<a name="l04047"></a>04047     <a class="code" href="classEMF_1_1EMRPOLYBEZIERTO.html" title="EMF PolyBezierTo.">EMRPOLYBEZIERTO</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l04048"></a>04048     {
<a name="l04049"></a>04049       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cptl;
<a name="l04050"></a>04050 
<a name="l04051"></a>04051       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l04052"></a>04052 
<a name="l04053"></a>04053       <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> points( lpoints, cptl );
<a name="l04054"></a>04054 
<a name="l04055"></a>04055       ds &gt;&gt; points;
<a name="l04056"></a>04056     }
<a name="l04060"></a>04060     ~<a class="code" href="classEMF_1_1EMRPOLYBEZIERTO.html" title="EMF PolyBezierTo.">EMRPOLYBEZIERTO</a> ( )
<a name="l04061"></a>04061     {
<a name="l04062"></a>04062       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l04063"></a>04063     }
<a name="l04067"></a>04067     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04068"></a>04068     {
<a name="l04069"></a>04069       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cptl &lt;&lt; <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a>( lpoints, cptl );
<a name="l04070"></a>04070       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04071"></a>04071     }
<a name="l04075"></a>04075     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04081"></a>04081     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l04082"></a>04082 <span class="keyword">    </span>{
<a name="l04083"></a>04083       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l04084"></a>04084       PolyBezierTo( dc, (POINT*)lpoints, cptl );
<a name="l04085"></a>04085     }
<a name="l04086"></a>04086 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04087"></a>04087 <span class="preprocessor"></span>
<a name="l04090"></a>04090     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04091"></a>04091 <span class="keyword">    </span>{
<a name="l04092"></a>04092       printf( <span class="stringliteral">&quot;*POLYBEZIERTO*\n&quot;</span> );
<a name="l04093"></a>04093       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l04094"></a>04094 <span class="preprocessor">#if 0</span>
<a name="l04095"></a>04095 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;\tcptl              : %ld\n&quot;</span>, cptl );
<a name="l04096"></a>04096       printf( <span class="stringliteral">&quot;\taptl-&gt;\n&quot;</span> );
<a name="l04097"></a>04097       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; cptl; i++ )
<a name="l04098"></a>04098         printf( <span class="stringliteral">&quot;\t\t%ld, %ld\n&quot;</span>, lpoints[i].x, lpoints[i].y );
<a name="l04099"></a>04099 <span class="preprocessor">#else</span>
<a name="l04100"></a>04100 <span class="preprocessor"></span>      edit_pointlarray( <span class="stringliteral">&quot;\t&quot;</span>, cptl, lpoints );
<a name="l04101"></a>04101 <span class="preprocessor">#endif</span>
<a name="l04102"></a>04102 <span class="preprocessor"></span>    }
<a name="l04103"></a>04103 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04104"></a>04104   };
<a name="l04105"></a>04105 
<a name="l04107"></a>04107 
<a name="l04110"></a><a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html">04110</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html" title="EMF PolyBezierTo16.">EMRPOLYBEZIERTO16</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYBEZIER16.html" title="EMF Polybezier16.">EMRPOLYBEZIER16</a> {
<a name="l04111"></a>04111     POINT16* lpoints;
<a name="l04112"></a>04112   <span class="keyword">public</span>:
<a name="l04118"></a>04118     <a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html" title="EMF PolyBezierTo16.">EMRPOLYBEZIERTO16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT16* points, INT n )
<a name="l04119"></a>04119     {
<a name="l04120"></a>04120       cpts = n;
<a name="l04121"></a>04121       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l04122"></a>04122       apts[0].y = 0;
<a name="l04123"></a>04123 
<a name="l04124"></a>04124       emr.iType = EMR_POLYBEZIERTO16;
<a name="l04125"></a>04125       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l04126"></a>04126       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html" title="EMF PolyBezierTo16."> ::EMRPOLYBEZIERTO16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l04127"></a>04127 
<a name="l04128"></a>04128       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l04129"></a>04129 
<a name="l04130"></a>04130       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l04131"></a>04131         lpoints[i].x = points[i].x;
<a name="l04132"></a>04132         lpoints[i].y = points[i].y;
<a name="l04133"></a>04133       }
<a name="l04134"></a>04134 
<a name="l04135"></a>04135       rclBounds = *bounds;
<a name="l04136"></a>04136     }
<a name="l04143"></a>04143     <a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html" title="EMF PolyBezierTo16.">EMRPOLYBEZIERTO16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l04144"></a>04144     {
<a name="l04145"></a>04145       cpts = n;
<a name="l04146"></a>04146       apts[0].x = 0;            <span class="comment">// Really unused</span>
<a name="l04147"></a>04147       apts[0].y = 0;
<a name="l04148"></a>04148 
<a name="l04149"></a>04149       emr.iType = EMR_POLYBEZIERTO16;
<a name="l04150"></a>04150       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l04151"></a>04151       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html" title="EMF PolyBezierTo16."> ::EMRPOLYBEZIERTO16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l04152"></a>04152 
<a name="l04153"></a>04153       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l04154"></a>04154 
<a name="l04155"></a>04155       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l04156"></a>04156         lpoints[i].x = points[i].x;
<a name="l04157"></a>04157         lpoints[i].y = points[i].y;
<a name="l04158"></a>04158       }
<a name="l04159"></a>04159 
<a name="l04160"></a>04160       rclBounds = *bounds;
<a name="l04161"></a>04161     }
<a name="l04166"></a>04166     <a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html" title="EMF PolyBezierTo16.">EMRPOLYBEZIERTO16</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l04167"></a>04167     {
<a name="l04168"></a>04168       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cpts;
<a name="l04169"></a>04169 
<a name="l04170"></a>04170       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l04171"></a>04171 
<a name="l04172"></a>04172       <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> points( lpoints, cpts );
<a name="l04173"></a>04173 
<a name="l04174"></a>04174       ds &gt;&gt; points;
<a name="l04175"></a>04175     }
<a name="l04179"></a>04179     ~<a class="code" href="classEMF_1_1EMRPOLYBEZIERTO16.html" title="EMF PolyBezierTo16.">EMRPOLYBEZIERTO16</a> ( )
<a name="l04180"></a>04180     {
<a name="l04181"></a>04181       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l04182"></a>04182     }
<a name="l04186"></a>04186     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04187"></a>04187     {
<a name="l04188"></a>04188       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cpts &lt;&lt; <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a>( lpoints, cpts );
<a name="l04189"></a>04189       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04190"></a>04190     }
<a name="l04194"></a>04194     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04200"></a>04200     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l04201"></a>04201 <span class="keyword">    </span>{
<a name="l04202"></a>04202       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l04203"></a>04203       PolyBezierTo16( dc, lpoints, cpts );
<a name="l04204"></a>04204     }
<a name="l04205"></a>04205 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04206"></a>04206 <span class="preprocessor"></span>
<a name="l04209"></a>04209     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04210"></a>04210 <span class="keyword">    </span>{
<a name="l04211"></a>04211       printf( <span class="stringliteral">&quot;*POLYBEZIERTO16*\n&quot;</span> );
<a name="l04212"></a>04212       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l04213"></a>04213       edit_point16array( <span class="stringliteral">&quot;\t&quot;</span>, cpts, lpoints );
<a name="l04214"></a>04214     }
<a name="l04215"></a>04215 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04216"></a>04216   };
<a name="l04217"></a>04217 
<a name="l04219"></a>04219 
<a name="l04222"></a><a class="code" href="classEMF_1_1EMRPOLYLINETO.html">04222</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYLINETO.html" title="EMF PolylineTo.">EMRPOLYLINETO</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYLINETO.html" title="EMF PolylineTo.">EMRPOLYLINETO</a> {
<a name="l04223"></a>04223     POINTL* lpoints;
<a name="l04224"></a>04224   <span class="keyword">public</span>:
<a name="l04230"></a>04230     <a class="code" href="classEMF_1_1EMRPOLYLINETO.html" title="EMF PolylineTo.">EMRPOLYLINETO</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l04231"></a>04231     {
<a name="l04232"></a>04232       cptl = n;
<a name="l04233"></a>04233       aptl[0].x = 0;
<a name="l04234"></a>04234       aptl[0].y = 0;
<a name="l04235"></a>04235 
<a name="l04236"></a>04236       emr.iType = EMR_POLYLINETO;
<a name="l04237"></a>04237       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l04238"></a>04238       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYLINETO.html" title="EMF PolylineTo."> ::EMRPOLYLINETO</a> ) + <span class="keyword">sizeof</span>( POINTL ) * (cptl-1);
<a name="l04239"></a>04239 
<a name="l04240"></a>04240       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l04241"></a>04241 
<a name="l04242"></a>04242       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l04243"></a>04243         lpoints[i].x = points[i].x;
<a name="l04244"></a>04244         lpoints[i].y = points[i].y;
<a name="l04245"></a>04245       }
<a name="l04246"></a>04246 
<a name="l04247"></a>04247       rclBounds = *bounds;
<a name="l04248"></a>04248     }
<a name="l04253"></a>04253     <a class="code" href="classEMF_1_1EMRPOLYLINETO.html" title="EMF PolylineTo.">EMRPOLYLINETO</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l04254"></a>04254     {
<a name="l04255"></a>04255       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cptl;
<a name="l04256"></a>04256 
<a name="l04257"></a>04257       lpoints = <span class="keyword">new</span> POINTL[cptl];
<a name="l04258"></a>04258 
<a name="l04259"></a>04259       <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a> points( lpoints, cptl );
<a name="l04260"></a>04260 
<a name="l04261"></a>04261       ds &gt;&gt; points;
<a name="l04262"></a>04262     }
<a name="l04266"></a>04266     ~<a class="code" href="classEMF_1_1EMRPOLYLINETO.html" title="EMF PolylineTo.">EMRPOLYLINETO</a> ( )
<a name="l04267"></a>04267     {
<a name="l04268"></a>04268       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l04269"></a>04269     }
<a name="l04273"></a>04273     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04274"></a>04274     {
<a name="l04275"></a>04275       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cptl &lt;&lt; <a class="code" href="structEMF_1_1POINTLARRAY.html" title="Represent an array of points in a simple way.">POINTLARRAY</a>( lpoints, cptl );
<a name="l04276"></a>04276       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04277"></a>04277     }
<a name="l04281"></a>04281     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04287"></a>04287     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l04288"></a>04288 <span class="keyword">    </span>{
<a name="l04289"></a>04289       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l04290"></a>04290       PolylineTo( dc, (POINT*)lpoints, cptl );
<a name="l04291"></a>04291     }
<a name="l04292"></a>04292 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04293"></a>04293 <span class="preprocessor"></span>
<a name="l04296"></a>04296     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04297"></a>04297 <span class="keyword">    </span>{
<a name="l04298"></a>04298       printf( <span class="stringliteral">&quot;*POLYLINETO*\n&quot;</span> );
<a name="l04299"></a>04299       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l04300"></a>04300 <span class="preprocessor">#if 0</span>
<a name="l04301"></a>04301 <span class="preprocessor"></span>      printf( <span class="stringliteral">&quot;\tcptl              : %ld\n&quot;</span>, cptl );
<a name="l04302"></a>04302       printf( <span class="stringliteral">&quot;\taptl-&gt;\n&quot;</span> );
<a name="l04303"></a>04303       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; cptl; i++ )
<a name="l04304"></a>04304         printf( <span class="stringliteral">&quot;\t\t%ld, %ld\n&quot;</span>, lpoints[i].x, lpoints[i].y );
<a name="l04305"></a>04305 <span class="preprocessor">#else</span>
<a name="l04306"></a>04306 <span class="preprocessor"></span>      edit_pointlarray( <span class="stringliteral">&quot;\t&quot;</span>, cptl, lpoints );
<a name="l04307"></a>04307 <span class="preprocessor">#endif</span>
<a name="l04308"></a>04308 <span class="preprocessor"></span>    }
<a name="l04309"></a>04309 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04310"></a>04310   };
<a name="l04311"></a>04311 
<a name="l04313"></a>04313 
<a name="l04316"></a><a class="code" href="classEMF_1_1EMRPOLYLINETO16.html">04316</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16.">EMRPOLYLINETO16</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16.">EMRPOLYLINETO16</a> {
<a name="l04317"></a>04317     POINT16* lpoints;
<a name="l04318"></a>04318   <span class="keyword">public</span>:
<a name="l04324"></a>04324     <a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16.">EMRPOLYLINETO16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT16* points, INT n )
<a name="l04325"></a>04325     {
<a name="l04326"></a>04326       cpts = n;
<a name="l04327"></a>04327       apts[0].x = 0;
<a name="l04328"></a>04328       apts[0].y = 0;
<a name="l04329"></a>04329 
<a name="l04330"></a>04330       emr.iType = EMR_POLYLINETO16;
<a name="l04331"></a>04331       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l04332"></a>04332       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16."> ::EMRPOLYLINETO16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l04333"></a>04333 
<a name="l04334"></a>04334       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l04335"></a>04335 
<a name="l04336"></a>04336       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l04337"></a>04337         lpoints[i].x = points[i].x;
<a name="l04338"></a>04338         lpoints[i].y = points[i].y;
<a name="l04339"></a>04339       }
<a name="l04340"></a>04340 
<a name="l04341"></a>04341       rclBounds = *bounds;
<a name="l04342"></a>04342     }
<a name="l04349"></a>04349     <a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16.">EMRPOLYLINETO16</a> ( <span class="keyword">const</span> RECTL* bounds, <span class="keyword">const</span> POINT* points, INT n )
<a name="l04350"></a>04350     {
<a name="l04351"></a>04351       cpts = n;
<a name="l04352"></a>04352       apts[0].x = 0;
<a name="l04353"></a>04353       apts[0].y = 0;
<a name="l04354"></a>04354 
<a name="l04355"></a>04355       emr.iType = EMR_POLYLINETO16;
<a name="l04356"></a>04356       <span class="comment">// The (cptl-1) below is to account for aptl, which isn&apos;t written out</span>
<a name="l04357"></a>04357       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16."> ::EMRPOLYLINETO16</a> ) + <span class="keyword">sizeof</span>( POINT16 ) * (cpts-1);
<a name="l04358"></a>04358 
<a name="l04359"></a>04359       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l04360"></a>04360 
<a name="l04361"></a>04361       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++) {
<a name="l04362"></a>04362         lpoints[i].x = points[i].x;
<a name="l04363"></a>04363         lpoints[i].y = points[i].y;
<a name="l04364"></a>04364       }
<a name="l04365"></a>04365 
<a name="l04366"></a>04366       rclBounds = *bounds;
<a name="l04367"></a>04367     }
<a name="l04372"></a>04372     <a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16.">EMRPOLYLINETO16</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l04373"></a>04373     {
<a name="l04374"></a>04374       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; cpts;
<a name="l04375"></a>04375 
<a name="l04376"></a>04376       lpoints = <span class="keyword">new</span> POINT16[cpts];
<a name="l04377"></a>04377 
<a name="l04378"></a>04378       <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a> points( lpoints, cpts );
<a name="l04379"></a>04379 
<a name="l04380"></a>04380       ds &gt;&gt; points;
<a name="l04381"></a>04381     }
<a name="l04385"></a>04385     ~<a class="code" href="classEMF_1_1EMRPOLYLINETO16.html" title="EMF PolylineTo16.">EMRPOLYLINETO16</a> ( )
<a name="l04386"></a>04386     {
<a name="l04387"></a>04387       <span class="keywordflow">if</span> ( lpoints ) <span class="keyword">delete</span>[] lpoints;
<a name="l04388"></a>04388     }
<a name="l04392"></a>04392     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04393"></a>04393     {
<a name="l04394"></a>04394       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; cpts &lt;&lt; <a class="code" href="structEMF_1_1POINT16ARRAY.html" title="Represent an array of 16-bit point in a simple way.">POINT16ARRAY</a>( lpoints, cpts );
<a name="l04395"></a>04395       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04396"></a>04396     }
<a name="l04400"></a>04400     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04406"></a>04406     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l04407"></a>04407 <span class="keyword">    </span>{
<a name="l04408"></a>04408       <span class="comment">// According to the wine windef.h header, POINT and POINTL are equivalent</span>
<a name="l04409"></a>04409       PolylineTo16( dc, lpoints, cpts );
<a name="l04410"></a>04410     }
<a name="l04411"></a>04411 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04412"></a>04412 <span class="preprocessor"></span>
<a name="l04415"></a>04415     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04416"></a>04416 <span class="keyword">    </span>{
<a name="l04417"></a>04417       printf( <span class="stringliteral">&quot;*POLYLINETO16*\n&quot;</span> );
<a name="l04418"></a>04418       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l04419"></a>04419       edit_point16array( <span class="stringliteral">&quot;\t&quot;</span>, cpts, lpoints );
<a name="l04420"></a>04420     }
<a name="l04421"></a>04421 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04422"></a>04422   };
<a name="l04423"></a>04423 
<a name="l04425"></a>04425 
<a name="l04430"></a><a class="code" href="classEMF_1_1EMREXTTEXTOUTA.html">04430</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMREXTTEXTOUTA.html" title="EMF Extended Text Output ASCII.">EMREXTTEXTOUTA</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMREXTTEXTOUTA.html" title="EMF Extended Text Output ASCII.">EMREXTTEXTOUTA</a> {
<a name="l04431"></a>04431     PSTR string_a;
<a name="l04432"></a>04432     <span class="keywordtype">int</span> string_size;
<a name="l04433"></a>04433 
<a name="l04434"></a>04434     INT* dx_i;
<a name="l04435"></a>04435   <span class="keyword">public</span>:
<a name="l04445"></a><a class="code" href="classEMF_1_1EMREXTTEXTOUTA.html#af512d4382916316a34c03452671ae607">04445</a>     <a class="code" href="classEMF_1_1EMREXTTEXTOUTA.html" title="EMF Extended Text Output ASCII.">EMREXTTEXTOUTA</a> ( <span class="keyword">const</span> RECTL* bounds, DWORD graphicsMode, FLOAT xScale,
<a name="l04446"></a>04446                      FLOAT yScale, <span class="keyword">const</span> PEMRTEXT text, LPCSTR <span class="keywordtype">string</span>,
<a name="l04447"></a>04447                      <span class="keyword">const</span> INT* dx )
<a name="l04448"></a>04448     {
<a name="l04449"></a>04449       emr.iType = EMR_EXTTEXTOUTA;
<a name="l04450"></a>04450       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMREXTTEXTOUTA.html" title="EMF Extended Text Output ASCII."> ::EMREXTTEXTOUTA</a> );
<a name="l04451"></a>04451 
<a name="l04452"></a>04452       rclBounds = *bounds;
<a name="l04453"></a>04453 
<a name="l04454"></a>04454       iGraphicsMode = graphicsMode;
<a name="l04455"></a>04455       exScale = xScale;
<a name="l04456"></a>04456       eyScale = yScale;
<a name="l04457"></a>04457 
<a name="l04458"></a>04458       emrtext = *text;
<a name="l04459"></a>04459 
<a name="l04460"></a>04460       string_size = ROUND_TO_LONG( emrtext.nChars );
<a name="l04461"></a>04461 
<a name="l04462"></a>04462       string_a = <span class="keyword">new</span> CHAR[ string_size ];
<a name="l04463"></a>04463 
<a name="l04464"></a>04464       memset( string_a, 0, <span class="keyword">sizeof</span>(CHAR) * string_size );
<a name="l04465"></a>04465 
<a name="l04466"></a>04466       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;emrtext.nChars; i++ )
<a name="l04467"></a>04467         string_a[i] = *<span class="keywordtype">string</span>++;
<a name="l04468"></a>04468 
<a name="l04469"></a>04469       emrtext.offString = emr.nSize;
<a name="l04470"></a>04470       emr.nSize += string_size * <span class="keyword">sizeof</span>(CHAR);
<a name="l04471"></a>04471 <span class="preprocessor">#if 0</span>
<a name="l04472"></a>04472 <span class="preprocessor"></span><span class="comment">/* </span>
<a name="l04473"></a>04473 <span class="comment">Test only - Problem: Windows requires this dx to be set - at least from 2K on</span>
<a name="l04474"></a>04474 <span class="comment">but to calculate real dx values is hard </span>
<a name="l04475"></a>04475 <span class="comment">For pstoedit - this is &quot;fixed&quot; now by estimating dx in pstoedit</span>
<a name="l04476"></a>04476 <span class="comment">*/</span>
<a name="l04477"></a>04477       <span class="keywordflow">if</span> ( !dx ) {
<a name="l04478"></a>04478         <span class="keywordtype">int</span> * dxn = <span class="keyword">new</span>  <span class="keywordtype">int</span> [string_size];
<a name="l04479"></a>04479         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; string_size; i++) dxn[i] = 10;
<a name="l04480"></a>04480         dx = dxn;
<a name="l04481"></a>04481       }
<a name="l04482"></a>04482 <span class="preprocessor">#endif</span>
<a name="l04483"></a>04483 <span class="preprocessor"></span>
<a name="l04484"></a>04484       <span class="keywordflow">if</span> ( dx ) {
<a name="l04485"></a>04485 
<a name="l04486"></a>04486         dx_i = <span class="keyword">new</span> INT[ emrtext.nChars ];
<a name="l04487"></a>04487 
<a name="l04488"></a>04488         <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;emrtext.nChars; i++ )
<a name="l04489"></a>04489           dx_i[i] = *dx++;
<a name="l04490"></a>04490 
<a name="l04491"></a>04491         emrtext.offDx = emr.nSize;
<a name="l04492"></a>04492         emr.nSize += emrtext.nChars * <span class="keyword">sizeof</span>(INT);
<a name="l04493"></a>04493       }
<a name="l04494"></a>04494       <span class="keywordflow">else</span> {
<a name="l04495"></a>04495         emrtext.offDx = 0;
<a name="l04496"></a>04496         dx_i = 0;
<a name="l04497"></a>04497       }
<a name="l04498"></a>04498     }
<a name="l04503"></a>04503     <a class="code" href="classEMF_1_1EMREXTTEXTOUTA.html" title="EMF Extended Text Output ASCII.">EMREXTTEXTOUTA</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l04504"></a>04504     {
<a name="l04505"></a>04505       ds &gt;&gt; emr &gt;&gt; rclBounds &gt;&gt; iGraphicsMode &gt;&gt; exScale &gt;&gt; eyScale &gt;&gt; emrtext;
<a name="l04506"></a>04506 
<a name="l04507"></a>04507       <span class="keywordflow">if</span> ( emrtext.offString != 0 ) {
<a name="l04508"></a>04508         string_size = ROUND_TO_LONG( emrtext.nChars );
<a name="l04509"></a>04509 
<a name="l04510"></a>04510         string_a = <span class="keyword">new</span> CHAR[ string_size ];
<a name="l04511"></a>04511 
<a name="l04512"></a>04512         memset( string_a, 0, <span class="keyword">sizeof</span>(CHAR) * string_size );
<a name="l04513"></a>04513 
<a name="l04514"></a>04514         <a class="code" href="structEMF_1_1CHARSTR.html" title="Represent an ASCII character string in a simple way.">CHARSTR</a> string( string_a, string_size );
<a name="l04515"></a>04515 
<a name="l04516"></a>04516         ds &gt;&gt; string;
<a name="l04517"></a>04517       }
<a name="l04518"></a>04518       <span class="keywordflow">else</span>
<a name="l04519"></a>04519         string_a = 0;
<a name="l04520"></a>04520 
<a name="l04521"></a>04521       <span class="keywordflow">if</span> ( emrtext.offDx ) {
<a name="l04522"></a>04522         dx_i = <span class="keyword">new</span> INT[ emrtext.nChars ];
<a name="l04523"></a>04523 
<a name="l04524"></a>04524         INTARRAY dx_is( dx_i, emrtext.nChars );
<a name="l04525"></a>04525 
<a name="l04526"></a>04526         ds &gt;&gt; dx_is;
<a name="l04527"></a>04527       }
<a name="l04528"></a>04528       <span class="keywordflow">else</span>
<a name="l04529"></a>04529         dx_i = 0;
<a name="l04530"></a>04530     }
<a name="l04535"></a>04535     ~EMREXTTEXTOUTA ( )
<a name="l04536"></a>04536     {
<a name="l04537"></a>04537       <span class="keywordflow">if</span> ( string_a ) <span class="keyword">delete</span>[] string_a;
<a name="l04538"></a>04538       <span class="keywordflow">if</span> ( dx_i ) <span class="keyword">delete</span>[] dx_i;
<a name="l04539"></a>04539     }
<a name="l04543"></a>04543     <span class="keywordtype">bool</span> serialize ( DATASTREAM ds )
<a name="l04544"></a>04544     {
<a name="l04545"></a>04545       ds &lt;&lt; emr &lt;&lt; rclBounds &lt;&lt; iGraphicsMode &lt;&lt; exScale &lt;&lt; eyScale
<a name="l04546"></a>04546          &lt;&lt; emrtext &lt;&lt; CHARSTR( string_a, string_size );
<a name="l04547"></a>04547       <span class="keywordflow">if</span> ( dx_i )
<a name="l04548"></a>04548         ds &lt;&lt; INTARRAY( dx_i, emrtext.nChars );
<a name="l04549"></a>04549       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04550"></a>04550     }
<a name="l04554"></a>04554     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04560"></a>04560     <span class="keywordtype">void</span> execute ( METAFILEDEVICECONTEXT* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l04561"></a>04561 <span class="keyword">    </span>{
<a name="l04562"></a>04562       RECT rect;
<a name="l04563"></a>04563       rect.left = emrtext.rcl.left;
<a name="l04564"></a>04564       rect.top = emrtext.rcl.top;
<a name="l04565"></a>04565       rect.right = emrtext.rcl.right;
<a name="l04566"></a>04566       rect.bottom = emrtext.rcl.bottom;
<a name="l04567"></a>04567 
<a name="l04568"></a>04568       ExtTextOutA( dc, emrtext.ptlReference.x, emrtext.ptlReference.y,
<a name="l04569"></a>04569                    emrtext.fOptions, &amp;rect, string_a, emrtext.nChars,
<a name="l04570"></a>04570                    dx_i );
<a name="l04571"></a>04571     }
<a name="l04572"></a>04572 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04573"></a>04573 <span class="preprocessor"></span>
<a name="l04576"></a>04576     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04577"></a>04577 <span class="keyword">    </span>{
<a name="l04578"></a>04578 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l04579"></a>04579 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;unknown(%d)\n&quot;</span>;
<a name="l04580"></a>04580     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tptlReference\t: (%d,%d)\n&quot;</span>;
<a name="l04581"></a>04581     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tnChars\t\t: %d\n&quot;</span>;
<a name="l04582"></a>04582     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\toffString\t: %d\n&quot;</span>;
<a name="l04583"></a>04583     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\toffDx\t\t: %d\n&quot;</span>;
<a name="l04584"></a>04584 <span class="preprocessor">#else</span>
<a name="l04585"></a>04585 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;unknown(%ld)\n&quot;</span>;
<a name="l04586"></a>04586     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tptlReference\t: (%ld,%ld)\n&quot;</span>;
<a name="l04587"></a>04587     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tnChars\t\t: %ld\n&quot;</span>;
<a name="l04588"></a>04588     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\toffString\t: %ld\n&quot;</span>;
<a name="l04589"></a>04589     <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\toffDx\t\t: %ld\n&quot;</span>;
<a name="l04590"></a>04590 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l04591"></a>04591       printf( <span class="stringliteral">&quot;*EXTTEXTOUTA*\n&quot;</span> );
<a name="l04592"></a>04592       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l04593"></a>04593       printf( <span class="stringliteral">&quot;\tiGraphicsMode\t: &quot;</span> );
<a name="l04594"></a>04594       <span class="keywordflow">switch</span> ( iGraphicsMode ) {
<a name="l04595"></a>04595       <span class="keywordflow">case</span> GM_COMPATIBLE: printf( <span class="stringliteral">&quot;GM_COMPATIBLE\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04596"></a>04596       <span class="keywordflow">case</span> GM_ADVANCED: printf( <span class="stringliteral">&quot;GM_ADVANCED\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04597"></a>04597       <span class="keywordflow">default</span>: printf( FMT0, iGraphicsMode );
<a name="l04598"></a>04598       }
<a name="l04599"></a>04599       printf( <span class="stringliteral">&quot;\texScale\t\t: %f\n&quot;</span>, exScale );
<a name="l04600"></a>04600       printf( <span class="stringliteral">&quot;\teyScale\t\t: %f\n&quot;</span>, eyScale );
<a name="l04601"></a>04601       printf( FMT1, emrtext.ptlReference.x, emrtext.ptlReference.y );
<a name="l04602"></a>04602       printf( FMT2, emrtext.nChars );
<a name="l04603"></a>04603       printf( FMT3, emrtext.offString );
<a name="l04604"></a>04604       printf( <span class="stringliteral">&quot;\tfOptions\t: &quot;</span> );
<a name="l04605"></a>04605       <span class="keywordflow">if</span> ( emrtext.fOptions == 0 )
<a name="l04606"></a>04606         printf( <span class="stringliteral">&quot;None&quot;</span> );
<a name="l04607"></a>04607       <span class="keywordflow">else</span> {
<a name="l04608"></a>04608         <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ETO_GRAYED ) {
<a name="l04609"></a>04609           printf( <span class="stringliteral">&quot;ETO_GRAYED&quot;</span> );
<a name="l04610"></a>04610           <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ~ETO_GRAYED )
<a name="l04611"></a>04611             printf( <span class="stringliteral">&quot; | &quot;</span> );
<a name="l04612"></a>04612         }
<a name="l04613"></a>04613         <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ETO_OPAQUE ) {
<a name="l04614"></a>04614           printf( <span class="stringliteral">&quot;ETO_OPAQUE&quot;</span> );
<a name="l04615"></a>04615           <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ~(ETO_GRAYED | ETO_OPAQUE) )
<a name="l04616"></a>04616             printf( <span class="stringliteral">&quot; | &quot;</span> );
<a name="l04617"></a>04617         }
<a name="l04618"></a>04618         <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ETO_CLIPPED ) {
<a name="l04619"></a>04619           printf( <span class="stringliteral">&quot;ETO_CLIPPED&quot;</span> );
<a name="l04620"></a>04620           <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ~(ETO_GRAYED | ETO_OPAQUE | ETO_CLIPPED ) )
<a name="l04621"></a>04621             printf( <span class="stringliteral">&quot; | &quot;</span> );
<a name="l04622"></a>04622         }
<a name="l04623"></a>04623         <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ETO_GLYPH_INDEX ) {
<a name="l04624"></a>04624           printf( <span class="stringliteral">&quot;ETO_GLYPH_INDEX&quot;</span> );
<a name="l04625"></a>04625           <span class="keywordflow">if</span> ( emrtext.fOptions &amp;
<a name="l04626"></a>04626                ~(ETO_GRAYED | ETO_OPAQUE | ETO_CLIPPED | ETO_GLYPH_INDEX) )
<a name="l04627"></a>04627             printf( <span class="stringliteral">&quot; | &quot;</span> );
<a name="l04628"></a>04628         }
<a name="l04629"></a>04629         <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ETO_RTLREADING ) {
<a name="l04630"></a>04630           printf( <span class="stringliteral">&quot;ETO_RTLREADING&quot;</span> );
<a name="l04631"></a>04631           <span class="keywordflow">if</span> ( emrtext.fOptions &amp;
<a name="l04632"></a>04632                ~(ETO_GRAYED | ETO_OPAQUE | ETO_CLIPPED | ETO_GLYPH_INDEX |
<a name="l04633"></a>04633                  ETO_RTLREADING) )
<a name="l04634"></a>04634             printf( <span class="stringliteral">&quot; | &quot;</span> );
<a name="l04635"></a>04635         }
<a name="l04636"></a>04636         <span class="keywordflow">if</span> ( emrtext.fOptions &amp; ETO_IGNORELANGUAGE )
<a name="l04637"></a>04637           printf( <span class="stringliteral">&quot;ETO_IGNORELANGUAGE&quot;</span> );
<a name="l04638"></a>04638       }
<a name="l04639"></a>04639       printf( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l04640"></a>04640       edit_rectl( <span class="stringliteral">&quot;rcl\t&quot;</span>, emrtext.rcl );
<a name="l04641"></a>04641       printf( FMT4, emrtext.offDx );
<a name="l04642"></a>04642       printf( <span class="stringliteral">&quot;\tString:\n\t\t%s\n&quot;</span>,  string_a );
<a name="l04643"></a>04643 
<a name="l04644"></a>04644       <span class="keywordflow">if</span> ( emrtext.offDx != 0 ) {
<a name="l04645"></a>04645         printf( <span class="stringliteral">&quot;\tOffsets:\n\t\t&quot;</span> );
<a name="l04646"></a>04646         <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; emrtext.nChars; i++ )
<a name="l04647"></a>04647           printf( <span class="stringliteral">&quot;%d &quot;</span>, dx_i[i] );
<a name="l04648"></a>04648         printf( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l04649"></a>04649       }
<a name="l04650"></a>04650     }
<a name="l04651"></a>04651 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04652"></a>04652   };
<a name="l04653"></a>04653 
<a name="l04655"></a>04655 
<a name="l04658"></a><a class="code" href="classEMF_1_1EMRSETPIXELV.html">04658</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETPIXELV.html" title="EMF Set Pixel.">EMRSETPIXELV</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETPIXELV.html" title="EMF Set Pixel.">EMRSETPIXELV</a> {
<a name="l04659"></a>04659   <span class="keyword">public</span>:
<a name="l04665"></a>04665     <a class="code" href="classEMF_1_1EMRSETPIXELV.html" title="EMF Set Pixel.">EMRSETPIXELV</a> ( INT x, INT y, COLORREF color )
<a name="l04666"></a>04666     {
<a name="l04667"></a>04667       emr.iType = EMR_SETPIXELV;
<a name="l04668"></a>04668       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETPIXELV.html" title="EMF Set Pixel."> ::EMRSETPIXELV</a> );
<a name="l04669"></a>04669       ptlPixel.x = x;
<a name="l04670"></a>04670       ptlPixel.y = y;
<a name="l04671"></a>04671       crColor = color;
<a name="l04672"></a>04672     }
<a name="l04677"></a>04677     <a class="code" href="classEMF_1_1EMRSETPIXELV.html" title="EMF Set Pixel.">EMRSETPIXELV</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l04678"></a>04678     {
<a name="l04679"></a>04679       ds &gt;&gt; emr &gt;&gt; ptlPixel &gt;&gt; crColor;
<a name="l04680"></a>04680     }
<a name="l04684"></a>04684     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04685"></a>04685     {
<a name="l04686"></a>04686       ds &lt;&lt; emr &lt;&lt; ptlPixel &lt;&lt; crColor;
<a name="l04687"></a>04687       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04688"></a>04688     }
<a name="l04692"></a>04692     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04698"></a>04698     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l04699"></a>04699 <span class="keyword">    </span>{
<a name="l04700"></a>04700       SetPixel( dc, ptlPixel.x, ptlPixel.y, crColor );
<a name="l04701"></a>04701     }
<a name="l04702"></a>04702 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04703"></a>04703 <span class="preprocessor"></span>
<a name="l04706"></a>04706     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04707"></a>04707 <span class="keyword">    </span>{
<a name="l04708"></a>04708       printf( <span class="stringliteral">&quot;*SETPIXELV*\n&quot;</span> );
<a name="l04709"></a>04709       edit_pointl( <span class="stringliteral">&quot;ptlPixel&quot;</span>, ptlPixel );
<a name="l04710"></a>04710       edit_color( <span class="stringliteral">&quot;crColor\t&quot;</span>, crColor );
<a name="l04711"></a>04711     }
<a name="l04712"></a>04712 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04713"></a>04713   };
<a name="l04714"></a>04714 
<a name="l04715"></a>04715   <span class="keyword">class </span><a class="code" href="classEMF_1_1PEN.html" title="Graphics Pen.">PEN</a>;
<a name="l04716"></a>04716   <span class="keyword">class </span><a class="code" href="classEMF_1_1EXTPEN.html" title="Extended Graphics Pen.">EXTPEN</a>;
<a name="l04717"></a>04717   <span class="keyword">class </span><a class="code" href="classEMF_1_1BRUSH.html" title="Graphics Brush.">BRUSH</a>;
<a name="l04718"></a>04718   <span class="keyword">class </span><a class="code" href="classEMF_1_1FONT.html" title="Graphics Font.">FONT</a>;
<a name="l04719"></a>04719   <span class="keyword">class </span><a class="code" href="classEMF_1_1PALETTE.html" title="Graphics Palette.">PALETTE</a>;
<a name="l04720"></a>04720 
<a name="l04722"></a>04722 
<a name="l04725"></a><a class="code" href="classEMF_1_1EMRCREATEPEN.html">04725</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRCREATEPEN.html" title="EMF Pen.">EMRCREATEPEN</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, <span class="keyword">public</span> ::<a class="code" href="classEMF_1_1EMRCREATEPEN.html" title="EMF Pen.">EMRCREATEPEN</a>
<a name="l04726"></a>04726   {
<a name="l04727"></a>04727   <span class="keyword">public</span>:
<a name="l04732"></a>04732     <a class="code" href="classEMF_1_1EMRCREATEPEN.html" title="EMF Pen.">EMRCREATEPEN</a> ( <a class="code" href="classEMF_1_1PEN.html" title="Graphics Pen.">PEN</a>* pen, HGDIOBJ handle );
<a name="l04737"></a>04737     <a class="code" href="classEMF_1_1EMRCREATEPEN.html" title="EMF Pen.">EMRCREATEPEN</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds );
<a name="l04741"></a><a class="code" href="classEMF_1_1EMRCREATEPEN.html#a8d5fee907f4e915cb542e4afcf84be6d">04741</a>     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04742"></a>04742     {
<a name="l04743"></a>04743       ds &lt;&lt; emr &lt;&lt; ihPen &lt;&lt; lopn;
<a name="l04744"></a>04744       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04745"></a>04745     }
<a name="l04749"></a><a class="code" href="classEMF_1_1EMRCREATEPEN.html#a9656433ac0acd1a8b7c26d8b43a7d5cb">04749</a>     <span class="keywordtype">int</span> <a class="code" href="classEMF_1_1EMRCREATEPEN.html#a9656433ac0acd1a8b7c26d8b43a7d5cb">size</a> ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04755"></a>04755     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span>;
<a name="l04756"></a>04756 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04757"></a>04757 <span class="preprocessor"></span>
<a name="l04760"></a>04760     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04761"></a>04761 <span class="keyword">    </span>{
<a name="l04762"></a>04762 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l04763"></a>04763 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tihPen\t\t: 0x%x\n&quot;</span>;
<a name="l04764"></a>04764       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tlopn.lopnWidth\t: %d, %d\n&quot;</span>;
<a name="l04765"></a>04765 <span class="preprocessor">#else</span>
<a name="l04766"></a>04766 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tihPen\t\t: 0x%lx\n&quot;</span>;
<a name="l04767"></a>04767       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tlopn.lopnWidth\t: %ld, %ld\n&quot;</span>;
<a name="l04768"></a>04768 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l04769"></a>04769       printf( <span class="stringliteral">&quot;*CREATEPEN*\n&quot;</span> );
<a name="l04770"></a>04770       printf( FMT0, ihPen );
<a name="l04771"></a>04771       edit_pen_style( <span class="stringliteral">&quot;lopn.lopnStyle&quot;</span>, lopn.lopnStyle );
<a name="l04772"></a>04772       printf( FMT1, lopn.lopnWidth.x, lopn.lopnWidth.y );
<a name="l04773"></a>04773       edit_color( <span class="stringliteral">&quot;lopn.lopnColor&quot;</span>, lopn.lopnColor );
<a name="l04774"></a>04774     }
<a name="l04775"></a>04775 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04776"></a>04776   };
<a name="l04777"></a>04777 
<a name="l04779"></a>04779 
<a name="l04783"></a><a class="code" href="classEMF_1_1EMREXTCREATEPEN.html">04783</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMREXTCREATEPEN.html" title="EMF Extended Pen.">EMREXTCREATEPEN</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, <span class="keyword">public</span> ::<a class="code" href="classEMF_1_1EMREXTCREATEPEN.html" title="EMF Extended Pen.">EMREXTCREATEPEN</a>
<a name="l04784"></a>04784   {
<a name="l04785"></a>04785   <span class="keyword">public</span>:
<a name="l04790"></a>04790     <a class="code" href="classEMF_1_1EMREXTCREATEPEN.html" title="EMF Extended Pen.">EMREXTCREATEPEN</a> ( <a class="code" href="classEMF_1_1EXTPEN.html" title="Extended Graphics Pen.">EXTPEN</a>* pen, HGDIOBJ handle );
<a name="l04795"></a>04795     <a class="code" href="classEMF_1_1EMREXTCREATEPEN.html" title="EMF Extended Pen.">EMREXTCREATEPEN</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds );
<a name="l04799"></a><a class="code" href="classEMF_1_1EMREXTCREATEPEN.html#a922c9ea64491094fe74c76f54095a093">04799</a>     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04800"></a>04800     {
<a name="l04801"></a>04801       ds &lt;&lt; emr &lt;&lt; ihPen &lt;&lt; offBmi &lt;&lt; cbBmi &lt;&lt; offBits &lt;&lt; cbBits &lt;&lt; elp;
<a name="l04802"></a>04802       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04803"></a>04803     }
<a name="l04807"></a><a class="code" href="classEMF_1_1EMREXTCREATEPEN.html#ae1385b5b33c03694ed11e7a537685314">04807</a>     <span class="keywordtype">int</span> <a class="code" href="classEMF_1_1EMREXTCREATEPEN.html#ae1385b5b33c03694ed11e7a537685314">size</a> ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04813"></a>04813     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span>;
<a name="l04814"></a>04814 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04815"></a>04815 <span class="preprocessor"></span>
<a name="l04818"></a>04818     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04819"></a>04819 <span class="keyword">    </span>{
<a name="l04820"></a>04820 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l04821"></a>04821 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tihPen\t\t\t: 0x%x\n&quot;</span>;
<a name="l04822"></a>04822       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\toffBmi\t\t\t: %d\n&quot;</span>;
<a name="l04823"></a>04823       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tcbBmi\t\t\t: %d\n&quot;</span>;
<a name="l04824"></a>04824       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\toffBits\t\t\t: %d\n&quot;</span>;
<a name="l04825"></a>04825       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\tcbBits\t\t\t: %d\n&quot;</span>;
<a name="l04826"></a>04826       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\telp.elpWidth\t\t: %d\n&quot;</span>;
<a name="l04827"></a>04827       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT6 = <span class="stringliteral">&quot;\telp.elpNumEntries\t: %d\n&quot;</span>;
<a name="l04828"></a>04828 <span class="preprocessor">#else</span>
<a name="l04829"></a>04829 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tihPen\t\t\t: 0x%lx\n&quot;</span>;
<a name="l04830"></a>04830       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\toffBmi\t\t\t: %ld\n&quot;</span>;
<a name="l04831"></a>04831       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tcbBmi\t\t\t: %ld\n&quot;</span>;
<a name="l04832"></a>04832       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\toffBits\t\t\t: %ld\n&quot;</span>;
<a name="l04833"></a>04833       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\tcbBits\t\t\t: %ld\n&quot;</span>;
<a name="l04834"></a>04834       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\telp.elpWidth\t\t: %ld\n&quot;</span>;
<a name="l04835"></a>04835       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT6 = <span class="stringliteral">&quot;\telp.elpNumEntries\t: %ld\n&quot;</span>;
<a name="l04836"></a>04836 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l04837"></a>04837       printf( <span class="stringliteral">&quot;*EXTCREATEPEN*\n&quot;</span> );
<a name="l04838"></a>04838       printf( FMT0, ihPen );
<a name="l04839"></a>04839       printf( FMT1,  offBmi );
<a name="l04840"></a>04840       printf( FMT2, cbBmi );
<a name="l04841"></a>04841       printf( FMT3, offBits );
<a name="l04842"></a>04842       printf( FMT4, cbBits );
<a name="l04843"></a>04843       edit_pen_style( <span class="stringliteral">&quot;elp.elpPenStyle\t&quot;</span>, elp.elpPenStyle );
<a name="l04844"></a>04844       printf( FMT5, elp.elpWidth );
<a name="l04845"></a>04845       edit_brush_style( <span class="stringliteral">&quot;elp.elpBrushStyle&quot;</span>, elp.elpBrushStyle );
<a name="l04846"></a>04846       edit_color( <span class="stringliteral">&quot;elp.elpColor\t&quot;</span>, elp.elpColor );
<a name="l04847"></a>04847       edit_brush_hatch( <span class="stringliteral">&quot;elp.elpHatch\t&quot;</span>, elp.elpHatch );
<a name="l04848"></a>04848       printf( FMT6, elp.elpNumEntries );
<a name="l04849"></a>04849     }
<a name="l04850"></a>04850 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04851"></a>04851   };
<a name="l04852"></a>04852 
<a name="l04854"></a>04854 
<a name="l04857"></a><a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html">04857</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html" title="EMF Brush.">EMRCREATEBRUSHINDIRECT</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, <span class="keyword">public</span> ::<a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html" title="EMF Brush.">EMRCREATEBRUSHINDIRECT</a>
<a name="l04858"></a>04858   {
<a name="l04859"></a>04859   <span class="keyword">public</span>:
<a name="l04864"></a>04864     <a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html" title="EMF Brush.">EMRCREATEBRUSHINDIRECT</a> ( <a class="code" href="classEMF_1_1BRUSH.html" title="Graphics Brush.">BRUSH</a>* brush, HGDIOBJ handle );
<a name="l04869"></a>04869     <a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html" title="EMF Brush.">EMRCREATEBRUSHINDIRECT</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds );
<a name="l04873"></a><a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html#a6030d048b36188aa360a5a549f999b6d">04873</a>     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04874"></a>04874     {
<a name="l04875"></a>04875       ds &lt;&lt; emr &lt;&lt; ihBrush &lt;&lt; lb;
<a name="l04876"></a>04876       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04877"></a>04877     }
<a name="l04881"></a><a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html#a5f700fb708ddebc335b915f9e400566b">04881</a>     <span class="keywordtype">int</span> <a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html#a5f700fb708ddebc335b915f9e400566b">size</a> ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04887"></a>04887     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span>;
<a name="l04888"></a>04888 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04889"></a>04889 <span class="preprocessor"></span>
<a name="l04892"></a>04892     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04893"></a>04893 <span class="keyword">    </span>{
<a name="l04894"></a>04894 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l04895"></a>04895 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tihBrush\t\t: 0x%x\n&quot;</span>;
<a name="l04896"></a>04896 <span class="preprocessor">#else</span>
<a name="l04897"></a>04897 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tihBrush\t\t: 0x%lx\n&quot;</span>;
<a name="l04898"></a>04898 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l04899"></a>04899       printf( <span class="stringliteral">&quot;*CREATEBRUSHINDIRECT*\n&quot;</span> );
<a name="l04900"></a>04900       printf( FMT, ihBrush );
<a name="l04901"></a>04901       edit_brush_style( <span class="stringliteral">&quot;lb.lbStyle&quot;</span>, lb.lbStyle );
<a name="l04902"></a>04902       edit_color( <span class="stringliteral">&quot;lb.lbColor&quot;</span>, lb.lbColor );
<a name="l04903"></a>04903       edit_brush_hatch( <span class="stringliteral">&quot;lb.lbHatch&quot;</span>, lb.lbHatch );
<a name="l04904"></a>04904     }
<a name="l04905"></a>04905 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l04906"></a>04906   };
<a name="l04907"></a>04907 
<a name="l04909"></a>04909 
<a name="l04912"></a><a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html">04912</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html" title="EMF Font.">EMREXTCREATEFONTINDIRECTW</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, <span class="keyword">public</span> ::<a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html" title="EMF Font.">EMREXTCREATEFONTINDIRECTW</a>
<a name="l04913"></a>04913   {
<a name="l04914"></a>04914   <span class="keyword">public</span>:
<a name="l04919"></a>04919     <a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html" title="EMF Font.">EMREXTCREATEFONTINDIRECTW</a> ( <a class="code" href="classEMF_1_1FONT.html" title="Graphics Font.">FONT</a>* font, HGDIOBJ handle );
<a name="l04924"></a>04924     <a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html" title="EMF Font.">EMREXTCREATEFONTINDIRECTW</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds );
<a name="l04928"></a><a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html#a519dabeb22a5bb3a983b36147cf9cc80">04928</a>     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l04929"></a>04929     {
<a name="l04930"></a>04930       <span class="comment">// Since EMF records have to be multiples of 4 bytes, this</span>
<a name="l04931"></a>04931       <span class="comment">// should perhaps be a general thing, but we know it&apos;s currently</span>
<a name="l04932"></a>04932       <span class="comment">// only a problem for this structure.</span>
<a name="l04933"></a>04933 
<a name="l04934"></a>04934       ds &lt;&lt; emr &lt;&lt; ihFont &lt;&lt; elfw &lt;&lt; <a class="code" href="structEMF_1_1PADDING.html" title="All metafile records must be padded out to a multiple of 4 bytes.">PADDING</a>( 2 );
<a name="l04935"></a>04935 
<a name="l04936"></a>04936       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04937"></a>04937     }
<a name="l04941"></a><a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html#af5d7e54f42de21bdef0460e58ae070d3">04941</a>     <span class="keywordtype">int</span> <a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html#af5d7e54f42de21bdef0460e58ae070d3">size</a> ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l04947"></a>04947     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span>;
<a name="l04948"></a>04948 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l04949"></a>04949 <span class="preprocessor"></span>
<a name="l04952"></a>04952     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l04953"></a>04953 <span class="keyword">    </span>{
<a name="l04954"></a>04954 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l04955"></a>04955 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tihFont\t\t\t: %d\n&quot;</span>;
<a name="l04956"></a>04956       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tlfHeight\t\t: %d\n&quot;</span>;
<a name="l04957"></a>04957       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tlfWidth\t\t\t: %d\n&quot;</span>;
<a name="l04958"></a>04958       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tlfEscapement\t\t: %d\n&quot;</span>;
<a name="l04959"></a>04959       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\tlfOrientation\t\t: %d\n&quot;</span>;
<a name="l04960"></a>04960       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\telfVersion\t\t: %d\n&quot;</span>;
<a name="l04961"></a>04961       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT6 = <span class="stringliteral">&quot;\telfStyleSize\t\t: %d\n&quot;</span>;
<a name="l04962"></a>04962       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT7 = <span class="stringliteral">&quot;\telfMatch\t\t: %d\n&quot;</span>;
<a name="l04963"></a>04963       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT8 = <span class="stringliteral">&quot;\telfCulture\t\t: %d\n&quot;</span>;
<a name="l04964"></a>04964 <span class="preprocessor">#else</span>
<a name="l04965"></a>04965 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT0 = <span class="stringliteral">&quot;\tihFont\t\t\t: %ld\n&quot;</span>;
<a name="l04966"></a>04966       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT1 = <span class="stringliteral">&quot;\tlfHeight\t\t: %ld\n&quot;</span>;
<a name="l04967"></a>04967       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT2 = <span class="stringliteral">&quot;\tlfWidth\t\t\t: %ld\n&quot;</span>;
<a name="l04968"></a>04968       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT3 = <span class="stringliteral">&quot;\tlfEscapement\t\t: %ld\n&quot;</span>;
<a name="l04969"></a>04969       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT4 = <span class="stringliteral">&quot;\tlfOrientation\t\t: %ld\n&quot;</span>;
<a name="l04970"></a>04970       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT5 = <span class="stringliteral">&quot;\telfVersion\t\t: %ld\n&quot;</span>;
<a name="l04971"></a>04971       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT6 = <span class="stringliteral">&quot;\telfStyleSize\t\t: %ld\n&quot;</span>;
<a name="l04972"></a>04972       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT7 = <span class="stringliteral">&quot;\telfMatch\t\t: %ld\n&quot;</span>;
<a name="l04973"></a>04973       <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT8 = <span class="stringliteral">&quot;\telfCulture\t\t: %ld\n&quot;</span>;
<a name="l04974"></a>04974 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l04975"></a>04975       printf( <span class="stringliteral">&quot;*EXTCREATEFONTINDIRECTW*\n&quot;</span> );
<a name="l04976"></a>04976       printf( FMT0, ihFont );
<a name="l04977"></a>04977       printf( FMT1, elfw.elfLogFont.lfHeight );
<a name="l04978"></a>04978       printf( FMT2, elfw.elfLogFont.lfWidth );
<a name="l04979"></a>04979       printf( FMT3, elfw.elfLogFont.lfEscapement );
<a name="l04980"></a>04980       printf( FMT4, elfw.elfLogFont.lfOrientation );
<a name="l04981"></a>04981       printf( <span class="stringliteral">&quot;\tlfWeight\t\t: &quot;</span> );
<a name="l04982"></a>04982       <span class="keywordflow">switch</span> ( elfw.elfLogFont.lfWeight ) {
<a name="l04983"></a>04983       <span class="keywordflow">case</span> FW_DONTCARE: printf( <span class="stringliteral">&quot;FW_DONTCARE\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04984"></a>04984       <span class="keywordflow">case</span> FW_THIN: printf( <span class="stringliteral">&quot;FW_THIN\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04985"></a>04985       <span class="keywordflow">case</span> FW_EXTRALIGHT: printf( <span class="stringliteral">&quot;FW_EXTRALIGHT\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04986"></a>04986       <span class="keywordflow">case</span> FW_LIGHT: printf( <span class="stringliteral">&quot;FW_LIGHT\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04987"></a>04987       <span class="keywordflow">case</span> FW_NORMAL: printf( <span class="stringliteral">&quot;FW_NORMAL\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04988"></a>04988       <span class="keywordflow">case</span> FW_MEDIUM: printf( <span class="stringliteral">&quot;FW_MEDIUM\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04989"></a>04989       <span class="keywordflow">case</span> FW_SEMIBOLD: printf( <span class="stringliteral">&quot;FW_SEMIBOLD\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04990"></a>04990       <span class="keywordflow">case</span> FW_BOLD: printf( <span class="stringliteral">&quot;FW_BOLD\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04991"></a>04991       <span class="keywordflow">case</span> FW_EXTRABOLD: printf( <span class="stringliteral">&quot;FW_EXTRABOLD\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04992"></a>04992       <span class="keywordflow">case</span> FW_BLACK: printf( <span class="stringliteral">&quot;FW_BLACK\n&quot;</span> ); <span class="keywordflow">break</span>;
<a name="l04993"></a>04993       }
<a name="l04994"></a>04994       printf( <span class="stringliteral">&quot;\tlfItalic\t\t: %d\n&quot;</span>, elfw.elfLogFont.lfItalic );
<a name="l04995"></a>04995       printf( <span class="stringliteral">&quot;\tlfUnderline\t\t: %d\n&quot;</span>, elfw.elfLogFont.lfUnderline );
<a name="l04996"></a>04996       printf( <span class="stringliteral">&quot;\tlfStrikeOut\t\t: %d\n&quot;</span>, elfw.elfLogFont.lfStrikeOut );
<a name="l04997"></a>04997       printf( <span class="stringliteral">&quot;\tlfCharSet\t\t: %d\n&quot;</span>, elfw.elfLogFont.lfCharSet );
<a name="l04998"></a>04998       printf( <span class="stringliteral">&quot;\tlfOutPrecision\t\t: %d\n&quot;</span>, elfw.elfLogFont.lfOutPrecision );
<a name="l04999"></a>04999       printf( <span class="stringliteral">&quot;\tlfClipPrecision\t\t: %d\n&quot;</span>, elfw.elfLogFont.lfClipPrecision );
<a name="l05000"></a>05000       printf( <span class="stringliteral">&quot;\tlfQuality\t\t: %d\n&quot;</span>, elfw.elfLogFont.lfQuality );
<a name="l05001"></a>05001       printf( <span class="stringliteral">&quot;\tlfPitchAndFamily\t: %d\n&quot;</span>, elfw.elfLogFont.lfPitchAndFamily );
<a name="l05002"></a>05002       <span class="keywordtype">int</span> i = 0;
<a name="l05003"></a>05003       printf( <span class="stringliteral">&quot;\tlfFaceName\t\t: &apos;&quot;</span> );
<a name="l05004"></a>05004       <span class="keywordflow">while</span> ( elfw.elfLogFont.lfFaceName[i] != 0 &amp;&amp; i &lt; LF_FACESIZE ) {
<a name="l05005"></a>05005         putchar( elfw.elfLogFont.lfFaceName[i] );
<a name="l05006"></a>05006         i++;
<a name="l05007"></a>05007       }
<a name="l05008"></a>05008       puts( <span class="stringliteral">&quot;&apos;&quot;</span> );
<a name="l05009"></a>05009 
<a name="l05010"></a>05010       i = 0;
<a name="l05011"></a>05011       printf( <span class="stringliteral">&quot;\telfFullName\t\t: &apos;&quot;</span> );
<a name="l05012"></a>05012       <span class="keywordflow">while</span> ( elfw.elfFullName[i] != 0 &amp;&amp; i &lt; LF_FULLFACESIZE ) {
<a name="l05013"></a>05013         putchar( elfw.elfFullName[i] );
<a name="l05014"></a>05014         i++;
<a name="l05015"></a>05015       }
<a name="l05016"></a>05016       puts( <span class="stringliteral">&quot;&apos;&quot;</span> );
<a name="l05017"></a>05017 
<a name="l05018"></a>05018       i = 0;
<a name="l05019"></a>05019       printf( <span class="stringliteral">&quot;\telfStyle\t\t: &apos;&quot;</span> );
<a name="l05020"></a>05020       <span class="keywordflow">while</span> ( elfw.elfStyle[i] != 0 &amp;&amp; i &lt; LF_FACESIZE ) {
<a name="l05021"></a>05021         putchar( elfw.elfStyle[i] );
<a name="l05022"></a>05022         i++;
<a name="l05023"></a>05023       }
<a name="l05024"></a>05024       puts( <span class="stringliteral">&quot;&apos;&quot;</span> );
<a name="l05025"></a>05025 
<a name="l05026"></a>05026       printf( FMT5, elfw.elfVersion );
<a name="l05027"></a>05027       printf( FMT6, elfw.elfStyleSize );
<a name="l05028"></a>05028       printf( FMT7, elfw.elfMatch );
<a name="l05029"></a>05029       printf( <span class="stringliteral">&quot;\telfVendorId\t\t: &apos;%s&apos;\n&quot;</span>, elfw.elfVendorId );
<a name="l05030"></a>05030       printf( FMT8, elfw.elfCulture );
<a name="l05031"></a>05031       printf( <span class="stringliteral">&quot;\telfPanose\t\t:\n&quot;</span> );
<a name="l05032"></a>05032       printf( <span class="stringliteral">&quot;\t\tbFamilyType\t\t: %d\n&quot;</span>, elfw.elfPanose.bFamilyType );
<a name="l05033"></a>05033       printf( <span class="stringliteral">&quot;\t\tbSerifStyle\t\t: %d\n&quot;</span>, elfw.elfPanose.bSerifStyle );
<a name="l05034"></a>05034       printf( <span class="stringliteral">&quot;\t\tbWeight\t\t\t: %d\n&quot;</span>, elfw.elfPanose.bWeight );
<a name="l05035"></a>05035       printf( <span class="stringliteral">&quot;\t\tbProportion\t\t: %d\n&quot;</span>, elfw.elfPanose.bProportion );
<a name="l05036"></a>05036       printf( <span class="stringliteral">&quot;\t\tbContrast\t\t: %d\n&quot;</span>, elfw.elfPanose.bContrast );
<a name="l05037"></a>05037       printf( <span class="stringliteral">&quot;\t\tbStrokeVariation\t: %d\n&quot;</span>, elfw.elfPanose.bStrokeVariation );
<a name="l05038"></a>05038       printf( <span class="stringliteral">&quot;\t\tbArmStyle\t\t: %d\n&quot;</span>, elfw.elfPanose.bArmStyle );
<a name="l05039"></a>05039       printf( <span class="stringliteral">&quot;\t\tbLetterform\t\t: %d\n&quot;</span>, elfw.elfPanose.bLetterform );
<a name="l05040"></a>05040       printf( <span class="stringliteral">&quot;\t\tbMidline\t\t: %d\n&quot;</span>, elfw.elfPanose.bMidline );
<a name="l05041"></a>05041       printf( <span class="stringliteral">&quot;\t\tbXHeight\t\t: %d\n&quot;</span>, elfw.elfPanose.bXHeight );
<a name="l05042"></a>05042     }
<a name="l05043"></a>05043 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05044"></a>05044   };
<a name="l05045"></a>05045 
<a name="l05047"></a>05047 
<a name="l05050"></a><a class="code" href="classEMF_1_1EMRCREATEPALETTE.html">05050</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRCREATEPALETTE.html" title="EMF Palette.">EMRCREATEPALETTE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, <span class="keyword">public</span> ::<a class="code" href="classEMF_1_1EMRCREATEPALETTE.html" title="EMF Palette.">EMRCREATEPALETTE</a>
<a name="l05051"></a>05051   {
<a name="l05052"></a>05052   <span class="keyword">public</span>:
<a name="l05057"></a>05057     <a class="code" href="classEMF_1_1EMRCREATEPALETTE.html" title="EMF Palette.">EMRCREATEPALETTE</a> ( <a class="code" href="classEMF_1_1PALETTE.html" title="Graphics Palette.">PALETTE</a>* palette, HGDIOBJ handle );
<a name="l05062"></a>05062     <a class="code" href="classEMF_1_1EMRCREATEPALETTE.html" title="EMF Palette.">EMRCREATEPALETTE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds );
<a name="l05066"></a><a class="code" href="classEMF_1_1EMRCREATEPALETTE.html#a9a9a5ce1aa94a8a140461338fdb0bb73">05066</a>     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05067"></a>05067     {
<a name="l05068"></a>05068       ds &lt;&lt; emr &lt;&lt; ihPal &lt;&lt; lgpl;
<a name="l05069"></a>05069       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05070"></a>05070     }
<a name="l05074"></a><a class="code" href="classEMF_1_1EMRCREATEPALETTE.html#a50bcce6da432d92fd1438ea22db8fe76">05074</a>     <span class="keywordtype">int</span> <a class="code" href="classEMF_1_1EMRCREATEPALETTE.html#a50bcce6da432d92fd1438ea22db8fe76">size</a> ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05080"></a>05080     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* source, HDC dc ) <span class="keyword">const</span>;
<a name="l05081"></a>05081 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05082"></a>05082 <span class="preprocessor"></span>
<a name="l05085"></a>05085     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05086"></a>05086 <span class="keyword">    </span>{
<a name="l05087"></a>05087       printf( <span class="stringliteral">&quot;*CREATEPALETTE* (not really handled by libEMF)\n&quot;</span> );
<a name="l05088"></a>05088     }
<a name="l05089"></a>05089 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05090"></a>05090   };
<a name="l05091"></a>05091 
<a name="l05093"></a>05093 
<a name="l05096"></a><a class="code" href="classEMF_1_1EMRFILLPATH.html">05096</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRFILLPATH.html" title="EMF Fill path.">EMRFILLPATH</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRFILLPATH.html" title="EMF Fill path.">EMRFILLPATH</a> {
<a name="l05097"></a>05097   <span class="keyword">public</span>:
<a name="l05102"></a>05102     <a class="code" href="classEMF_1_1EMRFILLPATH.html" title="EMF Fill path.">EMRFILLPATH</a> ( <span class="keyword">const</span> RECTL* bounds )
<a name="l05103"></a>05103     {
<a name="l05104"></a>05104       emr.iType = EMR_FILLPATH;
<a name="l05105"></a>05105       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRFILLPATH.html" title="EMF Fill path."> ::EMRFILLPATH</a> );
<a name="l05106"></a>05106       rclBounds = *bounds;
<a name="l05107"></a>05107     }
<a name="l05112"></a>05112     <a class="code" href="classEMF_1_1EMRFILLPATH.html" title="EMF Fill path.">EMRFILLPATH</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05113"></a>05113     {
<a name="l05114"></a>05114       ds &gt;&gt; emr &gt;&gt; rclBounds;
<a name="l05115"></a>05115     }
<a name="l05119"></a>05119     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05120"></a>05120     {
<a name="l05121"></a>05121       ds &lt;&lt; emr &lt;&lt; rclBounds;
<a name="l05122"></a>05122       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05123"></a>05123     }
<a name="l05127"></a>05127     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05133"></a>05133     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05134"></a>05134 <span class="keyword">    </span>{
<a name="l05135"></a>05135       FillPath( dc );
<a name="l05136"></a>05136     }
<a name="l05137"></a>05137 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05138"></a>05138 <span class="preprocessor"></span>
<a name="l05141"></a>05141     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05142"></a>05142 <span class="keyword">    </span>{
<a name="l05143"></a>05143       printf( <span class="stringliteral">&quot;*FILLPATH*\n&quot;</span> );
<a name="l05144"></a>05144       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l05145"></a>05145     }
<a name="l05146"></a>05146 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05147"></a>05147   };
<a name="l05149"></a>05149 
<a name="l05152"></a><a class="code" href="classEMF_1_1EMRSTROKEPATH.html">05152</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSTROKEPATH.html" title="EMF Stroke path.">EMRSTROKEPATH</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSTROKEPATH.html" title="EMF Stroke path.">EMRSTROKEPATH</a> {
<a name="l05153"></a>05153   <span class="keyword">public</span>:
<a name="l05158"></a>05158     <a class="code" href="classEMF_1_1EMRSTROKEPATH.html" title="EMF Stroke path.">EMRSTROKEPATH</a> ( <span class="keyword">const</span> RECTL* bounds )
<a name="l05159"></a>05159     {
<a name="l05160"></a>05160       emr.iType = EMR_STROKEPATH;
<a name="l05161"></a>05161       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSTROKEPATH.html" title="EMF Stroke path."> ::EMRSTROKEPATH</a> );
<a name="l05162"></a>05162       rclBounds = *bounds;
<a name="l05163"></a>05163     }
<a name="l05168"></a>05168     <a class="code" href="classEMF_1_1EMRSTROKEPATH.html" title="EMF Stroke path.">EMRSTROKEPATH</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05169"></a>05169     {
<a name="l05170"></a>05170       ds &gt;&gt; emr &gt;&gt; rclBounds;
<a name="l05171"></a>05171     }
<a name="l05175"></a>05175     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05176"></a>05176     {
<a name="l05177"></a>05177       ds &lt;&lt; emr &lt;&lt; rclBounds;
<a name="l05178"></a>05178       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05179"></a>05179     }
<a name="l05183"></a>05183     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05189"></a>05189     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05190"></a>05190 <span class="keyword">    </span>{
<a name="l05191"></a>05191       StrokePath( dc );
<a name="l05192"></a>05192     }
<a name="l05193"></a>05193 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05194"></a>05194 <span class="preprocessor"></span>
<a name="l05197"></a>05197     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05198"></a>05198 <span class="keyword">    </span>{
<a name="l05199"></a>05199       printf( <span class="stringliteral">&quot;*STROKEPATH*\n&quot;</span> );
<a name="l05200"></a>05200       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l05201"></a>05201     }
<a name="l05202"></a>05202 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05203"></a>05203   };
<a name="l05205"></a>05205 
<a name="l05208"></a><a class="code" href="classEMF_1_1EMRSTROKEANDFILLPATH.html">05208</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSTROKEANDFILLPATH.html" title="EMF Stroke and Fill path.">EMRSTROKEANDFILLPATH</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSTROKEANDFILLPATH.html" title="EMF Stroke and Fill path.">EMRSTROKEANDFILLPATH</a> {
<a name="l05209"></a>05209   <span class="keyword">public</span>:
<a name="l05214"></a>05214     <a class="code" href="classEMF_1_1EMRSTROKEANDFILLPATH.html" title="EMF Stroke and Fill path.">EMRSTROKEANDFILLPATH</a> ( <span class="keyword">const</span> RECTL* bounds )
<a name="l05215"></a>05215     {
<a name="l05216"></a>05216       emr.iType = EMR_STROKEANDFILLPATH;
<a name="l05217"></a>05217       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSTROKEANDFILLPATH.html" title="EMF Stroke and Fill path."> ::EMRSTROKEANDFILLPATH</a> );
<a name="l05218"></a>05218       rclBounds = *bounds;
<a name="l05219"></a>05219     }
<a name="l05224"></a>05224     <a class="code" href="classEMF_1_1EMRSTROKEANDFILLPATH.html" title="EMF Stroke and Fill path.">EMRSTROKEANDFILLPATH</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05225"></a>05225     {
<a name="l05226"></a>05226       ds &gt;&gt; emr &gt;&gt; rclBounds;
<a name="l05227"></a>05227     }
<a name="l05231"></a>05231     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05232"></a>05232     {
<a name="l05233"></a>05233       ds &lt;&lt; emr &lt;&lt; rclBounds;
<a name="l05234"></a>05234       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05235"></a>05235     }
<a name="l05239"></a>05239     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05245"></a>05245     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05246"></a>05246 <span class="keyword">    </span>{
<a name="l05247"></a>05247       StrokeAndFillPath( dc );
<a name="l05248"></a>05248     }
<a name="l05249"></a>05249 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05250"></a>05250 <span class="preprocessor"></span>
<a name="l05253"></a>05253     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05254"></a>05254 <span class="keyword">    </span>{
<a name="l05255"></a>05255       printf( <span class="stringliteral">&quot;*STROKEANDFILLPATH*\n&quot;</span> );
<a name="l05256"></a>05256       edit_rectl( <span class="stringliteral">&quot;rclBounds&quot;</span>, rclBounds );
<a name="l05257"></a>05257     }
<a name="l05258"></a>05258 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05259"></a>05259   };
<a name="l05261"></a>05261 
<a name="l05264"></a><a class="code" href="classEMF_1_1EMRBEGINPATH.html">05264</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRBEGINPATH.html" title="EMF Begin Path.">EMRBEGINPATH</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRBEGINPATH.html" title="EMF Begin Path.">EMRBEGINPATH</a> {
<a name="l05265"></a>05265   <span class="keyword">public</span>:
<a name="l05269"></a>05269     <a class="code" href="classEMF_1_1EMRBEGINPATH.html" title="EMF Begin Path.">EMRBEGINPATH</a> ( <span class="keywordtype">void</span> )
<a name="l05270"></a>05270     {
<a name="l05271"></a>05271       emr.iType = EMR_BEGINPATH;
<a name="l05272"></a>05272       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRBEGINPATH.html" title="EMF Begin Path."> ::EMRBEGINPATH</a> );
<a name="l05273"></a>05273     }
<a name="l05278"></a>05278     <a class="code" href="classEMF_1_1EMRBEGINPATH.html" title="EMF Begin Path.">EMRBEGINPATH</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05279"></a>05279     {
<a name="l05280"></a>05280       ds &gt;&gt; emr;
<a name="l05281"></a>05281     }
<a name="l05285"></a>05285     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05286"></a>05286     {
<a name="l05287"></a>05287       ds &lt;&lt; emr;
<a name="l05288"></a>05288       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05289"></a>05289     }
<a name="l05293"></a>05293     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05299"></a>05299     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05300"></a>05300 <span class="keyword">    </span>{
<a name="l05301"></a>05301       BeginPath( dc );
<a name="l05302"></a>05302     }
<a name="l05303"></a>05303 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05304"></a>05304 <span class="preprocessor"></span>
<a name="l05307"></a>05307     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05308"></a>05308 <span class="keyword">    </span>{
<a name="l05309"></a>05309       printf( <span class="stringliteral">&quot;*BEGINPATH*\n&quot;</span> );
<a name="l05310"></a>05310     }
<a name="l05311"></a>05311 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05312"></a>05312   };
<a name="l05314"></a>05314 
<a name="l05317"></a><a class="code" href="classEMF_1_1EMRENDPATH.html">05317</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRENDPATH.html" title="EMF End Path.">EMRENDPATH</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRENDPATH.html" title="EMF End Path.">EMRENDPATH</a> {
<a name="l05318"></a>05318   <span class="keyword">public</span>:
<a name="l05322"></a>05322     <a class="code" href="classEMF_1_1EMRENDPATH.html" title="EMF End Path.">EMRENDPATH</a> ( <span class="keywordtype">void</span> )
<a name="l05323"></a>05323     {
<a name="l05324"></a>05324       emr.iType = EMR_ENDPATH;
<a name="l05325"></a>05325       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRENDPATH.html" title="EMF End Path."> ::EMRENDPATH</a> );
<a name="l05326"></a>05326     }
<a name="l05331"></a>05331     <a class="code" href="classEMF_1_1EMRENDPATH.html" title="EMF End Path.">EMRENDPATH</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05332"></a>05332     {
<a name="l05333"></a>05333       ds &gt;&gt; emr;
<a name="l05334"></a>05334     }
<a name="l05338"></a>05338     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05339"></a>05339     {
<a name="l05340"></a>05340       ds &lt;&lt; emr;
<a name="l05341"></a>05341       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05342"></a>05342     }
<a name="l05346"></a>05346     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05352"></a>05352     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05353"></a>05353 <span class="keyword">    </span>{
<a name="l05354"></a>05354       EndPath( dc );
<a name="l05355"></a>05355     }
<a name="l05356"></a>05356 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05357"></a>05357 <span class="preprocessor"></span>
<a name="l05360"></a>05360     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05361"></a>05361 <span class="keyword">    </span>{
<a name="l05362"></a>05362       printf( <span class="stringliteral">&quot;*ENDPATH*\n&quot;</span> );
<a name="l05363"></a>05363     }
<a name="l05364"></a>05364 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05365"></a>05365   };
<a name="l05367"></a>05367 
<a name="l05370"></a><a class="code" href="classEMF_1_1EMRCLOSEFIGURE.html">05370</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRCLOSEFIGURE.html" title="EMF Close Figure.">EMRCLOSEFIGURE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRCLOSEFIGURE.html" title="EMF Close Figure.">EMRCLOSEFIGURE</a> {
<a name="l05371"></a>05371   <span class="keyword">public</span>:
<a name="l05375"></a>05375     <a class="code" href="classEMF_1_1EMRCLOSEFIGURE.html" title="EMF Close Figure.">EMRCLOSEFIGURE</a> ( <span class="keywordtype">void</span> )
<a name="l05376"></a>05376     {
<a name="l05377"></a>05377       emr.iType = EMR_CLOSEFIGURE;
<a name="l05378"></a>05378       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRCLOSEFIGURE.html" title="EMF Close Figure."> ::EMRCLOSEFIGURE</a> );
<a name="l05379"></a>05379     }
<a name="l05384"></a>05384     <a class="code" href="classEMF_1_1EMRCLOSEFIGURE.html" title="EMF Close Figure.">EMRCLOSEFIGURE</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05385"></a>05385     {
<a name="l05386"></a>05386       ds &gt;&gt; emr;
<a name="l05387"></a>05387     }
<a name="l05391"></a>05391     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05392"></a>05392     {
<a name="l05393"></a>05393       ds &lt;&lt; emr;
<a name="l05394"></a>05394       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05395"></a>05395     }
<a name="l05399"></a>05399     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05405"></a>05405     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05406"></a>05406 <span class="keyword">    </span>{
<a name="l05407"></a>05407       CloseFigure( dc );
<a name="l05408"></a>05408     }
<a name="l05409"></a>05409 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05410"></a>05410 <span class="preprocessor"></span>
<a name="l05413"></a>05413     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05414"></a>05414 <span class="keyword">    </span>{
<a name="l05415"></a>05415       printf( <span class="stringliteral">&quot;*CLOSEFIGURE*\n&quot;</span> );
<a name="l05416"></a>05416     }
<a name="l05417"></a>05417 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05418"></a>05418   };
<a name="l05420"></a>05420 
<a name="l05424"></a><a class="code" href="classEMF_1_1EMRSAVEDC.html">05424</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSAVEDC.html" title="EMF Save DC.">EMRSAVEDC</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSAVEDC.html" title="EMF Save DC.">EMRSAVEDC</a> {
<a name="l05425"></a>05425   <span class="keyword">public</span>:
<a name="l05429"></a>05429     <a class="code" href="classEMF_1_1EMRSAVEDC.html" title="EMF Save DC.">EMRSAVEDC</a> ( <span class="keywordtype">void</span> )
<a name="l05430"></a>05430     {
<a name="l05431"></a>05431       emr.iType = EMR_SAVEDC;
<a name="l05432"></a>05432       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSAVEDC.html" title="EMF Save DC."> ::EMRSAVEDC</a> );
<a name="l05433"></a>05433     }
<a name="l05438"></a>05438     <a class="code" href="classEMF_1_1EMRSAVEDC.html" title="EMF Save DC.">EMRSAVEDC</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05439"></a>05439     {
<a name="l05440"></a>05440       ds &gt;&gt; emr;
<a name="l05441"></a>05441     }
<a name="l05445"></a>05445     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05446"></a>05446     {
<a name="l05447"></a>05447       ds &lt;&lt; emr;
<a name="l05448"></a>05448       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05449"></a>05449     }
<a name="l05453"></a>05453     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05459"></a>05459     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05460"></a>05460 <span class="keyword">    </span>{
<a name="l05461"></a>05461       SaveDC( dc );
<a name="l05462"></a>05462     }
<a name="l05463"></a>05463 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05464"></a>05464 <span class="preprocessor"></span>
<a name="l05467"></a>05467     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05468"></a>05468 <span class="keyword">    </span>{
<a name="l05469"></a>05469       printf( <span class="stringliteral">&quot;*SAVEDC*\n&quot;</span> );
<a name="l05470"></a>05470     }
<a name="l05471"></a>05471 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05472"></a>05472   };
<a name="l05474"></a>05474 
<a name="l05477"></a><a class="code" href="classEMF_1_1EMRRESTOREDC.html">05477</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRRESTOREDC.html" title="EMF Restore DC.">EMRRESTOREDC</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRRESTOREDC.html" title="EMF Restore DC.">EMRRESTOREDC</a> {
<a name="l05478"></a>05478   <span class="keyword">public</span>:
<a name="l05482"></a>05482     <a class="code" href="classEMF_1_1EMRRESTOREDC.html" title="EMF Restore DC.">EMRRESTOREDC</a> ( INT n )
<a name="l05483"></a>05483     {
<a name="l05484"></a>05484       emr.iType = EMR_RESTOREDC;
<a name="l05485"></a>05485       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRRESTOREDC.html" title="EMF Restore DC."> ::EMRRESTOREDC</a> );
<a name="l05486"></a>05486       iRelative = n;
<a name="l05487"></a>05487     }
<a name="l05492"></a>05492     <a class="code" href="classEMF_1_1EMRRESTOREDC.html" title="EMF Restore DC.">EMRRESTOREDC</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05493"></a>05493     {
<a name="l05494"></a>05494       ds &gt;&gt; emr &gt;&gt; iRelative;
<a name="l05495"></a>05495     }
<a name="l05499"></a>05499     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05500"></a>05500     {
<a name="l05501"></a>05501       ds &lt;&lt; emr &lt;&lt; iRelative;
<a name="l05502"></a>05502       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05503"></a>05503     }
<a name="l05507"></a>05507     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05513"></a>05513     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05514"></a>05514 <span class="keyword">    </span>{
<a name="l05515"></a>05515       RestoreDC( dc, iRelative );
<a name="l05516"></a>05516     }
<a name="l05517"></a>05517 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05518"></a>05518 <span class="preprocessor"></span>
<a name="l05521"></a>05521     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05522"></a>05522 <span class="keyword">    </span>{
<a name="l05523"></a>05523 <span class="preprocessor">#if defined(__x86_64__)</span>
<a name="l05524"></a>05524 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tiRelative: %d\n&quot;</span>;
<a name="l05525"></a>05525 <span class="preprocessor">#else</span>
<a name="l05526"></a>05526 <span class="preprocessor"></span>      <span class="keyword">const</span> <span class="keywordtype">char</span>* FMT = <span class="stringliteral">&quot;\tiRelative: %ld\n&quot;</span>;
<a name="l05527"></a>05527 <span class="preprocessor">#endif </span><span class="comment">/* __x86_64__ */</span>
<a name="l05528"></a>05528       printf( <span class="stringliteral">&quot;*RESTOREDC*\n&quot;</span> );
<a name="l05529"></a>05529       printf( FMT, iRelative );
<a name="l05530"></a>05530     }
<a name="l05531"></a>05531 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05532"></a>05532   };
<a name="l05534"></a>05534 
<a name="l05537"></a><a class="code" href="classEMF_1_1EMRSETMETARGN.html">05537</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETMETARGN.html" title="EMF Set Meta Region.">EMRSETMETARGN</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETMETARGN.html" title="EMF Set Meta Region.">EMRSETMETARGN</a> {
<a name="l05538"></a>05538   <span class="keyword">public</span>:
<a name="l05542"></a>05542     <a class="code" href="classEMF_1_1EMRSETMETARGN.html" title="EMF Set Meta Region.">EMRSETMETARGN</a> ( <span class="keywordtype">void</span> )
<a name="l05543"></a>05543     {
<a name="l05544"></a>05544       emr.iType = EMR_SETMETARGN;
<a name="l05545"></a>05545       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETMETARGN.html" title="EMF Set Meta Region."> ::EMRSETMETARGN</a> );
<a name="l05546"></a>05546     }
<a name="l05551"></a>05551     <a class="code" href="classEMF_1_1EMRSETMETARGN.html" title="EMF Set Meta Region.">EMRSETMETARGN</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05552"></a>05552     {
<a name="l05553"></a>05553       ds &gt;&gt; emr;
<a name="l05554"></a>05554     }
<a name="l05558"></a>05558     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05559"></a>05559     {
<a name="l05560"></a>05560       ds &lt;&lt; emr;
<a name="l05561"></a>05561       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05562"></a>05562     }
<a name="l05566"></a>05566     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05572"></a>05572     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05573"></a>05573 <span class="keyword">    </span>{
<a name="l05574"></a>05574       SetMetaRgn( dc );
<a name="l05575"></a>05575     }
<a name="l05576"></a>05576 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05577"></a>05577 <span class="preprocessor"></span>
<a name="l05580"></a>05580     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05581"></a>05581 <span class="keyword">    </span>{
<a name="l05582"></a>05582       printf( <span class="stringliteral">&quot;*SETMETARGN*\n&quot;</span> );
<a name="l05583"></a>05583     }
<a name="l05584"></a>05584 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05585"></a>05585   };
<a name="l05586"></a>05586 
<a name="l05588"></a>05588 
<a name="l05591"></a><a class="code" href="classEMF_1_1PEN.html">05591</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1PEN.html" title="Graphics Pen.">PEN</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1GRAPHICSOBJECT.html" title="A global graphics object.">GRAPHICSOBJECT</a>, <span class="keyword">public</span> LOGPEN {
<a name="l05592"></a>05592   <span class="keyword">public</span>:
<a name="l05596"></a>05596     <a class="code" href="classEMF_1_1PEN.html" title="Graphics Pen.">PEN</a> ( <span class="keyword">const</span> LOGPEN* lpen )
<a name="l05597"></a>05597     {
<a name="l05598"></a>05598       lopnStyle = lpen-&gt;lopnStyle;
<a name="l05599"></a>05599       lopnWidth = lpen-&gt;lopnWidth;
<a name="l05600"></a>05600       lopnColor = lpen-&gt;lopnColor;
<a name="l05601"></a>05601     }
<a name="l05605"></a>05605     OBJECTTYPE getType ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> O_PEN; }
<a name="l05612"></a>05612     <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* newEMR ( HDC dc, HGDIOBJ emf_handle )
<a name="l05613"></a>05613     {
<a name="l05614"></a>05614       contexts[dc] = emf_handle;
<a name="l05615"></a>05615       <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classEMF_1_1EMRCREATEPEN.html" title="EMF Pen.">EMRCREATEPEN</a>( <span class="keyword">this</span>, emf_handle );
<a name="l05616"></a>05616     }
<a name="l05617"></a>05617   };
<a name="l05618"></a>05618 
<a name="l05620"></a>05620 
<a name="l05623"></a><a class="code" href="classEMF_1_1EXTPEN.html">05623</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EXTPEN.html" title="Extended Graphics Pen.">EXTPEN</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1GRAPHICSOBJECT.html" title="A global graphics object.">GRAPHICSOBJECT</a>, <span class="keyword">public</span> EXTLOGPEN {
<a name="l05624"></a>05624   <span class="keyword">public</span>:
<a name="l05628"></a>05628     <a class="code" href="classEMF_1_1EXTPEN.html" title="Extended Graphics Pen.">EXTPEN</a> ( <span class="keyword">const</span> EXTLOGPEN* lpen )
<a name="l05629"></a>05629     {
<a name="l05630"></a>05630       elpPenStyle = lpen-&gt;elpPenStyle;
<a name="l05631"></a>05631       elpWidth = lpen-&gt;elpWidth;
<a name="l05632"></a>05632       elpBrushStyle = lpen-&gt;elpBrushStyle;
<a name="l05633"></a>05633       elpColor = lpen-&gt;elpColor;
<a name="l05634"></a>05634       elpHatch = lpen-&gt;elpHatch;
<a name="l05635"></a>05635       elpNumEntries = 0;
<a name="l05636"></a>05636       elpStyleEntry[0] = 0;
<a name="l05637"></a>05637     }
<a name="l05641"></a>05641     OBJECTTYPE getType ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> O_EXTPEN; }
<a name="l05648"></a>05648     <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* newEMR ( HDC dc, HGDIOBJ emf_handle )
<a name="l05649"></a>05649     {
<a name="l05650"></a>05650       contexts[dc] = emf_handle;
<a name="l05651"></a>05651       <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classEMF_1_1EMREXTCREATEPEN.html" title="EMF Extended Pen.">EMREXTCREATEPEN</a>( <span class="keyword">this</span>, emf_handle );
<a name="l05652"></a>05652     }
<a name="l05653"></a>05653   };
<a name="l05654"></a>05654 
<a name="l05656"></a>05656 
<a name="l05659"></a><a class="code" href="classEMF_1_1BRUSH.html">05659</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1BRUSH.html" title="Graphics Brush.">BRUSH</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1GRAPHICSOBJECT.html" title="A global graphics object.">GRAPHICSOBJECT</a>, <span class="keyword">public</span> LOGBRUSH {
<a name="l05660"></a>05660   <span class="keyword">public</span>:
<a name="l05664"></a>05664     <a class="code" href="classEMF_1_1BRUSH.html" title="Graphics Brush.">BRUSH</a> ( <span class="keyword">const</span> LOGBRUSH* lbrush )
<a name="l05665"></a>05665     {
<a name="l05666"></a>05666       lbStyle = lbrush-&gt;lbStyle;
<a name="l05667"></a>05667       lbColor = lbrush-&gt;lbColor;
<a name="l05668"></a>05668       lbHatch = lbrush-&gt;lbHatch;
<a name="l05669"></a>05669     }
<a name="l05673"></a>05673     OBJECTTYPE getType ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> O_BRUSH; }
<a name="l05680"></a>05680     <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* newEMR ( HDC dc, HGDIOBJ emf_handle )
<a name="l05681"></a>05681     {
<a name="l05682"></a>05682       contexts[dc] = emf_handle;
<a name="l05683"></a>05683       <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classEMF_1_1EMRCREATEBRUSHINDIRECT.html" title="EMF Brush.">EMRCREATEBRUSHINDIRECT</a>( <span class="keyword">this</span>, emf_handle );
<a name="l05684"></a>05684     }
<a name="l05685"></a>05685   };
<a name="l05686"></a>05686 
<a name="l05688"></a>05688 
<a name="l05691"></a><a class="code" href="classEMF_1_1FONT.html">05691</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1FONT.html" title="Graphics Font.">FONT</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1GRAPHICSOBJECT.html" title="A global graphics object.">GRAPHICSOBJECT</a>, <span class="keyword">public</span> EXTLOGFONTW {
<a name="l05692"></a>05692   <span class="keyword">public</span>:
<a name="l05696"></a>05696     <a class="code" href="classEMF_1_1FONT.html" title="Graphics Font.">FONT</a> ( <span class="keyword">const</span> LOGFONTW* lfont )
<a name="l05697"></a>05697     {
<a name="l05698"></a>05698       this-&gt;elfLogFont = *lfont;
<a name="l05699"></a>05699       <span class="comment">// There are a lot more entries in the EXTLOGFONTW structure than</span>
<a name="l05700"></a>05700       <span class="comment">// the API has values for, so we invent them here</span>
<a name="l05701"></a>05701       memset( &amp;elfFullName, 0, <span class="keyword">sizeof</span> elfFullName );
<a name="l05702"></a>05702       memset( &amp;elfStyle, 0, <span class="keyword">sizeof</span> elfStyle );
<a name="l05703"></a>05703       elfVersion = ELF_VERSION;
<a name="l05704"></a>05704       elfStyleSize = 0;
<a name="l05705"></a>05705       elfMatch = 0;
<a name="l05706"></a>05706       elfReserved = 0;
<a name="l05707"></a>05707       memset( &amp;elfVendorId, 0, <span class="keyword">sizeof</span> elfVendorId );
<a name="l05708"></a>05708       elfCulture = ELF_CULTURE_LATIN;
<a name="l05709"></a>05709       memset( &amp;elfPanose, 1, <span class="keyword">sizeof</span>(PANOSE) );
<a name="l05710"></a>05710     }
<a name="l05714"></a>05714     OBJECTTYPE getType ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> O_FONT; }
<a name="l05721"></a>05721     <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* newEMR ( HDC dc, HGDIOBJ emf_handle )
<a name="l05722"></a>05722     {
<a name="l05723"></a>05723       contexts[dc] = emf_handle;
<a name="l05724"></a>05724       <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classEMF_1_1EMREXTCREATEFONTINDIRECTW.html" title="EMF Font.">EMREXTCREATEFONTINDIRECTW</a>( <span class="keyword">this</span>, emf_handle );
<a name="l05725"></a>05725     }
<a name="l05726"></a>05726   };
<a name="l05727"></a>05727 
<a name="l05729"></a>05729 
<a name="l05732"></a><a class="code" href="classEMF_1_1PALETTE.html">05732</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1PALETTE.html" title="Graphics Palette.">PALETTE</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1GRAPHICSOBJECT.html" title="A global graphics object.">GRAPHICSOBJECT</a>, <span class="keyword">public</span> LOGPALETTE {
<a name="l05733"></a>05733   <span class="keyword">public</span>:
<a name="l05737"></a>05737     <a class="code" href="classEMF_1_1PALETTE.html" title="Graphics Palette.">PALETTE</a> ( <span class="keyword">const</span> LOGPALETTE* lpalette )
<a name="l05738"></a>05738     {
<a name="l05739"></a>05739       (void)lpalette;
<a name="l05740"></a>05740       palVersion = 0;
<a name="l05741"></a>05741       palNumEntries = 0;
<a name="l05742"></a>05742       PALETTEENTRY zero_entry = { 0, 0, 0, 0 };
<a name="l05743"></a>05743       palPalEntry[0] = zero_entry;
<a name="l05744"></a>05744     }
<a name="l05748"></a>05748     OBJECTTYPE getType ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> O_PALETTE; }
<a name="l05755"></a>05755     <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* newEMR ( HDC dc, HGDIOBJ emf_handle )
<a name="l05756"></a>05756     {
<a name="l05757"></a>05757       contexts[dc] = emf_handle;
<a name="l05758"></a>05758       <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classEMF_1_1EMRCREATEPALETTE.html" title="EMF Palette.">EMRCREATEPALETTE</a>( <span class="keyword">this</span>, emf_handle );
<a name="l05759"></a>05759     }
<a name="l05760"></a>05760   };
<a name="l05761"></a>05761 
<a name="l05763"></a>05763 
<a name="l05766"></a><a class="code" href="classEMF_1_1EMRSETMITERLIMIT.html">05766</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1EMRSETMITERLIMIT.html" title="EMF SetMiterLimit.">EMRSETMITERLIMIT</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>, ::<a class="code" href="classEMF_1_1EMRSETMITERLIMIT.html" title="EMF SetMiterLimit.">EMRSETMITERLIMIT</a> {
<a name="l05767"></a>05767   <span class="keyword">public</span>:
<a name="l05771"></a>05771     <a class="code" href="classEMF_1_1EMRSETMITERLIMIT.html" title="EMF SetMiterLimit.">EMRSETMITERLIMIT</a> ( FLOAT limit )
<a name="l05772"></a>05772     {
<a name="l05773"></a>05773       emr.iType = EMR_SETMITERLIMIT;
<a name="l05774"></a>05774       emr.nSize = <span class="keyword">sizeof</span>(<a class="code" href="classEMF_1_1EMRSETMITERLIMIT.html" title="EMF SetMiterLimit."> ::EMRSETMITERLIMIT</a> );
<a name="l05775"></a>05775       eMiterLimit = limit;
<a name="l05776"></a>05776     }
<a name="l05781"></a>05781     <a class="code" href="classEMF_1_1EMRSETMITERLIMIT.html" title="EMF SetMiterLimit.">EMRSETMITERLIMIT</a> ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a>&amp; ds )
<a name="l05782"></a>05782     {
<a name="l05783"></a>05783       ds &gt;&gt; emr &gt;&gt; eMiterLimit;
<a name="l05784"></a>05784     }
<a name="l05788"></a>05788     <span class="keywordtype">bool</span> serialize ( <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds )
<a name="l05789"></a>05789     {
<a name="l05790"></a>05790       ds &lt;&lt; emr &lt;&lt; eMiterLimit;
<a name="l05791"></a>05791       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l05792"></a>05792     }
<a name="l05796"></a>05796     <span class="keywordtype">int</span> size ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> emr.nSize; }
<a name="l05802"></a>05802     <span class="keywordtype">void</span> execute ( <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a>* <span class="comment">/*source*/</span>, HDC dc )<span class="keyword"> const</span>
<a name="l05803"></a>05803 <span class="keyword">    </span>{
<a name="l05804"></a>05804        SetMiterLimit( dc, eMiterLimit, 0 );
<a name="l05805"></a>05805     }
<a name="l05806"></a>05806 <span class="preprocessor">#ifdef ENABLE_EDITING</span>
<a name="l05807"></a>05807 <span class="preprocessor"></span>
<a name="l05810"></a>05810     <span class="keywordtype">void</span> edit ( <span class="keywordtype">void</span> )<span class="keyword"> const</span>
<a name="l05811"></a>05811 <span class="keyword">    </span>{
<a name="l05812"></a>05812       printf( <span class="stringliteral">&quot;*SETMITERLIMIT*\n&quot;</span> );
<a name="l05813"></a>05813       printf( <span class="stringliteral">&quot;\teMiterLimit\t: %f\n&quot;</span>, eMiterLimit );
<a name="l05814"></a>05814     }
<a name="l05815"></a>05815 <span class="preprocessor">#endif </span><span class="comment">/* ENABLE_EDITING */</span>
<a name="l05816"></a>05816   };
<a name="l05817"></a>05817 
<a name="l05819"></a>05819 
<a name="l05825"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html">05825</a>   <span class="keyword">class </span><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a> : <span class="keyword">public</span> <a class="code" href="classEMF_1_1OBJECT.html" title="Global GDI object.">OBJECT</a> {
<a name="l05833"></a>05833     <span class="keywordtype">void</span> init ( <span class="keyword">const</span> RECT* size, LPCWSTR description_w ) {
<a name="l05834"></a>05834 
<a name="l05835"></a>05835       <span class="comment">// Evidently, metafile handles are numbered from 1, so don&apos;t</span>
<a name="l05836"></a>05836       <span class="comment">// ever use 0.</span>
<a name="l05837"></a>05837 
<a name="l05838"></a>05838       handles.push_back( <span class="keyword">true</span> );
<a name="l05839"></a>05839 
<a name="l05840"></a>05840       <span class="comment">// Keep some of our graphics state in a header record</span>
<a name="l05841"></a>05841 
<a name="l05842"></a>05842       header = <span class="keyword">new</span> <a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a> ( description_w );
<a name="l05843"></a>05843       records.push_back( header );
<a name="l05844"></a>05844 
<a name="l05845"></a>05845       <span class="comment">// Compute the size and position of the metafile on the &quot;page&quot;</span>
<a name="l05846"></a>05846 
<a name="l05847"></a>05847       <span class="keywordflow">if</span> ( size ) {
<a name="l05848"></a>05848         update_frame = <span class="keyword">false</span>;
<a name="l05849"></a>05849 
<a name="l05850"></a>05850         header-&gt;rclFrame.left = size-&gt;left;
<a name="l05851"></a>05851         header-&gt;rclFrame.top = size-&gt;top;
<a name="l05852"></a>05852         header-&gt;rclFrame.right = size-&gt;right;
<a name="l05853"></a>05853         header-&gt;rclFrame.bottom = size-&gt;bottom;
<a name="l05854"></a>05854 
<a name="l05855"></a>05855         header-&gt;rclBounds.left =
<a name="l05856"></a>05856           size-&gt;left * header-&gt;szlDevice.cx / ( header-&gt;szlMillimeters.cx * 100 );
<a name="l05857"></a>05857         header-&gt;rclBounds.top =
<a name="l05858"></a>05858           size-&gt;top * header-&gt;szlDevice.cy / ( header-&gt;szlMillimeters.cy * 100 );
<a name="l05859"></a>05859         header-&gt;rclBounds.right =
<a name="l05860"></a>05860           size-&gt;right * header-&gt;szlDevice.cx / ( header-&gt;szlMillimeters.cx * 100 );
<a name="l05861"></a>05861         header-&gt;rclBounds.bottom =
<a name="l05862"></a>05862           size-&gt;bottom * header-&gt;szlDevice.cy / ( header-&gt;szlMillimeters.cy * 100 );
<a name="l05863"></a>05863       }
<a name="l05864"></a>05864       <span class="keywordflow">else</span> {
<a name="l05865"></a>05865         update_frame = <span class="keyword">true</span>;
<a name="l05866"></a>05866 
<a name="l05867"></a>05867         header-&gt;rclBounds.left = -10;
<a name="l05868"></a>05868         header-&gt;rclBounds.top = -10;
<a name="l05869"></a>05869         header-&gt;rclBounds.right = 10;
<a name="l05870"></a>05870         header-&gt;rclBounds.bottom = 10;
<a name="l05871"></a>05871 
<a name="l05872"></a>05872         header-&gt;rclFrame.left = (LONG)floor( (<span class="keywordtype">float</span>)header-&gt;rclBounds.left *
<a name="l05873"></a>05873           header-&gt;szlMillimeters.cx * 100 / header-&gt;szlDevice.cx );
<a name="l05874"></a>05874         header-&gt;rclFrame.top = (LONG)floor( (<span class="keywordtype">float</span>)header-&gt;rclBounds.top *
<a name="l05875"></a>05875           header-&gt;szlMillimeters.cy * 100 / header-&gt;szlDevice.cy );
<a name="l05876"></a>05876         header-&gt;rclFrame.right = (LONG)ceil( (<span class="keywordtype">float</span>)header-&gt;rclBounds.right *
<a name="l05877"></a>05877           header-&gt;szlMillimeters.cx * 100 / header-&gt;szlDevice.cx );
<a name="l05878"></a>05878         header-&gt;rclFrame.bottom = (LONG)ceil( (<span class="keywordtype">float</span>)header-&gt;rclBounds.bottom *
<a name="l05879"></a>05879           header-&gt;szlMillimeters.cy * 100 / header-&gt;szlDevice.cy );
<a name="l05880"></a>05880       }
<a name="l05881"></a>05881 
<a name="l05882"></a>05882       <span class="comment">// Some default graphics state (are they really, though?)</span>
<a name="l05883"></a>05883 
<a name="l05884"></a>05884       SIZEL default_resolution = { RESOLUTION, RESOLUTION };
<a name="l05885"></a>05885       resolution = default_resolution;
<a name="l05886"></a>05886       SIZEL default_viewport_ext = { 1, 1 };
<a name="l05887"></a>05887       viewport_ext = default_viewport_ext;
<a name="l05888"></a>05888       POINT default_viewport_org = { 0, 0 };
<a name="l05889"></a>05889       viewport_org = default_viewport_org;
<a name="l05890"></a>05890       SIZEL default_window_ext = { 1, 1 };
<a name="l05891"></a>05891       window_ext = default_window_ext;
<a name="l05892"></a>05892       POINT default_window_org = { 0, 0 };
<a name="l05893"></a>05893       window_org = default_window_org;
<a name="l05894"></a>05894 
<a name="l05895"></a>05895       min_device_point = viewport_org;
<a name="l05896"></a>05896       max_device_point = viewport_org;
<a name="l05897"></a>05897 
<a name="l05898"></a>05898       pen = (<a class="code" href="classEMF_1_1PEN.html" title="Graphics Pen.">PEN</a>*)globalObjects.find( BLACK_PEN | ENHMETA_STOCK_OBJECT );
<a name="l05899"></a>05899       brush = (<a class="code" href="classEMF_1_1BRUSH.html" title="Graphics Brush.">BRUSH</a>*)globalObjects.find( BLACK_BRUSH | ENHMETA_STOCK_OBJECT );
<a name="l05900"></a>05900       font = (<a class="code" href="classEMF_1_1FONT.html" title="Graphics Font.">FONT</a>*)globalObjects.find( DEVICE_DEFAULT_FONT | ENHMETA_STOCK_OBJECT);
<a name="l05901"></a>05901       palette = (<a class="code" href="classEMF_1_1PALETTE.html" title="Graphics Palette.">PALETTE</a>*)globalObjects.find( DEFAULT_PALETTE|ENHMETA_STOCK_OBJECT);
<a name="l05902"></a>05902 
<a name="l05903"></a>05903       text_alignment = TA_BASELINE;
<a name="l05904"></a>05904       text_color = RGB(0,0,0);
<a name="l05905"></a>05905       bk_color = RGB(0xff,0xff,0xff);
<a name="l05906"></a>05906       bk_mode = OPAQUE;
<a name="l05907"></a>05907       polyfill_mode = ALTERNATE;
<a name="l05908"></a>05908       map_mode = MM_TEXT;
<a name="l05909"></a>05909       miter_limit = 10.f;
<a name="l05910"></a>05910 
<a name="l05911"></a>05911       handle = globalObjects.add( <span class="keyword">this</span> );
<a name="l05912"></a>05912     }
<a name="l05913"></a>05913 
<a name="l05914"></a>05914   <span class="keyword">public</span>:
<a name="l05918"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a3e22c6068aeb92b47c613cd3751b76a1">05918</a>     ::FILE* fp;
<a name="l05923"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a978ab1f1e250e7a1ea6f41057e2b9943">05923</a>     <a class="code" href="classEMF_1_1DATASTREAM.html" title="Support different endian modes when reading and writing the metafile.">DATASTREAM</a> ds;
<a name="l05927"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a2780b719bbfdadf9e347f3431a653a98">05927</a>     <a class="code" href="classEMF_1_1ENHMETAHEADER.html" title="Enhanced Metafile Header Record.">ENHMETAHEADER</a>* header;
<a name="l05931"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#aef4cfdee7e76cbe161ff1ce2daa9b838">05931</a>     std::vector&lt; EMF::METARECORD* &gt; records;
<a name="l05932"></a>05932 
<a name="l05933"></a>05933     <span class="comment">// Keep a small set of graphics state information</span>
<a name="l05934"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a625edc0b6b5065edec144400575d3a7e">05934</a>     SIZEL resolution;           
<a name="l05935"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a5c88269fb09200fe551e924c7596d4bb">05935</a>     SIZEL viewport_ext;         
<a name="l05936"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#ad51bbebf954d6a34334bcd86139b6a69">05936</a>     POINT viewport_org;         
<a name="l05937"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#ad596b5af84ff1b6ec8cb8503037c8899">05937</a>     SIZEL window_ext;           
<a name="l05938"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a34401121621cde46f03ef13cb0a531d0">05938</a>     POINT window_org;           
<a name="l05939"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a5fd886cefb1a7b8b8aebb16f07884e8c">05939</a>     <span class="keywordtype">bool</span> update_frame;          
<a name="l05940"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a86bd47f005b0e682911b847194498472">05940</a>     POINT min_device_point;     
<a name="l05941"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a9c184727efaf8dae1d7fde757e7e9470">05941</a>     POINT max_device_point;     
<a name="l05942"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a88aee60d923e9ba7e375745487e51671">05942</a>     POINT point;                
<a name="l05943"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a4591a28f6b496e263494d0e41a75c91f">05943</a>     <a class="code" href="classEMF_1_1PEN.html" title="Graphics Pen.">PEN</a>* pen;                   
<a name="l05944"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a59b33587e38c301e2b24a3c8651f2a8f">05944</a>     <a class="code" href="classEMF_1_1BRUSH.html" title="Graphics Brush.">BRUSH</a>* brush;               
<a name="l05945"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a47502e471bb612a9d42946af0187b91e">05945</a>     <a class="code" href="classEMF_1_1FONT.html" title="Graphics Font.">FONT</a>* font;                 
<a name="l05946"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#ad4c27c2d6245e62aeae18bd9de4f473e">05946</a>     <a class="code" href="classEMF_1_1PALETTE.html" title="Graphics Palette.">PALETTE</a>* palette;           
<a name="l05947"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a625fde9c620a1c88d8c7c3e334778580">05947</a>     UINT text_alignment;        
<a name="l05948"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#ad22c712666fc59816ed5e340d6903f19">05948</a>     COLORREF text_color;        
<a name="l05949"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a925dd79bd78134bf782da8538e7dd92a">05949</a>     COLORREF bk_color;          
<a name="l05950"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#ae19e5d7b34631316a44953e95ee02999">05950</a>     INT bk_mode;                
<a name="l05951"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a2e94c725511f79e55dc33243f085ccf4">05951</a>     INT polyfill_mode;          
<a name="l05952"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a8b25950500556f4dbaaf97a69d89a2f6">05952</a>     INT map_mode;               
<a name="l05953"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a7c8b77399cb9824568513b21340d26c6">05953</a>     FLOAT miter_limit;          
<a name="l05954"></a>05954 
<a name="l05960"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a98ee6f5c389f975c7c3893247d0d40a4">05960</a>     std::vector&lt; bool &gt; handles;
<a name="l05961"></a>05961 
<a name="l05967"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#afb5c553edc604a6ee3aeec62c9777996">05967</a>     std::map&lt; HGDIOBJ, HGDIOBJ &gt; emf_handles;
<a name="l05968"></a>05968 
<a name="l05979"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#aa7d4647a5745450f55914a53ea49da52">05979</a>       <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a> ( FILE* fp_, <span class="keyword">const</span> RECT* size,
<a name="l05980"></a>05980                               LPCWSTR description_w )
<a name="l05981"></a>05981         : fp(fp_), ds( fp_ )
<a name="l05982"></a>05982     {
<a name="l05983"></a>05983           init( size, description_w );
<a name="l05984"></a>05984     }
<a name="l05989"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a63ac58bc682e5feccef7a0b3c3225cc1">05989</a>     <span class="keyword">virtual</span> ~<a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html" title="Graphics Device Context.">METAFILEDEVICECONTEXT</a> ( )
<a name="l05990"></a>05990     {
<a name="l05991"></a>05991       <span class="comment">// Purge all the metarecords (if there are any) {this include the</span>
<a name="l05992"></a>05992       <span class="comment">// header record, too}</span>
<a name="l05993"></a>05993       <span class="keywordflow">if</span> ( records.size() &gt; 0 )
<a name="l05994"></a>05994         deleteMetafile();
<a name="l05995"></a>05995     }
<a name="l05999"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a8050fa245ba83d1ca3a847f3ea12f434">05999</a>     OBJECTTYPE <a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a8050fa245ba83d1ca3a847f3ea12f434">getType</a> ( <span class="keywordtype">void</span> )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> O_METAFILEDEVICECONTEXT; }
<a name="l06004"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#afd1eecf0c49a179bf2f1748f21a99c69">06004</a>     DWORD nextHandle ( <span class="keywordtype">void</span> )
<a name="l06005"></a>06005     {
<a name="l06006"></a>06006       <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; handles.size(); i++ ) {
<a name="l06007"></a>06007         <span class="keywordflow">if</span> ( !handles[i] ) {
<a name="l06008"></a>06008           handles[i] = <span class="keyword">true</span>;
<a name="l06009"></a>06009           <span class="keywordflow">return</span> i;
<a name="l06010"></a>06010         }
<a name="l06011"></a>06011       }
<a name="l06012"></a>06012       handles.push_back( <span class="keyword">true</span> );
<a name="l06013"></a>06013       <span class="comment">// Well, it appears that even StockObject handles count for something.</span>
<a name="l06014"></a>06014       <span class="comment">// Not sure what the right value here is, then.</span>
<a name="l06015"></a>06015       header-&gt;nHandles = handles.size();
<a name="l06016"></a>06016       <span class="keywordflow">return</span> handles.size()-1;
<a name="l06017"></a>06017     }
<a name="l06021"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a05de9844c189e265c03196610755059e">06021</a>     <span class="keywordtype">void</span> clearHandle ( DWORD handle )
<a name="l06022"></a>06022     {
<a name="l06023"></a>06023       handles[handle] = <span class="keyword">false</span>;
<a name="l06024"></a>06024     }
<a name="l06030"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a7623fa0c9ae7efa7eb6b882a4d97269d">06030</a>     <span class="keywordtype">void</span> appendRecord ( <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* record )
<a name="l06031"></a>06031     {
<a name="l06032"></a>06032       records.push_back( record );
<a name="l06033"></a>06033 
<a name="l06034"></a>06034       header-&gt;nBytes += record-&gt;<a class="code" href="classEMF_1_1METARECORD.html#a255c4cd568e166aa8cee9c50eddbb92e">size</a>();
<a name="l06035"></a>06035       header-&gt;nRecords++;
<a name="l06036"></a>06036     }
<a name="l06042"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a243a04fe23fc76883154dfc8389116fc">06042</a>     <span class="keywordtype">void</span> appendHandle ( <a class="code" href="classEMF_1_1METARECORD.html" title="The base class of all metafile records.">METARECORD</a>* record )
<a name="l06043"></a>06043     {
<a name="l06044"></a>06044       records.push_back( record );
<a name="l06045"></a>06045 
<a name="l06046"></a>06046       header-&gt;nBytes += record-&gt;<a class="code" href="classEMF_1_1METARECORD.html#a255c4cd568e166aa8cee9c50eddbb92e">size</a>();
<a name="l06047"></a>06047       header-&gt;nRecords++;
<a name="l06048"></a>06048     }
<a name="l06053"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a38125b26c90e21552c6a452476f67bf9">06053</a>     <span class="keywordtype">void</span> deleteMetafile ( <span class="keywordtype">void</span> )
<a name="l06054"></a>06054     {
<a name="l06055"></a>06055       <span class="keywordflow">for</span> ( std::vector&lt;METARECORD*&gt;::const_iterator r = records.begin();
<a name="l06056"></a>06056             r != records.end();
<a name="l06057"></a>06057             r++ ) {
<a name="l06058"></a>06058         <span class="keyword">delete</span> *r;
<a name="l06059"></a>06059       }
<a name="l06060"></a>06060       records.clear();
<a name="l06061"></a>06061     }
<a name="l06066"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#a86e3ddfb2dd2b82c322dd10ab101a501">06066</a>     <span class="keywordtype">void</span> mergePoint ( <span class="keyword">const</span> LONG&amp; x, <span class="keyword">const</span> LONG&amp; y )
<a name="l06067"></a>06067     {
<a name="l06068"></a>06068       POINT p;
<a name="l06069"></a>06069       p.x = x;
<a name="l06070"></a>06070       p.y = y;
<a name="l06071"></a>06071       mergePoint( p );
<a name="l06072"></a>06072     }
<a name="l06077"></a><a class="code" href="classEMF_1_1METAFILEDEVICECONTEXT.html#af8990cf95287b9ef018cb5f75d20a457">06077</a>     <span class="keywordtype">void</span> mergePoint( <span class="keyword">const</span> POINT&amp; p )
<a name="l06078"></a>06078     {
<a name="l06079"></a>06079       POINT device_point;
<a name="l06080"></a>06080 
<a name="l06081"></a>06081       <span class="comment">// *** Note, it&apos;s possible for the global transformation matrix to</span>
<a name="l06082"></a>06082       <span class="comment">// affect this too. ***</span>
<a name="l06083"></a>06083 
<a name="l06084"></a>06084       device_point.x = (LONG)( (<span class="keywordtype">float</span>)( p.x - window_org.x ) / window_ext.cx *
<a name="l06085"></a>06085         viewport_ext.cx + viewport_org.x );
<a name="l06086"></a>06086 
<a name="l06087"></a>06087       device_point.y = (LONG)( (<span class="keywordtype">float</span>)( p.y - window_org.y ) / window_ext.cy *
<a name="l06088"></a>06088         viewport_ext.cy + viewport_org.y );
<a name="l06089"></a>06089 
<a name="l06090"></a>06090       <span class="comment">// If the user didn&apos;t specify a bounding rectangle in the constructor,</span>
<a name="l06091"></a>06091       <span class="comment">// compute one from this data, too.</span>
<a name="l06092"></a>06092       <span class="keywordflow">if</span> ( device_point.x &lt; min_device_point.x ) {
<a name="l06093"></a>06093         min_device_point.x = device_point.x;
<a name="l06094"></a>06094         <span class="keywordflow">if</span> ( update_frame ) {
<a name="l06095"></a>06095           header-&gt;rclBounds.left = min_device_point.x - 10;
<a name="l06096"></a>06096           header-&gt;rclFrame.left = (LONG)floor( (<span class="keywordtype">float</span>)header-&gt;rclBounds.left *
<a name="l06097"></a>06097             header-&gt;szlMillimeters.cx * 100 / header-&gt;szlDevice.cx );
<a name="l06098"></a>06098         }
<a name="l06099"></a>06099       }
<a name="l06100"></a>06100       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( device_point.x &gt; max_device_point.x ) {
<a name="l06101"></a>06101         max_device_point.x = device_point.x;
<a name="l06102"></a>06102         <span class="keywordflow">if</span> ( update_frame ) {
<a name="l06103"></a>06103           header-&gt;rclBounds.right = max_device_point.x + 10;
<a name="l06104"></a>06104           header-&gt;rclFrame.right = (LONG)ceil( (<span class="keywordtype">float</span>)header-&gt;rclBounds.right *
<a name="l06105"></a>06105             header-&gt;szlMillimeters.cx * 100 / header-&gt;szlDevice.cx );
<a name="l06106"></a>06106         }
<a name="l06107"></a>06107       }
<a name="l06108"></a>06108 
<a name="l06109"></a>06109       <span class="keywordflow">if</span> ( device_point.y &lt; min_device_point.y ) {
<a name="l06110"></a>06110         min_device_point.y = device_point.y;
<a name="l06111"></a>06111         <span class="keywordflow">if</span> ( update_frame ) {
<a name="l06112"></a>06112           header-&gt;rclBounds.top = min_device_point.y - 10;
<a name="l06113"></a>06113           header-&gt;rclFrame.top = (LONG)floor( (<span class="keywordtype">float</span>)header-&gt;rclBounds.top *
<a name="l06114"></a>06114             header-&gt;szlMillimeters.cy * 100 / header-&gt;szlDevice.cy );
<a name="l06115"></a>06115         }
<a name="l06116"></a>06116       }
<a name="l06117"></a>06117       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( device_point.y &gt; max_device_point.y ) {
<a name="l06118"></a>06118         max_device_point.y = device_point.y;
<a name="l06119"></a>06119         <span class="keywordflow">if</span> ( update_frame ) {
<a name="l06120"></a>06120           header-&gt;rclBounds.bottom = max_device_point.y + 10;
<a name="l06121"></a>06121           header-&gt;rclFrame.bottom = (LONG)ceil( (<span class="keywordtype">float</span>)header-&gt;rclBounds.bottom *
<a name="l06122"></a>06122             header-&gt;szlMillimeters.cy * 100 / header-&gt;szlDevice.cy );
<a name="l06123"></a>06123         }
<a name="l06124"></a>06124       }
<a name="l06125"></a>06125     }
<a name="l06126"></a>06126   };
<a name="l06127"></a>06127 
<a name="l06128"></a>06128 } <span class="comment">// close EMF namespace</span>
<a name="l06129"></a>06129 
<a name="l06130"></a>06130 <span class="preprocessor">#endif </span><span class="comment">/* _LIBEMF_H */</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Thu May 24 08:29:26 2012 for EMF by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.5.9-20090622 </small></address>
</body>
</html>
