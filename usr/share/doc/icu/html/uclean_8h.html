<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ICU 4.8.1: uclean.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>uclean.h File Reference</h1>
<p>C API: Initialize and clean up ICU.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="utypes_8h_source.html">unicode/utypes.h</a>&quot;</code><br/>

<p><a href="uclean_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#af125d56147c708c2d8ecc5327449c41d">UMTX</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An opaque pointer type that represents an ICU mutex.  <a href="#af125d56147c708c2d8ecc5327449c41d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a302ac3ea859a593dea50f9a1b06ce5b1">UMtxInitFn</a> (const void *context, <a class="el" href="uclean_8h.html#af125d56147c708c2d8ecc5327449c41d">UMTX</a> *mutex, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function Pointer type for a user supplied mutex initialization function.  <a href="#a302ac3ea859a593dea50f9a1b06ce5b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a> (const void *context, <a class="el" href="uclean_8h.html#af125d56147c708c2d8ecc5327449c41d">UMTX</a> *mutex)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function Pointer type for a user supplied mutex functions.  <a href="#a67a2314f542b9f495ef0b2ac1cfd5192"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a21713ef0c8987c243f315dab6db8e2b8">UMtxAtomicFn</a> (const void *context, int32_t *p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer type for a user supplied atomic increment or decrement function.  <a href="#a21713ef0c8987c243f315dab6db8e2b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a7a7b058f29daf7fcac9a5c27584b1710">UMemAllocFn</a> (const void *context, size_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer type for a user supplied memory allocation function.  <a href="#a7a7b058f29daf7fcac9a5c27584b1710"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a1b6b46b156cc0874de4c1f9ae202e6e7">UMemReallocFn</a> (const void *context, void *mem, size_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer type for a user supplied memory re-allocation function.  <a href="#a1b6b46b156cc0874de4c1f9ae202e6e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a0ef0908b72449d65c915e6c3d173886a">UMemFreeFn</a> (const void *context, void *mem)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer type for a user supplied memory free function.  <a href="#a0ef0908b72449d65c915e6c3d173886a"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c">u_init</a> (<a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize ICU.  <a href="#ab6a4215b45b2162889aa1ff01e491d4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920">u_cleanup</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clean up the system resources, such as allocated memory or open files, used in all ICU libraries.  <a href="#a93f27d0ddc7c196a1da864763f2d8920"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#ad286bdc5cbaf91e6b6e8f9c565455ec0">u_setMutexFunctions</a> (const void *context, <a class="el" href="uclean_8h.html#a302ac3ea859a593dea50f9a1b06ce5b1">UMtxInitFn</a> *init, <a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a> *destroy, <a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a> *lock, <a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a> *unlock, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the functions that ICU will use for mutex operations Use of this function is optional; by default (without this function), ICU will directly access system functions for mutex operations This function can only be used when ICU is in an initial, unused state, before <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> has been called.  <a href="#ad286bdc5cbaf91e6b6e8f9c565455ec0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a677b75b566af2a41202e255262ff38c3">u_setAtomicIncDecFunctions</a> (const void *context, <a class="el" href="uclean_8h.html#a21713ef0c8987c243f315dab6db8e2b8">UMtxAtomicFn</a> *inc, <a class="el" href="uclean_8h.html#a21713ef0c8987c243f315dab6db8e2b8">UMtxAtomicFn</a> *dec, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the functions that ICU will use for atomic increment and decrement of int32_t values.  <a href="#a677b75b566af2a41202e255262ff38c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="uclean_8h.html#a5dea766c5e726833400dc0ee24a2bc6a">u_setMemoryFunctions</a> (const void *context, <a class="el" href="uclean_8h.html#a7a7b058f29daf7fcac9a5c27584b1710">UMemAllocFn</a> *a, <a class="el" href="uclean_8h.html#a1b6b46b156cc0874de4c1f9ae202e6e7">UMemReallocFn</a> *r, <a class="el" href="uclean_8h.html#a0ef0908b72449d65c915e6c3d173886a">UMemFreeFn</a> *f, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the functions that ICU will use for memory allocation.  <a href="#a5dea766c5e726833400dc0ee24a2bc6a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>C API: Initialize and clean up ICU. </p>

<p>Definition in file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a7a7b058f29daf7fcac9a5c27584b1710"></a><!-- doxytag: member="uclean.h::UMemAllocFn" ref="a7a7b058f29daf7fcac9a5c27584b1710" args="(const void *context, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="uclean_8h.html#a7a7b058f29daf7fcac9a5c27584b1710">UMemAllocFn</a>(const void *context, size_t size)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer type for a user supplied memory allocation function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>user supplied value, obtained from from <a class="el" href="uclean_8h.html#a5dea766c5e726833400dc0ee24a2bc6a" title="Set the functions that ICU will use for memory allocation.">u_setMemoryFunctions()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of bytes to be allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the newly allocated memory, or NULL if the allocation failed. </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001087">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000010">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

<p>Definition at line <a class="el" href="uclean_8h_source.html#l00209">209</a> of file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0ef0908b72449d65c915e6c3d173886a"></a><!-- doxytag: member="uclean.h::UMemFreeFn" ref="a0ef0908b72449d65c915e6c3d173886a" args="(const void *context, void *mem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void <a class="el" href="uclean_8h.html#a0ef0908b72449d65c915e6c3d173886a">UMemFreeFn</a>(const void *context, void *mem)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer type for a user supplied memory free function. </p>
<p>Behavior should be similar the standard C library free(). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>user supplied value, obtained from from <a class="el" href="uclean_8h.html#a5dea766c5e726833400dc0ee24a2bc6a" title="Set the functions that ICU will use for memory allocation.">u_setMemoryFunctions()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem</em>&nbsp;</td><td>Pointer to the memory block to be resized </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The new size for the block </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the resized memory block, or NULL if the resizing failed. </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001089">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000012">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

<p>Definition at line <a class="el" href="uclean_8h_source.html#l00229">229</a> of file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1b6b46b156cc0874de4c1f9ae202e6e7"></a><!-- doxytag: member="uclean.h::UMemReallocFn" ref="a1b6b46b156cc0874de4c1f9ae202e6e7" args="(const void *context, void *mem, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="uclean_8h.html#a1b6b46b156cc0874de4c1f9ae202e6e7">UMemReallocFn</a>(const void *context, void *mem, size_t size)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer type for a user supplied memory re-allocation function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>user supplied value, obtained from from <a class="el" href="uclean_8h.html#a5dea766c5e726833400dc0ee24a2bc6a" title="Set the functions that ICU will use for memory allocation.">u_setMemoryFunctions()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>The number of bytes to be allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the newly allocated memory, or NULL if the allocation failed. </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001088">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000011">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

<p>Definition at line <a class="el" href="uclean_8h_source.html#l00218">218</a> of file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>

</div>
</div>
<a class="anchor" id="af125d56147c708c2d8ecc5327449c41d"></a><!-- doxytag: member="uclean.h::UMTX" ref="af125d56147c708c2d8ecc5327449c41d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="uclean_8h.html#af125d56147c708c2d8ecc5327449c41d">UMTX</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An opaque pointer type that represents an ICU mutex. </p>
<p>For user-implemented mutexes, the value will typically point to a struct or object that implements the mutex. </p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001081">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000004">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

<p>Definition at line <a class="el" href="uclean_8h_source.html#l00113">113</a> of file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>

</div>
</div>
<a class="anchor" id="a21713ef0c8987c243f315dab6db8e2b8"></a><!-- doxytag: member="uclean.h::UMtxAtomicFn" ref="a21713ef0c8987c243f315dab6db8e2b8" args="(const void *context, int32_t *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int32_t <a class="el" href="uclean_8h.html#a21713ef0c8987c243f315dab6db8e2b8">UMtxAtomicFn</a>(const void *context, int32_t *p)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer type for a user supplied atomic increment or decrement function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>user supplied value, obtained from from <a class="el" href="uclean_8h.html#a677b75b566af2a41202e255262ff38c3" title="Set the functions that ICU will use for atomic increment and decrement of int32_t...">u_setAtomicIncDecFunctions()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>Pointer to a 32 bit int to be incremented or decremented </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value of the variable after the inc or dec operation. </dd></dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001085">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000008">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

<p>Definition at line <a class="el" href="uclean_8h_source.html#l00178">178</a> of file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>

</div>
</div>
<a class="anchor" id="a67a2314f542b9f495ef0b2ac1cfd5192"></a><!-- doxytag: member="uclean.h::UMtxFn" ref="a67a2314f542b9f495ef0b2ac1cfd5192" args="(const void *context, UMTX *mutex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void <a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a>(const void *context, <a class="el" href="uclean_8h.html#af125d56147c708c2d8ecc5327449c41d">UMTX</a> *mutex)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function Pointer type for a user supplied mutex functions. </p>
<p>One of the user-supplied functions with this signature will be called by ICU whenever ICU needs to lock, unlock, or destroy a mutex. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>user supplied value, obtained from from <a class="el" href="uclean_8h.html#ad286bdc5cbaf91e6b6e8f9c565455ec0" title="Set the functions that ICU will use for mutex operations Use of this function is...">u_setMutexFunctions()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mutex</em>&nbsp;</td><td>specify the mutex on which to operate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001083">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000006">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

<p>Definition at line <a class="el" href="uclean_8h_source.html#l00143">143</a> of file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>

</div>
</div>
<a class="anchor" id="a302ac3ea859a593dea50f9a1b06ce5b1"></a><!-- doxytag: member="uclean.h::UMtxInitFn" ref="a302ac3ea859a593dea50f9a1b06ce5b1" args="(const void *context, UMTX *mutex, UErrorCode *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void <a class="el" href="uclean_8h.html#a302ac3ea859a593dea50f9a1b06ce5b1">UMtxInitFn</a>(const void *context, <a class="el" href="uclean_8h.html#af125d56147c708c2d8ecc5327449c41d">UMTX</a> *mutex, <a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function Pointer type for a user supplied mutex initialization function. </p>
<p>The user-supplied function will be called by ICU whenever ICU needs to create a new mutex. The function implementation should create a mutex, and store a pointer to something that uniquely identifies the mutex into the UMTX that is supplied as a paramter. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>user supplied value, obtained from from <a class="el" href="uclean_8h.html#ad286bdc5cbaf91e6b6e8f9c565455ec0" title="Set the functions that ICU will use for mutex operations Use of this function is...">u_setMutexFunctions()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mutex</em>&nbsp;</td><td>Receives a pointer that identifies the new mutex. The mutex init function must set the UMTX to a non-null value. Subsequent calls by ICU to lock, unlock, or destroy a mutex will identify the mutex by the UMTX value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Error status. Report errors back to ICU by setting this variable with an error code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001082">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000005">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

<p>Definition at line <a class="el" href="uclean_8h_source.html#l00131">131</a> of file <a class="el" href="uclean_8h_source.html">uclean.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a93f27d0ddc7c196a1da864763f2d8920"></a><!-- doxytag: member="uclean.h::u_cleanup" ref="a93f27d0ddc7c196a1da864763f2d8920" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clean up the system resources, such as allocated memory or open files, used in all ICU libraries. </p>
<p>This will free/delete all memory owned by the ICU libraries, and return them to their original load state. All open ICU items (collators, resource bundles, converters, etc.) must be closed before calling this function, otherwise ICU may not free its allocated memory (e.g. close your converters and resource bundles before calling this function). Generally, this function should be called once just before an application exits. For applications that dynamically load and unload the ICU libraries (relatively uncommon), <a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920" title="Clean up the system resources, such as allocated memory or open files, used in all...">u_cleanup()</a> should be called just before the library unload. </p>
<p><a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920" title="Clean up the system resources, such as allocated memory or open files, used in all...">u_cleanup()</a> also clears any ICU heap functions, mutex functions or trace functions that may have been set for the process. This has the effect of restoring ICU to its initial condition, before any of these override functions were installed. Refer to <a class="el" href="uclean_8h.html#a5dea766c5e726833400dc0ee24a2bc6a" title="Set the functions that ICU will use for memory allocation.">u_setMemoryFunctions()</a>, u_setMutexFunctions and <a class="el" href="utrace_8h.html#aa87ea156afa4807f0a3db73d85c66551" title="Set ICU Tracing functions.">utrace_setFunctions()</a>. If ICU is to be reinitialized after after calling <a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920" title="Clean up the system resources, such as allocated memory or open files, used in all...">u_cleanup()</a>, these runtime override functions will need to be set up again if they are still required. </p>
<p><a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920" title="Clean up the system resources, such as allocated memory or open files, used in all...">u_cleanup()</a> is not thread safe. All other threads should stop using ICU before calling this function. </p>
<p>Any open ICU items will be left in an undefined state by <a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920" title="Clean up the system resources, such as allocated memory or open files, used in all...">u_cleanup()</a>, and any subsequent attempt to use such an item will give unpredictable results. </p>
<p>After calling <a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920" title="Clean up the system resources, such as allocated memory or open files, used in all...">u_cleanup()</a>, an application may continue to use ICU by calling <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a>. An application must invoke <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> first from one single thread before allowing other threads call <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a>. All threads existing at the time of the first thread's call to <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> must also call <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> themselves before continuing with other ICU operations. </p>
<p>The use of <a class="el" href="uclean_8h.html#a93f27d0ddc7c196a1da864763f2d8920" title="Clean up the system resources, such as allocated memory or open files, used in all...">u_cleanup()</a> just before an application terminates is optional, but it should be called only once for performance reasons. The primary benefit is to eliminate reports of memory or resource leaks originating in ICU code from the results generated by heap analysis tools. </p>
<p><b>Use this function with great care!</b> </p>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001080">Stable:</a></b></dt><dd>ICU 2.0 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000003">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

</div>
</div>
<a class="anchor" id="ab6a4215b45b2162889aa1ff01e491d4c"></a><!-- doxytag: member="uclean.h::u_init" ref="ab6a4215b45b2162889aa1ff01e491d4c" args="(UErrorCode *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&nbsp;</td>
          <td class="paramname"> <em>status</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize ICU. </p>
<p>Use of this function is optional. It is OK to simply use ICU services and functions without first having initialized ICU by calling <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a>.</p>
<p><a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> will attempt to load some part of ICU's data, and is useful as a test for configuration or installation problems that leave the ICU data inaccessible. A successful invocation of <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> does not, however, guarantee that all ICU data is accessible.</p>
<p>Multiple calls to <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> cause no harm, aside from the small amount of time required.</p>
<p>In old versions of ICU, <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> was required in multi-threaded applications to ensure the thread safety of ICU. <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> is no longer needed for this purpose.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>An ICU UErrorCode parameter. It must not be <code>NULL</code>. An Error will be returned if some required part of ICU data can not be loaded or initialized. The function returns immediately if the input error code indicates a failure, as usual.</td></tr>
  </table>
  </dd>
</dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001079">Stable:</a></b></dt><dd>ICU 2.6 </dd></dl>

</div>
</div>
<a class="anchor" id="a677b75b566af2a41202e255262ff38c3"></a><!-- doxytag: member="uclean.h::u_setAtomicIncDecFunctions" ref="a677b75b566af2a41202e255262ff38c3" args="(const void *context, UMtxAtomicFn *inc, UMtxAtomicFn *dec, UErrorCode *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_setAtomicIncDecFunctions </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a21713ef0c8987c243f315dab6db8e2b8">UMtxAtomicFn</a> *&nbsp;</td>
          <td class="paramname"> <em>inc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a21713ef0c8987c243f315dab6db8e2b8">UMtxAtomicFn</a> *&nbsp;</td>
          <td class="paramname"> <em>dec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the functions that ICU will use for atomic increment and decrement of int32_t values. </p>
<p>Use of this function is optional; by default (without this function), ICU will use its own internal implementation of atomic increment/decrement. This function can only be used when ICU is in an initial, unused state, before <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> has been called. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>This pointer value will be saved, and then (later) passed as a parameter to the increment and decrement functions each time they are called. This function can only be called </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inc</em>&nbsp;</td><td>Pointer to a function to do an atomic increment operation. Must be non-null. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dec</em>&nbsp;</td><td>Pointer to a function to do an atomic decrement operation. Must be non-null. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Receives error values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001086">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000009">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

</div>
</div>
<a class="anchor" id="a5dea766c5e726833400dc0ee24a2bc6a"></a><!-- doxytag: member="uclean.h::u_setMemoryFunctions" ref="a5dea766c5e726833400dc0ee24a2bc6a" args="(const void *context, UMemAllocFn *a, UMemReallocFn *r, UMemFreeFn *f, UErrorCode *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_setMemoryFunctions </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a7a7b058f29daf7fcac9a5c27584b1710">UMemAllocFn</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a1b6b46b156cc0874de4c1f9ae202e6e7">UMemReallocFn</a> *&nbsp;</td>
          <td class="paramname"> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a0ef0908b72449d65c915e6c3d173886a">UMemFreeFn</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the functions that ICU will use for memory allocation. </p>
<p>Use of this function is optional; by default (without this function), ICU will use the standard C library malloc() and free() functions. This function can only be used when ICU is in an initial, unused state, before <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> has been called. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>This pointer value will be saved, and then (later) passed as a parameter to the memory functions each time they are called. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>Pointer to a user-supplied malloc function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>Pointer to a user-supplied realloc function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>Pointer to a user-supplied free function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Receives error values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001090">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000013">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

</div>
</div>
<a class="anchor" id="ad286bdc5cbaf91e6b6e8f9c565455ec0"></a><!-- doxytag: member="uclean.h::u_setMutexFunctions" ref="ad286bdc5cbaf91e6b6e8f9c565455ec0" args="(const void *context, UMtxInitFn *init, UMtxFn *destroy, UMtxFn *lock, UMtxFn *unlock, UErrorCode *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_setMutexFunctions </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a302ac3ea859a593dea50f9a1b06ce5b1">UMtxInitFn</a> *&nbsp;</td>
          <td class="paramname"> <em>init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a> *&nbsp;</td>
          <td class="paramname"> <em>destroy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a> *&nbsp;</td>
          <td class="paramname"> <em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uclean_8h.html#a67a2314f542b9f495ef0b2ac1cfd5192">UMtxFn</a> *&nbsp;</td>
          <td class="paramname"> <em>unlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#a3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the functions that ICU will use for mutex operations Use of this function is optional; by default (without this function), ICU will directly access system functions for mutex operations This function can only be used when ICU is in an initial, unused state, before <a class="el" href="uclean_8h.html#ab6a4215b45b2162889aa1ff01e491d4c" title="Initialize ICU.">u_init()</a> has been called. </p>
<p>This function may be used even when ICU has been built without multi-threaded support (see ICU_USE_THREADS pre-processor variable, umutex.h) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>context</em>&nbsp;</td><td>This pointer value will be saved, and then (later) passed as a parameter to the user-supplied mutex functions each time they are called. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>init</em>&nbsp;</td><td>Pointer to a mutex initialization function. Must be non-null. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destroy</em>&nbsp;</td><td>Pointer to the mutex destroy function. Must be non-null. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lock</em>&nbsp;</td><td>pointer to the mutex lock function. Must be non-null. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>unlock</em>&nbsp;</td><td>Pointer to the mutex unlock function. Must be non-null. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>Receives error values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="stable"><dt><b><a class="el" href="stable.html#_stable001084">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>
<dl class="system"><dt><b><a class="el" href="system.html#_system000007">System:</a></b></dt><dd>Do not use unless you know what you are doing. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Jul 26 12:56:50 2011 for ICU 4.8.1 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
