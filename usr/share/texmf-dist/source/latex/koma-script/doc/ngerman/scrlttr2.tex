% ======================================================================
% scrlttr2.tex
% Copyright (c) Markus Kohm, 2002-2012
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% scrlttr2.tex
% Copyright (c) Markus Kohm, 2002-2012
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Chapter about scrlttr2 of the KOMA-Script guide
% Maintained by Markus Kohm
%
% ----------------------------------------------------------------------
%
% Kapitel über scrlttr2 in der KOMA-Script-Anleitung
% Verwaltet von Markus Kohm
%
% ============================================================================

\ProvidesFile{scrlttr2.tex}[2012/01/01 KOMA-Script guide (chapter: scrlttr2)]

\chapter{Die Briefklasse \Class{scrlttr2}}
\labelbase{scrlttr2}

\BeginIndex{Class}{scrlttr2}\BeginIndex{}{Briefe}%
\iffalse
Seit der Ausgabe vom Juni 2002 beinhaltet \KOMAScript{} eine komplett
neue Briefklasse\ChangedAt{v2.8q}{\Class{scrlttr2}}. Obwohl einige
Teile davon mit den Klassen aus \autoref{cha:maincls}
übereinstimmen, sind Briefe doch
\else
Briefe sind in vielerlei Hinsicht
\fi
etwas ganz anderes als Artikel, Berichte, Bücher oder Ähnliches. Schon allein
deshalb gibt es für die Briefklasse ein eigenes Kapitel. Aber auch aus einem
anderen Grund ist ein eigenes Kapitel für \Class{scrlttr2} gerechtfertigt. Die
Klasse wurde von Grund auf neu entwickelt. Sie hat daher auch ein komplett
anderes Bedienkonzept als alle anderen mir bekannten Klassen. Die neue
Art der Bedienung ist möglicherweise etwas ungewohnt, bietet jedoch
nicht nur dem geübten Anwender einige Vorteile.


\section{Variablen}
\label{sec:scrlttr2.variables}%
\BeginIndex{}{Variablen}%

Neben Optionen, Anweisungen (oder Befehlen), Umgebungen, Zählern und Längen
wurden in \autoref{cha:maincls} für \KOMAScript{} bereits zusätzlich Elemente
eingeführt.  Eine typische Eigenschaft eines Elements ist seine Schriftart und
die Möglichkeit, diese zu ändern (siehe \autoref{sec:scrlttr2.textmarkup},
\autopageref{desc:scrlttr2.cmd.setkomafont}).  An dieser Stelle werden nun
zusätzlich Variablen eingeführt. Variablen haben einen
Namen\Index{Variablen>Name}, über den sie angesprochen werden und einen
Inhalt\Index{Variablen>Inhalt}. Der Inhalt einer Variablen kann zeitlich
bzw. räumlich getrennt von ihrer Verwendung gesetzt werden, so wie der Inhalt
einer Anweisung getrennt von ihrer Ausführung definiert werden kann. Ein
Hauptunterschied einer Variablen zu einer Anweisung besteht darin, dass eine
Anweisung normalerweise eine Aktion auslöst, während der Inhalt einer
Variablen normalerweise aus einem Text besteht, der dann von einer Anweisung
ausgegeben wird. Außerdem kann eine Variable zusätzlich eine
Bezeichnung\Index{Variablen>Bezeichnung} besitzen, die ebenfalls gesetzt und
ausgegeben werden kann.

Dieser Abschnitt beschränkt sich bewusst auf die Einführung des Begriffs der
Variablen. Die zur Verdeutlichung verwendeten Beispiele sind ohne tiefere
Bedeutung. Konkretere Anwendungsbeispiele gibt es bei der Erläuterung der in
der Briefklasse bereits definierten und von ihr verwendeten Variablen in den
nachfolgenden Abschnitten. \autoref{tab:scrlttr2.variables} gibt eine
Übersicht über alle in \Class{scrlttr2} definierten Variablen.
%
\begin{desclist}
  % Umbruchkorrektur
  \renewcommand*{\abovecaptionskipcorrection}{-\normalbaselineskip}%
  \desccaption{Von der Klasse \Class{scrlttr2} unterstützte
    Variablen\label{tab:scrlttr2.variables}} {Von der Klasse \Class{scrlttr2}
    unterstützte Variablen (\emph{Fortsetzung})}
  \ventry{addresseeimage}{Anweisungen, die zum Setzen des Port-Payé-Kopfes bei
    der Einstellung \OptionValue{addrfield}{backgroundimage} oder der
    Port-Payé-Anschrift bei der Einstellung \OptionValue{addrfield}{image},
    verwendet werden (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.addresseeimage})}%
  \ventry{backaddress}{Rücksendeadresse für Fensterbriefumschläge
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.backaddress})}%
  \ventry{backaddressseparator}{Trennzeichen innerhalb der Rücksendeadresse
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.backaddressseparator})}%
  \ventry{ccseparator}{Trennzeichen zwischen Verteilertitel und Verteiler
    (\autoref{sec:scrlttr2.document},
    \autopageref{desc:scrlttr2.variable.ccseparator})}%
  \ventry{customer}{Geschäftszeilenfeld »Kundennummer«
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.customer})}%
  \ventry{date}{Datum (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.date})}%
  \ventry{emailseparator}{Trennzeichen zwischen E-Mail-Bezeichnung und
    E-Mail-Adresse (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.emailseparator})}%
  \ventry{enclseparator}{Trennzeichen zwischen Anlagetitel und Anlagen
    (\autoref{sec:scrlttr2.document},
    \autopageref{desc:scrlttr2.variable.enclseparator})}%
  \ventry{faxseparator}{Trennzeichen zwischen Faxbezeichner und Faxnummer
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.faxseparator})}%
  \ventry{firstfoot}{%
    Seitenfuß\ChangedAt{v3.08}{\Class{scrlttr2}} des Briefbogens
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.firstfoot})}%
  \ventry{firsthead}{%
    Kopf\ChangedAt{v3.08}{\Class{scrlttr2}} des Briefbogens
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.firsthead})}%
  \ventry{fromaddress}{Absenderadresse ohne Absendername
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromaddress})}%
  \ventry{frombank}{Bankverbindung des Absenders
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.frombank})}%
  \ventry{fromemail}{E-Mail-Adresse des Absenders
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromemail})}%
  \ventry{fromfax}{Faxnummer des Absenders (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromfax})}%
  \ventry{fromlogo}{Anweisungen zum Setzen des Absenderlogos
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromlogo})}%
  \ventry{fromname}{vollständiger Absendername
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromname})}%
  \ventry{fromphone}{Telefonnummer des Absenders
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromphone})}%
  \ventry{fromurl}{eine URL des Absenders (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromurl})}%
  \ventry{fromzipcode}{Postleitzahl des Absenders für den Port-Payé-Kopf bei
    \OptionValue{addrfield}{PP} (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromzipcode})}%
  \ventry{invoice}{Geschäftszeilenfeld »Rechnungsnummer«
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.invoice})}%
  \ventry{location}{erweiterte Absenderangabe
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.location})}%
  \ventry{myref}{Geschäftszeilenfeld »Mein Zeichen«
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.myref})}%
  \ventry{nextfoot}{Seitenfuß\ChangedAt{v3.08}{\Class{scrlttr2}} im Seitenstil
    \Pagestyle{headings}\IndexPagestyle{headings} oder
    \Pagestyle{myheadings}\IndexPagestyle{myheadings}
    (\autoref{sec:scrlttr2.pagestyle},
    \autopageref{desc:scrlttr2.variable.nextfoot})}%
  \ventry{nexthead}{Kopf\ChangedAt{v3.08}{\Class{scrlttr2}} im Seitenstil
    \Pagestyle{headings}\IndexPagestyle{headings} oder
    \Pagestyle{myheadings}\IndexPagestyle{myheadings}
    (\autoref{sec:scrlttr2.pagestyle},
    \autopageref{desc:scrlttr2.variable.nexthead})}%
  \ventry{phoneseparator}{Trennzeichen zwischen Telefonbezeichner und
    Telefonnummer (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.phoneseparator})}%
  \ventry{place}{Ort (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.place})}%
  \ventry{placeseparator}{Trennzeichen zwischen Ort und Datum
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.placeseparator})}%
  \ventry{PPdatamatrix}{Anweisungen zum Setzen einer Data-Matrix bei der
    Einstellung \OptionValue{addrfield}{PP} (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.PPdatamatrix})}%
  \ventry{PPcode}{Code zur Identifizierung des Absenders bei Einstellung
    \OptionValue{addrfield}{PP} (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.PPcode})}%
  \ventry{signature}{Signatur unter Unterschrift und Grußformel
    (\autoref{sec:scrlttr2.closing},
    \autopageref{desc:scrlttr2.variable.signature})}%
  \ventry{specialmail}{Versandart (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.specialmail})}%
  \ventry{subject}{Betreff (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.subject})}%
  \ventry{subjectseparator}{Trennzeichen zwischen Betreff"|titel und Betreff
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.subjectseparator})}%
  \ventry{title}{Brief"|titel (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.title})}%
  \ventry{toaddress}{Empfängeradresse ohne Empfängername
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.toaddress})}%
  \ventry{toname}{vollständiger Empfängername
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.toname})}%
  \ventry{yourmail}{Geschäftszeilenfeld »Ihr Schreiben«
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.yourmail})}%
  \ventry{yourref}{Geschäftszeilenfeld »Ihr Zeichen«
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.yourref})}%
  \ventry{zipcodeseparator}{Trennzeichen zwischen der Bezeichnung und dem
    Inhalt der Variablen \Variable{fromzipcode}
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.zipcodeseparator})}%
\end{desclist}


\begin{Declaration}
  \Macro{setkomavar}%
    \Parameter{Name}\OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar*}\Parameter{Name}\Parameter{Bezeichnung}
\end{Declaration}
\BeginIndex{Cmd}{setkomavar}%
\BeginIndex{Cmd}{setkomavar*}%
Mit der Anweisung \Macro{setkomavar} wird der \PName{Inhalt} der Variablen
\PName{Name} gesetzt. Dabei kann per optionalem Argument gleichzeitig auch die
\PName{Bezeichnung} der Variablen geändert werden. Demgegenüber kann mit der
Sternvariante \Macro{setkomavar*} auch nur die \PName{Bezeichnung} der
Variablen \PName{Name} gesetzt werden.
\begin{Example}
  In Briefen ist es üblich, den Absender im Briefkopf stehen zu haben. Dazu
  muss \Class{scrlttr2} den Absender aber erst einmal mit Namen kennen. Für
  »Peter Musterfrau« ginge das einfach mit:
\begin{lstcode}
  \setkomavar{fromname}{Peter Musterfrau}
\end{lstcode}
  Die voreingestellte Bezeichnung für den Namen des Absenders ist
  »Von«. Angenommen, Herr Musterfrau will aber an den Stellen, an denen
  \Class{scrlttr2} diese Bezeichnung verwendet, lieber »Absender« haben, so
  müsste er zusätzlich
\begin{lstcode}
  \setkomavar*{fromname}{Absender}
\end{lstcode}
  setzen oder aber die beiden Angaben zu einer Anweisung zusammenfassen:
\begin{lstcode}
  \setkomavar{fromname}[Absender]{Peter Musterfrau}
\end{lstcode}
  Damit schlägt er sozusagen zwei Fliegen mit einer Klappe.
\end{Example}
Übrigens kann mit einem leeren obligatorischen Argument \PName{Inhalt}
der Inhalt der Variable gelöscht werden. Selbstverständlich kann in
gleicher Weise mit einem leeren Argument \PName{Bezeichnung} auch die
Bezeichnung der Variablen gelöscht werden.
\begin{Example}
  Angenommen, Herr Musterfrau will gar keine Bezeichnung für den Namen des
  Absenders haben. Dann könnte er diese entweder für sich mit:
\begin{lstcode}
  \setkomavar*{fromname}{}
\end{lstcode}
  löschen. Er könnte aber auch wieder zwei Fliegen mit einer Klappe
  schlagen und
\begin{lstcode}
  \setkomavar{fromname}[]{Peter Musterfrau}
\end{lstcode}
  verwenden. Dadurch wird gleichzeitig der Inhalt der Variablen gesetzt und
  ihre Bezeichnung gelöscht.
\end{Example}
%
\EndIndex{Cmd}{setkomavar}%
\EndIndex{Cmd}{setkomavar*}%


\begin{Declaration}
  \Macro{usekomavar}\OParameter{Anweisung}\Parameter{Name}\\
  \Macro{usekomavar*}\OParameter{Anweisung}\Parameter{Name}
\end{Declaration}
\BeginIndex{Cmd}{usekomavar}%
\BeginIndex{Cmd}{usekomavar*}%
In\ChangedAt{v2.9i}{\Class{scrlttr2}} manchen Fällen wird es notwendig sein,
selbst auf den Inhalt oder die Bezeichnung einer Variablen zuzugreifen, dies
also nicht allein der Klasse zu überlassen. Das gilt insbesondere dann, wenn
Sie eigene Variablen definiert haben, die nicht zur Geschäftszeile
hinzugefügt werden.  Mit der Anweisung \Macro{usekomavar} können Sie auf den
Inhalt der Variablen \PName{Name} zugreifen, während Sie mit der Sternvariante
\Macro{usekomavar*} ihre Bezeichnung erhalten. Näheres zur Definition eigener
Variablen ist \autoref{sec:scrlttr2-experts.variables},
\autopageref{desc:scrlttr2-experts.cmd.newkomavar} zu entnehmen.%
\EndIndex{Cmd}{usekomavar}%
\EndIndex{Cmd}{usekomavar*}%


\begin{Declaration}
  \Macro{ifkomavar}\Parameter{Name}\Parameter{Dann-Teil}\Parameter{Sonst-Teil}
\end{Declaration}
\BeginIndex{Cmd}{ifkomavar}%
Mit\ChangedAt{v3.03}{\Class{scrlttr2}} dieser Anweisung kann man feststellen,
ob eine Variable definiert ist. Der \PName{Dann-Teil} wird nur dann
ausgeführt, wenn die Variable existiert. Dabei wird der Inhalt der Variablen
nicht getestet, kann also auch leer sein. Der \PName{Sonst-Teil} wird hingegen
ausgeführt, wenn die Variable nicht existiert. Solche Tests können
beispielsweise dann sinnvoll sein, wenn eigene Variablen in einer
\File{lco}-Datei\Index{lco-Datei=\File{lco}-Datei} (siehe
\autoref{sec:scrlttr2.lcoFile} ab \autopageref{sec:scrlttr2.lcoFile})
definiert werden und in einer anderen \File{lco}-Datei diese Variable nur dann
verwendet werden soll, wenn sie existiert.
\EndIndex{Cmd}{ifkomavar}%


\begin{Declaration}
  \Macro{ifkomavarempty}\Parameter{Name}\Parameter{Dann-Teil}\Parameter{Sonst-Teil}\\
  \Macro{ifkomavarempty*}\Parameter{Name}\Parameter{Dann-Teil}\Parameter{Sonst-Teil}
\end{Declaration}
\BeginIndex{Cmd}{ifkomavarempty}%
\BeginIndex{Cmd}{ifkomavarempty*}%
Mit\ChangedAt{v2.9i}{\Class{scrlttr2}} Hilfe dieser Anweisungen kann man
feststellen, ob der Inhalt oder die Bezeichnung einer Variablen leer
ist oder nicht. Der \PName{Dann-Teil} wird nur dann ausgeführt,
wenn der expandierte Inhalt oder die expandierte Bezeichnung der
Variablen \PName{Name} leer ist. Anderenfalls wird der
\PName{Sonst-Teil} ausgeführt.  Die Sternvariante der Anweisung
bezieht sich dabei auf die Bezeichnung der Variablen, während die
normale Variante den Inhalt behandelt.%
\EndIndex{Cmd}{ifkomavarempty*}%
\EndIndex{Cmd}{ifkomavarempty}%
%
\EndIndex{}{Variablen}


\section{Pseudolängen}
\label{sec:scrlttr2.pseudoLength}
\BeginIndex{}{Pseudolängen}

Längen werden bei \LaTeX{} mit den Anweisungen \Macro{newlength},
\Macro{setlength}, \Macro{addtolength} und \Macro{the}\PName{Länge}
verarbeitet. Sehr viele Pakete nutzen aber auch Makros, also Anweisungen, um
Längen zu speichern. \KOMAScript{} erweitert dieses Verfahren um die
Möglichkeit, solche in Makros gespeicherten Längen mit ähnlichen Anweisungen
zu verarbeiten wie echte Längen. Diese eigentlich in Makros abgelegten Längen
heißen bei \KOMAScript{} daher Pseudolängen.

Eine Liste aller in \Class{scrlttr2} definierten Pseudolängen findet sich in
\autoref{tab:scrlttr2-experts.pseudoLengths},
\autopageref{tab:scrlttr2-experts.pseudoLengths}. Eine grafische Darstellung
der Bedeutungen der wichtigsten Pseudolängen des Briefbogens ist
\autoref{fig:scrlttr2-experts.pseudoLengths},
\autopageref{fig:scrlttr2-experts.pseudoLengths} zu entnehmen. Die verwendeten
Maße sind dabei an die Voreinstellungen von \Class{scrlttr2} angelehnt. Nähere
Beschreibungen zu den einzelnen Pseudolängen finden sich in den einzelnen
Abschnitten dieses Kapitels.

Da der Anwender normalerweise keine eigenen Pseudolängen definieren muss, wird
dieser Teil nicht hier, sondern im Expertenteil in
\autoref{sec:scrlttr2-experts.pseudoLengths},
\autopageref{desc:scrlttr2-experts.cmd.@newplength} behandelt. Ebenso ist das
Setzen von Pseudolängen eher dem fortgeschrittenen Anwender vorbehalten. Also
wird auch dies im Abschnitt für Experten ab
\autopageref{desc:scrlttr2-experts.cmd.@setplength} erklärt.


\begin{Declaration}
  \Macro{useplength}\Parameter{Name}
\end{Declaration}
\BeginIndex{Cmd}{useplength}%
Mit Hilfe dieser Anweisung wird auf den Wert der Pseudolänge mit dem
angegebenen \PName{Namen} zugegriffen. Dies ist eine der wenigen
Benutzeranweisung rund um Pseudolängen. Natürlich kann diese Anweisung dennoch
auch innerhalb einer \File{lco}-Datei\Index{lco-Datei=\File{lco}-Datei} (siehe
\autoref{sec:scrlttr2.lcoFile} ab \autopageref{sec:scrlttr2.lcoFile})
verwendet werden.%
%
\EndIndex{Cmd}{useplength}%


\begin{Declaration}
  \Macro{setlengthtoplength}%
    \OParameter{Faktor}\Parameter{Länge}\Parameter{Pseudolänge}\\
  \Macro{addtolengthplength}%
    \OParameter{Faktor}\Parameter{Länge}\Parameter{Pseudolänge}
\end{Declaration}
\BeginIndex{Cmd}{setlengthtoplength}%
\BeginIndex{Cmd}{addtolengthplength}%
\begin{Explain}%
  Während man einer Länge einfach einen Faktor voranstellen kann, ist
  dies bei Pseudolängen nicht möglich. Angenommen, eine Länge
  \Macro{TestLength} hat den Wert 2\Unit{pt}, dann ergibt
  \texttt{3\Macro{TestLength}} den Wert 6\Unit{pt}. Verwendet man
  stattdessen eine Pseudolänge, so würde aus
  \texttt{3\Macro{useplength}\PParameter{Test}} der Wert 32\Unit{pt}.
  Dies ist insbesondere dann lästig, wenn man einer echten
  \PName{Länge} den Wert einer \PName{Pseudolänge} zuweisen will.
\end{Explain}
Mit der Anweisung \Macro{setlengthtoplength} kann man einer echten
\PName{Länge} das Vielfache einer \PName{Pseudolänge} zuweisen.
Allerdings wird hier ein \PName{Faktor} nicht direkt der
\PName{Pseudolänge} vorangestellt, sondern als optionales Argument
übergeben. Man sollte diese Anweisung auch verwenden, wenn man einer
\PName{Länge} den negativen Wert einer \PName{Pseudolänge} zuweisen
will. Als \PName{Faktor} kann dann wahlweise ein Minuszeichen oder
\PValue{-1} verwendet werden. Die Anweisung
\Macro{addtolengthplength} arbeitet ganz ähnlich. Allerdings wird
hier zur \PName{Länge} das Vielfache der \PName{Pseudolänge}
addiert.%
%
\EndIndex{Cmd}{setlengthtoplength}%
\EndIndex{Cmd}{addtolengthplength}%
%
\EndIndex{}{Pseudolängen}%

\LoadCommon[scrlttr]{0} % \section{Frühe oder späte Optionenwahl}

\LoadCommon[scrlttr]{1} % \section{Kompatibilität zu früheren Versionen von \KOMAScript}

\iffree{}{\vfill}% Umbruchoptimierung!

\LoadCommon[scrlttr]{2} % \section{Entwurfsmodus}

\LoadCommon[scrlttr]{3} % \section{Seitenauf"|teilung}

Die Unterscheidung zwischen ein- und doppelseitigem Satz ist bei Briefen
jedoch in der Regel nicht sinnvoll. Da Briefe normalerweise nicht gebunden
werden, betrachtet man bei Briefen jede Seite für sich. Das gilt auch dann,
wenn ausnahmsweise Vorder- oder Rückseite bedruckt werden. Daher spielt bei
Briefen normalerweise auch der vertikale Ausgleich keine Rolle. Sollten Sie
diesen trotzdem benötigen oder wissen wollen, was das ist, sei auf die in
\autoref{sec:maincls.typearea}, \autopageref{desc:maincls.cmd.flushbottom}
erklärten Anweisungen \Macro{raggedbottom} und \Macro{flushbottom} verwiesen.%
%
\EndIndex{}{Seiten>Aufteilung=Auf\/teilung}


\section{Genereller Aufbau eines Briefdokuments}
\label{sec:scrlttr2.document}
\BeginIndex{}{Brief>Aufbau}

Der generelle Aufbau eines Briefdokuments weicht etwas vom Aufbau eines
normalen Dokuments ab. Während ein Buchdokument normalerweise nur ein Buch
enthält, kann ein einzelnes Briefdokument mehrere Briefe enthalten.  Wie in
\autoref{fig:scrlttr2.document} veranschaulicht wird, besteht ein
Briefdokument aus einem Vorspann, den einzelnen Briefen und dem Abschluss.

\begin{figure}
  \KOMAoptions{captions=bottombeside}%
  \setcapindent{0pt}%
  \begin{captionbeside}[{Genereller Aufbau eines Briefdokuments mit beliebig
      vielen einzelnen Briefen}]{%
      Genereller Aufbau eines Briefdokuments mit
      beliebig vielen einzelnen Briefen (den Aufbau eines einzelnen
      Briefs zeigt \autoref{fig:scrlttr2.letter})%
      \label{fig:scrlttr2.document}}[l]
    \begin{minipage}[b]{.667\linewidth}
      \centering\small\setlength{\fboxsep}{1.5ex}%
      \addtolength{\linewidth}{-\dimexpr2\fboxrule+2\fboxsep\relax}%
      \fbox{\parbox{\linewidth}{\raggedright%
          \Macro{documentclass}\OParameter{\dots}\PParameter{scrlttr2}\\
          \dots\\
          {\centering\emph{Einstellungen für alle Briefe}\\}
          \dots\\
          \Macro{begin}\PParameter{document}\\
          \dots\\
          {\centering\emph{Einstellungen für alle Briefe}\\}
          \dots\\
        }}\\
      \fbox{\parbox{\linewidth}{\raggedright%
          \Macro{begin}\PParameter{letter}\Parameter{Empfänger}\\
          \dots\\
          {\centering\emph{Inhalt eines einzelnen Briefes}\\}
          \dots\\
          \Macro{end}\PParameter{letter}\\
        }}\\[2pt]
      \parbox{\linewidth}{\raggedright\vspace{-.5ex}\vdots\vspace{1ex}}\\
      \fbox{\parbox{\linewidth}{\raggedright%
          \Macro{end}\PParameter{document}\\
        }}\\[\dimexpr\fboxsep+\fboxrule\relax]
    \end{minipage}
  \end{captionbeside}
\end{figure}

Der Vorspann beinhaltet dabei alle Einstellungen, die generell alle Briefe
betreffen. Diese können in den Einstellungen der einzelnen Briefe jedoch
zumindest teilweise überschrieben werden. Die einzige Einstellung, die derzeit
nicht innerhalb eines einzelnen Briefes überschrieben werden kann, ist die
Version von \Class{scrlttr2}, zu der Kompatibilität erreicht werden soll (siehe
Option \Option{version} in \autoref{sec:scrlttr2.compatibilityOptions},
\autopageref{desc:scrlttr2.option.version}). 

Ich empfehle, vor \Macro{begin}\PParameter{document} nur allgemeine
Einstellungen wie das Laden von Paketen und das Setzen von Optionen
vorzunehmen. Alle Einstellungen, die das Setzen einer Variablen oder sonstige
Textangaben beinhalten, sollten nach \Macro{begin}\PParameter{document}
vorgenommen werden. Dies empfiehlt sich umso mehr, wenn das
Babel-Paket\IndexPackage{babel} (siehe \cite{package:babel}) verwendet wird
oder sprachabhängige Variablen von \Class{scrlttr2} verändert werden sollen.

Der Abschluss besteht in der Regel nur aus
\Macro{end}\PParameter{document}. Natürlich können Sie dort aber auch
zusätzliche Kommentare einfügen.

\begin{figure}
  \KOMAoptions{captions=bottombeside}%
  \setcapindent{0pt}%
  \begin{captionbeside}[{Genereller Aufbau eines einzelnen Briefes innerhalb
      eines Briefdokuments}]{Genereller Aufbau eines einzelnen Briefes
      innerhalb eines Briefdokuments (siehe
      \autoref{fig:scrlttr2.document})%
      \label{fig:scrlttr2.letter}}[l]
    \begin{minipage}[b]{.667\linewidth}%
      \centering\small\setlength{\fboxsep}{1.5ex}%
      \addtolength{\linewidth}{-\dimexpr2\fboxrule+2\fboxsep\relax}%
      \fbox{\parbox{\linewidth}{\raggedright%
          \Macro{begin}\PParameter{letter}%
          \OParameter{Optionen}\Parameter{Empfänger}\\
          \dots\\[\dp\strutbox]
          {\centering\emph{Einstellungen für diesen Brief}\\}
          \dots\\
          \Macro{opening}\Parameter{Anrede}\\
        }}\\[1pt]
      \fbox{\parbox{\linewidth}{\raggedright%
          \dots\\[\dp\strutbox]
          {\centering\emph{Brief"|text}\\}
          \dots\\
        }}\\[1pt]
      \fbox{\parbox{\linewidth}{\raggedright%
          \Macro{closing}\Parameter{Grußformel}\\
          \Macro{ps}\\
          \dots\\[\dp\strutbox]
          {\centering\emph{Postscriptum}\\}
          \dots\\
          \Macro{encl}\Parameter{Anlagen}\\
          \Macro{cc}\Parameter{Verteiler}\\
          \Macro{end}\PParameter{letter}\\
        }}\\[\dimexpr\fboxsep+\fboxrule\relax]
    \end{minipage}
  \end{captionbeside}
\end{figure}

Wie in \autoref{fig:scrlttr2.letter} verdeutlicht wird, bestehen die einzelnen
Briefe wiederum aus einer Einleitung, dem eigentlichen Brief"|text und einem
Schlussteil. In der Einleitung werden alle Einstellungen vorgenommen, die nur
für diesen einen Brief gelten sollen. Entscheidend ist hierbei, dass diese
Einleitung immer mit \Macro{opening}\IndexCmd{opening} endet. Ebenso beginnt
der Schlussteil immer mit \Macro{closing}\IndexCmd{closing}. Gegebenenfalls
können die Argumente \PName{Anrede} und \PName{Grußformel} der beiden
Anweisungen leer bleiben, die Anweisungen müssen jedoch gesetzt werden und
haben immer ein Argument.

Es soll an dieser Stelle nicht verschwiegen werden, dass zwischen den
einzelnen Briefen weitere Einstellungen getroffen werden können. Diese
gelten dann für alle nachfolgenden Briefe. Um Briefdokumente
übersichtlich und wartbar zu halten, sollte man sich jedoch gut
überlegen, ob man zwischen die Briefe tatsächlich weitere generelle
Einstellungen mit beschränkter Gültigkeit setzen will. Ich kann dies
nicht empfehlen%
\iffalse
% Umbruchergänzungstext
, da die Suche nach Einstellungen dadurch erschwert wird%
\fi
%
.


\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{letter}}%
  \OParameter{Optionen}\Parameter{Empfänger}\\
  \quad\dots\\
  \XMacro{end}\PParameter{letter}
\end{Declaration}
\BeginIndex{Env}{letter}%
\BeginIndex{}{Anschrift}%
Die Briefumgebung \Environment{letter} ist einer der zentralen Dreh- und
Angelpunkte der Briefklasse. Als Besonderheit\textnote{\KOMAScript{}
  vs. Standardklassen} kann man bei \Class{scrlttr2} der Briefumgebung
zusätzliche \PName{Optionen} mit auf den Weg geben.  Diese werden dann intern
per \Macro{KOMAoptions}-Anweisung ausgeführt.

Der \PName{Empfänger} wird als obligatorischer Parameter an die Umgebung
übergeben. Dabei\textnote{Achtung!} dient der doppelte Backslash als
Trennzeichen zwischen einzelnen Teilen der Anschrift. Diese einzelnen Teile
werden im Anschriftfeld als einzelne Zeilen ausgegeben. Dennoch sollte der
doppelte Backslash hier nicht als fester Zeilenumbruch verstanden
werden. Absätze, vertikaler Leerraum und Ähnliches sind in der Anschrift nicht
erlaubt. Sie können zu unerwarteten Effekten und Fehlermeldungen führen. Dies
ist übrigens bei der Standardbriefklasse genauso.

\begin{Example}
  \phantomsection\label{desc:scrlttr2.env.letter.example}%
  Angenommen, jemand wollte einen Brief an Petra Mustermann schreiben.
  Ein minimalistisches Briefdokument dafür würde so aussehen:
\begin{lstcode}
  \documentclass[version=last]{scrlttr2}
  \usepackage[ngerman]{babel}
  \begin{document}
  \begin{letter}{Petra Mustermann\\
      Vor dem Berg 1\\
      12345 Musterhausen}
  \end{letter}
  \end{document}
\end{lstcode}
  Allerdings würde dabei noch keinerlei Ausgabe entstehen. Es würde noch nicht
  einmal die Anschrift auf dem Briefbogen ausgegeben. Warum das so ist,
  erfahren Sie bei der Erklärung zur Anweisung \Macro{opening} auf
  \autopageref{desc:scrlttr2.cmd.opening}.
\end{Example}
%
\EndIndex{Env}{letter}%
%
\EndIndex{}{Anschrift}%


\begin{Declaration}
  \Macro{AtBeginLetter}\Parameter{Anweisungen}\\
  \Macro{AtEndLetter}\Parameter{Anweisungen}
\end{Declaration}
\BeginIndex{Cmd}{AtBeginLetter}%
\BeginIndex{Cmd}{AtEndLetter}%
Wie in \cite{latex:clsguide} erwähnt, gibt es bei \LaTeX{} die Möglichkeit, zu
bestimmten Gelegenheiten während des \LaTeX-Laufs eines Dokuments zusätzliche
\PName{Anweisungen} ausführen zu lassen. Zu diesem Zweck stellt der
\LaTeX-Kern beispielsweise die Anweisungen
\Macro{AtEndOfClass}\IndexCmd{AtEndOfClass} und
\Macro{AtBeginDocument}\IndexCmd{AtBeginDocument} zur Verfügung. Man nennt
solche Eingriffspunkte auch \emph{hooks}\Index{hook=\emph{hook}}, also
Haken\Index{Haken}. Die Klasse \Class{scrlttr2} fügt zwei weitere Haken hinzu,
die mit \Macro{AtBeginLetter} und
\Macro{AtEndLetter}\ChangedAt{v2.95}{\Class{scrlttr2}} mit Inhalt versehen
werden können. Wie man schon daran erkennt, dass die \LaTeX-Kern-Anweisungen
für Haken nicht in \cite{latex:usrguide} sondern in \cite{latex:clsguide}
dokumentiert sind, sind diese Anweisungen eigentlich eher für Paket- und
Klassenautoren gedacht. Bei der Briefklasse kann es jedoch sinnvolle
Anwendungen für die beiden neuen Haken auch auf Benutzerebene geben. Das
folgende Beispiel zeigt dies.
%
\begin{Example}
  Angenommen, Sie haben mehrere Briefe in einem Dokument. Sie verwenden
  außerdem eine eigene Anweisung, um in den Briefen einen Fragebogen
  zu setzen. Dabei werden die Fragen automatisch mit Hilfe eines
  Zählers nummeriert. Da \Class{scrlttr2} dieser Zähler nicht bekannt
  ist, würde er auch im Gegensatz etwa zur Seitenzahl am Anfang eines
  neuen Briefes nicht zurückgesetzt. Wenn jeder Brief zehn Fragen
  beinhaltet, hätte damit die erste Frage im fünften Brief die Nummer
  41 statt der Nummer 1. Sie lösen das, indem Sie \Class{scrlttr2}
  mitteilen, dass am Anfang jedes Briefes der Zähler zurückgesetzt
  werden soll:
\begin{lstcode}
  \newcounter{Frage}
  \newcommand{\Frage}[1]{%
    \refstepcounter{Frage}\par
    \noindent\begin{tabularx}{\textwidth}{l@{}X}
      \theFrage:~ & #1\\
    \end{tabularx}%
  }%
  \AtBeginLetter{\setcounter{Frage}{0}}
\end{lstcode}
  Damit hat dann auch die erste Frage im 1001.~Brief wieder die Nummer
  Eins. Die hier angegebene Definition benötigt übrigens das
  \Package{tabularx}-Paket\IndexPackage{tabularx} (siehe
  \cite{package:tabularx}).
\end{Example}
%
\EndIndex{Cmd}{AtEndLetter}%
\EndIndex{Cmd}{AtBeginLetter}%


\begin{Declaration}
  \Macro{opening}\Parameter{Anrede}
\end{Declaration}
\BeginIndex{Cmd}{opening}%
Dies ist eine der wichtigsten Anweisungen in \Class{scrlttr2}.  Vordergründig
wird damit die \PName{Anrede}\Index{Anrede} des Briefes, beispielsweise »Sehr
geehrte Frau \dots«, gesetzt. Tatsächlich\textnote{Achtung!} setzt diese
Anweisung aber auch alle Elemente des Briefbogens wie die
Faltmarken\Index{Faltmarke}, den Briefkopf\Index{Briefkopf}, die
Anschrift\Index{Anschrift}, die Absenderergänzung, die
Geschäftszeile\Index{Geschaeftszeile=Geschäftszeile}, den Titel\Index{Titel},
den Betreff\Index{Betreff} und den Seitenfuß\Index{Kopf}\Index{Fuss=Fuß}. Kurz
gesagt: ohne Anrede kein Brief. Soll tatsächlich einmal ein Brief ohne Anrede
gesetzt werden, so muss eben das Argument von \Macro{opening} leer bleiben.

\begin{Example}
  Kommen wir auf das Beispiel von
  \autopageref{desc:scrlttr2.env.letter.example} zurück. Wird dieses
  um eine Anrede ergänzt, dann ergibt sich aus
  \lstinputcode[xleftmargin=1em]{letter-0.tex}
  der Briefbogen von \autoref{fig:scrlttr2.letter-0}.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit
        Anschrift und Anrede}]{Ergebnis eines minimalistischen Briefes nur mit
        Anschrift und Anrede (Datum und Faltmarken entstammen den
        Voreinstellungen für DIN-Briefe)}[l]
    \frame{\includegraphics[width=.4\textwidth]{letter-0}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-0}
  \end{figure}
\end{Example}
\iffalse% Umbruchkorrekturtext

Bei\textnote{Tipp!} maschinell erstellten Briefen wurde früher häufig auf
eine Anrede verzichtet. Das lag daran, dass die Möglichkeiten für
individualisierte Serienbriefe noch kaum vorhanden waren. Heute sind
persönliche Anreden auch bei massenhaft erzeugten Werbebriefen üblich.%
\fi
%
\EndIndex{Cmd}{opening}%


\begin{Declaration}
  \Macro{closing}\Parameter{Grußfloskel}
\end{Declaration}
\BeginIndex{Cmd}{closing}%
Mit der Anweisung \Macro{closing} wird in erster Linie die
\PName{Grußfloskel}\Index{Gruss=Gruß}\Index{Schlussgruss=Schlussgruß}
gesetzt. Diese kann auch mehrzeilig sein. Die einzelnen Zeilen sollten dann
mit doppeltem Backslash voneinander getrennt werden.  Absätze innerhalb der
\PName{Grußfloskel} sind jedoch nicht gestattet.

Darüber hinaus setzt diese Anweisung aber auch noch gleich den Inhalt der
Variablen \Variable{signature} als Signatur. Näheres zur Signatur und deren
Konfiguration ist \autoref{sec:scrlttr2.closing} ab
\autopageref{desc:scrlttr2.variable.signature} zu entnehmen.

\begin{Example}
  Erweitern wir unser Beispiel um einige Zeilen Brieftext und eine Grußfloskel
  zu:
  \lstinputcode[xleftmargin=1em]{letter-1.tex}
  Damit sieht das Ergebnis wie in \autoref{fig:scrlttr2.letter-1} aus.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit Anschrift,
        Anrede, Text und Grußfloskel}]{Ergebnis eines kleinen
        Briefes mit Anschrift, Anrede, Text und Grußfloskel (Datum und
        Faltmarken entstammen den Voreinstellungen für DIN-Briefe)}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-1}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-1}
  \end{figure}
\end{Example}
%
\EndIndex{Cmd}{closing}%


\begin{Declaration}
  \Macro{ps}
\end{Declaration}%
\BeginIndex{Cmd}{ps}%
Diese Anweisung schaltet lediglich auf das
Postskriptum\Index{Postskriptum} um. Dazu wird ein neuer Absatz
begonnen und ein vertikaler Abstand -- in der Regel zur Signatur --
eingefügt. Auf die Anweisung \Macro{ps} kann beliebiger Text folgen.
Dabei muss der Anwender auch selbst entscheiden, ob er den Nachsatz
etwa mit der Abkürzung »PS:«, die übrigens ohne Punkt gesetzt wird,
beginnen will. Die Klasse \Class{scrlttr2} setzt diese Abkürzung weder
automatisch noch optional.

\begin{Example}
  Unser Beispielbrief, um ein Postskriptum erweitert,
  \lstinputcode[xleftmargin=1em]{letter-2.tex}
  sieht dann wie in \autoref{fig:scrlttr2.letter-2} aus.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit Anschrift,
        Anrede, Text, Grußfloskel und Postskriptum}]{Ergebnis eines kleinen
        Briefes mit Anschrift, Anrede, Text, Grußfloskel und Postskriptum
        (Datum und Faltmarken entstammen den Voreinstellungen für
        DIN-Briefe)}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-2}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-2}
  \end{figure}
\end{Example}

\begin{Explain}%
  Als Briefe noch von Hand geschrieben wurden, war das Postskriptum
  sehr beliebt. Es handelte sich bei diesen Nachsätzen ursprünglich um
  Angaben, die im eigentlichen Brief vergessen wurden. Bei Briefen,
  die mit \LaTeX{} geschrieben werden, ist es natürlich einfach,
  Vergessenes nachträglich in den Brief einzuarbeiten. Trotzdem ist
  das Postskriptum noch immer sehr beliebt, kann man damit doch sehr
  schön noch einmal auf ganz andere äußerst wichtige oder eigentlich
  ganz unwichtige Dinge hinweisen.
\end{Explain}
%
\EndIndex{Cmd}{ps}


\begin{Declaration}
  \Macro{cc}\Parameter{Verteiler}\\
  \Macro{setkomavar}\PParameter{\Variable{ccseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Cmd}{cc}%
\BeginIndex{Variable}{ccseparator}%
Ein \PName{Verteiler}\Index{Verteiler} kann mit der Anweisung \Macro{cc}
gesetzt werden. Der \PName{Verteiler} wird der Anweisung dabei als Argument
übergeben. Wenn der \PName{Inhalt} der Variablen
\Variable{ccseparator}\Index{Trennzeichen} nicht leer ist, wird dem
\PName{Verteiler} die \PName{Bezeichnung} und der \PName{Inhalt} dieser
Variablen vorangestellt. Der \PName{Verteiler} selbst wird dann um die
entsprechende Breite eingerückt ausgegeben. Es empfiehlt\textnote{Tipp!}
sich, den \PName{Verteiler} \Macro{raggedright}\IndexCmd{raggedright} zu
setzen und die einzelnen Angaben durch doppelten Backslash voneinander zu
trennen.
\begin{Example}
  Der Beispielbrief soll dieses Mal nicht nur an die Vorsitzende, sondern mit
  Verteiler auch an alle Mitglieder des Vereins gehen:
  \lstinputcode[xleftmargin=1em]{letter-3.tex}%
  Das Ergebnis ist in \autoref{fig:scrlttr2.letter-3} zu sehen.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit Anschrift,
        Anrede, Text, Grußfloskel, Postskriptum und Verteiler}]{Ergebnis eines
        kleinen Briefes mit Anschrift, Anrede, Text, Grußfloskel, Postskriptum
        und Verteiler (Datum und Faltmarken entstammen den Voreinstellungen
        für DIN-Briefe)}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-3}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-3}
  \end{figure}
\end{Example}
Vor dem Verteiler wird automatisch ein Abstand eingefügt.%
%
\EndIndex{Variable}{ccseparator}%
\EndIndex{Cmd}{cc}%


\begin{Declaration}
  \Macro{encl}\Parameter{Anlagen}\\
  \Macro{setkomavar}\PParameter{\Variable{enclseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Cmd}{encl}%
\BeginIndex{Variable}{enclseparator}%
Die \PName{Anlagen}\Index{Anlagen} sind genauso aufgebaut wie der
Verteiler. Der einzige Unterschied besteht darin, dass die Einleitung
hier von der \PName{Bezeichnung} und dem \PName{Inhalt} der Variablen
\Variable{enclseparator}\Index{Trennzeichen} bestimmt wird.
\begin{Example}
  Dem Beispielbrief wird nun als Anlage noch ein Auszug aus der Satzung
  beigefügt. Da es nur eine Anlage gibt, wird auch die voreingestellte
  Bezeichnung passend geändert:
  \lstinputcode[xleftmargin=1em]{letter-4.tex}
  Das Ergebnis ist in \autoref{fig:scrlttr2.letter-4} zu sehen.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit Anschrift,
        Anrede, Text, Grußfloskel, Postskriptum, Anlagen und
        Verteiler}]{Ergebnis eines kleinen Briefes mit Anschrift, Anrede,
        Text, Grußfloskel, Postskriptum, Anlagen und Verteiler (Datum und
        Faltmarken entstammen den Voreinstellungen für DIN-Briefe)}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-4}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-4}
  \end{figure}
\end{Example}
%
\EndIndex{Cmd}{encl}%
\EndIndex{Variable}{enclseparator}%
%
\EndIndex{}{Brief>Aufbau}


\section{Wahl der Schriftgröße für das Dokument oder einen Brief}
\LoadCommon[scrlttr]{4} % \section{Wahl der Schriftgröße für das Dokument}

\begin{Example}
  Angenommen, bei dem Verein aus dem Beispielbrief handelt es sich um die
  \emph{»Freunde ungesunder Schriftgrößen«}, weshalb er in 14\Unit{pt} statt
  in 12\Unit{pt} gesetzt werden soll. Dies kann durch eine kleine Änderung der
  ersten Zeile erreicht werden:%
  \lstinputcode[xleftmargin=1em]{letter-6}%
  Alternativ könnte die Option auch als optionales Argument von
  \Environment{letter} gesetzt werden:
  \lstinputcode[xleftmargin=1em]{letter-5}%
  Da bei dieser späten Änderung der Schriftgröße der Satzspiegel nicht
  geändert wird, unterscheiden sich die beiden Ergebnisse in
  \autoref{fig:scrlttr2.letter-5-6}.
  \begin{figure}
    \centering
%    \setcapindent{0pt}
%    \begin{captionbeside}[{Beispiel: Brief mit Anschrift, Anrede, Text,
%        Grußfloskel, Postskriptum, Anlagen, Verteiler und ungesund großer
%        Schrift}]{Ergebnis eines kleinen Briefes mit Anschrift, Anrede, Text,
%        Grußfloskel, Postskriptum, Anlagen, Verteiler und ungesund großer
%        Schrift (Datum und Faltmarken entstammen den Voreinstellungen für
%        DIN-Briefe); links wurde die Schriftgröße als optionales Argument von
%        \Environment{letter} gesetzt, rechts als optionales Argument von
%        \Macro{documentclass}}[l]
    \frame{\includegraphics[width=.4\textwidth]{letter-5}}\quad
    \frame{\includegraphics[width=.4\textwidth]{letter-6}}
%  \end{captionbeside}
    \caption[{Beispiel: Brief mit Anschrift, Anrede, Text,
      Grußfloskel, Postskriptum, Anlagen, Verteiler und ungesund
      großer Schrift}]
    {Ergebnis eines kleinen Briefes mit Anschrift, Anrede, Text, Grußfloskel,
      Postskriptum, Anlagen, Verteiler und ungesund großer Schrift (Datum und
      Faltmarken entstammen den Voreinstellungen für DIN-Briefe); links wurde
      die Schriftgröße als optionales Argument von \Environment{letter}
      gesetzt, rechts als optionales Argument von \Macro{documentclass}}
    \label{fig:scrlttr2.letter-5-6}
  \end{figure}
\end{Example}
%
\EndIndex{Option}{fontsize~=\PName{Größe}}%
%
\EndIndex{}{Schrift>Groesse=Größe}


\LoadCommon[scrlttr]{5} % \section{Textauszeichnungen}

Mit der Anweisung \Macro{usekomafont} kann die aktuelle Schriftart auf
diejenige umgeschaltet werden, die für das angegebene \PName{Element}
definiert ist.

Ein allgemeines Beispiel für die Anwendung von \Macro{setkomafont} und
\Macro{usekomafont} finden Sie in \autoref{sec:maincls.textmarkup},
\autopageref{desc:maincls.setkomafont.example}.

\begin{desclist}
  \desccaption{%
    Elemente, deren Schrift bei der Klasse \Class{scrlttr2} mit
    \Macro{setkomafont} und \Macro{addtokomafont} verändert werden
    kann\label{tab:scrlttr2.elementsWithoutText}%
  }{%
    Elemente, deren Schrift verändert werden kann (\emph{Fortsetzung})%
  }%
  \feentry{addressee}{Name und Anschrift im Anschriftfenster
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.option.addrfield})}%
  \feentry{backaddress}{Rücksendeadresse für einen Fensterbriefumschlag
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.option.backaddress})}%
  \feentry{descriptionlabel}{Label, also das optionale Argument von
    \Macro{item}, in einer \Environment{description}-Umgebung
    (\autoref{sec:scrlttr2.lists},
    \autopageref{desc:scrlttr2.env.description})}%
  \feentry{foldmark}{Faltmarke auf dem Briefpapier; ermöglicht Änderung der
    Linienfarbe (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.option.foldmarks})}%
  \feentry{footnote}{%
    Marke und Text einer Fußnote (\autoref{sec:scrlttr2.footnotes},
    \autopageref{desc:scrlttr2.cmd.footnote})}%
  \feentry{footnotelabel}{%
    Marke einer Fußnote; Anwendung erfolgt nach dem Element
    \FontElement{footnote} (\autoref{sec:scrlttr2.footnotes},
    \autopageref{desc:scrlttr2.cmd.footnote})}%
  \feentry{footnotereference}{%
    Referenzierung der Fußnotenmarke im Text
    (\autoref{sec:scrlttr2.footnotes},
    \autopageref{desc:scrlttr2.cmd.footnote})}%
  \feentry{footnoterule}{%
    Linie\ChangedAt{v3.07}{\Class{scrlttr2}} über dem Fußnotenapparat
    (\autoref{sec:scrlttr2.footnotes},
    \autopageref{desc:scrlttr2.cmd.setfootnoterule})}%
  \feentry{fromaddress}{Absenderadresse im Briefkopf
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromaddress})}%
  \feentry{fromname}{Name des Absenders im Briefkopf abweichend von
    \PValue{fromaddress} (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.fromname})}%
  \feentry{fromrule}{Linie im Absender im Briefkopf; gedacht für
    Farbänderungen (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.option.fromrule})}%
  \feentry{labelinglabel}{%
    Label, also das optionale Argument der \Macro{item}-Anweisung, und
    Trennzeichen, also das optionale Argument der
    \Environment{labeling}-Umgebung, in einer \Environment{labeling}-Umgebung
    (siehe \autoref{sec:scrlttr2.lists},
    \autopageref{desc:scrlttr2.env.labeling})}%
  \feentry{labelingseparator}{%
    Trennzeichen, also das optionale Argument der
    \Environment{labeling}-Umgebung, in einer \Environment{labeling}-Umgebung;
    Anwendung erfolgt nach dem Element \FontElement{labelinglabel} (siehe
    \autoref{sec:scrlttr2.lists}, \autopageref{desc:scrlttr2.env.labeling})}%
  \feentry{pagefoot}{%
    wird nach dem Element \FontElement{pageheadfoot} für den mit Variable
    \Variable{nextfoot}\IndexVariable{nextfoot} definieren Seitenfuß verwendet
    oder wenn das Paket \Package{scrpage2} geladen ist (\autoref{cha:scrpage},
    \autopageref{desc:scrpage.fontelement.pagefoot})}%
  \feentry{pagehead}{%
    alternative Bezeichnung für \FontElement{pageheadfoot}}%
  \feentry{pageheadfoot}{%
    Seitenkopf und Seitenfuß bei allen von \KOMAScript{} definierten
    Seitenstilen (\autoref{sec:scrlttr2.pagestyle},
    \autopageref{desc:scrlttr2.fontelement.pageheadfoot})}%
  \feentry{pagenumber}{%
    Seitenzahl im Kopf oder Fuß der Seite (\autoref{sec:scrlttr2.pagestyle},
    \autopageref{desc:scrlttr2.fontelement.pagenumber})}%
  \feentry{pagination}{%
    alternative Bezeichnung für \FontElement{pagenumber}}%
  \feentry{refname}{%
    Bezeichnung der Felder in der Geschäftszeile
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.yourref})}%
  \feentry{refvalue}{%
    Werte der Felder in der Geschäftszeile (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.yourref})}%
  \feentry{specialmail}{Versandart im Anschriftfenster
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.specialmail})}%
  \feentry{subject}{Betreff in der Brieferöffnung
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.subject})}%
  \feentry{title}{Titel in der Brieferöffnung
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.title})}%
  \feentry{toaddress}{Abweichung vom Element \FontElement{addressee} für die
    Anschrift (ohne Name) des Empfängers im Anschriftfeld
    (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.toaddress})}%
  \feentry{toname}{Abweichung vom Element \FontElement{addressee} für den
    Namen des Empfängers im Anschriftfeld (\autoref{sec:scrlttr2.firstpage},
    \autopageref{desc:scrlttr2.variable.toname})}%
\end{desclist}
%
\EndIndex{Cmd}{setkomafont}%
\EndIndex{Cmd}{addtokomafont}%
\EndIndex{Cmd}{usekomafont}%
%
\EndIndex{}{Schrift>Art}%
\EndIndex{}{Text>Auszeichnung}

\section{Briefbogen}
\label{sec:scrlttr2.firstpage}
\BeginIndex{}{Briefbogen}

Der Briefbogen ist die erste Seite und damit das Aushängeschild jedes
Briefes. Im geschäftlichen Bereich handelt es sich dabei oft um einen
Vordruck, auf dem viele Elemente wie ein Briefkopf mit Absenderinformationen
und Logo bereits enthalten sind. Bei \KOMAScript{} sind diese Elemente frei
positionierbar. Damit ist es nicht nur möglich, einen Briefbogen direkt
nachzubilden, sondern auch vorgesehene Felder wie die Anschrift unmittelbar
auszufüllen. Die freie Positionierbarkeit wird über Pseudolängen (siehe
\autoref{sec:scrlttr2.pseudoLength} ab
\autopageref{sec:scrlttr2.pseudoLength}) erreicht. Eine schematische
Darstellung des Briefbogens und der dafür verwendeten Variablen ist in
\autoref{fig:scrlttr2.variables} zu finden. Dabei sind die Namen der Variablen
zur besseren Unterscheidung von Anweisungen und deren Argumenten fett
gedruckt.

Folgeseiten\Index{Folgeseite} sind vom Briefbogen zu
unterscheiden. Folgeseiten im Sprachgebrauch dieser Anleitung sind alle
Briefseiten abgesehen von der ersten.


\begin{figure}
  \centering
  \includegraphics[scale=0.99]{varDIN}
  \caption{Schematische Darstellung des Briefbogens mit den wichtigsten
    Anweisungen und Variablen für die skizzierten Elemente}
  \label{fig:scrlttr2.variables}
\end{figure}


\begin{Declaration}
  \KOption{foldmarks}\PName{Einstellung}
\end{Declaration}
\BeginIndex{Option}{foldmarks~=\PName{Einstellung}}%
\looseness=-1 % Umbruchkorrektur
Falt- oder Falzmarken sind kleine horizontale Striche am linken und kleine
vertikale Striche am oberen Rand. \KOMAScript{} unterstützt für den Briefbogen
derzeit drei konfigurierbare horizontale und eine konfigurierbare vertikale
Faltmarke. Dazu wird noch eine horizontale Loch- oder Seitenmittenmarke
unterstützt, die nicht in der Vertikalen verschoben werden kann.

Mit der Option \Option{foldmarks} können Faltmarken\Index{Faltmarke} für eine
vertikale Zwei"~, Drei- oder Vierteilung und eine horizontale Zweiteilung
aktiviert oder deaktiviert werden. Die einzelnen Teile müssen dabei nicht
äquidistant sein. Die Positionen von drei der vier horizontalen und der
vertikalen Marke sind über Pseudolängen konfigurierbar (siehe
\autoref{sec:scrlttr2-experts.foldmarks} ab
\autopageref{desc:scrlttr2-experts.plength.foldmarkvpos}).

Über die Option \Option{foldmarks} können entweder mit den Standardwerten für
einfache Schalter, die in \autoref{tab:truefalseswitch},
\autopageref{tab:truefalseswitch} angegeben sind, alle konfigurierten
Faltmarken am linken und oberen Rand ein- und ausgeschaltet werden,
oder\ChangedAt{v2.97e}{\Class{scrlttr2}} es kann durch die Angabe eines oder
mehrerer Buchstaben aus \autoref{tab:scrlttr2.foldmark} die Verwendung der
einzelnen Faltmarken gezielt konfiguriert werden. Auch in diesem Fall werden
die Faltmarken nur dann angezeigt, wenn die Faltmarken nicht mit
\PValue{false}, \PValue{off} oder \PValue{no} generell abgeschaltet
wurden. Die genaue Position der Faltmarken ist von den Einstellungen des
Anwenders beziehungsweise der \File{lco}-Dateien (siehe
\autoref{sec:scrlttr2.lcoFile} ab \autopageref{sec:scrlttr2.lcoFile})
abhängig. Voreingestellt sind \PValue{true} und \PValue{TBMPL}.
%
\begin{table}
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}[{%
      Kombinierbare Werte für die Konfiguration der Faltmarken mit der
      Option \Option{foldmarks}%
    }]{%
      \hspace{0pt plus 1ex}%
      Kombinierbare Werte für die Konfiguration der Faltmarken mit der
      Option \Option{foldmarks}\label{tab:scrlttr2.foldmark}%
    }[l]
  \begin{tabular}[t]{ll}
    \toprule
    \PValue{B} & untere, horizontale Faltmarke am linken Rand aktivieren\\%
    \PValue{b} & untere, horizontale Faltmarke am linken Rand deaktivieren\\%
    \PValue{H} & alle horizontalen Faltmarken am linken Rand aktivieren\\%
    \PValue{h} & alle horizontalen Faltmarken am linken Rand deaktivieren\\%
    \PValue{L} & linke, vertikale Faltmarke am oberen Rand aktivieren\\%
    \PValue{l} & linke, vertikale Faltmarke am oberen Rand deaktivieren\\%
    \PValue{M} & mittlere, horizontale Faltmarke am linken Rand aktivieren\\%
    \PValue{m} & mittlere, horizontale Faltmarke am linken Rand deaktivieren\\%
    \PValue{P} & Locher- bzw. Seitenmittenmarke am linken Rand aktivieren\\%
    \PValue{p} & Locher- bzw. Seitenmittenmarke am linken Rand deaktivieren\\%
    \PValue{T} & obere, horizontale Faltmarke am linken Rand aktivieren\\%
    \PValue{t} & obere, horizontale Faltmarke am linken Rand deaktivieren\\%
    \PValue{V} & alle vertikalen Faltmarken am oberen Rand aktivieren\\%
    \PValue{v} & alle vertikalen Faltmarken am oberen Rand deaktivieren\\
    \bottomrule
  \end{tabular}
  \end{captionbeside}
\end{table}
\begin{Example}
  Angenommen, Sie wollen alle Faltmarken außer der Lochermarke
  abschalten. Wenn die Voreinstellung zuvor noch nicht geändert wurde, können
  Sie das Abschalten wie folgt erreichen:
\begin{lstcode}
  \KOMAoption{foldmarks=blmt}
\end{lstcode}
  Besteht die Möglichkeit, dass die Voreinstellung bereits geändert wurde, so
  sollten Sie lieber auf Nummer Sicher gehen. Unser Beispiel ist dann
  entsprechend abzuändern.%
  \lstinputcode[xleftmargin=1em]{letter-7}%
  Das Ergebnis ist in \autoref{fig:scrlttr2.letter-7} zu sehen.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit Anschrift,
        Anrede, Text, Grußfloskel, Postskriptum, Anlagen, Verteiler und
        Lochermarke}]{Ergebnis eines kleinen Briefes mit Anschrift, Anrede,
        Text, Grußfloskel, Postskriptum, Anlagen, Verteiler und Lochermarke
        (das Datum entstammt den Voreinstellungen für DIN-Briefe)}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-7}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-7}
  \end{figure}
\end{Example}
\BeginIndex{FontElement}{foldmark}%
Über\ChangedAt{v2.97c}{\Class{scrlttr2}} das Element \FontElement{foldmark}
kann die Farbe der Faltmarken geändert werden. Dazu werden die Anweisungen
\Macro{setkomafont} und \Macro{addtokomafont} (siehe
\autoref{sec:scrlttr2.textmarkup},
\autopageref{desc:scrlttr2.cmd.setkomafont}) verwendet. Voreingestellt ist
keine Änderung.%
\EndIndex{FontElement}{foldmark}%
%
\EndIndex{Option}{foldmarks~=\PName{Einstellung}}%


\begin{Declaration}
  \KOption{enlargefirstpage}\PName{Ein-Aus-Wert}
\end{Declaration}
\BeginIndex{Option}{enlargefirstpage~=\PName{Ein-Aus-Wert}}%
Die erste Seite eines Briefes fällt immer aus dem normalen Satzspiegel. Von
\Class{scrlttr2} werden Mechanismen bereitgestellt, um die Höhe und vertikale
Ausrichtung von Kopf und Fuß der ersten Seite unabhängig von den Folgeseiten
zu bestimmen. Würde dadurch der Fuß der ersten Seite in den
Textbereich\Index{Text>Bereich} ragen, so wird der Textbereich der ersten Seite
automatisch mit Hilfe von \Macro{enlargethispage}\IndexCmd{enlargethispage}
verkleinert. Soll der Textbereich umgekehrt auch vergrößert werden, falls der
Fuß der ersten Seite dies erlaubt, so kann das mit dieser Option erreicht
werden. Es passt dann bestenfalls etwas mehr Text auf die erste Seite.  Siehe
hierzu auch die Erklärung zur Pseudolänge \PLength{firstfootvpos} auf
\autopageref{desc:scrlttr2-experts.plength.firstfootvpos}. Als
\PName{Ein-Aus-Wert} kann dabei einer der Standardwerte für einfache Schalter
aus \autoref{tab:truefalseswitch}, \autopageref{tab:truefalseswitch} verwendet
werden. Voreingestellt ist \PValue{false}.%
%
\EndIndex{Option}{enlargefirstpage~=\PName{Ein-Aus-Wert}}%


\begin{Declaration}
  \KOption{firsthead}\PName{Ein-Aus-Wert}
\end{Declaration}
\BeginIndex{Option}{firsthead~=\PName{Ein-Aus-Wert}}%
Das\ChangedAt{v2.97e}{\Class{scrlttr2}} oberste Element eines Briefbogens ist
normalerweise der Briefkopf. Bei \KOMAScript{} kann mit der Option
\Option{firsthead} gewählt werden, ob der Briefkopf auf dem Briefbogen
überhaupt gesetzt werden soll. Als \PName{Ein-Aus-Wert} kann dabei einer der
Standardwerte für einfache Schalter aus \autoref{tab:truefalseswitch},
\autopageref{tab:truefalseswitch} verwendet werden. In der Voreinstellung ist
der Briefkopf aktiviert.%
%
\EndIndex{Option}{firsthead~=\PName{Ein-Aus-Wert}}%


\begin{Declaration}
  \KOption{fromalign}\PName{Methode}
\end{Declaration}
\BeginIndex{}{Briefkopf}%
\BeginIndex{Option}{fromalign~=\PName{Methode}}%
Die\important{\Option{fromalign}} Option \Option{fromalign} bestimmt, wo der
Absender\Index{Absender} auf der ersten Seite platziert werden soll. Neben
verschiedenen Platzierungen im Briefkopf gibt es
auch\ChangedAt{v2.97e}{\Class{scrlttr2}} die Möglichkeit, den Absender in der
Absenderergänzung\Index{Absenderergaenzung=Absenderergänzung}
unter zu bringen. Gleichzeitig\textnote{Achtung!} dient diese Option als
zentraler Schalter, um die Erweiterungen der Briefkopfgestaltung überhaupt zu
aktivieren oder zu deaktivieren. Sind die Erweiterungen deaktiviert, so
bleiben die übrigen nachfolgend angegebenen Optionen ohne Wirkung. Mögliche
Werte für \Option{fromalign} sind \autoref{tab:scrlttr2.fromalign} zu
entnehmen. Voreingestellt ist der Wert \PValue{left}.
%
\EndIndex{Option}{fromalign~=\PName{Methode}}%

\begin{table}
  \caption[{Mögliche Werte für Option \Option{fromalign} bei
    \Class{scrlttr2}}]{Mögliche Werte für Option \Option{fromalign} zur
    Platzierung des Absenders auf dem Briefbogen von \Class{scrlttr2}}
  \label{tab:scrlttr2.fromalign}
  \begin{desctabular}
    \entry{\PValue{center}, \PValue{centered}, \PValue{middle}}{%
      Absender wird innerhalb des Briefkopfs zentriert; ein Logo wird
      gegebenenfalls am Anfang der erweiterten Absenderangabe platziert; die
      Erweiterungen der Briefkopfgestaltung werden aktiviert.}%
    \entry{\PValue{false}, \PValue{no}, \PValue{off}}{%
      Standardgestalt für den Absender wird verwendet; die Erweiterungen der
      Briefkopfgestaltung werden deaktiviert.}%
    \entry{\PValue{left}}{%
      Absender steht linksbündig im Briefkopf; ein Logo wird gegebenenfalls
      rechtsbündig platziert; die Erweiterungen der Briefkopfgestaltung werden
      aktiviert.}%
    \entry{\PValue{locationleft}, \PValue{leftlocation}}{%
      Absender steht linksbündig in der Absenderergänzung; ein Logo wird
      gegebenenfalls darüber platziert; der Briefkopf wird automatisch
      deaktiviert, kann aber über Option \Option{firsthead} wieder aktiviert
      werden.}%
    \entry{\PValue{locationright}, \PValue{rightlocation},
      \PValue{location}}{%
      Absender steht rechtsbündig in der Absenderergänzung; ein Logo wird
      gegebenenfalls darüber platziert; der Briefkopf wird automatisch
      deaktiviert, kann aber über Option \Option{firsthead} wieder aktiviert
      werden.}%
    \entry{\PValue{right}}{%
      Absender steht rechtsbündig im Briefkopf; ein Logo wird gegebenenfalls
      linksbündig platziert; die Erweiterungen der Briefkopfgestaltung werden
      aktiviert.}%
  \end{desctabular}
\end{table}

\begin{Declaration}
  \KOption{fromrule}\PName{Position}\\
  \Macro{setkomavar}\PParameter{\Variable{fromname}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{fromaddress}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Option}{fromrule~=\PName{Position}}%
\BeginIndex{Variable}{fromaddress}%
\BeginIndex{Variable}{fromname}%
Der\important{\Variable{fromname}} Name des Absenders wird über die Variable
\Variable{fromname} bestimmt. Im Briefkopf wird dabei die \PName{Bezeichnung}
(siehe auch \autoref{tab:scrlttr2.fromTerm},
\autopageref{tab:scrlttr2.fromTerm}) nicht gesetzt.

Optional\important{\OptionValue{fromrule}{aftername}} kann mit Einstellung
\OptionValue{fromrule}{aftername} im erweiterten Briefkopf auf den Namen eine
horizontale Linie
folgen. Alternativ\important[i]{\begin{tabular}{@{}l@{}}\KOption{fromrule}\\\quad\PValue{afteraddress}\end{tabular}} kann die
Linie mit \OptionValue{fromrule}{afteraddress} auch unterhalb des kompletten
Absenders gesetzt werden. Eine Übersicht über alle möglichen Einstellungen für
die Linie bietet \autoref{tab:scrlttr2.fromrule}. Die Länge der Linie wird
über die Pseudolänge \PLength{fromrulewidth} bestimmt.

\begin{table}
%  \KOMAoptions{captions=topbeside}%
%  \setcapindent{0pt}%
  \caption
%  \begin{captionbeside}
    [{%
      Mögliche Werte für Option \Option{fromrule} bei
      \Class{scrlttr2}%
    }]{%
      Mögliche Werte für Option \Option{fromrule} zur
      Platzierung einer horizontalen Linie im Absender des erweiterten
      Briefkopfs von \Class{scrlttr2}%
    }
      \label{tab:scrlttr2.fromrule}%
%    [l]
%    \begin{minipage}[t]{.6\linewidth}%
      \begin{desctabular}
        \entry{%
          \PValue{afteraddress}, \PValue{below}, \PValue{on}, \PValue{true},
          \PValue{yes}}{%
          Linie unterhalb des kompletten Absenders}%
        \entry{\PValue{aftername}}{%
          Linie direkt unter dem Namen des Absenders}%
        \entry{\PValue{false}, \PValue{no}, \PValue{off}}{%
          keine Linie}%
      \end{desctabular}
%    \end{minipage}
%  \end{captionbeside}
\end{table}

In der Voreinstellung ist die Linie im erweiterten Briefkopf nicht
aktiviert. Im Standardbriefkopf wird die Linie immer nach dem Namen gesetzt.

Unter\important{\Variable{fromaddress}} dem Namen folgt die Anschrift des
Absenders. Diese wird über die Variable \Variable{fromaddress} bestimmt. Im
Briefkopf wird dabei die \PName{Bezeichnung} (siehe auch
\autoref{tab:scrlttr2.fromTerm}) nicht gesetzt.

\BeginIndex{FontElement}{fromaddress}%
\BeginIndex{FontElement}{fromname}%
\BeginIndex{FontElement}{fromrule}%
Die Schrift, die für den kompletten Absender verwendet wird, kann über das
Element \FontElement{fromaddress}\IndexFontElement{fromaddress}%
\important{\FontElement{fromaddress}} eingestellt werden. Abweichungen davon
können für den Absendernamen über das Element
\FontElement{fromname}\IndexFontElement{fromname}%
\important{\FontElement{fromname}} und für die mit \Option{fromrule} gesetzte
Linie über das Element \FontElement{fromrule}\IndexFontElement{fromrule}%
\important{\FontElement{fromrule}} eingestellt werden. In der Voreinstellung
erfolgt keinerlei Schriftumschaltung. Bei der Linie ist die Möglichkeit der
Schriftumschaltung hauptsächlich dazu gedacht, die Farbe der Linie ändern zu
können, um etwa Grau an Stelle von Schwarz zu verwenden. Siehe hierzu
\cite{package:xcolor}.%
%
\EndIndex{FontElement}{fromrule}%
\EndIndex{FontElement}{fromname}%
\EndIndex{FontElement}{fromaddress}%

\begin{Example}
  Geben wir nun dem Absender aus den bisherigen Beispielen einen Namen.
  \lstinputcode[xleftmargin=1em]{letter-8.tex}
  \begin{figure}
    \centering
    \frame{\includegraphics[width=.4\textwidth]{letter-8}}\quad
    \frame{\includegraphics[width=.4\textwidth]{letter-9}}
    \caption[{Beispiel: Brief mit Absender, Anschrift, Anrede,
      Text, Grußfloskel, Signatur, Postskriptum, Anlagen und Verteiler}]
    {Ergebnis eines kleinen Briefes mit Absender, Anschrift, Anrede, Text,
      Grußfloskel, Signatur, Postskriptum, Anlagen und Verteiler (Datum und
      Faltmarken entstammen den Voreinstellungen für DIN-Briefe); links der
      Standardbriefkopf mit \OptionValue{fromalign}{false}, rechts der
      erweiterte Briefkopf mit \OptionValue{fromalign}{center}}
    \label{fig:scrlttr2.letter-8-9}
  \end{figure}
  Dabei wird zunächst einmal nicht der erweiterte Briefkopf, sondern nur der
  Standardbriefkopf verwendet. Das Ergebnis ist in
  \autoref{fig:scrlttr2.letter-8-9}, links zu sehen.  Im Vergleich dazu ist
  rechts daneben das gleiche Beispiel, jedoch mit Option
  \OptionValue{fromalign}{center}, also mit den aktivierten Erweiterungen für
  den Briefkopf, abgebildet. Wie zu sehen ist, hat diese Variante zunächst
  einmal keine Linie. 

  In \autoref{fig:scrlttr2.letter-8-9} taucht nun auch erstmals eine Signatur
  unter dem Gruß auf. Diese wird automatisch aus dem Absendername
  gewonnen. Wie sie konfiguriert werden kann, ist in
  \autoref{sec:scrlttr2.closing} ab \autopageref{sec:scrlttr2.closing} zu
  finden.

  Nun soll der Brief mit aktivierter Erweiterung für den Briefkopf mit Hilfe
  der Option \Option{fromrule} auch noch eine Linie unter dem Namen erhalten:%
  \lstinputcode[xleftmargin=1em]{letter-11.tex}%
  Das Ergebnis ist in \autoref{fig:scrlttr2.letter-10-11}, rechts zu sehen.
  \begin{figure}
    \centering
    \frame{\includegraphics[width=.4\textwidth]{letter-10}}\quad
    \frame{\includegraphics[width=.4\textwidth]{letter-11}}
    \caption[{Beispiel: Brief mit Absender, Trennlinie, Anschrift, Anrede, Text,
      Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
      Lochermarke}]{Ergebnis eines kleinen Briefes mit Absender, Trennlinie,
      Anschrift, Anrede, Text, Grußfloskel, Signatur, Postskriptum, Anlagen,
      Verteiler und Lochermarke (das Datum entstammt den Voreinstellungen für
      DIN-Briefe); links der Standardbriefkopf mit
      \OptionValue{fromalign}{false}, rechts der erweiterte
      Briefkopf mit \OptionValue{fromalign}{center}}
    \label{fig:scrlttr2.letter-10-11}
  \end{figure}
  Im Vergleich dazu ist links daneben das gleiche Beispiel noch einmal mit dem
  Standardbriefkopf und ohne Reaktion auf die zusätzliche Option.
\end{Example}

Ein\textnote{Achtung!} wichtiger Hinweis betrifft noch die Absenderadresse:
Innerhalb der Absenderadresse werden einzelne Teilangaben durch doppelten
Backslash voneinander getrennt. Solche Teilangaben sind beispielsweise Straße
und Hausnummer, Postleitzahl und Ort oder eine Länderangabe. Dieser doppelte
Backslash wird je nach Verwendung der Absenderadresse unterschiedlich
interpretiert und ist nicht zwangsläufig als Zeilenumbruch zu verstehen.
Absätze, vertikale Abstände und Ähnliches sind innerhalb der Absenderangaben
normalerweise nicht gestattet. Man muss \Class{scrlttr2} schon sehr genau
kennen, um solche Mittel gegebenenfalls sinnvoll im Absender einsetzen zu
können. Außerdem sollte man in dem Fall unbedingt die Variablen für
Rücksendeadresse (siehe Variable \Variable{backaddress},
\autopageref{desc:scrlttr2.variable.backaddress}) und Signatur (siehe Variable
\Variable{signature}, \autopageref{desc:scrlttr2.variable.signature}) selbst
setzen.%
%
\EndIndex{Variable}{fromname}%
\EndIndex{Variable}{fromaddress}%
\EndIndex{Option}{fromrule~=\PName{Position}}%


\begin{Declaration}
  \KOption{fromphone}\PName{Ein-Aus-Wert}\\
  \KOption{fromfax}\PName{Ein-Aus-Wert}\\
  \KOption{fromemail}\PName{Ein-Aus-Wert}\\
  \KOption{fromurl}\PName{Ein-Aus-Wert}\\
  \Macro{setkomavar}\PParameter{\Variable{fromphone}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{fromfax}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{fromemail}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{fromurl}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{phoneseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{faxseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{emailseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{urlseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}%
\end{Declaration}%
\BeginIndex{Option}{fromphone~=\PName{Ein-Aus-Wert}}%
\BeginIndex{Option}{fromfax~=\PName{Ein-Aus-Wert}}%
\BeginIndex{Option}{fromemail~=\PName{Ein-Aus-Wert}}%
\BeginIndex{Option}{fromurl~=\PName{Ein-Aus-Wert}}%
\BeginIndex{Variable}{fromphone}%
\BeginIndex{Variable}{fromfax}%
\BeginIndex{Variable}{fromemail}%
\BeginIndex{Variable}{fromurl}%
\BeginIndex{Variable}{emailseparator}%
\BeginIndex{Variable}{faxseparator}%
\BeginIndex{Variable}{phoneseparator}%
\BeginIndex{Variable}{urlseparator}%
Mit den Optionen \Option{fromphone}, \Option{fromfax}, \Option{fromemail} und
\Option{fromurl} kann bestimmt werden, ob die Telefonnummer\Index{Telefon},
die Faxnummer\Index{Fax}, die E-Mail-Adresse und die URL im
Absender\Index{Absender} gesetzt werden soll. Als \PName{Ein-Aus-Wert} kann
dabei einer der Standardwerte für einfache Schalter aus
\autoref{tab:truefalseswitch}, \autopageref{tab:truefalseswitch} verwendet
werden. Voreingestellt ist jeweils \PValue{false}. Die Inhalte selbst werden
über die gleichnamigen Variablen bestimmt. Die Voreinstellungen für die dabei
verwendeten Bezeichnungen sind \autoref{tab:scrlttr2.fromTerm} zu entnehmen,
die verwendeten Trennzeichen, die zwischen der \PName{Bezeichnung} und dem
\PName{Inhalt} einer Variablen eingefügt werden,
\autoref{tab:scrlttr2.fromSeperator}.

\begin{table}
  \centering
  \caption[{Vordefinierte Bezeichnungen der Variablen für die\newline
    Absenderangaben im Briefkopf}]{Vordefinierte Bezeichnungen der Variablen
    für die Absenderangaben im Briefkopf (die Bezeichnungen und Inhalte der
    verwendeten Variablen für Trennzeichen ist
    \autoref{tab:scrlttr2.fromSeperator} zu entnehmen)}
  \begin{desctabular}[1.8em]
    \ventry{fromemail}{\Macro{usekomavar*}\PParameter{emailseparator}%
      \Macro{usekomavar}\PParameter{emailseparator}}%
    \ventry{fromfax}{\Macro{usekomavar*}\PParameter{faxseparator}%
      \Macro{usekomavar}\PParameter{faxseparator}}%
    \ventry{fromname}{\Macro{headfromname}}%
    \ventry{fromphone}{\Macro{usekomavar*}\PParameter{phoneseparator}%
      \Macro{usekomavar}\PParameter{phoneseparator}}%
    \ventry{fromurl}{\Macro{usekomavar*}\PParameter{urlseparator}%
      \Macro{usekomavar}\PParameter{urlseparator}}%
  \end{desctabular}
  \label{tab:scrlttr2.fromTerm}
\end{table}

\begin{table}[tp]
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}{Vordefinierte Bezeichnungen und Inhalte der Trennzeichen
      für die Absenderangaben im Briefkopf}
    [l]
  \begin{tabular}[t]{lll}
    \toprule
    Name                      & Bezeichnung & Inhalt \\
    \midrule
    \Variable{emailseparator} & \Macro{emailname} & \texttt{:\~} \\
    \Variable{faxseparator}   & \Macro{faxname}   & \texttt{:\~} \\
    \Variable{phoneseparator} & \Macro{phonename} & \texttt{:\~} \\
    \Variable{urlseparator}   & \Macro{wwwname}   & \texttt{:\~} \\
    \bottomrule
  \end{tabular}
  \end{captionbeside}
  \label{tab:scrlttr2.fromSeperator}
\end{table}

\begin{Example}
  Herr Musterfrau aus unserem Beispiel hat auch Telefon und eine
  E-Mail-Adresse. Diese möchte er ebenfalls im Briefkopf haben. Gleichzeitig
  soll die Trennlinie nun nach dem Briefkopf stehen. Also gibt er die
  entsprechenden Optionen an und setzt auch die zugehörigen Variablen:%
  \lstinputcode[xleftmargin=1em]{letter-12.tex}%
  Das Ergebnis aus \autoref{fig:scrlttr2.letter-12-13}, links ist jedoch
  ernüchternd. Die Optionen werden ignoriert. Das liegt daran, dass diese
  zusätzlichen Variablen und Optionen nur im erweiterten Briefkopf verwendet
  werden. Es muss also wie in \autoref{fig:scrlttr2.letter-12-13}, rechts die
  Option \Option{fromalign} verwendet werden:
  \begin{figure}
    \centering
    \frame{\includegraphics[width=.4\textwidth]{letter-12}}\quad
    \frame{\includegraphics[width=.4\textwidth]{letter-13}}
    \caption[{Beispiel: Brief mit erweitertem Absender, Trennlinie, Anschrift,
      Anrede, Text, Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
      Lochermarke; Standard- vs. erweiterter Briefkopf}]{Ergebnis eines
      kleinen Briefes mit erweitertem Absender, Trennlinie, Anschrift, Anrede,
      Text, Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
      Lochermarke (das Datum entstammt den Voreinstellungen für DIN-Briefe);
      links der Standardbriefkopf mit \OptionValue{fromalign}{false}, rechts
      der erweiterte Briefkopf mit \OptionValue{fromalign}{center}}
    \label{fig:scrlttr2.letter-12-13}
  \end{figure}
  \lstinputcode[xleftmargin=1em]{letter-13.tex}

  Den Vergleich zweier Alternativen mit linksbündigem Absender durch
  Einstellung \OptionValue{fromalign}{left} und rechtsbündigem Absender
  durch Einstellung \OptionValue{fromalign}{right} zeigt
  \autoref{fig:scrlttr2.letter-14-15}.
  \begin{figure}
    \centering
    \frame{\includegraphics[width=.4\textwidth]{letter-14}}\quad
    \frame{\includegraphics[width=.4\textwidth]{letter-15}}
    \caption[{Beispiel: Brief mit erweitertem Absender, Trennlinie, Anschrift,
      Anrede, Text, Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler
      und Lochermarke; links- vs. rechtsbündiger Briefkopf}]{Ergebnis eines
      kleinen Briefes mit erweitertem Absender, Trennlinie, Anschrift, Anrede,
      Text, Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
      Lochermarke (das Datum entstammt den Voreinstellungen für DIN-Briefe);
      links mit linksbündigem Kopf durch \OptionValue{fromalign}{left}, rechts
      mit Option \OptionValue{fromalign}{right} und damit rechtsbündigem Kopf}
    \label{fig:scrlttr2.letter-14-15}
  \end{figure}
\end{Example}
%
\EndIndex{Variable}{urlseparator}%
\EndIndex{Variable}{phoneseparator}%
\EndIndex{Variable}{faxseparator}%
\EndIndex{Variable}{emailseparator}%
\EndIndex{Variable}{fromurl}
\EndIndex{Variable}{fromemail}
\EndIndex{Variable}{fromfax}
\EndIndex{Variable}{fromphone}%
\EndIndex{Option}{fromurl~=\PName{Ein-Aus-Wert}}%
\EndIndex{Option}{fromemail~=\PName{Ein-Aus-Wert}}%
\EndIndex{Option}{fromfax~=\PName{Ein-Aus-Wert}}%
\EndIndex{Option}{fromphone~=\PName{Ein-Aus-Wert}}%

\begin{Declaration}
  \KOption{fromlogo}\PName{Ein-Aus-Wert}\\
  \Macro{setkomavar}\PParameter{\Variable{fromlogo}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Option}{fromlogo~=\PName{Ein-Aus-Wert}}%
\BeginIndex{Variable}{fromlogo}%
Mit der Option \Option{fromlogo} kann bestimmt werden, ob ein Logo\Index{Logo}
im Briefkopf gesetzt werden soll. Als \PName{Ein-Aus-Wert} kann dabei einer
der Standardwerte für einfache Schalter aus \autoref{tab:truefalseswitch},
\autopageref{tab:truefalseswitch} verwendet werden. Voreingestellt ist
\PValue{false}, also kein Logo. Das Logo selbst wird über die Variable
\Variable{fromlogo} definiert. Die \PName{Bezeichnung} für das Logo ist in der
Voreinstellung leer und wird von \KOMAScript{} auch nicht verwendet (siehe
auch \autoref{tab:scrlttr2.fromTerm}).%
\begin{Example}
  Herr Musterfrau findet es besonders schick, wenn er seine Briefe mit einem
  Logo versieht. Sein Logo hat er als Grafikdatei gespeichert, die er gerne
  mit Hilfe der Anweisung \Macro{includegraphics} laden würde. Dazu bindet er
  zusätzlich das Paket \Package{graphics}\IndexPackage{graphics} (siehe
  \cite{package:graphics}) ein.%
  \lstinputcode[xleftmargin=1em]{letter-16}%
  Das Ergebnis ist in \autoref{fig:scrlttr2.letter-16-18} links oben zu
  sehen. Die beiden anderen Bilder in dieser Abbildung zeigen das Ergebnis bei
  rechtsbündigem und bei zentriertem Absender.
   \begin{figure}
     \setcapindent{0pt}%
     {\hfill
       \frame{\includegraphics[width=.4\textwidth]{letter-16}}\quad
       \frame{\includegraphics[width=.4\textwidth]{letter-17}}\par\bigskip}
     \begin{captionbeside}[{Beispiel: Brief mit erweitertem Absender, Logo,
         Trennlinie, Anschrift, Anrede, Text, Grußfloskel, Signatur,
         Postskriptum, Anlagen, Verteiler und Lochermarke; Absender links
         vs. rechts vs. zentriert}]{Ergebnis eines kleinen Briefes mit
         erweitertem Absender, Logo, Trennlinie, Anschrift, Anrede, Text,
         Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
         Lochermarke (das Datum entstammt den Voreinstellungen für
         DIN-Briefe); links, oben mit linksbündigem Absender, rechts daneben
         mit zentriertem Absender und rechts mit rechtsbündigem Absender}[l]
       \frame{\includegraphics[width=.4\textwidth]{letter-18}}\quad
  \end{captionbeside}
  \label{fig:scrlttr2.letter-16-18}
  \end{figure}
\end{Example}%
%
\EndIndex{Variable}{fromlogo}%
\EndIndex{Option}{fromlogo~=\PName{Ein-Aus-Wert}}%

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{firsthead}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Variable}{firsthead}%
In vielen Fällen reichen die Möglichkeiten aus, die \Class{scrlttr2} über
Optionen und obige Variablen für die Gestaltung des Briefkopfes bietet. In
einigen Fällen will man jedoch den Briefkopf freier gestalten können. In
diesen Fällen muss man auf die Möglichkeiten der vordefinierten Briefköpfe,
die über die oben erwähnten Option ausgewählt werden können,
verzichten. Stattdessen gestaltet man sich seinen Briefkopf frei. Dazu
definiert man den gewünschten Aufbau über den \PName{Inhalt} der Variablen
\Variable{firsthead}. Dabei können beispielsweise mit Hilfe der
\Macro{parbox}-Anweisung (siehe \cite{latex:usrguide}) mehrere Boxen neben-
und untereinander gesetzt werden.  Einem versierten Anwender sollte es so
möglich sein, seinen eigenen Briefkopf zu gestalten. Natürlich kann und sollte
man dabei auch Zugriffe auf andere Variablen mit Hilfe von \Macro{usekomavar}
nehmen. Die \PName{Bezeichnung} der Variablen \Variable{firsthead} wird von
\KOMAScript{} nicht verwendet. 
\iffree{}{Ein ausführliches Beispiel für
  Definition eines Briefkopfes wird in \autoref{cha:modernletters} behandelt.}

Lediglich\textnote{Achtung!} aus Gründen der Kompatibilität zu frühere
Version von \Class{scrlttr2} existiert auch noch Anweisung
\Macro{firsthead}\IndexCmd[indexmain]{firsthead}. Diese sollte jedoch nicht
mehr verwendet werden.%
%
\EndIndex{Variable}{firsthead}%
%
\EndIndex{}{Briefkopf}%


\begin{Declaration}
  \KOption{addrfield}\PName{Modus}\\
  \KOption{backaddress}\PName{Wert}\\
  \KOption{priority}\PName{Priorität}\\
  \Macro{setkomavar}\PParameter{\Variable{toname}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{toaddress}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{backaddress}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{backaddressseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{specialmail}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{fromzipcode}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{zipcodeseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{place}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{PPcode}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{PPdatamatrix}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{addresseeimage}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}%
\BeginIndex{}{Anschrift}%
\BeginIndex{Option}{addrfield~=\PName{Modus}}%
\BeginIndex{Variable}{toname}%
\BeginIndex{Variable}{toaddress}%
\BeginIndex{Option}{backaddress~=\PName{Wert}}%
\BeginIndex{Variable}{backaddress}%
\BeginIndex{Variable}{backaddressseparator}%
\BeginIndex{Option}{priority~=\PName{Priorität}}%
\BeginIndex{Variable}{specialmail}%
\BeginIndex{Variable}{fromzipcode}%
\BeginIndex{Variable}{zipcodeseparator}%
\BeginIndex{Variable}{place}%
\BeginIndex{Variable}{PPcode}%
\BeginIndex{Variable}{PPdatamatrix}%
\BeginIndex{Variable}{addresseeimage}%
Mit der Option \Option{addrfield} kann gewählt werden, ob ein Anschriftfeld
gesetzt werden soll oder nicht. Voreingestellt ist die Verwendung eines
Anschriftfeldes.  Die Option versteht die in
\autoref{tab:scrlttr2.addrfield}\ChangedAt{v3.03}{\Class{scrlttr2}}
angegebenen Werte für den \PName{Modus}. Voreingestellt ist \PValue{true}. Bei
den Werten \PValue{true}, \PValue{PP} und \PValue{backgroundimage} werden Name
und Adresse des Empfängers, die im Anschriftfeld gesetzt werden, über das
Argument der Umgebung \Environment{letter} (siehe
\autoref{sec:scrlttr2.document}, \autopageref{desc:scrlttr2.env.letter})
bestimmt. Diese Angaben werden außerdem in die Variablen \Variable{toname} und
\Variable{toaddress} kopiert.  Die voreingestellten Schriftarten
können\ChangedAt{v2.97c}{\Class{scrlttr2}} über die Anweisungen
\Macro{setkomafont} und \Macro{addtokomafont} (siehe
\autoref{sec:scrlttr2.textmarkup}, ab
\autopageref{desc:scrlttr2.cmd.setkomafont}) verändert werden. Dabei
existieren drei Elemente. Zunächst gibt es das Element
\FontElement{addressee}\IndexFontElement{addressee}%
\important{\FontElement{addressee}}, das generell für die Anschrift zuständig
ist. Dazu gibt es die Elemente
\FontElement{toname}\IndexFontElement{toname}\important{\FontElement{toname}}
und \FontElement{toaddress}\IndexFontElement{toaddress}%
\important{\FontElement{toaddress}}, die sich nur auf den Namen bzw. die
Adresse des Empfängers beziehen. Für \FontElement{toname} und
\FontElement{toaddress} können also Abweichungen von der Einstellung für
\FontElement{addressee} definiert werden.

\begin{table}
  \caption[{Mögliche Werte für Option \Option{addrfield} bei
    \Class{scrlttr2}}]{Mögliche Werte für Option \Option{addrfield} zur
    Auswahl der Art der Anschrift bei \Class{scrlttr2}%
    \label{tab:scrlttr2.addrfield}}%
  \begin{desctabular}
    \entry{\PValue{true}, \PValue{on}, \PValue{yes}}{%
      Es wird eine Anschrift mit Rücksendeadresse und Versandart oder
      Priorität gesetzt.}%
    \entry{\PValue{false}, \PValue{off}, \PValue{no}}{%
      Es wird keine Anschrift gesetzt.}%
    \entry{\PValue{PP}, \PValue{pp}, \PValue{PPexplicite},
      \PValue{PPExplicite}, \PValue{ppexplicite}, \PValue{ppExplicite}}{%
      Es wird eine Anschrift mit explizit über die Variablen
      \Variable{fromzipcode}, \Variable{place} und \Variable{PPcode}
      ausgefüllten Port-Payé-Kopf (P.\,P.-Kopf), ggf. mit Priorität und über
      Variable \Variable{PPdatamatrix} gesetzte Data-Matrix aber ohne
      Rücksendeadresse und Versandart gesetzt.}%
    \entry{\PValue{backgroundimage}, \PValue{PPbackgroundimage},
      \PValue{PPBackgroundImage}, \PValue{PPBackGroundImage},
      \PValue{ppbackgroundimage}, \PValue{ppBackgroundImage},
      \PValue{ppBackGroundImage}}{%
      Es wird eine Anschrift mit einer in Variable \Variable{addresseeimage}
      abgelegten Hintergrundgrafik als Port-Payé-Kopf (P.\,P.-Kopf) aber ohne
      Rücksendeadresse und Versandart gesetzt.}%
    \entry{\PValue{image}, \PValue{Image}, \PValue{PPimage}, \PValue{PPImage},
      \PValue{ppimage}, \PValue{ppImage}}{%
      Eine in Variable \Variable{addresseeimage} abgelegte Abbildung wird als
      Anschrift mit Port-Payé gesetzt. Adressinformationen und Angaben für
      Rücksendeadresse, Versandart oder Priorität werden ignoriert.}%
  \end{desctabular}
\end{table}%

Im Anschriftfeld wird in der Voreinstellung \OptionValue{addrfield}{true}
zusätzlich noch die unterstrichene Rücksendeadresse gesetzt.  Mit
Option \Option{backaddress} kann gewählt werden, ob und in welcher Form die
Rücksendeadresse\Index{Ruecksendeadresse=Rücksendeadresse} für
Fensterbriefumschläge im Anschriftfeld gesetzt werden soll.  Die
Option\important{\OptionValue{backaddress}{false}} versteht dazu einerseits
die Standardwerte für einfache Schalter, die in \autoref{tab:truefalseswitch},
\autopageref{tab:truefalseswitch} angegeben sind. Dabei bleibt der Stil der
Rücksendeadresse unverändert. Beim Einschalten der Rücksendeadresse kann
andererseits\ChangedAt{v2.96}{\Class{scrlttr2}} gleichzeitig auch der Stil der
Rücksendeadresse gewählt werden. So aktiviert der Wert \PValue{underlined} die
unterstrichene Rücksendeadresse,
während\important{\OptionValue{backaddress}{plain}} \PValue{plain} den Stil
ohne Unterstreichung auswählt. Voreingestellt ist \PValue{underlined}, also
das Setzen der unterstrichenen Rücksendeadresse. 

Die Rücksendeadresse selbst wird über den \PName{Inhalt} der Variable
\Variable{backaddress} bestimmt. Voreingestellt ist hier der über
\Variable{fromname} angegebene Name und die über \Variable{fromaddress}
angegebene Adresse, wobei der Doppelbackslash in diesem Fall durch den Inhalt
der Variablen \Variable{backaddressseparator} ersetzte wird. Für diese ist ein
Komma gefolgt von einem nicht umbrechbaren Leerzeichen vordefiniert. Die
\PName{Bezeichnung} der Variablen \Variable{backaddress} wird von
\KOMAScript{} nicht genutzt. Die Schriftart der Rücksendeadresse ist über das
Element \FontElement{backaddress}\IndexFontElement[indexmain]{backaddress}%
\important{\FontElement{backaddress}} konfigurierbar. Voreingestellt ist
hierbei \Macro{sffamily} (siehe \autoref{tab:scrlttr2.AddresseeElements}),
wobei vor der Anwendung der konfigurierten Schriftumschaltung noch auf
\Macro{scriptsize} umgeschaltet wird.%
%
\EndIndex{Variable}{backaddressseparator}%
\EndIndex{Variable}{backaddress}%
\EndIndex{Option}{backaddress~=\PName{Wert}}%
\EndIndex{Variable}{toaddress}%
\EndIndex{Variable}{toname}%

\begin{table}
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}[{%
      Schriftvoreinstellungen für die Elemente des Anschriftfensters%
    }]{%
      \hspace{0pt plus 1ex}%
      Voreinstellungen für die Schrift der Elemente des Anschriftfensters%
      \label{tab:scrlttr2.AddresseeElements}%
    }%
    [l]
  \begin{tabular}[t]{ll}
    \toprule
    Element & Voreinstellung \\
    \midrule
    \FontElement{addressee}\IndexFontElement{addressee} & 
    \\
    \FontElement{backaddress}\IndexFontElement{backaddress} & 
    \Macro{sffamily}%
    \\
    \FontElement{PPdata}\IndexFontElement{PPdata} &
    \Macro{sffamily}%
    \\
    \FontElement{PPlogo}\IndexFontElement{PPlogo} &
    \Macro{sffamily}\Macro{bfseries}%
    \\
    \FontElement{priority}\IndexFontElement{priority} &
    \Macro{fontsize}\PParameter{10pt}\PParameter{10pt}%
    \Macro{sffamily}\Macro{bfseries}%
    \\
    \FontElement{prioritykey}\IndexFontElement{prioritykey} &
    \Macro{fontsize}\PParameter{24.88pt}\PParameter{24.88pt}%
    \Macro{selectfont}%
    \\
    \FontElement{specialmail}\IndexFontElement{specialmail} & 
    \\
    \FontElement{toaddress}\IndexFontElement{toaddress} & 
    \\
    \FontElement{toname}\IndexFontElement{toname} & 
    \\
    \bottomrule
  \end{tabular}
  \end{captionbeside}
\end{table}

\BeginIndex{FontElement}{specialmail}
Zwischen Rücksendeadresse und Empfängeradresse kann bei der
Standardeinstellung \OptionValue{addrfield}{true} noch eine optionale
Versandart\Index{Versandart} gesetzt werden. Diese wird genau dann gesetzt,
wenn die Variable \Variable{specialmail} einen \PName{Inhalt} hat und
\OptionValue{priority}{manual}\ChangedAt{v3.03}{\Class{scrlttr2}} gewählt
wird, was der Voreinstellung entspricht. Die \PName{Bezeichnung} von
\Variable{specialmail} wird durch \Class{scrlttr2} nicht genutzt. Die
Ausrichtung wird mit Hilfe der Pseudolängen \PLength{specialmailindent} und
\PLength{specialmailrightindent} (siehe
\autopageref{desc:scrlttr2-experts.plength.specialmailindent}) festgelegt. Die
voreingestellte Schriftart des Elements\ChangedAt{v2.97c}{\Class{scrlttr2}}
\FontElement{specialmail}\important{\FontElement{specialmail}}, die Sie
\autoref{tab:scrlttr2.AddresseeElements} entnehmen können, kann mit Hilfe der
Anweisungen \Macro{setkomafont} und \Macro{addtokomafont} (siehe
\autoref{sec:scrlttr2.textmarkup},
\autopageref{desc:scrlttr2.cmd.setkomafont}) verändert werden.%
\EndIndex{FontElement}{specialmail}%

Wird\ChangedAt{v3.03}{\Class{scrlttr2}}\important[i]{\OptionValue{priority}{A}\\
  \OptionValue{priority}{B}} hingegen mit \OptionValue{priority}{A} oder
\OptionValue{priority}{B} (siehe \autoref{tab:scrlttr2.priority}) eine
internationale Priorität ausgewählt, so wird diese bei
\OptionValue{addrfield}{true} als Versandart und bei
\OptionValue{addrfield}{PP}\important{\OptionValue{addrfield}{PP}} an
entsprechender Stelle im Port-Payé-Kopf gesetzt. Dabei wird die
Grundschrift\important[i]{\FontElement{priority}\\
  \FontElement{prioritykey}} über das Element
\FontElement{priority}\IndexFontElement[indexmain]{priority} und die davon
abweichende Schrift für den Prioritätsschlüssel, »A« oder »B«, über das
Element \FontElement{prioritykey}\IndexFontElement[indexmain]{prioritykey}
bestimmt. Die voreingestellten Schriftarten der beiden Elemente, die Sie
\autoref{tab:scrlttr2.AddresseeElements} entnehmen können, kann mit Hilfe der
Anweisungen \Macro{setkomafont} und \Macro{addtokomafont} (siehe
\autoref{sec:scrlttr2.textmarkup},
\autopageref{desc:scrlttr2.cmd.setkomafont}) verändert werden.%
\EndIndex{Variable}{specialmail}%

\begin{table}
  \caption[{Mögliche Werte für Option \Option{priority} bei
    \Class{scrlttr2}}]{Mögliche Werte für Option \Option{priority} zur
    Auswahl einer internationalen Priorität im Adressfeld von \Class{scrlttr2}}
  \label{tab:scrlttr2.priority}
  \begin{desctabular}
    \entry{\PValue{false}, \PValue{off}, \PValue{no}, \PValue{manual}}{%
      Es wird keine Priorität gesetzt.}%
    \entry{\PValue{B}, \PValue{b}, \PValue{economy}, \PValue{Economy},
      \PValue{ECONOMY}, \PValue{B-ECONOMY}, \PValue{B-Economy}, 
      \PValue{b-economy}}{%
      Es wird die internationale Priorität B-Economy gesetzt. Bei
      \OptionValue{addrfield}{true} erfolgt dies an Stelle der Versandart.}%
    \entry{\PValue{A}, \PValue{a}, \PValue{priority}, \PValue{Priority},
      \PValue{PRIORITY}, \PValue{A-PRIORITY}, \PValue{A-Priority}, 
      \PValue{a-priority}}{%
      Es wird die internationale Priorität A-Priority gesetzt. Bei
      \OptionValue{addrfield}{true} erfolgt dies an Stelle der Versandart.}%
  \end{desctabular}
\end{table}

Bei\ChangedAt{v3.03}{\Class{scrlttr2}}\important{\OptionValue{addrfield}{PP}}
\OptionValue{addrfield}{PP} wird im Port-Payé-Kopf außerdem die Postleitzahl
aus der Variablen \Variable{fromzipcode} und der Ort aus der Variablen
\Variable{place} gesetzt. Dabei wird der Postleitzahl aus dem \PName{Inhalt} der
Variablen \Variable{fromzipcode} die \PName{Bezeichnung} der Variablen
\Variable{fromzipcode} gefolgt vom \PName{Inhalt} der Variablen
\Variable{zipcodeseparator} vorangestellt. Die Voreinstellung dieser
\PName{Bezeichnung} hängt von der verwendeten \File{lco}-Datei (siehe
\autoref{sec:scrlttr2.lcoFile} ab \autopageref{sec:scrlttr2.lcoFile}) ab. Für
den \PName{Inhalt} von \Variable{zipcodeseparator} ist hingegen ein kleiner
Abstand, gefolgt von einem Streckenstrich, gefolgt von einem kleinen Abstand
(\Macro{,}\texttt{-{}-}\Macro{,}) voreingestellt.

Darüber\ChangedAt{v3.03}{\Class{scrlttr2}} hinaus wird bei
\OptionValue{addrfield}{PP}\important{\OptionValue{addrfield}{PP}} im
Port-Payé-Kopf auch noch ein Code gesetzt, der den Absender eindeutig
identifiziert. Dieser ist in Variable \Variable{PPcode} abgelegt. Rechts von
der Anschrift kann zusätzlich eine Data-Matrix gesetzt werden, die in Variable
\Variable{PPdatamatrix} abgelegt ist.

Postleitzahl\ChangedAt{v3.03}{\Class{scrlttr2}}, Ort und Code werden in der
Voreinstellung mit einer Schrift der Größe 8\,pt gesetzt. Dabei wird die
Schrift des Elements \FontElement{PPdata}\IndexFontElement[indexmain]{PPdata}%
\important{\FontElement{PPdata}} verwendet. Dessen Voreinstellung ist
\autoref{tab:scrlttr2.AddresseeElements} zu entnehmen und kann mit Hilfe der
Anweisungen \Macro{setkomafont} und \Macro{addtokomafont} (siehe
\autoref{sec:scrlttr2.textmarkup},
\autopageref{desc:scrlttr2.cmd.setkomafont}) verändert werden.%
\EndIndex{Variable}{PPcode}%
\EndIndex{Variable}{place}%
\EndIndex{Variable}{zipcodeseparator}%
\EndIndex{Variable}{fromzipcode}%

Bei\important[i]{\begin{tabular}[t]{@{}l@{}}
    \KOption{addrfield}\\\quad\PValue{backgroundimage}\end{tabular}\strut\\
  \strut\OptionValue{addrfield}{image}} den beiden Einstellungen
\OptionValue{addrfield}{backgroundimage}\ChangedAt{v3.03}{\Class{scrlttr2}}
und \OptionValue{addrfield}{image} wird eine Abbildung in das Adressfenster
gesetzt. Diese ist im \PName{Inhalt} der Variablen \Variable{addresseeimage}
abgelegt. Die \PName{Bezeichnung} dieser Variablen wird von \KOMAScript{}
nicht genutzt. Während bei Einstellung \OptionValue{addrfield}{image} außer der
Abbildung nichts gesetzt wird, wird bei
\OptionValue{addrfield}{backgroundimage} zusätzlich noch die Anschrift aus dem
obligatorischen Argument der \Environment{letter}-Umgebung ausgegeben.

Die Anordnung des Port-Payé-Kopfes wird ebenso wie die Anordnung der
Port-Payé-Anschrift über die Pseudolängen \PLength{toaddrindent} (siehe
\autopageref{desc:scrlttr2-experts.plength.toaddrindent}) sowie
\PLength{PPheadwidth} und \PLength{PPheadheight} (siehe
\autopageref{desc:scrlttr2-experts.plength.PPheadheight}) bestimmt. Für die
Anordnung der Data-Matrix ist die Pseudolänge \PLength{PPdatamatrixvskip}
(siehe \autopageref{desc:scrlttr2-experts.plength.PPdatamatrixvskip})
zuständig.

Es\textnote{Achtung!} wird an dieser Stelle ausdrücklich darauf hingewiesen,
dass \KOMAScript{} selbst keine externen Abbildungen setzen kann, sollen also
über die Variablen \Variable{addresseeimage} oder \Variable{PPdatamatrix}
externe Abbildungen gesetzt werden, so ist beispielsweise das Grafikpaket
\Package{graphics}\IndexPackage{graphics} oder
\Package{graphicx}\IndexPackage{graphicx} zu laden und in den Variablen dessen
Anweisung \Macro{includegraphics} zu verwenden.%
\EndIndex{Variable}{addresseeimage}%
\EndIndex{Variable}{PPdatamatrix}%
%
\EndIndex{Option}{addrfield~=\PName{Modus}}%
\EndIndex{Option}{priority~=\PName{Priorität}}%
%
\EndIndex{}{Anschrift}


\begin{Declaration}
  \KOption{locfield}\PName{Einstellung}
\end{Declaration}
\BeginIndex{}{Absenderergaenzung=Absenderergänzung}%
\BeginIndex{Option}{locfield~=\PName{Einstellung}}%
Neben dem Anschriftfeld setzt \Class{scrlttr2} noch ein Feld mit erweiterter
Absenderangabe. Dieses Feld kann beispielsweise für Bankverbindungen und
Ähnliches verwendet werden. Je\important[i]{\OptionValue{fromalign}{center}\\
  \begin{tabular}[t]{@{}l@{}}
    \KOption{fromalign}\\\quad\PValue{locationleft}\end{tabular}\\
  \begin{tabular}[t]{@{}l@{}}
    \KOption{fromalign}\\\quad\PValue{locationright}\end{tabular}} nach
Einstellung der oben erklärten Option \Option{fromalign} wird es außerdem für
das Logo des Absenders oder den Absender selbst mitverwendet. Die Breite
dieses Feldes kann beispielsweise in einer \File{lco}-Datei (siehe
\autoref{sec:scrlttr2.lcoFile}) gesetzt werden. Wird dort die Breite 0
gesetzt, so kann über die Option \Option{locfield} zwischen zwei
unterschiedlichen Voreinstellungen für die Breite dieses Feldes gewählt
werden. Siehe hierzu auch die Erklärungen zur Pseudolänge \Variable{locwidth}
in \autoref{sec:scrlttr2-experts.locationField},
\autopageref{desc:scrlttr2-experts.plength.locwidth}. Mögliche Werte für die
Option sind \autoref{tab:scrlttr2.locfield} zu entnehmen. Voreingestellt ist
\PValue{narrow}.
%
\begin{table}
%  \caption
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
  \begin{captionbeside}
    [{Mögliche Werte für Option \Option{locfield} bei
      \Class{scrlttr2}}]
    {Mögliche Werte für Option \Option{locfield} zur Wahl der Breite des
      Feldes für die Absenderergänzung bei \Class{scrlttr2}%
      \label{tab:scrlttr2.locfield}}%
    [l]
    \begin{minipage}[t]{.55\linewidth}
      \begin{desctabular}[t]
        \pventry{narrow}{schmales Feld für Absenderergänzungen}%
        \pventry{wide}{breites Feld für Absenderergänzungen}%
      \end{desctabular}
    \end{minipage}
  \end{captionbeside}
\end{table}

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{location}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Variable}{location}%
Der Inhalt der Absenderergänzung, soweit er nicht durch Logo oder den Absender
selbst belegt ist, wird mit der Variablen \Variable{location} festgelegt. Für
den \PName{Inhalt} dieser Variablen dürfen auch Formatierungsanweisungen wie
\Macro{raggedright} verwendet werden. Die \PName{Bezeichnung} dieser Variablen
wird von \KOMAScript{} nicht genutzt.

\begin{Example}
  Herr Musterfrau möchte ein paar zusätzliche Informationen zu seiner
  Mitgliedschaft angeben. Er wählt dazu die Absenderergänzung:%
  \lstinputcode[xleftmargin=1em]{letter-19.tex}%
  Das entsprechende Feld neben der Anschrift wird dann wie in
  \autoref{fig:scrlttr2.letter-19} gesetzt.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit erweitertem Absender, Logo,
        Anschrift, Absenderergänzung, Anrede, Text, Grußfloskel,
        Signatur, Postskriptum, Anlagen, Verteiler und Lochermarke}]{Ergebnis
        eines kleinen Briefes mit erweitertem Absender, Logo, 
        Anschrift, Absenderergänzung, Anrede, Text, Grußfloskel, Signatur,
        Postskriptum, Anlagen, Verteiler und Lochermarke (das Datum entstammt
        den Voreinstellungen für DIN-Briefe)}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-19}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-19}
  \end{figure}
\end{Example}
%
\EndIndex{Variable}{location}%
\EndIndex{Option}{locfield~=\PName{Einstellung}}%
%
\EndIndex{}{Absenderergaenzung=Absenderergänzung}%


\begin{Declaration}
  \KOption{numericaldate}\PName{Ein-Aus-Wert}
\end{Declaration}
\BeginIndex{Option}{numericaldate~=\PName{Ein-Aus-Wert}}%
Mit dieser Option kann zwischen der sprachabhängigen Standarddarstellung des
Datums\Index{Datum}\Index{Geschaeftszeile=Geschäftszeile} und einem ebenfalls
sprachabhängigen, kurzen, rein nummerischen Datum umgeschaltet werden. Die
Standarddarstellung wird nicht von \KOMAScript{} bereitgestellt. Sie kann
wahlweise von einem Paket wie \Package{ngerman}\IndexPackage{ngerman},
\Package{babel}\IndexPackage{babel} oder auch
\Package{isodate}\IndexPackage{isodate}
stammen. Das\important{\OptionValue{numericaldate}{true}} kurze nummerische
Datum wird hingegen von \Class{scrlttr2} selbst erzeugt. Die Option versteht
die Standardwerte für einfache Schalter, die in \autoref{tab:truefalseswitch},
\autopageref{tab:truefalseswitch} angegeben sind. Voreingestellt ist mit
\PValue{false} die Verwendung der Standarddarstellung.

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{date}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Variable}{date}%
Das Datum in der gewählten Darstellung wird in im \PName{Inhalt} der Variablen
\Variable{date} abgelegt. Die Einstellung von \Option{numericaldate} hat keine
Auswirkung, wenn diese Variable überschrieben wird. Gesetzt wird das Datum
normalerweise als Teil der Geschäftszeile. Dies ist auch dann der Fall, wenn
die Geschäftszeile ansonsten leer bleibt. Für weitere Angaben zum
automatischen Setzen des Datums siehe die nachfolgend beschriebene Option
\Option{refline}.%
%
\EndIndex{Variable}{date}%
\EndIndex{Option}{numericaldate~=\PName{Ein-Aus-Wert}}%


\begin{Declaration}
  \KOption{refline}\PName{Einstellung}
\end{Declaration}
\BeginIndex{}{Geschaeftszeile=Geschäftszeile}%
\BeginIndex{Option}{refline~=\PName{Einstellung}}%
Insbesondere bei Geschäftsbriefen findet sich häufig eine Zeile mit Angaben
wie Namenskürzeln\Index{Kuerzel=Kürzel}, Durchwahl\Index{Durchwahl},
Kunden-\Index{Kundennummer} und Rechnungsnummer\Index{Rechnungsnummer} oder
zur Bezugnahme auf ein früheres Schreiben. Diese Zeile wird in dieser
Anleitung \emph{Geschäftszeile}\textnote{Geschäftszeile} genannt.

Bei \Class{scrlttr2} können Kopf, Fuß, Anschrift und das Feld mit der
Absenderergänzung links und rechts aus dem normalen Satzspiegel herausragen.
Über \OptionValue{refline}{wide}\important{\OptionValue{refline}{wide}} kann
gewählt werden, dass dies auch für die Geschäftszeile gelten soll. Die
Geschäftszeile enthält normalerweise zumindest das Datum, kann aber auch
weitere Angaben aufnehmen. Mögliche Werte für diese Option sind
\autoref{tab:scrlttr2.refline} zu entnehmen. Voreingestellt sind
\PValue{narrow} und \PValue{dateright}\ChangedAt{v3.09}{\Class{scrlttr2}}.%
%
\begin{table}
  \caption[{Mögliche Werte für Option \Option{refline} bei
    \Class{scrlttr2}}]{Mögliche Werte für Option \Option{refline} zur
    Konfiguration der Geschäftszeile bei \Class{scrlttr2}}
  \label{tab:scrlttr2.refline}
  \begin{desctabular}
    \pventry{dateleft}{\ChangedAt{v3.09}{\Class{scrlttr2}}%
      Das Datum steht automatisch links in der Geschäftszeile.}%
    \pventry{dateright}{\ChangedAt{v3.09}{\Class{scrlttr2}}%
      Das Datum steht automatisch rechts in der Geschäftszeile.}%
    \pventry{narrow}{Die Breite Geschäftszeile richtet sich nach dem
      Satzspiegel.}%
    \pventry{nodate}{\ChangedAt{v3.09}{\Class{scrlttr2}}%
      Das Datum wird nicht automatisch in die Geschäftszeile gesetzt.}%
    \pventry{wide}{Die Breite der Geschäftszeile richtet sich nach Anschrift
      und Absenderergänzung.}%
  \end{desctabular}
\end{table}

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{yourref}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{yourmail}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{myref}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{customer}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{invoice}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}%
\end{Declaration}
\BeginIndex{Variable}{yourref}%
\BeginIndex{Variable}{yourmail}%
\BeginIndex{Variable}{myref}%
\BeginIndex{Variable}{customer}%
\BeginIndex{Variable}{invoice}%
Typische Felder der Geschäftszeile werden über die fünf Variablen
\Variable{yourref}, \Variable{yourmail}, \Variable{myref}, \Variable{customer}
und \Variable{invoice} verwaltet. Die Bedeutung dieser Felder sind
\autoref{tab:scrlttr2.variables} auf \autopageref{tab:scrlttr2.variables} zu
entnehmen. Jede dieser Variablen hat außerdem eine vordefinierte
\PName{Bezeichnung}, die in \autoref{tab:scrlttr2.reflineTerm} zu finden
ist. Wie weitere Variablen zur Geschäftszeile hinzugefügt werden können, ist
in \autoref{sec:scrlttr2-experts.variables} ab
\autopageref{desc:scrlttr2-experts.cmd.newkomavar} erklärt.

\begin{table}
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}
    [{Vordefinierte Bezeichnungen der Variablen der
      Geschäftszeile}]
    {Vordefinierte Bezeichnungen der typischen Variablen der
      Geschäftszeile unter Verwendung sprachabhängiger Anweisungen%
      \label{tab:scrlttr2.reflineTerm}%
    }
    [l]
    \begin{tabular}[t]{lll}
      \toprule
      Name                & Bezeichnung  & bei deutscher Sprache \\
      \midrule
      \Variable{yourref}  & \Macro{yourrefname}  & Ihr Zeichen \\
      \Variable{yourmail} & \Macro{yourmailname} & Ihr Schreiben vom \\
      \Variable{myref}    & \Macro{myrefname}    & Unser Zeichen \\
      \Variable{customer} & \Macro{customername} & Kundennummer \\
      \Variable{invoice}  & \Macro{invoicename}  & Rechnungsnummer \\
      \Variable{date}     & \Macro{datename}     & Datum \\
      \bottomrule
    \end{tabular}
  \end{captionbeside}
\end{table}

\BeginIndex{FontElement}{refname}%
\BeginIndex{FontElement}{refvalue}%
Schriftart und Farbe\ChangedAt{v2.97c}{\Class{scrlttr2}} der Feldbezeichnung
und des Feldinhaltes können über die beiden Elemente \FontElement{refname}%
\important[i]{\FontElement{refname}\\\FontElement{refvalue}} und
\FontElement{refvalue} geändert werden. Dazu werden die Anweisungen
\Macro{setkomafont} und \Macro{addtokomafont} (siehe
\autoref{sec:scrlttr2.textmarkup},
\autopageref{desc:scrlttr2.cmd.setkomafont}) verwendet. Die Voreinstellungen
der beiden Elemente sind \autoref{tab:scrlttr2.refnamerefvalue} zu entnehmen.%
\begin{table}[tp]
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}
    [{Schriftvoreinstellungen für die Elemente der Geschäftszeile}]
    {Voreinstellungen für die Schrift der Elemente der Geschäftszeile%
      \label{tab:scrlttr2.refnamerefvalue}}
    [l]
    \begin{tabular}[t]{ll}
      \toprule
      Element & Voreinstellung \\
      \midrule
      \FontElement{refname} & \Macro{sffamily}\Macro{scriptsize} \\
      \FontElement{refvalue} & \\
      \bottomrule
    \end{tabular}
  \end{captionbeside}
\end{table}%
%
\EndIndex{FontElement}{refvalue}%
\EndIndex{FontElement}{refname}%


\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{place}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{placeseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}%
\BeginIndex{Variable}{place}%
\BeginIndex{Variable}{placeseparator}%
Sind bis auf \Variable{date} alle Variablen der Geschäftszeile leer, so wird
keine eigentliche Geschäftszeile gesetzt. Stattdessen werden dann nur
rechtsbündig Ort\Index{Ort} und Datum\Index{Datum} ausgegeben. Dabei bestimmt
der \PName{Inhalt} der Variablen \Variable{place} den Ort. Für das
Trennzeichen, das in diesem Fall nach dem Ort gesetzt wird, ist der
\PName{Inhalt} der Variablen \Variable{placeseparator} zuständig. Der
vordefinierte \PName{Inhalt} des Trennzeichens ist dabei ein Komma gefolgt von
einem nicht umbrechbaren Leerzeichen. Ist der Ort leer, so wird auch das
Trennzeichen nicht gesetzt. Der vordefinierte \PName{Inhalt} der Variablen
\Variable{date} ist \Macro{today}\IndexCmd{today} und hängt von der
Einstellung der Option \Option{numericaldate} ab (siehe
\autopageref{desc:scrlttr2.option.numericaldate}).

\begin{Example}
  Herr Musterfrau setzt nun auch die Variable für den Ort:
  \lstinputcode[xleftmargin=1em]{letter-20.tex}%
  Damit erscheint vor dem Datum, wie in \autoref{fig:scrlttr2.letter-20} zu
  sehen, der Ort gefolgt von den automatischen Trennzeichen vor dem
  Datum. Dieses wurde nun ebenfalls explizit gesetzt, damit bei einem späteren
  \LaTeX-Durchlauf des Briefes das ursprüngliche Datum erhalten bleibt.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit erweitertem Absender, Logo,
        Anschrift, Absenderergänzung, Ort, Datum, Anrede, Text,
        Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
        Lochermarke}]{Ergebnis eines kleinen Briefes mit erweitertem Absender,
        Logo, Anschrift, Absenderergänzung, Ort, Datum, Anrede,
        Text, Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
        Lochermarke}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-20}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-20}
  \end{figure}
\end{Example}
%
\EndIndex{Variable}{place}%
\EndIndex{Variable}{placeseparator}%
%
\EndIndex{Variable}{invoice}%
\EndIndex{Variable}{customer}%
\EndIndex{Variable}{myref}%
\EndIndex{Variable}{yourmail}%
\EndIndex{Variable}{yourref}%
%
\EndIndex{Option}{refline~=\PName{Einstellung}}%
%
\EndIndex{}{Geschaeftszeile=Geschäftszeile}%

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{title}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Variable}{title}%
Bei \Class{scrlttr2} kann ein Brief zusätzlich mit einem Titel\Index{Titel}
versehen werden. Der Titel wird zentriert in der Schriftgröße \Macro{LARGE}
unterhalb der Geschäftszeile ausgegeben. Die Schriftart für das Element
\FontElement{title}\IndexFontElement[indexmain]{title}%
\important{\FontElement{title}} kann mit den
Anweisungen \Macro{setkomafont} und \Macro{addtokomafont} (siehe
\autoref{sec:scrlttr2.textmarkup} ab
\autopageref{desc:scrlttr2.cmd.setkomafont}) geändert werden. Dabei sind auch
Größenangaben erlaubt. Die Größe \Macro{Large} wird der Schriftauswahl dabei
immer voran gestellt und ist daher auch nicht Teil der
Voreinstellung \Macro{normalcolor}\Macro{sffamily}\Macro{bfseries}.
\begin{Example}
  Angenommen, Sie schreiben eine Mahnung. Sie setzen einen
  entsprechenden Titel:
\begin{lstcode}
  \setkomavar{title}{Mahnung}
\end{lstcode}
  Damit sollte der Empfänger die Mahnung als solche erkennen.
\end{Example}
Während der \PName{Inhalt} der Variablen, wie im Beispiel gezeigt, den Titel
definiert, wird die \PName{Bezeichnung} der Variablen \Variable{title} von
\KOMAScript{} nicht genutzt.
%
\EndIndex{Variable}{title}


\begin{Declaration}
  \KOption{subject}\PName{Einstellung}\\
  \Macro{setkomavar}\PParameter{\Variable{subject}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{subjectseparator}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{}{Betreff}%
\BeginIndex{Option}{subject~=\PName{Einstellung}}%
\BeginIndex{Variable}{subject}%
\BeginIndex{Variable}{subjectseparator}%
Um einen Betreff zu setzten, legt man den \PName{Inhalt} der Variablen
\Variable{subject} entsprechend fest. Mit Option
\OptionValue{subject}{true}\important{\OptionValue{subject}{titled}} kann dann
zum einen gewählt werden, dass der Betreff mit einem Titel versehen werden
soll oder nicht. Der Titel wird über die Bezeichnung der Variablen
\Variable{subject} bestimmt (siehe \autoref{tab:scrlttr2.subjectTerm}).  Der
vordefinierte Inhalt des Trennzeichens\Index{Trennzeichen}
\Variable{subjectseparator} besteht aus einem Doppelpunkt, gefolgt von einem
Leerzeichen.

\begin{table}
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}
    [{Vordefinierte Bezeichnungen der Variablen für den Betreff}]
    {\hspace{0pt plus 1ex}%
      Vordefinierte Bezeichnungen der Variablen für den Betreff}
    [l]
    \begin{tabular}[t]{lll}
      \toprule
      Name               & Bezeichnung \\
      \midrule
      \Variable{subject} & \Macro{usekomavar*}\PParameter{subjectseparator}%
                           \texttt{\%} \\ 
                         & \texttt{\quad}%
                           \Macro{usekomavar}\PParameter{subjectseparator} \\
      \Variable{subjectseparator} & \Macro{subjectname} \\
      \bottomrule
    \end{tabular}
  \end{captionbeside}
  \label{tab:scrlttr2.subjectTerm}
\end{table}

Zum anderen kann über \OptionValue{subject}{afteropening}%
\important{\OptionValue{subject}{afteropening}} gewählt werden, dass der
Betreff abweichend von der Voreinstellung erst nach der Anrede gesetzt werden
soll. Eine andere Formatierung%
\important[i]{\OptionValue{subject}{underlined}\\
  \OptionValue{subject}{centered}\\
  \OptionValue{subject}{right}} kann mit \OptionValue{subject}{underlined} und \OptionValue{subject}{centered} oder
\OptionValue{subject}{right}\ChangedAt{v2.97c}{\Class{scrlttr2}} eingestellt
werden. Mögliche Werte für Option \Option{subject} sind
\autoref{tab:scrlttr2.subject} zu entnehmen. Es\textnote{Achtung!} wird
ausdrücklich darauf hingewiesen, dass bei der Einstellung
\OptionValue{subject}{underlined} der Betreff komplett in eine Zeile passen
muss!  Voreingestellt sind \OptionValue{subject}{left},
\OptionValue{subject}{beforeopening} und \OptionValue{subject}{untitled}.%
%
\begin{table}
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}
    [{Mögliche Werte für Option \Option{subject} bei \Class{scrlttr2}}]
    {\hspace{0pt plus 1ex}%
      Mögliche Werte für Option \Option{subject} zur Platzierung und
      Formatierung eines Betreffs bei \Class{scrlttr2}%
      \label{tab:scrlttr2.subject}}
    [l]
    \begin{minipage}[t]{.667\linewidth}
      \begin{desctabular}[t]
        \pventry{afteropening}{Betreff nach der Anrede setzen}%
        \pventry{beforeopening}{Betreff vor der Anrede setzen}%
        \pventry{centered}{Betreff zentrieren}%
        \pventry{left}{Betreff linksbündig setzen}%
        \pventry{right}{Betreff rechtsbündig setzen}%
        \pventry{titled}{Betreff mit Titel versehen}%
        \pventry{underlined}{Betreff unterstreichen (Hinweis im
          Text beachten!)}%
        \pventry{untitled}{Betreff nicht mit Titel versehen}%
      \end{desctabular}
    \end{minipage}
  \end{captionbeside}
\end{table}

Der Betreff wird in einer eigenen Schriftart\Index{Schrift>Art} gesetzt. Um
diese zu ändern, verwenden Sie die Anweisungen \Macro{setkomafont} und
\Macro{addtokomafont} (siehe \autoref{sec:scrlttr2.textmarkup} ab
\autopageref{desc:scrlttr2.cmd.setkomafont}). Für das Element
\FontElement{subject}\IndexFontElement[indexmain]{subject}%
\important{\FontElement{subject}} ist in der Klasse \Class{scrlttr2} als
Schrift \Macro{normalcolor}\Macro{bfseries} voreingestellt.

\begin{Example}
  Herr Musterfrau setzt nun auch den Betreff. Als eher traditioneller
  veranlagter Mensch möchte er außerdem, dass der Betreff mit einer
  entsprechenden Spitzmarke versehen wird und setzt deshalb auch die
  entsprechende Option:%
  \lstinputcode[xleftmargin=1em]{letter-21.tex}%
  Das Ergebnis ist in \autoref{fig:scrlttr2.letter-21} zu sehen.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit erweitertem Absender, Logo,
        Anschrift, Absenderergänzung, Ort, Datum, Betreff, Anrede, Text,
        Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler und
        Lochermarke}]{Ergebnis eines kleinen Briefes mit erweitertem Absender,
        Logo, Anschrift, Absenderergänzung, Ort, Datum, Betreff,
        Anrede, Text, Grußfloskel, Signatur, Postskriptum, Anlagen, Verteiler
        und Lochermarke}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-21}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-21}
  \end{figure}
\end{Example}
%
\EndIndex{Variable}{subjectseparator}%
\EndIndex{Variable}{subject}%
\EndIndex{Option}{subject~=\PName{Einstellung}}%
\EndIndex{}{Betreff}%


\begin{Declaration}
  \KOption{firstfoot}\PName{Ein-Aus-Wert}
\end{Declaration}
\BeginIndex{}{Briefbogenfuss=Briefbogenfuß}%
\BeginIndex{Option}{firstfoot~=\PName{Ein-Aus-Wert}}%
Diese\ChangedAt{v2.97e}{\Class{scrlttr2}} Option bestimmt, ob der
Briefbogenfuß überhaupt gesetzt wird. Das Abschalten mit
\OptionValue{firstfoot}{false}\important{\OptionValue{firstfoot}{false}} hat
Auswirkungen wenn gleichzeitig Option \Option{enlargefirstpage} (siehe
\autopageref{desc:scrlttr2.option.enlargefirstpage}) verwendet wird, da sich
dadurch die Seite logisch nach unten verlängert. Zwischen dem Ende des
Satzspiegels und dem Seitenende bleibt dann nur der normale Abstand zwischen
Satzspiegel und Seitenfuß.

Die Option versteht die Standardwerte für einfache Schalter, die in
\autoref{tab:truefalseswitch}, \autopageref{tab:truefalseswitch} angegeben
sind. Voreingestellt ist das Setzen des Briefbogenfußes.%
%
\EndIndex{Option}{firstfoot~=\PName{Ein-Aus-Wert}}%


\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{firstfoot}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}%
\BeginIndex{Variable}{firstfoot}%
Der Fuß der ersten Seite ist in der Voreinstellung leer. Es besteht jedoch die
Möglichkeit, über den \PName{Inhalt} der
Variablen\ChangedAt{v3.08}{\Class{scrlttr2}} \Variable{firstfoot} einen
neue Festlegung zu treffen. Die \PName{Bezeichnung} der Variablen wird von
\KOMAScript{} nicht genutzt.

\BeginIndex{Variable}{frombank}%
\begin{Example}
  Sie wollen den Inhalt der Variablen \Variable{frombank}, also die
  Bankverbindung im Fuß der ersten Seite ausgeben. Der doppelte
  Backslash soll dabei durch ein Komma ersetzt werden:
\begin{lstcode}
  \setkomavar{firstfoot}{%
    \parbox[b]{\linewidth}{%
      \centering\def\\{, }\usekomavar{frombank}%
    }%
  }
\end{lstcode}
  Natürlich können Sie für das Trennzeichen auch eine eigene Variable
  definieren. Ich überlasse dem Leser dies als Übung.
  
  Will man eine Art Brief"|fuß als Gegengewicht zum Briefkopf verwenden, so
  kann dieser beispielsweise wie folgt definiert werden:
\begin{lstcode}
  \setkomavar{firstfoot}{%
    \parbox[t]{\textwidth}{\footnotesize
      \begin{tabular}[t]{l@{}}%
        \multicolumn{1}{@{}l@{}}{Gesellschafter:}\\
        Hugo Mayer\\
        Bernd Müller
      \end{tabular}%
      \hfill
      \begin{tabular}[t]{l@{}}%
        \multicolumn{1}{@{}l@{}}{Geschäftsführerin:}\\
        Liselotte Mayer\\[1ex]
        \multicolumn{1}{@{}l@{}}{Gerichtsstand:}\\
        Hinterdupfeldingen
      \end{tabular}%
      \ifkomavarempty{frombank}{}{%
        \hfill
        \begin{tabular}[t]{l@{}}%
          \multicolumn{1}{@{}l@{}}{%
            \usekomavar*{frombank}:}\\
          \usekomavar{frombank}
        \end{tabular}%
        }%
      }%
    }
\end{lstcode}
  Das Beispiel stammt ursprünglich von Torsten Krüger, und mit
\begin{lstcode}
  \setkomavar{frombank}{Konto 12\,345\,678\\
                        bei der HansWurstBank\\
                        BLZ 876\,543\,21}
\end{lstcode}
  kann die Bankverbindung passend dazu gesetzt werden. 
% Abhängig von den
%  Voreinstellungen ist ein solch hoher Fuß nicht vorgesehen und wird deshalb
%  möglicherweise zu tief platziert. In einem solchen Fall kann die vertikale
%  Position über die Pseudolänge
%  \PLength{firstfootvpos}\IndexPLength{firstfootvpos} angepasst werden (siehe
%  \autopageref{desc:scrlttr2-experts.plength.firstfootvpos}).
\end{Example}

Im\textnote{Achtung!} Beispiel wurde ein mehrzeiliger Fuß gesetzt. Bei einer
Kompatibilitätseinstellung ab Version 2.9u (siehe \Option{version} in
\autoref{sec:scrlttr2.compatibilityOptions},
\autopageref{desc:scrlttr2.option.version}) reicht der Platz dafür in der
Regel nicht aus. Sie sollten dann \PLength{firstfootvpos} (siehe
\autopageref{desc:scrlttr2-experts.plength.firstfootvpos}) entsprechend
verringern.

Lediglich\textnote{Achtung!} aus Gründen der Kompatibilität zu frühere
Version von \Class{scrlttr2} existiert auch noch Anweisung
\Macro{firstfoot}\IndexCmd[indexmain]{firstfoot}. Diese sollte jedoch nicht
mehr verwendet werden.%
%
\EndIndex{Variable}{firstfoot}%

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{frombank}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}%
Die im vorherigen Beispiel verwendete Variable \Variable{frombank} nimmt
derzeit eine Sonderstellung ein. Sie wird intern bisher nicht verwendet. Sie
kann jedoch vom Anwender verwendet werden, um die
Bankverbindung\Index{Bankverbindung} in das Absenderergänzungsfeld (siehe
Variable \Variable{location}, \autopageref{desc:scrlttr2.variable.location})
oder wie im Beispiel in den Fuß zu setzen.%
%
\EndIndex{Variable}{frombank}%
\EndIndex{}{Briefbogenfuss=Briefbogenfuß}
%
\EndIndex{}{Briefbogen}

\LoadCommon[scrlttr]{6} % \section{Absatzauszeichnung}

\LoadCommon[scrlttr]{7} % \section{Erkennung von rechten und linken Seiten}


\section{Kopf und Fuß bei vordefinierten Seitenstilen}
\label{sec:scrlttr2.pagestyle}
\BeginIndex{}{Seiten>Stil}

Eine der allgemeinen Eigenschaften eines Dokuments ist der Seitenstil. Bei
{\LaTeX} versteht man unter dem Seitenstil in erster Linie den Inhalt der
Kopf- und Fußzeilen. Wie\textnote{Achtung!} bereits in
\autoref{sec:scrlttr2.firstpage} erwähnt, werden Kopf und Fuß des Briefbogens
als Elemente des Briefbogens betrachtet und unterliegen damit nicht den
Einstellungen für den Seitenstil. Es geht also hier im Wesentlichen um den
Seitenstil der weiteren Briefseiten nach dem Briefbogen. Bei einseitigen
Briefen ist das der Seitenstil des Zweitbogens. Bei doppelseitigen Briefen ist
auch der Seitenstil aller Rückseiten betroffen.


\begin{Declaration}
  \KOption{headsepline}\PName{Ein-Aus-Wert}\\
  \KOption{footsepline}\PName{Ein-Aus-Wert}
\end{Declaration}%
\BeginIndex{Option}{headsepline~=\PName{Ein-Aus-Wert}}%
\BeginIndex{Option}{footsepline~=\PName{Ein-Aus-Wert}}%
Mit diesen Optionen kann eingestellt werden, ob eine
Trennlinie\Index{Trennlinie}\Index{Linie} unter dem Kopf\Index{Seiten>Kopf}
oder über dem Fuß\Index{Seiten>Fuss=Fuß} von Folgeseiten gewünscht wird. Als
\PName{Ein-Aus-Wert} kann einer der Standardwerte für einfache Schalter aus
\autoref{tab:truefalseswitch}, \autopageref{tab:truefalseswitch} verwendet
werden. Ein\important{\OptionValue{headsepline}{true}} Aktivieren der Option
\Option{headsepline} schaltet die Linie unter dem Kopf
ein. Ein\important{\OptionValue{footsepline}{true}} Aktivieren der Option
\Option{footsepline} schaltet die Linie über dem Fuß ein. Die Deaktivierung
der Optionen schaltet die jeweilige Linie aus.

Bei den Seitenstilen \PValue{empty}\important[i]{\Pagestyle{empty}\\
  \Pagestyle{plain}} und \PValue{plain} (siehe später in diesem Abschnitt) hat
die Option \Option{headsepline} selbstverständlich keine Auswirkung. Bei
diesen Seitenstilen soll ja auf einen Seitenkopf\Index{Seiten>Kopf}
ausdrücklich verzichtet werden.

Typografisch\important[i]{\Pagestyle{headings}\\
  \Pagestyle{myheadings}} betrachtet hat eine solche Linie immer die
Auswirkung, dass der Kopf oder Fuß optisch näher an den Text heranrückt.  Dies
bedeutet nun nicht, dass Kopf oder Fuß räumlich weiter vom
Textkörper\Index{Text>Bereich} weggerückt werden müssten.  Stattdessen sollte
sie dann bei der Berechnung des Satzspiegels als zum Textkörper gehörend
betrachtet werden. Dies wird bei {\KOMAScript} dadurch erreicht, dass bei
Verwendung der Klassenoption \Option{headsepline} automatisch die Paketoption
\Option{headinclude}\important{\Option{headinclude}} mit gleichem Wert an das
\Package{typearea}-Paket weitergereicht wird. Entsprechendes gilt bei
\Option{footsepline} für
\Option{footinclude}\important{\Option{footinclude}}. Im\important{\Pagestyle{plain}}
Gegensatz zu \Option{headsepline} wirkt sich die Option \Option{footsepline}
auch beim Seitenstil \PValue{plain} aus, da \PValue{plain} eine Seitenzahl im
Fuß ausgibt. Das Paket \Package{scrpage2}\IndexPackage{scrpage2}\important{\Package{scrpage2}} (siehe
\autoref{cha:scrpage}) bietet weitere Einflussmöglichkeiten für Linien im Kopf
und Fuß und kann auch mit \Class{scrlttr2} kombiniert werden.%
%
\EndIndex{Option}{headsepline~=\PName{Ein-Aus-Wert}}%
\EndIndex{Option}{footsepline~=\PName{Ein-Aus-Wert}}%


\begin{Declaration}
  \KOption{pagenumber}\PName{Position}
\end{Declaration}
\BeginIndex{Option}{pagenumber~=\PName{Position}}%
Mit Hilfe dieser Option kann bestimmt werden, ob und wo eine Seitenzahl auf
Folgeseiten gesetzt werden soll.  Die Option wirkt sich auf die
Seitenstile\important[i]{\Pagestyle{headings}\\
  \Pagestyle{myheadings}\\
  \Pagestyle{plain}} \PValue{headings}, \PValue{myheadings} und \PValue{plain}
aus. Sie beeinflusst außerdem die Voreinstellung der Seitenstile des
\Package{scrpage2}-Paketes\important{\Package{scrpage2}}, soweit sie vor dem
Laden dieses Paketes gesetzt wird (siehe \autoref{cha:scrpage}). Es gibt
Werte, die sich nur auf die horizontale Position auswirken, Werte, die nur die
vertikale Position beeinflussen, und Werte, die zugleich die vertikale und die
horizontale Position festlegen. Mögliche Werte sind
\autoref{tab:scrlttr2.pagenumber} zu entnehmen. Voreingestellt ist
\PValue{botcenter}.

\begin{table}[t!]% Umbruchkorrektur
  \caption[{Mögliche Werte für Option \Option{pagenumber} bei
    \Class{scrlttr2}}]{Mögliche Werte für Option \Option{pagenumber} zur
    Positionierung der Paginierung bei den Seitenstilen \PValue{headings},
    \PValue{myheadings} und \PValue{plain} von \Class{scrlttr2}}
  \label{tab:scrlttr2.pagenumber}
  \begin{desctabular}
    \entry{\PValue{bot}, \PValue{foot}}{%
      Seitenzahl im Fuß ohne Änderung der horizontalen Position}%
    \entry{\PValue{botcenter}, \PValue{botcentered}, \PValue{botmittle},
      \PValue{footcenter}, \PValue{footcentered}, \PValue{footmiddle}}{%
      Seitenzahl zentriert innerhalb des Fußes}%
    \entry{\PValue{botleft}, \PValue{footleft}}{%
      Seitenzahl links im Fuß}%
    \entry{\PValue{botright}, \PValue{footright}}{ Seitenzahl rechts im Fuß}%
    \entry{\PValue{center}, \PValue{centered}, \PValue{middle}}{%
      Seitenzahl zentriert ohne Änderung der vertikalen Position}%
    \entry{\PValue{false}, \PValue{no}, \PValue{off}}{%
      keine Seitenzahl}%
    \entry{\PValue{head}, \PValue{top}}{%
      Seitenzahl im Kopf ohne Änderung der horizontalen Position}%
    \entry{\PValue{headcenter}, \PValue{headcentered}, \PValue{headmiddle},
      \PValue{topcenter}, \PValue{topcentered}, \PValue{topmiddle}}{%
      Seitenzahl zentriert innerhalb des Kopfes}%
    \entry{\PValue{headleft}, \PValue{topleft}}{%
      Seitenzahl links im Kopf}%
    \entry{\PValue{headright}, \PValue{topright}}{%
      Seitenzahl rechts im Kopf}%
    \entry{\PValue{left}}{%
      Seitenzahl links ohne Änderung der vertikalen Position}%
    \entry{\PValue{right}}{%
      Seitenzahl rechts ohne Änderung der vertikalen Position}%
  \end{desctabular}
\end{table}
%
\EndIndex{Option}{pagenumber~=\PName{Position}}%


\begin{Declaration}
  \Macro{pagestyle}\Parameter{Seitenstil}\\
  \Macro{thispagestyle}\Parameter{lokaler Seitenstil}
\end{Declaration}%
\BeginIndex{Cmd}{pagestyle}%
\BeginIndex{Cmd}{thispagestyle}%
\BeginIndex{Pagestyle}{empty}%
\BeginIndex{Pagestyle}{plain}%
\BeginIndex{Pagestyle}{headings}%
\BeginIndex{Pagestyle}{myheadings}%
Bei Briefen mit \Class{scrlttr2} wird zwischen vier verschiedenen
Seitenstilen unterschieden.
\begin{description}
\item[{\Pagestyle{empty}}] ist der Seitenstil, bei dem Kopf- und Fußzeile von
  Folgeseiten vollständig leer bleiben. Dieser Seitenstil wird auch
  automatisch für die erste Briefseite verwendet, da auf dieser Seite Kopf und
  Fuß über \Macro{opening}\IndexCmd{opening} (siehe
  \autoref{sec:scrlttr2.firstpage}, \autopageref{desc:scrlttr2.cmd.opening})
  mit anderen Mitteln gesetzt werden.
\item[{\Pagestyle{headings}}] ist der Seitenstil für automatische
  Kolumnentitel auf Folgeseiten. Dabei werden als automatisch gesetzte Marken
  der Absendername aus der Variablen
  \Variable{fromname}\IndexVariable{fromname} und der Betreff aus der
  Variablen \Variable{subject}\IndexVariable{subject} verwendet (siehe
  \autoref{sec:scrlttr2.firstpage},
  \autopageref{desc:scrlttr2.variable.fromname} und
  \autopageref{desc:scrlttr2.variable.subject}). Wo genau diese Marken und die
  Seitenangabe ausgegeben werden, hängt von der oben erklärten Option
  \Option{pagenumber} und dem Inhalt der Variablen
  \Variable{nexthead}\IndexVariable{nexthead} und
  \Variable{nextfoot}\IndexVariable{nextfoot} ab. Der Autor kann die Marken
  aber auch noch nach \Macro{opening} manuell beeinflussen. Hierzu stehen wie
  üblich die Anweisungen \Macro{markboth} und \Macro{markright}, bei
  Verwendung von \Package{scrpage2} auch \Macro{markleft} (siehe
  \autoref{sec:scrpage.basics.mark}, \autopageref{desc:scrpage.cmd.automark}),
  zur Verfügung.
\item[{\Pagestyle{myheadings}}] ist der Seitenstil für manuelle Kolumnentitel
  auf Folgeseiten. Im Unterschied zu \PValue{headings} müssen die Marken vom
  Anwender gesetzt werden. Er verwendet dazu die Anweisungen
  \Macro{markboth}\IndexCmd{markboth} und
  \Macro{markright}\IndexCmd{markright}. Bei Verwendung von \Package{scrpage2}
  steht außerdem \Macro{markleft}\IndexCmd{markleft} zur Verfügung.
\item[{\Pagestyle{plain}}] ist der voreingestellte Seitenstil, bei dem auf
  Folgeseiten keinerlei Kolumnentitel verwendet, sondern nur eine Seitenangabe
  ausgegeben wird. Wo diese gesetzt wird, hängt von der oben erklärten Option
  \Option{pagenumber} ab.
\end{description}

Die Form der Seitenstile wird außerdem durch die oben erklärten
Optionen\important[i]{\Option{headsepline}\\\Option{footsepline}}
\Option{headsepline}\IndexOption{headsepline} und
\Option{footsepline}\IndexOption{footsepline} beeinflusst. Der Seitenstil ab
der aktuellen Seite wird mit \Macro{pagestyle} umgeschaltet. Demgegenüber
verändert \Macro{thispagestyle} nur den Seitenstil der aktuellen
Seite. Die\textnote{Achtung!}  Briefklasse verwendet
\Macro{thispagestyle}\PParameter{empty} selbst innerhalb von
\Macro{opening}\IndexCmd{opening} für die erste Briefseite.

\BeginIndex[indexother]{}{Schrift>Art}%
\BeginIndex{FontElement}{pageheadfoot}%
\BeginIndex{FontElement}{pagefoot}%
\BeginIndex{FontElement}{pagenumber}%
Um die Schriftart von Kopf und Fuß der Seite oder der Seitenangabe zu ändern,
verwenden Sie die Benutzerschnittstelle, die in
\autoref{sec:scrlttr2.textmarkup} beschrieben ist. Für den Kopf und den Fuß
ist dabei das gleiche Element zuständig, das Sie wahlweise mit
\FontElement{pageheadfoot}\important{\FontElement{pagehead}} oder
\FontElement{pagehead} benennen können. Für den
Fuß\ChangedAt{v3.00}{\Class{scrlttr2}} ist zusätzlich auch noch das Element
\FontElement{pagefoot}\important{\FontElement{pagefoot}} zuständig, das nach
\FontElement{pageheadfoot} in mit Variable
\Variable{nextfoot}\IndexVariable{nextfoot} oder per Paket
\Package{scrpage2}\IndexPackage{scrpage2} (siehe \autoref{cha:scrpage},
\autopageref{desc:scrpage.fontelement.pagefoot}) definierten Seitenstilen zur
Anwendung kommt. Das Element für die Seitenzahl innerhalb des Kopfes oder
Fußes heißt \FontElement{pagenumber}\important{\FontElement{pagenumber}}. Die
Voreinstellungen sind in \autoref{tab:maincls.defaultFontsHeadFoot},
\autopageref{tab:maincls.defaultFontsHeadFoot} zu finden. Beachten Sie dazu
auch das Beispiel aus \autoref{sec:maincls.pagestyle},
\autopageref{sec:maincls.pagestyle.example}.%
%
\EndIndex{FontElement}{pagenumber}%
\EndIndex{FontElement}{pagefoot}%
\EndIndex{FontElement}{pageheadfoot}%
\EndIndex[indexother]{}{Schrift>Art}%
%
\EndIndex{Pagestyle}{myheadings}%
\EndIndex{Pagestyle}{headings}%
\EndIndex{Pagestyle}{plain}%
\EndIndex{Pagestyle}{empty}%
\EndIndex{Cmd}{thispagestyle}%
\EndIndex{Cmd}{pagestyle}%


\begin{Declaration}
  \Macro{markboth}\Parameter{linke Marke}\Parameter{rechte Marke}\\
  \Macro{markright}\Parameter{rechte Marke}
\end{Declaration}
\BeginIndex{Cmd}{markboth}%
\BeginIndex{Cmd}{markright}%
In den meisten Fällen werden die Möglichkeiten, die \Class{scrlttr2} über
Optionen und Variablen für die Gestaltung des Seitenkopfes\Index{Kopf} und
-fußes\Index{Fuss=Fuß} auf Folgeseiten\Index{Folgeseite} zur Verfügung stellt,
vollkommen ausreichen.  Dies umso mehr, als man zusätzlich mit
\Macro{markboth} und \Macro{markright} die Möglichkeit hat, die Angaben zu
ändern, die \Class{scrlttr2} in den Kopf setzt.  Die Anweisungen
\Macro{markboth}\IndexCmd{markboth} und \Macro{markright}\IndexCmd{markright}
können insbesondere mit dem Seitenstil
\PValue{myheadings}\IndexPagestyle{myheadings}\important{\Pagestyle{myheadings}}
verwendet werden. Bei Verwendung des Paketes
\Package{scrpage2}\IndexPackage{scrpage2} gilt dies natürlich auch für den
Seitenstil \PValue{scrheadings}\IndexPagestyle{scrheadings}. Dort steht
außerdem die Anweisung \Macro{markleft}\IndexCmd{markleft} zur Verfügung.

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{nexthead}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}\\
  \Macro{setkomavar}\PParameter{\Variable{nextfoot}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Variable}{nexthead}%
\BeginIndex{Variable}{nextfoot}%
In einigen wenigen Fällen will man jedoch den Kopf oder Fuß der Folgeseiten
ähnlich dem Briefbogen freier gestalten. In\textnote{Achtung!} diesen Fällen
muss auf die vordefinierten Möglichkeiten, die per oben erklärter Option
\Option{pagenumber}\IndexOption{pagenumber} auswählbar sind, verzichtet
werden. Stattdessen gestaltet man sich den Kopf und Fuß der Folgeseiten im
Seitenstil
\Pagestyle{headings}\IndexPagestyle{headings}\important{\Pagestyle{headings},
  \Pagestyle{myheadings}} oder
\Pagestyle{myheadings}\IndexPagestyle{myheadings} frei. Dazu setzt man den
gewünschten Aufbau als \PName{Inhalt} der
Variablen\ChangedAt{v3.08}{\Class{scrlttr2}} \Variable{nexthead}
beziehungsweise \Variable{nextfoot}. Innerhalb des Inhalts von
\Variable{nexthead} und \Variable{nextfoot} können beispielsweise mit Hilfe
der \Macro{parbox}-Anweisung (siehe \cite{latex:usrguide}) mehrere Boxen
neben- und untereinander gesetzt werden.  Einem versierten Anwender sollte es
so möglich sein, eigene Seitenköpfe und "~füße zu gestalten. Natürlich kann
und sollte im Wert mit Hilfe von \Macro{usekomavar} auch auf weitere Variablen
zugegriffen werden. Die \PName{Bezeichnung} wird von \KOMAScript{} bei beiden
Variablen nicht genutzt.

Lediglich\textnote{Achtung!} aus Gründen der Kompatibilität zu frühere
Version von \Class{scrlttr2} existieren auch noch die Anweisungen
\Macro{nexthead}\IndexCmd[indexmain]{nexthead} und
\Macro{nextfoot}\IndexCmd[indexmain]{nextfoot}. Diese sollten jedoch nicht mehr
verwendet werden.%
%
\EndIndex{Variable}{nextfoot}%
\EndIndex{Variable}{nexthead}%
\EndIndex{Cmd}{markright}%
\EndIndex{Cmd}{markboth}%
%
\EndIndex{}{Seiten>Stil}


\LoadCommon[scrlttr]{8}% \section{Vakatseiten}

\LoadCommon[scrlttr]{9}% \section{Fußnoten}
\LoadCommon[scrlttr]{11}% -"-
\LoadCommon[scrlttr]{10}% -"-

\LoadCommon[scrlttr]{12}% \section{Listen}


\section{Mathematik}
\label{sec:scrlttr2.math}%
\BeginIndex{}{Mathematik}%
\BeginIndex{}{Formeln}%
\BeginIndex{}{Gleichungen}%

Die \KOMAScript-Klassen stellen keine eigene Umgebungen für mathematische
Formeln, Gleichungssysteme oder ähnliche Elemente der Mathematik
bereit. Stattdessen stützt sich \KOMAScript{} im Bereich der Mathematik voll
und ganz auf den \LaTeX-Kern. Da\textnote{Achtung!} jedoch Mathematik in Form
von nummerierten Gleichungen und Formeln in Briefen eher ungewöhnlich ist,
unterstützt \Class{scrlttr2} dies nicht aktiv. Daher gibt es bei
\Class{scrlttr2} auch nicht die Optionen \Option{leqno} und \Option{fleqn},
die in \autoref{sec:maincls.math} für \Class{scrbook}, \Class{scrreprt} und
\Class{scrartcl} dokumentiert sind.

Auf eine Beschreibung der Mathematikumgebungen des \LaTeX-Kerns, also
\Environment{displaymath}\IndexEnv{displaymath},
\Environment{equation}\IndexEnv{equation} und
\Environment{eqnarray}\IndexEnv{eqnarray}, wird an dieser Stelle
verzichtet. Wer diese verwenden möchte, sei auf \cite{l2kurz} verwiesen. Für
mehr als nur einfachste mathematische Formeln und Gleichungen sei jedoch die
Verwendung von \Package{amsmath} empfohlen (siehe \cite{package:amsmath}).%
%
\EndIndex{}{Gleichungen}%
\EndIndex{}{Formeln}%
\EndIndex{}{Mathematik}


\section{Gleitumgebungen für Tabellen und Abbildungen}
\label{sec:scrlttr2.floats}

Gleitumgebungen für Tabellen und Abbildungen sind in Briefen normalerweise
fehl am Platz. Daher\textnote{Achtung!} werden sie von \Class{scrlttr2} auch
nicht unterstützt. Wenn solche dennoch benötigt werden, deutet dies häufig auf
einen Missbrauch der Briefklasse hin. In solchen Fällen müssen Sie versuchen,
die Gleitumgebungen mit Hilfe von Zusatzpaketen wie
\Package{tocbasic}\important{\Package{tocbasic}} (siehe
\autoref{cha:tocbasic}) nachzurüsten. Tabellen und Abbildungen ohne
Gleitumgebungen und ohne Titel sind hingegen natürlich auch mit der
Briefklasse \Class{scrlttr2} möglich.


\LoadCommon[scrlttr]{13}% \section{Randnotizen}


\section{Schlussgruß}
\label{sec:scrlttr2.closing}
\BeginIndex{}{Schlussgruss=Schlussgruß}

Dass der Schlussgruß mit \Macro{closing}\IndexCmd{closing} gesetzt wird, wurde
bereits in \autoref{sec:scrlttr2.document},
\autopageref{desc:scrlttr2.cmd.closing} erklärt. Unter dem Schlussgruß wird
häufig noch eine Signatur, eine Art Erläuterung zur Unterschrift, gesetzt. Die
Unterschrift wiederum findet Platz zwischen dem Schlussgruß und der Signatur.

\begin{Declaration}
  \Macro{setkomavar}\PParameter{\Variable{signature}}%
    \OParameter{Bezeichnung}\Parameter{Inhalt}
\end{Declaration}
\BeginIndex{Variable}{signature}%
Die Variable \Variable{signature}\Index{Signatur} nimmt eine Art Erläuterung
zur Unterschrift\Index{Unterschrift} auf. Ihr \PName{Inhalt} ist mit
\Macro{usekomavar}\PParameter{fromname} vordefiniert. Eine solche Erläuterung
kann auch mehrzeilig sein. Die einzelnen Zeilen sollten dann mit doppeltem
Backslash voneinander getrennt werden. Absätze\textnote{Achtung!} innerhalb
der Erläuterung sind jedoch nicht gestattet.%
%
\EndIndex{Variable}{signature}%


\begin{Declaration}
  \Macro{raggedsignature}
\end{Declaration}
\BeginIndex{Cmd}{raggedsignature}%
Grußfloskel\Index{Gruss=Gruß}\Index{Signatur} und Erläuterung der
Unterschrift\Index{Unterschrift} werden innerhalb einer Box gesetzt.  Die
Breite dieser Box wird durch die längste Zeile innerhalb von Grußfloskel und
Erläuterung bestimmt.

Wo genau diese Box platziert wird, ist durch die Pseudolängen
\PLength{sigindent}\IndexPLength{sigindent} und
\PLength{sigbeforevskip}\IndexPLength{sigbeforevskip} (siehe
\autoref{sec:scrlttr2-experts.closing},
\autopageref{desc:scrlttr2-experts.plength.sigindent}) bestimmt.  Durch den
Befehl \Macro{raggedsignature} wird die Ausrichtung innerhalb der Box
bestimmt. In den vordefinierten \File{lco}-Dateien ist die Anweisung entweder
auf \Macro{centering} (alle außer \Option{KOMAold}) oder auf
\Macro{raggedright} (\Option{KOMAold}) gesetzt. Um innerhalb der Box
beispielsweise eine linksbündige oder rechtsbündige Ausrichtung zu erhalten,
kann der Befehl in gleicher Weise umdefiniert werden wie \Macro{raggedsection}
(siehe das entsprechende Beispiel in \autoref{sec:maincls.structure},
\autopageref{desc:maincls.cmd.raggedsection}).

\begin{Example}
  Herr Musterfrau will sich nun wirklich wichtig machen und deshalb in der
  Signatur nochmals darauf hinweisen, dass er selbst auch mal
  Vereinsvorsitzender war. Deshalb ändert er die Variable
  \Variable{signature}. Außerdem will er, dass die Signatur linksbündig unter
  dem Schlussgruß steht und definiert daher auch noch \Macro{raggedsignature}
  um:%
  \lstinputcode[xleftmargin=1em]{letter-22}%
  Das Ergebnis ist in \autoref{fig:scrlttr2.letter-22} zu sehen.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit erweitertem Absender, Logo,
        Anschrift, Absenderergänzung, Ort, Datum, Betreff, Anrede, Text,
        Grußfloskel, geänderter Signatur, Postskriptum, Anlagen, Verteiler und
        Lochermarke}]{Ergebnis eines kleinen Briefes mit erweitertem Absender,
        Logo, Anschrift, Absenderergänzung, Ort, Datum, Betreff,
        Anrede, Text, Grußfloskel, geänderter Signatur, Postskriptum, Anlagen,
        Verteiler und Lochermarke}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-22}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-22}
  \end{figure}
\end{Example}
%
\EndIndex{Cmd}{raggedsignature}%
%
\EndIndex{}{Schlussgruss=Schlussgruß}

\section{\emph{Letter-Class-Option}-Dateien}
\label{sec:scrlttr2.lcoFile}%
\BeginIndex{}{lco-Datei=\File{lco}-Datei}%
\BeginIndex{}{Letter-Class-Option}%

Normalerweise wird man Einstellungen wie den Absender nicht in jedem Brief neu
wählen, sondern diverse Parameter für bestimmte Gelegenheiten immer wieder
verwenden. Ganz Ähnliches gilt für die verwendeten Briefköpfe und den
Fußbereich der ersten Seite. Es ist deshalb sinnvoll, diese Einstellungen in
einer eigenen Datei zu speichern. Die Klasse \Class{scrlttr2} bietet
hierfür die \File{lco}-Dateien an. Die Endung \File{lco} steht
für \emph{\emph{l}etter \emph{c}lass \emph{o}ption}, also Briefklassenoption.

In \File{lco}-Dateien können alle Anweisungen verwendet werden, die
auch an der Stelle im Dokument verwendet werden könnten, an der die
\File{lco}-Datei geladen wird. Außerdem könnten interne Anweisungen
verwendet werden, die für Paketautoren freigegeben sind. Bei
\Class{scrlttr2} sind dies inbesondere die Anweisungen
\Macro{@newplength}\IndexCmd{@newplength},
\Macro{@setplength}\IndexCmd{@setplength} und
\Macro{@addtoplength}\IndexCmd{@addtoplength} (siehe
\autoref{sec:scrlttr2-experts.pseudoLengths}).

\KOMAScript{} liegen bereits einige \File{lco}-Dateien bei. Die Dateien
\File{DIN.lco}, \File{DINmtext.lco}, \File{SNleft.lco}, \File{SN.lco},
\File{UScommercial9}, \File{UScommercial9DW} und
\File{NF.lco}\ChangedAt{v3.04}{\Class{scrlttr2}} dienen dazu, \Class{scrlttr2}
an verschiedene Normen\Index{Norm} anzupassen. Sie können von angehenden
Experten sehr gut als Vorlage für eigene Parametersätze verwendet werden. Die
Datei \File{KOMAold.lco} dient hingegen dazu, die Kompatibilität zu
\Class{scrlettr}, der alten Briefklasse, zu verbessern. Da hierbei auch auf
Anweisungen zurückgegriffen wird, die nicht für Paketautoren freigegeben sind,
sollte man sie nicht als Vorlage für eigene \File{lco}-Dateien verwenden. Eine
Liste aller vordefinierten \File{lco}-Dateien ist in \autoref{tab:lcoFiles},
\autopageref{tab:lcoFiles} zu finden.

Wenn Sie einen Parametersatz für eine Briefnorm, die bisher nicht von
\KOMAScript{} unterstützt wird, erstellt haben, so sind Sie ausdrücklich
gebeten, diesen Parametersatz an die Supportadresse von \KOMAScript{} zu
schicken. Bitte geben Sie dabei auch die Erlaubnis zur Weiterverbreitung unter
den Lizenzbedingungen von \KOMAScript{} (siehe dazu die Datei
\File{lppl-de.txt} im \KOMAScript-Paket). Wenn Sie zwar über die notwendigen
Maße aus einer bisher nicht unterstützen Briefnorm verfügen, sich jedoch nicht
in der Lage sehen, selbst eine passende \File{lco}-Datei zu erstellen, so
können Sie sich ebenfalls mit dem \KOMAScript-Autor, Markus Kohm, in
Verbindung setzen. Beispiele für teilweise sehr komplexe \File{lco}-Dateien
finden sich unter anderem unter \cite{homepage} und in
\cite{DANTE:TK0203:MJK}.


\begin{Declaration}
  \Macro{LoadLetterOption}\Parameter{Name}
\end{Declaration}
\BeginIndex{Cmd}{LoadLetterOption}%
Normalerweise werden \File{lco}-Dateien direkt über
\Macro{documentclass} geladen. Dazu gibt man den Namen der
\File{lco}-Datei ohne die Endung als Option\Index{Optionen} an. Das Laden der
\File{lco}-Datei erfolgt dann direkt nach der Klasse.

Es ist jedoch auch möglich, eine \File{lco}-Datei zu einem späteren
Zeitpunkt und sogar innerhalb einer anderen \File{lco}-Datei zu laden.
Dazu dient die Anweisung \Macro{LoadLetterOption}. Der \PName{Name}
der \File{lco}-Datei wird dieser ebenfalls ohne Endung als Parameter
übergeben.
\begin{Example}
  Peter Musterfrau erstellt auch ein Dokument, in dem mehrere Briefe enthalten
  sind. Die Mehrzahl der Briefe soll nach DIN erstellt werden. Also
  beginnt er:
\begin{lstcode}
  \documentclass{scrlttr2}
\end{lstcode}
  Allerdings soll bei einem Brief stattdessen die Variante
  \File{DINmtext} verwendet werden. Bei dieser steht das Adressfeld
  weiter oben, damit mehr Text auf die erste Seite passt. Dafür ist
  die Faltung so angepasst, dass das Adressfeld bei
  DIN~C6/5-Umschlägen trotzdem in das Adressfenster passt. Sie
  erreichen das so:
\begin{lstcode}
  \begin{letter}{%
      Petra Mustermann\\
      Vor dem Berg 1\\
      12345 Musterhausen}
    \LoadLetterOption{DINmtext}
    \opening{Hallo,}
\end{lstcode}
  Da der Aufbau der ersten Seite erst mit \Macro{opening}\IndexCmd{opening}
  wirklich beginnt, genügt es, wenn die \File{lco}-Datei vor \Macro{opening}
  geladen wird. Dies muss also nicht vor \Macro{begin}\PParameter{letter}
  erfolgen. Die Änderungen durch das Laden der \File{lco}-Datei sind dann auch
  lokal zu dem entsprechenden Brief.
\end{Example}

Wird\ChangedAt{v2.97}{\Class{scrlttr2}} eine \File{lco}-Datei über
\Macro{documentclass} geladen, so darf sie nicht den Namen einer Option
haben.

\begin{Example}
  Da Herr Musterfrau regelmäßig Briefe mit immer gleichen Einstellungen
  schreibt, findet er es ziemlich lästig, diese Angaben immer wieder in jeden
  neuen Brief kopieren zu müssen. Zu seiner Erleichterung schreibt er deshalb
  eine \File{lco}-Datei, die ihm die Arbeit erleichtert:%
  \lstinputcode[xleftmargin=1em]{ich.lco}%
  Damit schrumpft sein Brief aus dem letzten Beispiel erheblich zusammen:
  \lstinputcode[xleftmargin=1em]{letter-23.tex}%
  Das Ergebnis ändert sich jedoch nicht, wie \autoref{fig:scrlttr2.letter-23}
  zeigt.
  \begin{figure}
    \setcapindent{0pt}%
    \begin{captionbeside}[{Beispiel: Brief mit erweitertem Absender, Logo,
        Anschrift, Absenderergänzung, Ort, Datum, Betreff, Anrede,
        Text, Grußfloskel, geänderter Signatur, Postskriptum, Anlagen,
        Verteiler und Lochermarke mit \File{lco}-Datei}]{Ergebnis eines
        kleinen Briefes mit erweitertem Absender, Logo, Anschrift,
        Absenderergänzung, Ort, Datum, Betreff, Anrede, Text, Grußfloskel,
        geänderter Signatur, Postskriptum, Anlagen, Verteiler und Lochermarke
        bei Verwendung einer \File{lco}-Datei}[l]
      \frame{\includegraphics[width=.4\textwidth]{letter-23}}
    \end{captionbeside}
    \label{fig:scrlttr2.letter-23}
  \end{figure}

  Bitte\textnote{Achtung!} beachten Sie, dass in der Bankverbindung in
  \File{ich.lco} für »ß« die \TeX-Schreibweise »\Macro{ss}« verwendet
  wurde. Dies hat seinen Grund darin, dass direkt nach
  \Macro{documentclass} weder ein Paket für die Eingabecodierung,
  beispielsweise mit
  \Macro{usepackage}\POParameter{ansinew}\PParameter{inputenc} für typische
  Windows-Editoren oder
  \Macro{usepackage}\POParameter{utf8}\PParameter{inputenc} für
  moderne Editoren, noch ein
  Paket zur Sprachumschaltung, beispielsweise für die neue, deutsche
  Rechtschreibung mit
  \Macro{usepackage}\POParameter{ngerman}\PParameter{babel}, geladen ist.
\end{Example}

In \autoref{tab:lcoFiles} finden Sie eine Liste aller vordefinierten
\File{lco}-Dateien. Falls\textnote{Achtung!} Sie einen Drucker verwenden, der
einen sehr großen unbedruckbaren Rand links oder rechts besitzt, werden Sie
mit der Option \Option{SN}\IndexOption{SN} möglicherweise Probleme
bekommen. Da die Schweizer Norm SN~101\,130 vorsieht, dass das Adressfeld
8\Unit{mm} vom rechten Papierrand gesetzt wird, werden bei Schweizer Briefen
auch die Kopfzeile und die Absenderergänzung mit einem entsprechend geringen
Abstand zum Papierrand gesetzt. Dies betrifft ebenfalls die Geschäftszeile bei
der Einstellung \OptionValue{refline}{wide} (siehe
\autoref{sec:scrlttr2.firstpage},
\autopageref{desc:scrlttr2.option.refline}). Sollten\textnote{Tipp!} Sie
damit ein Problem haben, erstellen Sie sich eine eigene \File{lco}-Datei, die
zunächst \Option{SN} lädt und in der \PLength{toaddrhpos} (siehe
\autoref{sec:scrlttr2-experts.addressee},
\autopageref{desc:scrlttr2-experts.plength.toaddrvpos}) dann auf einen
kleineren Wert gesetzt wird.  Verringern Sie dann außerdem
\PLength{toaddrwidth} entsprechend.%

Die\textnote{Tipp!} \File{lco}-Datei \File{DIN} wird übrigens immer als erste
\File{lco}-Datei automatisch geladen, damit alle Pseudolängen
mehr oder weniger sinnvoll vordefiniert sind. Es ist daher nicht notwendig
diese voreingestellte Datei selbst zu laden.

Beachten\textnote{Achtung!} Sie bitte noch, dass es nicht möglich ist,
innerhalb einer \File{lco}-Datei mittels \Macro{PassOptionsToPackage} Optionen
an Pakete zu übergeben, die von der Klasse bereits geladen sind. Normalerweise
betrifft dies nur die Pakete \Package{typearea}, \Package{scrlfile},
\Package{scrbase} und \Package{keyval}.%
%
\EndIndex{Cmd}{LoadLetterOption}%

\begin{desclist}
  \renewcommand*{\abovecaptionskipcorrection}{-\normalbaselineskip}%
  \desccaption{%
    Vordefinierte \File{lco}-Dateien\label{tab:lcoFiles}%
  }{%
    Vordefinierte \File{lco}-Dateien (\emph{Fortsetzung})%
  }%
  \oentry{DIN}{%
    Parametersatz für Briefe im Format A4 nach DIN~676; geeignet für
    Fensterbriefumschläge in den Formaten C4, C5, C6 und C6/5 (C6 lang)}%
  \oentry{DINmtext}{%
    Parametersatz für Briefe im Format A4 nach DIN~676, wobei die Alternative
    für mehr Text auf der ersten Briefseite verwendet wird; nur geeignet für
    Fensterbriefumschläge in den Formaten C6 und C6/5 (C6 lang)}%
  \oentry{KakuLL}{%
    Parametersatz für japanische Briefe im Format A4; geeignet für japanische
    Fensterbriefumschläge des Typs Kaku A4, bei denen das Fenster in etwa
    90\Unit{mm} breit, 45\Unit{mm} hoch, 25\Unit{mm} vom linken und
    24\Unit{mm} vom oberen Rand entfernt ist (siehe dazu auch \iffree{den
      Anhang der englischen \KOMAScript-Anleitung}{\autoref{cha:japanlco}})}%
  \oentry{KOMAold}{%
    Parametersatz für Briefe im Format A4 mit Annäherung an das Aussehen von
    Briefen der obsoleten Briefklasse \Class{scrlettr}; geeignet für
    Fensterbriefumschläge in den Formaten C4, C5, C6 und C6/5 (C6 lang); es
    werden einige zusätzliche Anweisungen zur Verbesserung der Kompatibilität
    mit der obsoleten Briefklasse \Class{scrlettr}\IndexClass{scrlettr}
    definiert; \Class{scrlttr2} verhält sich mit dieser \File{lco}-Datei
    möglicherweise nicht genau wie bei Verwendung der übrigen
    \File{lco}-Dateien}%
  \oentry{NF}{%
    Parametersatz für französische Briefe nach NF~Z~11-001; geeignet für
    Fensterbriefumschläge im Format DL (110\Unit{mm} auf 220\Unit{mm}) mit
    einem Fenster von 45\Unit{mm} Breite und 100\Unit{mm} Höhe ca. jeweils
    20\Unit{mm} entfernt vom rechten unteren Rand; diese Datei wurde
    ursprünglich von Jean-Marie Pacquet entwickelt, der auf \cite{www:NF.lco}
    neben einer Erweiterung auch eine LyX-Einbindung bereit stellt.}%
  \oentry{NipponEH}{%
    Parametersatz für japanische Briefe im Format A4; geeignet für japanische
    Fensterbriefumschläge der Typen Chou oder You 3 oder 4, bei denen das
    Fenster in etwa 90\Unit{mm} breit, 55\Unit{mm} hoch, 22\Unit{mm} vom
    linken und 12\Unit{mm} vom oberen Rand entfernt ist (siehe dazu auch
    \iffree{den Anhang der englischen
      \KOMAScript-Anleitung}{\autoref{cha:japanlco}})}%
  \oentry{NipponEL}{%
    Parametersatz für japanische Briefe im Format A4; geeignet für japanische
    Fensterbriefumschläge der Typen Chou oder You 3 oder 4, bei denen das
    Fenster in etwa 90\Unit{mm} breit, 45\Unit{mm} hoch, 22\Unit{mm} vom
    linken und 12\Unit{mm} vom oberen Rand entfernt ist (siehe dazu auch
    \iffree{den Anhang der englischen
      \KOMAScript-Anleitung}{\autoref{cha:japanlco}})}%
  \oentry{NipponLH}{%
    Parametersatz für japanische Briefe im Format A4; geeignet für japanische
    Fensterbriefumschläge der Typen Chou oder You 3 oder 4, bei denen das
    Fenster in etwa 90\Unit{mm} breit, 55\Unit{mm} hoch, 25\Unit{mm} vom
    linken und 12\Unit{mm} vom oberen Rand entfernt ist (siehe dazu auch
    \iffree{den Anhang der englischen
      \KOMAScript-Anleitung}{\autoref{cha:japanlco}})}%
  \oentry{NipponLL}{%
    Parametersatz für japanische Briefe im Format A4; geeignet für japanische
    Fensterbriefumschläge der Typen Chou oder You 3 oder 4, bei denen das
    Fenster in etwa 90\Unit{mm} breit, 45\Unit{mm} hoch, 25\Unit{mm} vom
    linken und 12\Unit{mm} vom oberen Rand entfernt ist (siehe dazu auch
    \iffree{den Anhang der englischen
      \KOMAScript-Anleitung}{\autoref{cha:japanlco}})}%
  \oentry{NipponRL}{%
    Parametersatz für japanische Briefe im Format A4; geeignet für japanische
    Fensterbriefumschläge der Typen Chou oder You 3 oder 4, bei denen das
    Fenster in etwa 90\Unit{mm} breit, 45\Unit{mm} hoch, 22\Unit{mm} vom
    rechten und 28\Unit{mm} vom oberen Rand entfernt ist (siehe dazu auch
    \iffree{den Anhang der englischen
      \KOMAScript-Anleitung}{\autoref{cha:japanlco}})}%
  \oentry{SN}{%
    Parametersatz für Schweizer Briefe nach SN~010\,130 mit Anschrift rechts;
    geeignet für Schweizer Fensterbriefumschläge in den Formaten C4, C5, C6
    und C6/5 (C6 lang)}%
  \oentry{SNleft}{%
    Parametersatz für Schweizer Briefe mit Anschrift links; geeignet für
    Schweizer Fensterbriefumschläge mit dem Fenster links in den Formaten C4,
    C5, C6 und C6/5 (C6 lang)}%
  \oentry{UScommercial9}{%
    Parametersatz für US-amerikanische Briefe im Format letter;
    geeignet für US-amerikanische Fensterbriefumschläge der Größe
    \emph{commercial~No.\,9} mit einem
    Anschriftfenster der Breite 4\,1/2\Unit{in} und Höhe 1\,1/8\Unit{in} an
    einer Position 7/8\Unit{in} von links und 1/2\Unit{in} von unten ohne
    Rücksendeadresse im Fenster; bei Faltung zunächst an der Mittelmarke und
    dann an der oberen Faltmarke kann auch Papier im Format legal verwendet
    werden, führt dann jedoch zu einer Papiergrößen-Warnung}%
  \oentry{UScommercial9DW}{%
    Parametersatz für US-amerikanische Briefe im Format letter;
    geeignet für US-amerikanische Fensterbriefumschläge der Größe
    \emph{commercial~No.\,9} mit einem
    Anschriftfenster der Breite 3\,5/8\Unit{in} und Höhe 1\,1/8\Unit{in} an
    einer Position 3/4\Unit{in} von links und 1/2\Unit{in} von unten mit
    einem Absenderfenster der Breite 3\,1/2\Unit{in} und Höhe 7/8\Unit{in} an
    einer Position 5/16\Unit{in} von links und 2\,1/2\Unit{in} von unten,
    jedoch ohne Rücksendeadresse im Fenster; bei Faltung zunächst an der
    Mittelmarke und dann an der oberen Faltmarke kann auch Papier im Format
    legal verwendet werden, führt dann jedoch zu einer Papiergrößen-Warnung}%
\end{desclist}
%
\EndIndex{}{lco-Datei=\File{lco}-Datei}%
\EndIndex{}{Letter-Class-Option}%


\section{Adressdateien und Serienbriefe}
\label{sec:scrlttr2.addressFile}%
\BeginIndex{}{Adressdatei}\BeginIndex{}{Serienbriefe}%

Als besonders lästig wird bei Briefen immer das Eintippen der Adressen und das
Erstellen von Serienbriefen betrachtet. Die Klasse \Class{scrlttr2} bietet
hierfür 
\iffalse% Umbruchkorrekturtext
  wie schon die obsolete Klasse \Class{scrlettr}
\fi%
eine gewisse Unterstützung.%
\iffalse% Umbruchkorrekturtext
  \ Eine stark verbesserte Serienbrief"|funktion ist bereits seit längerem in
  Planung.%
\fi

\begin{Declaration}
  \Macro{adrentry}\Parameter{Name}\Parameter{Vorname}\Parameter{Adresse}%
    \Parameter{Tel.}\Parameter{F1}\Parameter{F2}\Parameter{Kommentar}\\
  \hphantom{\Macro{adrentry}}%
    \Parameter{Kürzel}
\end{Declaration}
\BeginIndex{Cmd}{adrentry}%
Mit der \Class{scrlttr2}-Klasse können
Adressdateien\Index[indexmain]{Adressdatei} ausgewertet werden. Dies ist
beispielsweise für Serienbriefe sehr nützlich. Eine Adressdatei muss
die Endung \File{.adr} haben und besteht aus einer Reihe von
\Macro{adrentry}-Einträgen. Ein solcher Eintrag besteht aus acht
Elementen und kann beispielsweise wie folgt aussehen:
\begin{lstcode}
  \adrentry{Maier}
           {Herbert}
           {Wiesenweg 37\\ 09091 Blumental}
           {0\,23\,34 / 91\,12\,74}
           {Bauunternehmer}
           {}
           {kauft alles}
           {MAIER}
\end{lstcode}
Die Elemente fünf und sechs, \PValue{F1} und \PValue{F2}, können frei
bestimmt werden. Denkbar wären neben Hinweisen auf das Geschlecht oder
akademische Grade auch der Geburtstag oder das Eintrittsdatum in einen
Verein.  Um das Überschreiben von \TeX- oder \LaTeX-Anweisungen zu
vermeiden, ist es empfehlenswert, für \PName{Kürzel} ausschließlich
Großbuchstaben zu verwenden.

\begin{Example}
  Herr Maier gehört zu Ihren engeren Geschäftspartnern. Da Sie eine
  rege Korrespondenz mit ihm pflegen, ist es Ihnen auf Dauer zu
  mühsam, jedesmal alle Empfängerdaten aufs Neue einzugeben.
  \Class{scrlttr2} nimmt Ihnen diese Arbeit ab. Angenommen, Sie haben
  Ihre Kundenkontakte in der Datei \File{partner.adr} gespeichert und
  Sie möchten Herrn Maier einen Brief schreiben, dann sparen Sie sich
  viel Tipparbeit, wenn Sie folgendes eingeben:
\begin{lstcode}
  \input{partner.adr}
  \begin{letter}{\MAIER}
    Der Brief ...
  \end{letter}
\end{lstcode}
  Achten Sie bitte darauf, dass Ihr \TeX-System auch auf die
  \File{.adr}-Dateien zugreifen kann, da sonst eine Fehlermeldung 
  von \Macro{input} verursacht wird. Entweder Sie legen die Brief-
  und Adressdateien im selben Verzeichnis an, oder Sie binden ein
  Adressverzeichnis fest in Ihr \TeX-System ein.
\end{Example}
%
\EndIndex{Cmd}{adrentry}


\begin{Declaration}
  \Macro{addrentry}\Parameter{Name}\Parameter{Vorname}\Parameter{Adresse}%
    \Parameter{Telefon}\Parameter{F1}\Parameter{F2}\Parameter{F3}%
    \Parameter{F4}\\
  \hphantom{\Macro{addrentry}}%
    \Parameter{Kürzel}
\end{Declaration}
\BeginIndex{Cmd}{addrentry}%
Da über die Jahre hinweg immer wieder Klagen aufkamen, dass insgesamt
nur zwei freie Felder zu wenig seien, verfügt \Class{scrlttr2} nun
alternativ über die Anweisung \Macro{addrentry}. Mit dem zusätzlichen
»\texttt{d}« im Namen sind hier auch zwei weitere freie Felder
hinzugekommen, dafür ist jedoch der Kommentar entfallen. Ansonsten
kann die Anweisung genau wie \Macro{adrentry} verwendet werden. 

In einer \File{adr}-Datei können die beiden Anweisungen \Macro{adrentry} und
\Macro{addrentry} nebeneinander verwendet werden. Ich\textnote{Achtung!}
weise jedoch darauf hin, dass Zusatzpakete wie das \Package{adrconv}-Paket von
Axel Kielhorn eventuell nicht auf die Verwendung von \Macro{addrentry}
ausgelegt sind.  Hier muss der Anwender gegebenenfalls selbst entsprechende
Erweiterungen vornehmen.%
%
\EndIndex{Cmd}{addrentry}


Neben dem vereinfachten Zugriff auf Kundendaten können die
\File{.adr}-Dateien auch für Serienbriefe\Index[indexmain]{Serienbriefe}
genutzt werden. So ist es ohne die komplizierte Anbindung an
Datenbanksysteme möglich, solche Massenpostsendungen zu erstellen.
%
\begin{Example}
  Sie wollen einen Serienbrief an alle Mitglieder Ihres
  Anglervereins schicken, um zur nächsten Mitgliederversammlung
  einzuladen.
\begin{lstcode}
  \documentclass{scrlttr2}
  \usepackage[ngerman]{babel}
  \usepackage[utf8]{inputenc}

  \begin{document}
  \renewcommand*{\adrentry}[8]{%
    \begin{letter}{#2 #1\\#3}
      \opening{Liebe Vereinsmitglieder,}
      unsere nächste Mitgliederversammlung findet am 
      Montag, dem 12.~August 2002, statt.
      
      Folgende Punkte müssen besprochen werden...
      \closing{Petri Heil,}
    \end{letter}
  }
  
  \input{mitglieder.adr}
  \end{document}
\end{lstcode}
  Sind in Ihrer \File{adr}-Datei auch \Macro{addrentry}-Anweisungen
  enthalten, müssen Sie dafür eine entsprechende Definition vor dem
  Einladen der Adressdatei ergänzen:
\begin{lstcode}
  \renewcommand*{\addrentry}[9]{%
    \adrentry{#1}{#2}{#3}{#4}{#5}{#6}{#7}{#9}%
  }
\end{lstcode}
  Bei diesem Beispiel wird kein Gebrauch von dem zusätzlichen freien
  Feld gemacht und deshalb \Macro{addrentry} mit Hilfe von \Macro{adrentry}
  definiert.
\end{Example}

Natürlich kann der Brief"|inhalt auch von den Adressatenmerkmalen
abhängig gemacht werden. Als Bedingungsfelder können die frei
bestimmbaren Elemente fünf oder sechs eines \Macro{adrentry}-Eintrages oder
die frei bestimmbaren Elemente fünf bis acht eines \Macro{addrentry}-Eintrags 
genutzt werden.
\begin{Example}
  Angenommen, Sie verwenden das Element fünf, um das Geschlecht eines
  Vereinsmitgliedes zu hinterlegen (\PValue{m/w}) und das sechste
  Element weist auf einen Rückstand der Mitgliedsbeiträge hin. Wollen
  Sie nun alle säumigen Mitglieder anschreiben und persönlich anreden,
  so hilft Ihnen folgendes Beispiel weiter:
\begin{lstcode}
  \renewcommand*{\adrentry}[8]{
    \ifdim #6pt>0pt\relax
      % #6 ist ein Betrag (Gleitkommazahl) größer 0.
      % Es werden also die Säumigen erfasst.
      \begin{letter}{#2 #1\\#3}
        \if #5m \opening{Lieber #2,} \fi
        \if #5w \opening{Liebe #2,} \fi

        Leider mussten wir feststellen, dass du mit 
        der Zahlung deiner Mitgliedsbeiträge im 
        Rückstand bist.

        Wir möchten Dich bitten, den offenen Betrag 
        von #6~EUR auf das Vereinskonto einzuzahlen.
        \closing{Petri Heil,}
      \end{letter}
    \fi
  }
\end{lstcode}
\end{Example}
Es ist also möglich, den Brieftext auf bestimmte Empfängermerkmale
gezielt abzustimmen und so den Eindruck eines persönlichen
Schreibens zu erwecken. Die Anwendungsbreite ist lediglich durch
die maximale Anzahl von zwei freien \Macro{adrentry}-Elementen
beziehungsweise vier freien \Macro{addrentry}-Elementen begrenzt.


\begin{Declaration}
  \Macro{adrchar}\Parameter{Anfangsbuchstaben}\\
  \Macro{addrchar}\Parameter{Anfangsbuchstaben}
\end{Declaration}
\BeginIndex{Cmd}{adrchar}%
\BeginIndex{Cmd}{addrchar}%
\Index[indexmain]{Adressverzeichnis}\Index[indexmain]{Telefonliste}%
Es ist auch möglich, die Informationen einer \File{.adr}-Datei in
Adressverzeichnisse oder Telefonlisten umzuwandeln. Sie benötigen dazu
zusätzlich das \Package{adrconv}-Paket von Axel Kielhorn (siehe
\cite{package:adrconv}). In diesem Paket sind interaktive
\LaTeX-Dokumente enthalten, mit deren Hilfe sehr einfach entsprechende
Listen erstellt werden können.

Damit die Listen alphabetisch sortiert ausgegeben werden, muss bereits
die Adressdatei sortiert gewesen sein. Es empfiehlt sich dabei, vor
jedem neuen Anfangsbuchstaben eine Anweisung \Macro{adrchar} mit
diesem Buchstaben als Argument einzufügen.  \Class{scrlttr2} selbst
ignoriert diese Anweisung ebenso wie \Macro{addrchar}.
%
\begin{Example}
  Angenommen Sie haben folgende, eher winzige Adressdatei für die ein
  Adressbuch erstellt werden soll:
% In der folgenden lstcode-Umgebung je nach Umbruchbedarf einzelne
% Elemente löschen oder hinzufügen. MICHAEL und GABRIEL sollten jedoch
% erhalten bleiben.
% Umbruchkorrektur: Dies kann noch dazu:
\begin{lstcode}
  \adrchar{E}
  \adrentry{Engel}{Gabriel}
           {Wolke 3\\12345 Himmelreich}
           {000\,01\,02\,03}{}{}{Erzengel}
           {GABRIEL}
  \adrentry{Engel}{Michael}
           {Wolke 3a\\12345 Himmelreich}
           {000\,01\,02\,04}{}{}{Erzengel}
           {MICHAEL}
  \adrentry{Engel}{Raphael}
           {Wolke 3b\\12345 Himmelreich}
           {000\,01\,02\,05}{}{}{Erzengel}
           {RAPHAEL}
  \adrchar{K}
  \adrentry{Kohm}{Markus}
           {Freiherr-von-Drais-Stra\ss e 66\\
             68535 Edingen-Neckarhausen}
           {+49~62\,03~1\,??\,??}{}{}
           {\"Uberhaupt kein Engel}
           {KOMA}
  \adrchar{T}
  \adrentry{Teufel}{Luzifer}
           {Hinter der Flamme 1\\
             66666 H\"ollenschlund}
           {}{}{}{Gefallener Engel ohne Telefon}
           {LUZIFER}
\end{lstcode}
  Diese bearbeiten Sie nun unter Verwendung von \File{adrdir.tex} aus
  \cite{package:adrconv}. Eine Seite des Ergebnisses sieht dann etwa so aus:
  \begin{center}
    \setlength{\unitlength}{1mm}
    \begin{picture}(80,58)
      \put(0,58){\line(1,0){80}}
      \put(0,3){\line(0,1){55}}
      \put(80,3){\line(0,1){55}}
      \thicklines
      \put(10,43){\line(1,0){60}}
      \put(70,46){\makebox(0,0)[r]{\textsf{\textbf{E}}}}
      \put(10,23){\makebox(0,20)[l]{\parbox{5cm}{\raggedright
            \textbf{Engel}, Gabriel\\\quad\small Wolke 3\\
            \quad 12345 Himmelreich\\
            \quad (Erzengel)}}}
      \put(70,23){\makebox(0,20)[r]{\parbox{2cm}{\raggedright~\\
            \small~\\{\footnotesize GABRIEL}\\000\,01\,02\,03}}}
      \put(10,4){\makebox(0,20)[l]{\parbox{5cm}{\raggedright
            \textbf{Engel}, Michael\\\quad\small Wolke 3a\\
            \quad 12345 Himmelreich\\
            \quad (Erzengel)}}}
      \put(70,4){\makebox(0,20)[r]{\parbox{2cm}{\raggedright~\\
            \small~\\{\footnotesize MICHAEL}\\000\,01\,02\,04}}}
      \qbezier(0,3)(10,6)(40,3)\qbezier(40,3)(60,0)(80,3)
    \end{picture}
  \end{center}
  Dabei wird der Buchstabe in der Kopfzeile von \Macro{adrchar}
  erzeugt. Siehe dazu die Definition in \File{adrdir.tex}.
\end{Example}
Näheres zum \Package{adrconv}-Paket ist der zugehörigen Anleitung zu
entnehmen. Dort finden Sie auch Angaben darüber, ob die aktuelle
Version von \Package{adrconv} bereits mit \Macro{addrentry} und
\Macro{addrchar} umgehen kann. Frühere Versionen kannten nur
\Macro{adrentry} und \Macro{adrchar}.%
%
\EndIndex{Cmd}{adrchar}\EndIndex{Cmd}{addrchar}%
%
\EndIndex{}{Adressdatei}\EndIndex{}{Serienbriefe}%
%
\EndIndex{Class}{scrlttr2}\EndIndex{}{Briefe}

\endinput

%%% Local Variables: 
%%% mode: latex
%%% coding: iso-latin-1
%%% TeX-master: "../guide.tex"
%%% End: 
