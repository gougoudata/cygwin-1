% ======================================================================
% scrpage2.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% scrpage2.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Chapter about scrpage2 of the KOMA-Script guide
% Maintained by Jens-Uwe Morawski (and sometimes Markus Kohm)
%
% ----------------------------------------------------------------------
%
% Kapitel ¸ber scrpage2 in der KOMA-Script-Anleitung
% Verwaltet von Jens-Uwe Morawski (unterst¸tzt von Markus Kohm)
%
% ============================================================================

\ProvidesFile{scrpage2.tex}[2012/02/22 KOMA-Script guide (chapter:scrpage2)]

\chapter{Kopf- und Fuﬂzeilen mit \Package{scrpage2}}
\labelbase{scrpage}
%
\BeginIndex{Package}{scrpage2}%
Wie bereits in den beiden vorherigen Kapiteln erw‰hnt wurde, enth‰lt
\KOMAScript{} auch ein Paket, das weitreichende Kontrolle ¸ber Format und
Inhalt der Kopf- und Fuﬂzeilen gibt. Bereits seit 2001 wird hierf¸r nicht mehr
\Package{scrpage}\IndexPackage{scrpage}, sondern das stark erweiterte Paket
\Package{scrpage2} verwendet. Diese Anleitung beschreibt daher auch nur noch
\Package{scrpage2}. Das Paket \Package{scrpage} ist obsolet.

\begin{Explain}
  An Stelle von \Package{scrpage2} kann nat¸rlich auch \Package{fancyhdr}
  (siehe \cite{package:fancyhdr}) verwendet werden. \Package{scrpage2}
  harmoniert jedoch mit den \KOMAScript-Klassen deutlich besser. Genau deshalb
  und weil der Vorl‰ufer von \Package{fancyhdr} damals viele Mˆglichkeiten
  vermissen lies, ist \Package{scrpage2} entstanden. Nat¸rlich ist das Paket
  \Package{scrpage2} nicht an eine \KOMAScript-Klasse gebunden, sondern kann
  auch sehr gut mit anderen Klassen verwendet werden.
\end{Explain}

\section{Grundlegende Funktionen}\label{sec:scrpage.basics}

\begin{Explain}
  Um die nachfolgende Beschreibung zu verstehen, muss noch einiges zu \LaTeX{}
  gesagt werden. Im \LaTeX-Kern sind die Standardseitenstile
  \Pagestyle{empty}, welcher eine vˆllig undekorierte Seite erzeugt, und
  \Pagestyle{plain}, welcher meist nur die Seitenzahl enth‰lt, definiert. In
  vielen Klassen ist der Stil \Pagestyle{headings} zu finden, welcher eine
  komplexe Seitendekoration mit automatischen
  Kolumnentitel\Index{Kolumnentitel>automatisch} erzeugt. Die Variante
  \Pagestyle{myheadings} gleicht \Pagestyle{headings}. Die Kolumnentitel
  m¸ssen dabei aber manuell\Index{Kolumnentitel>manuell} gesetzt werden.
  Ausf¸hrlicher wird das in \autoref{sec:maincls.pagestyle} beschrieben. Dort
  wird auch erl‰utert, dass auf einigen Seiten der Seitenstil automatisch --
  in der Regel zu \Pagestyle{plain} -- wechselt.
\end{Explain}
  
Das Paket \Package{scrpage2} unterscheidet nicht mehr zwischen Seitenstilen
mit automatischem und mit manuellem Kolumnentitel. Die Wahl des Seitenstils
erfolgt unabh‰ngig davon, ob mit automatischem oder manuellem Kolumnentitel
gearbeitet wird. N‰heres dazu finden Sie in \autoref{sec:scrpage.basics.mark}.


\subsection{Vordefinierte Seitenstile}\label{sec:scrpage.basics.buildIn}

Zu den grundlegenden Funktionen von \Package{scrpage2} gehˆren unter anderem
vordefinierte, konfigurierbare Seitenstile.

% \lehead ...
% scrheadings
% \headmark \pagemark 

\begin{Declaration}
  \Pagestyle{scrheadings}\\
  \Pagestyle{scrplain}
\end{Declaration}%
\BeginIndex{Pagestyle}{scrheadings}%
\BeginIndex{Pagestyle}{scrplain}%
\Index{Seiten>Stil}%
Das Paket \Package{scrpage2} liefert f¸r Seiten mit Kolumnentitel einen
eigenen Seitenstil namens \Pagestyle{scrheadings}.  Dieser Seitenstil kann
mittels \Macro{pagestyle}\PParameter{scrheadings} aktiviert werden.  Wird
dieser Seitenstil benutzt, dann wird gleichzeitig der plain-Stil durch den
dazu passenden Stil \Pagestyle{scrplain} ersetzt. Passend bedeutet, dass auch
der plain-Stil auf in \autoref{sec:scrpage.basics.format} vorgestellte
Befehle, die beispielsweise die Kopfbreite ‰ndern, reagiert und im Grundlayout
¸bereinstimmt. Die Aktivierung des Seitenstils \Pagestyle{scrheadings} oder
des zugehˆrigen plain-Stils, \Pagestyle{scrplain}, hat keine Auswirkung
darauf, ob mit manuellen oder automatischen
Kolumnentiteln\Index{Kolumnentitel>automatisch}\Index{Kolumnentitel>manuell}
gearbeitet wird (siehe \autoref{sec:scrpage.basics.mark}). Der Seitenstil
\Pagestyle{scrplain} kann auch direkt per \Macro{pagestyle} aktiviert werden.


\begin{Declaration}
  \Macro{lehead}%
    \OParameter{scrplain-links-gerade}\Parameter{scrheadings-links-gerade}\\
  \Macro{cehead}%
    \OParameter{scrplain-mittig-gerade}\Parameter{scrheadings-mittig-gerade}\\
  \Macro{rehead}%
    \OParameter{scrplain-rechts-gerade}\Parameter{scrheadings-rechts-gerade}\\
  \Macro{lefoot}%
    \OParameter{scrplain-links-gerade}\Parameter{scrheadings-links-gerade}\\
  \Macro{cefoot}%
    \OParameter{scrplain-mittig-gerade}\Parameter{scrheadings-mittig-gerade}\\
  \Macro{refoot}%
    \OParameter{scrplain-rechts-gerade}\Parameter{scrheadings-rechts-gerade}\\
  \Macro{lohead}%
    \OParameter{scrplain-links-ungerade}\Parameter{scrheadings-links-ungerade}\\
  \Macro{cohead}%
    \OParameter{scrplain-mittig-ungerade}\Parameter{scrheadings-mittig-ungerade}\\
  \Macro{rohead}%
    \OParameter{scrplain-rechts-ungerade}\Parameter{scrheadings-rechts-ungerade}\\
  \Macro{lofoot}%
    \OParameter{scrplain-links-ungerade}\Parameter{scrheadings-links-ungerade}\\
  \Macro{cofoot}%
    \OParameter{scrplain-mittig-ungerade}\Parameter{scrheadings-mittig-ungerade}\\
  \Macro{rofoot}%
    \OParameter{scrplain-rechts-ungerade}\Parameter{scrheadings-rechts-ungerade}\\
  \Macro{ihead}%
    \OParameter{scrplain-innen}\Parameter{scrheadings-innen}\\
  \Macro{chead}%
    \OParameter{scrplain-zentriert}\Parameter{scrheadings-zentriert}\\
  \Macro{ohead}%
    \OParameter{scrplain-auﬂen}\Parameter{scrheadings-auﬂen}\\
  \Macro{ifoot}%
    \OParameter{scrplain-innen}\Parameter{scrheadings-innen}\\
  \Macro{cfoot}%
    \OParameter{scrplain-zentriert}\Parameter{scrheadings-zentriert}\\
  \Macro{ofoot}%
    \OParameter{scrplain-auﬂen}\Parameter{scrheadings-auﬂen}
\end{Declaration}%
\BeginIndex{Cmd}{lehead}%
\BeginIndex{Cmd}{cehead}%
\BeginIndex{Cmd}{rehead}%
\BeginIndex{Cmd}{ihead}%
\BeginIndex{Cmd}{chead}%
\BeginIndex{Cmd}{ohead}%
\BeginIndex{Cmd}{lohead}%
\BeginIndex{Cmd}{cohead}%
\BeginIndex{Cmd}{rohead}%
\BeginIndex{Cmd}{lefoot}%
\BeginIndex{Cmd}{cefoot}%
\BeginIndex{Cmd}{refoot}%
\BeginIndex{Cmd}{ifoot}%
\BeginIndex{Cmd}{cfoot}%
\BeginIndex{Cmd}{rfoot}%
\BeginIndex{Cmd}{lofoot}%
\BeginIndex{Cmd}{cofoot}%
\BeginIndex{Cmd}{rofoot}%
Die Seitenstile von \Package{scrpage2} sind so definiert, dass ihr Kopf und
Fuﬂ flexibel angepasst werden kann. Hierzu sind sowohl im Kopf als auch im Fuﬂ
drei Felder vorhanden sind, deren Inhalt modifiziert werden kann.  Die Befehle
zur Modifikation sind in \autoref{fig:scrpage.leheadetall} verdeutlicht. Die
in der Mitte dargestellten Befehle modifizieren sowohl die Felder der linken
als auch der rechten Seite. Alle Befehle haben sowohl ein optionales als auch
ein obligatorisches Argument. Das optionale Argument bestimmt jeweils das
durch den Befehl festgelegte Feld im plain-Seitenstil,
\Pagestyle{scrplain}. Das obligatorische Argument definiert das entsprechende
Feld im Seitenstil \Pagestyle{scrheadings}.

\begin{figure}
%  \centering
  \setcapindent{0pt}%
  \begin{captionbeside}
    [Befehle zur Manipulation der \Package{scrpage2}-Seitenstile]%
    {\hspace{0pt plus 1ex}%
      Zuord\-nung der Befehle zur Manipulation der beiden Seiten\-stile
      \Pagestyle{scrheadings} und \Pagestyle{scrplain} zu den Feldern im
      Kopf und Fuﬂ der Seiten}
    [l]
  \setlength{\unitlength}{.95mm}\begin{picture}(100,65)(0,8)\small
    \put(0,12){\dashbox{2}(40,56){linke Seite}}
    \put(60,12){\dashbox{2}(40,56){rechte Seite}}
                                % Felder: oben links
    \put(1,63){\framebox(8,4){~}}
    \put(16,63){\framebox(8,4){~}}
    \put(31,63){\framebox(8,4){~}}
                                % Felder: oben rechts
    \put(61,63){\framebox(8,4){~}}
    \put(76,63){\framebox(8,4){~}}
    \put(91,63){\framebox(8,4){~}}
                                % Felder: unten links
    \put(1,13){\framebox(8,4){~}}
    \put(16,13){\framebox(8,4){~}}
    \put(31,13){\framebox(8,4){~}}
                                % Felder: unten rechts
    \put(61,13){\framebox(8,4){~}}
    \put(76,13){\framebox(8,4){~}}
    \put(91,13){\framebox(8,4){~}}
                                % die Befehle und Pfeile
                                % f¸r beidseitig
                                % 
    \put(50,65){\makebox(0,0){\Macro{ihead}}}
    \put(44,65){\vector(-1,0){4}}\put(56,65){\vector(1,0){4}}
    \put(50,58){\makebox(0,0){\Macro{chead}}}
    \put(44,58){\line(-1,0){24}}\put(56,58){\line(1,0){24}}
    \put(20,58){\vector(0,1){4}}\put(80,58){\vector(0,1){4}}
    \put(50,51){\makebox(0,0){\Macro{ohead}}}
    \put(44,51){\line(-1,0){40}}\put(56,51){\line(1,0){40}}
    \put(4,51){\vector(0,1){11}}\put(96,51){\vector(0,1){11}}
                                %
    \put(50,15){\makebox(0,0){\Macro{ifoot}}}
    \put(56,15){\vector(1,0){4}}\put(44,15){\vector(-1,0){4}}
    \put(50,22){\makebox(0,0){\Macro{cfoot}}}
    \put(44,22){\line(-1,0){24}}\put(56,22){\line(1,0){24}}
    \put(20,22){\vector(0,-1){4}}\put(80,22){\vector(0,-1){4}}
    \put(50,29){\makebox(0,0){\Macro{ofoot}}}
    \put(44,29){\line(-1,0){40}}\put(56,29){\line(1,0){40}}
    \put(4,29){\vector(0,-1){11}}\put(96,29){\vector(0,-1){11}}
                                % Befehle f¸r einseitig
    \put(5,69){\makebox(0,0)[b]{\Macro{lehead}}}
    \put(20,69){\makebox(0,0)[b]{\Macro{cehead}}}
    \put(35,69){\makebox(0,0)[b]{\Macro{rehead}}}
                                %
    \put(65,69){\makebox(0,0)[b]{\Macro{lohead}}}
    \put(80,69){\makebox(0,0)[b]{\Macro{cohead}}}
    \put(95,69){\makebox(0,0)[b]{\Macro{rohead}}}
                                %
    \put(5,11){\makebox(0,0)[t]{\Macro{lefoot}}}
    \put(20,11){\makebox(0,0)[t]{\Macro{cefoot}}}
    \put(35,11){\makebox(0,0)[t]{\Macro{refoot}}}
                                %
    \put(65,11){\makebox(0,0)[t]{\Macro{lofoot}}}
    \put(80,11){\makebox(0,0)[t]{\Macro{cofoot}}}
    \put(95,11){\makebox(0,0)[t]{\Macro{rofoot}}}
  \end{picture}
  \end{captionbeside}
%  \caption[Befehle zur Manipulation der \Package{scrpage2}-Seitenstile]%
%  {Zuordnung der Befehle zur Manipulation der Seitenstile
%    \Pagestyle{scrheadings} und \Pagestyle{scrplain} zu den manipulierten
%    Seitenelementen}
  \label{fig:scrpage.leheadetall}
\end{figure}

\begin{Example}
  Angenommen, man mˆchte bei \Pagestyle{scrheadings} zentriert im Seitenfuﬂ
  die Seitenzahl dargestellt haben, dann benutzt man einfach:
\begin{lstcode}
  \cfoot{\pagemark}
\end{lstcode}
  Sollen die Seitenzahlen\Index{Paginierung} im Kopf auﬂen und die
  Kolumnentitel\Index{Kolumnentitel} innen stehen, dann erfolgt dies mit:
\begin{lstcode}
  \ohead{\pagemark}
  \ihead{\headmark}
  \cfoot{}
\end{lstcode}
  Das \Macro{cfoot}\PParameter{} ist nur notwendig, um eine mˆglicherweise in
  der Mitte des Fuﬂes vorhandene Seitenzahl zu entfernen.
\end{Example}

Die Befehle, die direkt nur einem Feld zugeordnet sind, kˆnnen f¸r
anspruchsvollere Vorhaben genutzt werden.

\begin{Example}
  Angenommen, man hat den Auf"|trag, einen Jahresbericht einer Firma zu
  erstellen, dann kˆnnte das so angegangen werden:
\begin{lstcode}
  \ohead{\pagemark}
  \rehead{Jahresbericht 2001}
  \lohead{\headmark}
  \cefoot{Firma WasWeiﬂIch}
  \cofoot{Abteilung Entwicklung}
\end{lstcode}
  Nat¸rlich muss man hier daf¸r sorgen, dass mittels \Macro{cofoot} der Fuﬂ
  der rechten Seite aktualisiert wird, wenn eine neue Abteilung im Bericht
  besprochen wird.
\end{Example}

Wie oben dargestellt, gibt es einen zu \Pagestyle{scrheadings}
korrespondierenden plain-Seitenstil.  Da es auch mˆglich sein soll, diesen
Stil anzupassen, unterst¸t"-zen die Befehle ein optionales Argument.  Damit
kann der Inhalt des entsprechenden Feldes im plain-Seitenstil modifiziert
werden.

\begin{Example}
  Um f¸r die Nutzung von \Pagestyle{scrheadings} die Position der Seitenzahlen
  festzulegen, kann man folgendes benutzen:
\begin{lstcode}
  \cfoot[\pagemark]{}
  \ohead[]{\pagemark}
\end{lstcode}
  Wird anschlieﬂend der Stil \Pagestyle{plain} genutzt, beispielsweise weil
  \Macro{chapter} eine neue Seite beginnt und darauf umschaltet, dann steht
  die Seitenzahl zentriert im Seitenfuﬂ.
\end{Example}
%
\EndIndex{Pagestyle}{scrheadings}%
\EndIndex{Pagestyle}{scrplain}%


% Die folgende Deklaration und Erklaerung wurde eingefuegt von
% mjk 2001-08-18
\begin{Declaration}
  \Macro{clearscrheadings}\\
  \Macro{clearscrplain}\\
  \Macro{clearscrheadfoot}
\end{Declaration}%
\BeginIndex{Cmd}{clearscrheadings}%
\BeginIndex{Cmd}{clearscrplain}%
\BeginIndex{Cmd}{clearscrheadfoot}%
Will man sowohl den Seitenstil \Pagestyle{scrheadings} als auch den dazu
gehˆrenden plain-Seitenstil von Grund auf neu definieren,
muss man h‰ufig zus‰tzlich einige der bereits belegten Seitenelemente
lˆschen.  Da man selten alle Elemente mit neuem Inhalt f¸llt, sind
dazu in den meisten F‰llen mehrere Befehle mit leeren Parametern
notwendig.
Mit Hilfe dieser drei Befehle ist das Lˆschen schnell und
gr¸ndlich mˆglich. W‰hrend \Macro{clearscrheadings} lediglich alle
Felder des Seitenstils \Pagestyle{scrheadings} und \Macro{clearscrplain}
alle Felder des zugehˆrigen plain-Seitenstils lˆscht, werden
von \Macro{clearscrheadfoot} alle Felder beider Seitenstile auf leere
Inhalte gesetzt.
\begin{Example}
  Sie wollen unabh‰ngig davon, wie die Seitenstile derzeit aussehen,
  die Standardform der \KOMAScript-Klassen bei zweiseitigem Satz
  erreichen. Dies ist mit nur drei Befehlen mˆglich:
\begin{lstcode}
  \clearscrheadfoot
  \ohead{\headmark}
  \ofoot[\pagemark]{\pagemark}
\end{lstcode}
  Ohne die Befehle \Macro{clearscrheadings}, \Macro{clearscrplain} und
  \Macro{clearscrheadfoot} w‰ren doppelt so viele Anweisungen und neun weitere
  leere Argumente notwendig:
\begin{lstcode}
  \ihead[]{}
  \chead[]{}
  \ohead[]{\headmark}
  \ifoot[]{}
  \cfoot[]{}
  \ofoot[\pagemark]{\pagemark}
\end{lstcode}
  Einige davon kˆnnten nat¸rlich entfallen, wenn man von einer
  konkreten Vorbelegung ausginge.
\end{Example}
%
\EndIndex{Cmd}{clearscrheadings}%
\EndIndex{Cmd}{clearscrplain}%
\EndIndex{Cmd}{clearscrheadfoot}%
%
\EndIndex{Cmd}{lehead}\EndIndex{Cmd}{cehead}\EndIndex{Cmd}{rehead}%
\EndIndex{Cmd}{ihead}\EndIndex{Cmd}{chead}\EndIndex{Cmd}{ohead}%
\EndIndex{Cmd}{lohead}\EndIndex{Cmd}{cohead}\EndIndex{Cmd}{rohead}%
\EndIndex{Cmd}{lefoot}\EndIndex{Cmd}{cefoot}\EndIndex{Cmd}{refoot}%
\EndIndex{Cmd}{ifoot}\EndIndex{Cmd}{cfoot}\EndIndex{Cmd}{rfoot}%
\EndIndex{Cmd}{lofoot}\EndIndex{Cmd}{cofoot}\EndIndex{Cmd}{rofoot}%

% Satz leicht geaendert: mjk 2001-08-18
In den vorausgehenden Beispielen wurden schon zwei Befehle benutzt, die noch
gar nicht besprochen wurden.  Das soll jetzt nachgeholt werden.

% Die folgende Deklaration und Erklaerung wurde eingefuegt von
% mjk 2001-08-17
\begin{Declaration}
  \Macro{leftmark}\\
  \Macro{rightmark}
\end{Declaration}%
\BeginIndex{Cmd}{leftmark}%
\BeginIndex{Cmd}{rightmark}%
Diese beiden Befehle erlauben es, auf die Kolumnentitel zuzugreifen, die
normalerweise f¸r die linke bzw. die rechte Seite gedacht sind. Diese beiden
Befehle werden nicht von \Package{scrpage2}, sondern direkt vom \LaTeX-Kern
zur Verf¸gung gestellt. Wenn in diesem Kapitel vom Kolumnentitel der linken
Seite oder vom Kolumnentitel der rechten Seite die Rede ist, dann ist damit
eigentlich der Inhalt von \Macro{leftmark} und \Macro{rightmark} gemeint.
%
\EndIndex{Cmd}{leftmark}%
\EndIndex{Cmd}{rightmark}%


\begin{Declaration}
\Macro{headmark}
\end{Declaration}%
\BeginIndex{Cmd}{headmark}%
Dieser Befehl ermˆglicht es, auf die Inhalte der Kolumnentitel zuzugreifen.
Im Gegensatz zu den originalen \LaTeX{}-Befehlen \Macro{leftmark} und
\Macro{rightmark} braucht man nicht auf die richtige Zuordnung zur linken oder
rechten Seite zu achten.%
%
\EndIndex{Cmd}{headmark}


\begin{Declaration}
  \Macro{pagemark}
\end{Declaration}%
\BeginIndex{Cmd}{pagemark}%
Dieser Befehl ermˆglicht den Zugriff auf die Seitenzahl. Im
\autoref{sec:scrpage.basics.format}, \autopageref{desc:scrpage.cmd.pnumfont}
wird der Befehl \Macro{pnumfont} zur Formatierung der Seitenzahl vorgestellt,
den \Macro{pagemark} automatisch ber¸cksichtigt.%
%
\EndIndex{Cmd}{pagemark}


\begin{Declaration}
  \Pagestyle{useheadings}
\end{Declaration}%
\BeginIndex{Pagestyle}{useheadings}%
Das Paket \Package{scrpage2} ist in erster Linie daf¸r gedacht, dass die
bereitgestellten Stile benutzt oder eigene Stile definiert werden.  Jedoch
kann es notwendig sein, auch auf einen von der Dokumentklasse zur Verf¸gung
gestellten Stil zur¸ckzuschalten. Es w‰re nahe liegend, dieses mit
\Macro{pagestyle}\PParameter{headings} vorzunehmen. Das h‰tte aber den
Nachteil, dass die nachfolgend besprochenen Befehle \Macro{automark} und
\Macro{manualmark} nicht wie erwartet funktionierten. Daher sollte mit
\Macro{pagestyle}\PParameter{useheadings}\IndexCmd{pagestyle} auf die
originalen Stile umgeschaltet werden. Eine solche Umschaltung hat dann keine
Auswirkung darauf, ob mit manuellen oder automatischen Kolumnentiteln
gearbeitet wird.%
%
\EndIndex{Pagestyle}{useheadings}


\subsection{Manuelle und automatische Kolumnentitel}
\label{sec:scrpage.basics.mark}
% \automark \manualmark 
%
\BeginIndex{}{Kolumnentitel>automatisch}%
\BeginIndex{}{Kolumnentitel>manuell}%
Gewˆhnlich\textnote{Achtung!} gibt es zu einem \Pagestyle{headings}-Stil eine
\emph{my}-Variante. Ist ein solcher Stil aktiv, dann werden die Kolumnentitel
nicht mehr automatisch aktualisiert.  Bei \Package{scrpage2} wird ein anderer
Weg beschritten.  Ob die Kolumnentitel lebend sind oder nicht, bestimmen die
Befehle \Macro{automark} und \Macro{manualmark}. Die Voreinstellung kann auch
bereits beim Laden des Paketes ¸ber die Optionen \Option{automark} und
\Option{manualmark} beeinflusst werden (siehe
\autoref{sec:scrpage.basics.options},
\autopageref{desc:scrpage.option.automark}).


\begin{Declaration}
\Macro{manualmark}
\end{Declaration}%
\BeginIndex{Cmd}{manualmark}%
Wie der Name bereits verdeutlicht, schaltet \Macro{manualmark} die
Aktualisierung der Kolumnentitel aus.  Es bleibt somit dem Nutzer ¸berlassen,
f¸r eine Aktualisierung bzw. f¸r den Inhalt der Kolumnentitel zu sorgen.  Dazu
stehen die Befehle \Macro{markboth}\IndexCmd{markboth} und
\Macro{markright}\IndexCmd{markright} aus dem \LaTeX-Kern bereit. Diese
Anweisungen sind in \autoref{sec:maincls.pagestyle},
\autopageref{desc:maincls.cmd.markboth} erkl‰rt.%
%
\EndIndex{Cmd}{manualmark}


% Ergaenzt mjk 2001-07-17
\begin{Declaration}
  \Macro{automark}\OParameter{rechte Seite}\Parameter{linke Seite}
\end{Declaration}%
\BeginIndex{Cmd}{automark}%
Die Anweisung \Macro{automark} aktiviert die automatische Aktualisierung des
Kolumnentitels.  F¸r die beiden Parameter sind die Bezeichnungen der
Gliederungsebenen\Index{Gliederungsebenen} einzusetzen, deren Titel an
entsprechender Stelle erscheinen soll. G¸ltige Werte f¸r die Parameter sind:
\PValue{part}\ChangedAt{v2.2}{\Package{scrpage2}}, \PValue{chapter},
\PValue{section}, \PValue{subsection}, \PValue{subsubsection},
\PValue{paragraph} und \PValue{subparagraph}. Der Wert \PValue{part} f¸hrt bei
Verwendung der meisten Klassen nicht zu dem gew¸nschten Ergebnis. Bisher ist
nur von den \KOMAScript-Klassen ab Version~2.9s bekannt, dass dieser Wert
unterst¸tzt wird.  Das optionale Argument \PName{rechte Seite} ist
ver\-st‰ndlicherweise nur f¸r zweiseitigen Satz gedacht. Im einseitigen Satz
sollten Sie normalerweise darauf verzichten. Mit Hilfe der Option
\Option{autooneside}\IndexOption{autooneside}\important{\Option{autooneside}}
kˆnnen Sie auch einstellen, dass das optionale Argument im
einseitigen\Index{einseitig} Satz automatisch ignoriert wird (siehe
\autoref{sec:scrpage.basics.options},
\autopageref{desc:scrpage.option.autooneside}).
\begin{Example}
  Wird beispielsweise mit einer \emph{book}-Klasse gearbeitet, deren hˆch\-ste
  Gliederungsebene \emph{chapter} ist, dann stellt nach einem vorhergehenden
  \Macro{manualmark} der Befehl
\begin{lstcode}
  \automark[section]{chapter}
\end{lstcode}
  den Originalzustand wieder her. Bevorzugt man stattdessen, die tieferen
  Gliederungsebenen angezeigt zu bekommen, dann erfolgt dies mit:
\begin{lstcode}
  \automark[subsection]{section}
\end{lstcode}
\end{Example}

\begin{Explain}
  Die Markierung der jeweils hˆheren Gliederungsebene wird mit Hilfe von
  \Macro{markboth}\IndexCmd{markboth} (siehe \autoref{sec:maincls.pagestyle},
  \autopageref{desc:maincls.cmd.markboth}) gesetzt. Die Markierung der
  tieferen Gliederungsebene wird mit \Macro{markright}\IndexCmd{markright}
  bzw.  \Macro{markleft}\IndexCmd{markleft} gesetzt.  Der entsprechende Aufruf
  erfolgt indirekt ¸ber die Gliederungsbefehle. Die Anweisung \Macro{markleft}
  wird von \Package{scrpage2} bereitgestellt und ist vergleichbar zu
  \Macro{markright} (siehe \autoref{sec:maincls.pagestyle},
  \autopageref{desc:maincls.cmd.markright}) aus dem \LaTeX-Kern
  definiert. Obwohl sie nicht als internes Makro definiert ist, wird von einem
  direkten Gebrauch abgeraten.
\end{Explain}
\EndIndex{Cmd}{automark}
\EndIndex{}{Kolumnentitel>automatisch}%
\EndIndex{}{Kolumnentitel>manuell}%


\subsection{Formatierung der Kopf- und Fuﬂzeilen}
\label{sec:scrpage.basics.format}
% \headfont \pnumfont
% \setheadwidth \setfootwidth
% \set(head|foot)(top|sep|bot)line
Im vorherigen Abschnitt ging es haupts‰chlich um inhaltliche Dinge.  Das
gen¸gt nat¸rlich nicht, um die gestalterischen Ambitionen zu
befriedigen. Deshalb soll es sich in diesem Abschnitt ausschlieﬂlich darum
drehen.

\begin{Declaration}
  \Macro{headfont}\\
  \Macro{footfont}\\
  \Macro{pnumfont}
\end{Declaration}%
\BeginIndex{Cmd}{headfont}%
\BeginIndex{Cmd}{footfont}%
\BeginIndex{Cmd}{pnumfont}%
Die Schriftformatierung f¸r den Seitenkopf und -fuﬂ ¸bernimmt der Befehl
\Macro{headfont}, \Macro{footfont} die Abweichung davon f¸r den Fuﬂ und
\Macro{pnumfont} wiederum die Abweichung davon f¸r die Seitenzahl.
\begin{Example}
  Um beispielsweise den Kopf in fetter, serifenloser Schrift und den Fuﬂ in
  nicht fetter, serifenloser Schrift zu setzen und die Seitenzahl geneigt
  mit Serifen erscheinen zu lassen, nutzt man folgende Definitionen:
\begin{lstcode}
  \renewcommand*{\headfont}{%
    \normalfont\sffamily\bfseries}
  \renewcommand*{\footfont}{%
    \normalfont\sffamily}
  \renewcommand*{\pnumfont}{%
    \normalfont\rmfamily\slshape}
\end{lstcode}
\end{Example}
\EndIndex{Cmd}{pnumfont}%
\EndIndex{Cmd}{footfont}%
\EndIndex{Cmd}{headfont}%


\BeginIndex{FontElement}{pagehead}%
\BeginIndex{FontElement}{pagefoot}%
\BeginIndex{FontElement}{pagenumber}%
Ab Version 2.8p der \KOMAScript{}-Klassen wurde die Schnittstelle f¸r
Schriftattribute vereinheitlicht.  Wird \Package{scrpage2} in Verbindung mit
einer dieser Klassen verwendet, dann sollte die Zuweisung in der Art erfolgen,
wie sie im \autoref{sec:maincls.textmarkup} ab
\autopageref{sec:maincls.textmarkup} beschrieben wird.
\begin{Example}
  Statt \Macro{renewcommand} wird bei Verwendung einer \KOMAScript-Klasse
  vorzugsweise der Befehl \Macro{setkomafont} verwendet. Die vorhergehenden
  Definitionen lauten damit:
\begin{lstcode}
  \setkomafont{pagehead}{%
    \normalfont\sffamily\bfseries}
  \setkomafont{pagefoot}{%
    \normalfont\sffamily}
  \setkomafont{pagenumber}{%
    \normalfont\rmfamily\slshape}
\end{lstcode}
\end{Example}
\EndIndex{FontElement}{pagenumber}%
\EndIndex{FontElement}{pagefoot}%
\EndIndex{FontElement}{pagehead}%


\begin{Declaration}
\Macro{setheadwidth}\OParameter{Verschiebung}\Parameter{Breite}\\
\Macro{setfootwidth}\OParameter{Verschiebung}\Parameter{Breite}
\end{Declaration}%
\BeginIndex{Cmd}{setheadwidth}%
\BeginIndex{Cmd}{setfootwidth}%
Normalerweise entsprechen die Breiten von Kopf- und Fuﬂzeile der Breite des
Textbereichs.\Index{Kopf>Breite}\Index{Fuss=Fuﬂ>Breite} Die beiden Befehle
\Macro{setheadwidth} und \Macro{setfootwidth} ermˆglichen dem Anwender, auf
einfache Weise die Breiten seinen Bed¸rfnissen anzupassen.  Das obligatorische
Argument \PName{Breite} nimmt den Wert der Breite des Kopfes bzw. des Fuﬂes
auf, \PName{Verschiebung} ist ein L‰ngenmaﬂ f¸r die Verschiebung des
entsprechenden Elements in Richtung des ‰uﬂeren Seitenrandes.

F¸r die mˆglichen Standardf‰lle akzeptiert das obligatorische Argument
\PName{Breite} auch folgende symbolische Werte:
\begin{labeling}[\ --]{\PValue{textwithmarginpar}}
\item[\PValue{paper}] die Breite des Papiers
\item[\PValue{page}] die Breite der Seite
\item[\PValue{text}] die Breite des Textbereichs
\item[\PValue{textwithmarginpar}] die Breite des Textbereichs inklusive
Seitenrand
\item[\PValue{head}] die aktuelle Breite des Seitenkopfes
\item[\PValue{foot}] die aktuelle Breite des Seitenfuﬂes
\end{labeling}
Der Unterschied zwischen \PValue{paper} und \PValue{page} besteht darin, dass
\PValue{page} die Breite des Papiers abz¸glich der Bindekorrektur ist, falls
das \Package{typearea}-Paket\IndexPackage{typearea} verwendet wird (siehe
\autoref{cha:typearea}). Ohne Verwendung von \Package{typearea} sind
\PValue{paper} und \PValue{page} identisch.%mjk-2001-08-17

\begin{Example}
  Angenommen, man mˆchte ein Seitenlayout wie im
  \emph{\LaTeX-Begleiter}, bei dem die Kopfzeile in den Rand ragt,
  dann geschieht das ganz einfach mit:
\begin{lstcode}
  \setheadwidth[0pt]{textwithmarginpar}
\end{lstcode}
%
  und sieht dann auf einer rechten Seite folgendermaﬂen aus:
%
  \begin{XmpTopPage}
    \XmpHeading{10,29}{85}
    \thinlines\XmpRule{10,27}{85}
    \XmpSetText[\XmpTopText]{10,24}
    \XmpMarginNote{83,14}
  \end{XmpTopPage}
%
  Soll der Seitenfuﬂ die gleiche Breite und Ausrichtung haben, dann hat man
  jetzt zwei Wege.  Der erste ist, man wiederholt das Gleiche f¸r den
  Seitenfuﬂ mit:
\begin{lstcode}
  \setfootwidth[0pt]{textwithmarginpar}
\end{lstcode}
%
  oder man greift auf den anderen symbolischen Wert \PValue{head} zur¸ck, da
  der Kopf bereits die gew¸nschte Breite hat.
\begin{lstcode}
  \setfootwidth[0pt]{head}
\end{lstcode}
\end{Example}

Wird keine Verschiebung angegeben, das heiﬂt auf das optionale Argument
verzichtet, dann erscheint der Kopf bzw. der Fuﬂ symmetrisch auf der Seite
angeordnet. Es wird somit ein Wert f¸r die Verschiebung automatisch ermittelt,
der der aktuellen Seitengestalt entspricht.

\begin{Example}
  Entsprechend dem vorherigen Beispiel wird hier auf das optionale Argument
  verzichtet:
\begin{lstcode}
  \setheadwidth{textwithmarginpar}
\end{lstcode}
%
  und sieht dann auf einer rechten Seite folgendermaﬂen aus:
%
  \begin{XmpTopPage}
        \XmpHeading{5,29}{85}
        \thinlines\XmpRule{5,27}{85}
        \XmpSetText[\XmpTopText]{10,24}
        \XmpMarginNote{83,14}
  \end{XmpTopPage}
\end{Example}

Wie zu sehen, ist der Kopf jetzt nach innen verschoben, wobei die Kopfbreite
sich nicht ge‰ndert hat. Die Verschiebung ist so berechnet, dass die
Seitenproportionen auch hier sichtbar werden.
\EndIndex{Cmd}{setheadwidth}\EndIndex{Cmd}{setfootwidth}


\begin{Declaration}
  \Macro{setheadtopline}\OParameter{L‰nge}\Parameter{Dicke}%
                        \OParameter{Anweisungen}\\
  \Macro{setheadsepline}\OParameter{L‰nge}\Parameter{Dicke}%
                        \OParameter{Anweisungen}\\
  \Macro{setfootsepline}\OParameter{L‰nge}\Parameter{Dicke}%
                        \OParameter{Anweisungen}\\
  \Macro{setfootbotline}\OParameter{L‰nge}\Parameter{Dicke}%
                        \OParameter{Anweisungen}
\end{Declaration}%
\BeginIndex{Cmd}{setheadtopline}\BeginIndex{Cmd}{setheadsepline}%
\BeginIndex{Cmd}{setfootsepline}\BeginIndex{Cmd}{setfootbotline}%
Entsprechend den Grˆﬂenparametern f¸r die Kopf- und Fuﬂzeile gibt es auch
Befehle, die die Dimensionen der Linien im Kopf und Fuﬂ modifizieren
kˆnnen. Dazu sollten diese Linien aber zun‰chst erst einmal eingeschaltet
werden. Siehe hierzu die Optionen \Option{headtopline}, \Option{headsepline},
\Option{footsepline}, \Option{footbotline} in
\autoref{sec:scrpage.basics.options},
\autopageref{desc:scrpage.option.headsepline}.

\begin{labeling}[\ --]{\Macro{setfootsepline}}
\item[\Macro{setheadtopline}] modifiziert die Parameter f¸r die Linie
¸ber dem Seitenkopf
\item[\Macro{setheadsepline}] modifiziert die Parameter f¸r die Linie
zwischen Kopf und Textkˆrper
\item[\Macro{setfootsepline}] modifiziert die Parameter f¸r die Linie
zwischen Text und Fuﬂ
\item[\Macro{setfootbotline}] modifiziert die Parameter f¸r die Linie
unter dem Seitenfuﬂ
\end{labeling}

Das obligatorische Argument \PName{Dicke} bestimmt, wie stark die Linie
gezeichnet wird.  Das optionale Argument \PName{L‰nge} akzeptiert die gleichen
symbolischen Werte wie \PName{Breite} bei \Macro{setheadwidth}, also auch einen
normalen L‰ngenausdruck.  Solange im Dokument dem optionalen Argument
\PName{L‰nge} kein Wert zugewiesen wurde, passt sich die entsprechende
Linienl‰nge automatisch der Breite des Kopfes bzw. des Fuﬂes an.

Mˆchte man diesen Automatismus f¸r die L‰nge einer Linie wieder restaurieren,
dann nutzt man im L‰ngenargument den Wert \PValue{auto}.

Mit\ChangedAt{v2.2}{\Package{scrpage2}} dem optionalen Argument
\PName{Anweisungen} kˆnnen zus‰tzliche Anweisungen definiert werden, die vor
dem Zeichnen der jeweiligen Linie auszuf¸hren sind.  Das kˆnnen beispielsweise
Anweisungen sein, um die
Farbe\Index{Kopf>Farbe}\Index{Fuss=Fuﬂ>Farbe}\Index{Farbe>im
  Kopf}\Index{Farbe>im Fuss=im Fuﬂ} der Linie zu ‰ndern.  Bei Verwendung einer
\KOMAScript-Klasse kˆnnen diese Anweisungen auch ¸ber
\Macro{setkomafont}\IndexCmd{setkomafont} f¸r eines der Elemente
\FontElement{headtopline}\IndexFontElement[indexmain]{headtopline}%
\important[i]{\FontElement{headtopline}\\
  \FontElement{headsepline}\\
  \FontElement{footsepline}\\
  \FontElement{footbottomline}},
\FontElement{headsepline}\IndexFontElement[indexmain]{headsepline},
\FontElement{footsepline}\IndexFontElement[indexmain]{footsepline},
\FontElement{footbottomline}\IndexFontElement[indexmain]{footbottomline} oder
auch \FontElement{footbotline}\IndexFontElement[indexmain]{footbotline}
gesetzt und mit \Macro{addtokomafont}\IndexCmd{addtokomafont} erweitert
werden. Die beiden Anweisungen \Macro{setkomafont} und \Macro{addkomafont}
sind in \autoref{sec:maincls.textmarkup},
\autopageref{desc:maincls.cmd.setkomafont} n‰her beschrieben.

\begin{Declaration}
\XMacro{setheadtopline}\OParameter{\upshape\PValue{auto}}\Parameter{\upshape\PValue{current}}\\
\XMacro{setheadtopline}\OParameter{\upshape\PValue{auto}}\Parameter{}\\
\XMacro{setheadtopline}\OParameter{\upshape\PValue{auto}}\Parameter{}\OParameter{}
\end{Declaration}%
Die hier am Befehl \Macro{setheadtopline} illustrierten Argumente
sind nat¸rlich auch f¸r die anderen drei L‰ngenbefehle g¸ltig.

Enth‰lt das obligatorische Argument den Wert \PValue{current} oder wird
leer gelassen, dann wird die Dicke der Linie nicht ver‰ndert.  Das kann
genutzt werden, wenn die L‰nge der Linie, aber nicht die Dicke modifiziert
werden soll.

Wird das optionale Argument \PName{Anweisungen} weggelassen, so bleiben
eventuell zuvor gesetzte Anweisungen erhalten. Wird hingegen ein leeres
Argument \PName{Anweisungen} gesetzt, so werden eventuell zuvor gesetzte
Anweisungen wieder gelˆscht.

\begin{Example}
  Soll beispielsweise der Kopf mit einer kr‰ftigen Linie von 2\,pt dar¸ber und
  einer normalen von 0,4\,pt zwischen Kopf und Text abgesetzt werden, dann
  erfolgt das mit:
\begin{lstcode}
  \setheadtopline{2pt}
  \setheadsepline{.4pt}
\end{lstcode}
Zus‰tzlich\textnote{Achtung!} sind unbedingt die Optionen
\Option{headtopline} und \Option{headsepline} vorzugsweise global im
optionalen Argument von \Macro{documentclass} zu setzen. Das Ergebnis kˆnnte
dann wie folgt aussehen.
%
  \begin{XmpTopPage}
        \XmpHeading{10,29}{70}
        \thinlines\XmpRule{10,27}{70}
        \thicklines\XmpRule{10,32}{70}
        \XmpSetText[\XmpTopText]{10,24}
        \XmpMarginNote{83,14}
  \end{XmpTopPage}

  Sollen diese Linien zus‰tzlich in roter Farbe gesetzt werden, dann sind die
  Anweisungen beispielsweise wie folgt zu ‰ndern:
\begin{lstcode}
  \setheadtopline{2pt}[\color{red}]
  \setheadsepline{.4pt}[\color{red}]
\end{lstcode}
  In diesem und auch dem folgenden Beispiel wurde f¸r die Aktivierung der
  Farbe die Syntax des \Package{color}\IndexPackage{color}-Pakets verwendet,
  das dann nat¸rlich auch geladen werden muss. \Package{scrpage2} selbst
  bietet keine direkte Farbunterst¸tzung. Damit ist jedes beliebige
  Farbunterst¸tzungspaket verwendbar.

  Mit einer \KOMAScript-Klasse kann alternativ
\begin{lstcode}
  \setheadtopline{2pt}
  \setheadsepline{.4pt}
  \setkomafont{headtopline}{\color{red}}
  \setkomafont{headsepline}{\color{red}}
\end{lstcode}
  verwendet werden.

  Die automatische Anpassung an die Kopf- und Fuﬂbreiten illustriert folgendes
  Beispiel, f¸r das die Optionen \Option{footbotline} und \Option{footsepline}
  gesetzt sein sollten:
\begin{lstcode}
  \setfootbotline{2pt}
  \setfootsepline[text]{.4pt}
  \setfootwidth[0pt]{textwithmarginpar}
\end{lstcode}

%\phantomsection f¸r hyperref-\pageref-Link jum-2001/11/24
  \phantomsection\label{page:scrpage.autoLineLength}%
  \begin{XmpBotPage}
        \XmpHeading{10,18}{85}
        \thinlines\XmpRule{17,21}{70}
        \thicklines\XmpRule{10,16}{85}
        \XmpSetText[\XmpBotText]{10,36}
        \XmpMarginNote{83,26}
  \end{XmpBotPage}
\end{Example}
%
Nun mag nicht jedem die Ausrichtung der Linie ¸ber der Fuﬂzeile gefallen,
sondern es wird in einem solchen Fall erwartet, dass sie wie der Kolumnentitel
linksb¸ndig zum Text ist.  Diese Einstellung kann nur global in Form einer
Paketoption erfolgen und wird im folgenden
\autoref{sec:scrpage.basics.options} mit anderen Optionen beschrieben.%
%
\EndIndex{Cmd}{setheadtopline}\EndIndex{Cmd}{setheadsepline}%
\EndIndex{Cmd}{setfootsepline}\EndIndex{Cmd}{setfootbotline}%


\subsection{Optionen beim Laden des Paketes}
\label{sec:scrpage.basics.options}

W‰hrend bei den \KOMAScript-Klassen die Mehrzahl der Optionen auch noch nach
dem Laden der Klasse mit \Macro{KOMAoptions} und \Macro{KOMAoption} ge‰ndert
werden kann, trifft dies f¸r das Paket \Package{scrpage2} \iffree{derzeit noch
}{}nicht zu. Alle Optionen f¸r dieses Paket m¸ssen als globale Optionen, also
im optionalen Argument von \Macro{documentclass}, oder als Paketoptionen, also
im optionalen Argument von \Macro{usepackage}, angegeben werden.

% head(in|ex)clude foot(in|ex)clude --> typearea
% headtopline headsepline footbotline footsepline (plain...)
% komastyle standardstyle
% markuppercase markusecase
% automark manualmark
\begin{Declaration}
\Option{headinclude}\\
\Option{headexclude}\\
\Option{footinclude}\\
\Option{footexclude}
\end{Declaration}%
\BeginIndex{Option}{headinclude}\BeginIndex{Option}{footinclude}%
\BeginIndex{Option}{headexclude}\BeginIndex{Option}{footexclude}%
Diese\textnote{Achtung!} Optionen sollten bei Verwendung von
\KOMAScript~3\ChangedAt{v2.3}{\Package{scrpage2}} nicht mehr beispielsweise
per optionalem Argument von \Macro{usepackage} oder per
\Macro{PassOptionsToPackage} direkt an \Package{scrpage2} ¸bergeben
werden. Lediglich aus Gr¸nden der Kompatibilit‰t sind sie noch
in \Package{scrpage2} deklariert und werden von diesem als
\Option{headinclude}, \OptionValue{headinclude}{false}, \Option{footinclude}
und \OptionValue{footinclude}{false} an das Paket \Package{typearea} (siehe
\autoref{sec:typearea.typearea},
\autopageref{desc:typearea.option.headinclude}) weitergereicht.
\EndIndex{Option}{headinclude}\EndIndex{Option}{footinclude}%
\EndIndex{Option}{headexclude}\EndIndex{Option}{footexclude}


\begin{Declaration}
\Option{headtopline}\\
\Option{plainheadtopline}\\
\Option{headsepline}\\
\Option{plainheadsepline}\\
\Option{footsepline}\\
\Option{plainfootsepline}\\
\Option{footbotline}\\
\Option{plainfootbotline}
\end{Declaration}%
\BeginIndex{Option}{headtopline}\BeginIndex{Option}{plainheadtopline}%
\BeginIndex{Option}{headsepline}\BeginIndex{Option}{plainheadsepline}%
\BeginIndex{Option}{footsepline}\BeginIndex{Option}{plainfootsepline}%
\BeginIndex{Option}{footbotline}\BeginIndex{Option}{plainfootbotline}%
Eine Grundeinstellung f¸r die Linien unter und ¸ber den Kopf- und Fuﬂzeilen
kann mit diesen Optionen vorgenommen werden.  Diese Einstellungen gelten dann
als Standard f¸r alle mit \Package{scrpage2} definierten Seitenstile.  Wird
eine von diesen Optionen verwendet, dann wird eine Linienst‰rke von 0,4\,pt
eingesetzt.  Da es zum Seitenstil \Pagestyle{scrheadings} einen entsprechenden
plain-Stil gibt, kann mit den \Option{plain\dots}-Optionen auch die
entsprechende Linie des plain-Stils konfiguriert werden. Diese
\Option{plain}-Optionen wirken aber nur, wenn auch die korrespondierende
Option ohne \Option{plain} aktiviert wurde.  Somit zeigt die Option
\Option{plainheadtopline} ohne \Option{headtopline} keine Wirkung.

Bei diesen Optionen ist zu beachten, dass der entsprechende Seitenteil in den
Textbereich des Satzspiegels mit ¸bernommen wird, wenn eine Linie aktiviert
wurde.  Wird also mittels \Option{headsepline} die Trennlinie zwischen Kopf
und Text aktiviert, dann wird automatisch mittels \Package{typearea} der
Satzspiegel so berechnet, dass der Seitenkopf Teil des Textblocks ist.

Die\textnote{Achtung!} Bedingungen f¸r die Optionen des vorhergehenden
Abschnitts gelten auch f¸r diesen Automatismus.  Das bedeutet, dass das Paket
\Package{typearea} nach \Package{scrpage2} geladen werden muss,
beziehungsweise, dass bei Verwendung einer \KOMAScript{}-Klasse die Optionen
\Option{headinclude} und \Option{footinclude} explizit bei
\Macro{documentclass} gesetzt werden m¸ssen, um Kopf- bzw. Fuﬂzeile in den
Textblock zu ¸bernehmen.%
%
\EndIndex{Option}{headtopline}\EndIndex{Option}{plainheadtopline}%
\EndIndex{Option}{headsepline}\EndIndex{Option}{plainheadsepline}%
\EndIndex{Option}{footsepline}\EndIndex{Option}{plainfootsepline}%
\EndIndex{Option}{footbotline}\EndIndex{Option}{plainfootbotline}%


\begin{Declaration}
\Option{ilines}\\
\Option{clines}\\
\Option{olines}
\end{Declaration}%
\BeginIndex{Option}{ilines}%
\BeginIndex{Option}{clines}%
\BeginIndex{Option}{olines}%
\Index{Linienausrichtung}%
Bei der Festlegung der Linienl‰ngen kann es vorkommen, dass die Linie zwar die
gew¸nschte L‰nge, aber nicht die erw¸nschte Ausrichtung hat, da sie im Kopf-
bzw. Fuﬂbereich zentriert wird. Mit den hier vorgestellten Paketoptionen kann
global f¸r alle mit \Package{scrpage2} definierten Seitenstile diese Vorgabe
modifiziert werden.  Dabei setzt \Option{ilines} die Ausrichtung so, dass die
Linien an den inneren Rand verschoben werden. Die Option \Option{clines}
verh‰lt sich wie die Standardeinstellung und \Option{olines} richtet am
‰uﬂeren Rand aus.

\begin{Example}
  Hier gilt es, das Beispiel zu \Macro{setfootsepline} auf
  \autopageref{page:scrpage.autoLineLength} mit dem folgenden zu
  vergleichen, um die Wirkung der Option \Option{ilines} zu sehen.
\begin{lstcode}
  \usepackage[ilines,footsepline,footbotline]
             {scrpage2}
  \setfootbotline{2pt}  
  \setfootsepline[text]{.4pt}
  \setfootwidth[0pt]{textwithmarginpar}
\end{lstcode}
% Der folgende Text wurde erg"anzt um den Seitenumbruch zu verbessern,
% mjk-2001-10-05:
%  \enlargethispage*{2\baselineskip}
  Allein die Verwendung der Option \Option{ilines} f¸hrt dabei zu der
  ge‰nderten Ausgabe, die nachfolgend veranschaulicht wird:
%
\begin{XmpBotPage}
        \XmpHeading{10,18}{85}
        \thinlines\XmpRule{10,21}{70}
        \thicklines\XmpRule{10,16}{85}
        \XmpSetText[\XmpBotText]{10,36}
        \XmpMarginNote{83,26}
\end{XmpBotPage}
  Die Trennlinie zwischen Text und Fuﬂ wird b¸ndig innen im Fuﬂteil
  gesetzt und nicht wie bei der Standardeinstellung zentriert.
\end{Example}
\EndIndex{Option}{ilines}\EndIndex{Option}{clines}\EndIndex{Option}{olines}


% \phantomsection f¸r hyperref-\pageref-Link jum-2001/11/24
\begin{Declaration}
\Option{automark}\\
\Option{manualmark}
\end{Declaration}%
\BeginIndex{Option}{automark}%
\BeginIndex{Option}{manualmark}%
\BeginIndex{}{Kolumnentitel>automatisch}%
\BeginIndex{}{Kolumnentitel>manuell}%
Diese Optionen bestimmen gleich zu Beginn des Dokuments, ob eine automatische
Aktualisierung der Kolumnentitel erfolgt.  Die Option \Option{automark}
schaltet die automatische Aktualisierung ein, \Option{manualmark} deaktiviert
sie.
% Das Folgende wurde ergaenzt, weil dazu die haeufigsten Fragen
% bzw. falschen Bug-Reports im Support kamen.
% mjk-2001-09-21:
Ohne Verwendung einer der beiden Optionen bleibt die Einstellung
erhalten, die beim Laden des Paketes g¸ltig war.
\begin{Example}
  Sie laden das Paket \Package{scrpage2} unmittelbar nach der Klasse
  \Class{scrreprt} und ohne weitere Optionen. Dazu schreiben Sie:
\begin{lstcode}
  \documentclass{scrreprt}
  \usepackage{scrpage2}
\end{lstcode}
  Da bei \Class{scrreprt} der Seitenstil \Pagestyle{plain} voreingestellt
  ist, ist dies auch jetzt noch der Fall. Auﬂerdem entspricht die
  Voreinstellung \Pagestyle{plain} manuellen Kolumnentiteln. Wenn Sie
  also anschlieﬂend mit
\begin{lstcode}
  \pagestyle{scrheadings}
\end{lstcode}
  auf den Seitenstil \Pagestyle{scrheadings} umschalten, sind noch immer
  manuelle Kolumnentitel eingestellt.

  Verwenden Sie stattdessen die Dokumentklasse \Class{scrbook}, so
  ist nach
\begin{lstcode}
  \documentclass{scrbook}
  \usepackage{scrpage2}
\end{lstcode}
  der Seitenstil \Pagestyle{headings} mit automatischen Kolumnentiteln
  aktiviert. Bei anschlieﬂender Umschaltung auf den Seitenstil
  \Pagestyle{scrheadings} bleiben automatische Kolumnentitel
  eingeschaltet. Dabei werden dann weiterhin die Markierungsmakros von
  \Class{scrbook} verwendet.

  Verwenden Sie hingegen
\begin{lstcode}
  \usepackage[automark]{scrpage2}
\end{lstcode}
  so wird unabh‰ngig von der verwendeten Klasse auf automatische
  Kolumnentitel umgeschaltet, wobei die Markierungsmakros von
  \Package{scrpage2} genutzt werden.
  Nat¸rlich wirkt sich dies auf den Seitenstil
  \Pagestyle{plain} von \Class{scrreprt} nicht aus. Die Kolumnentitel
  werden erst sichtbar, wenn auf den Seitenstil
  \Pagestyle{scrheadings}\IndexPagestyle{scrheadings} oder
  \Pagestyle{useheadings} oder einen selbst definierten Seitenstil mit
  Kolumnentiteln umgeschaltet wird.
\end{Example}
\EndIndex{Option}{automark}\EndIndex{Option}{manualmark}%


% Folgende Deklaration und Erklaerung wurde eingef¸gt von
% mjk 2001-08-17:
\begin{Declaration}
  \Option{autooneside}
\end{Declaration}%
\BeginIndex{Option}{autooneside}%
Mit dieser Option wird das optionale Argument von
\Macro{automark}\IndexCmd{automark}\Index{Kolumnentitel>automatisch} im
einseitigen Satz automatisch ignoriert. Siehe hierzu auch die Erl‰uterung
zum Befehl \Macro{automark} in \autoref{sec:scrpage.basics.mark},
\autopageref{desc:scrpage.cmd.automark}.%
%
\EndIndex{Option}{autooneside}%
%
\EndIndex{}{Kolumnentitel>automatisch}%
\EndIndex{}{Kolumnentitel>manuell}%


\begin{Declaration}
\Option{komastyle}\\
\Option{standardstyle}
\end{Declaration}%
\BeginIndex{Option}{komastyle}%
\BeginIndex{Option}{standardstyle}%
Diese Optionen bestimmen, wie die beiden vordefinierten Seitenstile
\Pagestyle{scrheadings} und \Pagestyle{scrplain} gestaltet sind.
Bei \Option{komastyle} wird eine Definition vorgenommen, wie
sie den \KOMAScript{}-Klassen entspricht.
Bei den \KOMAScript{}-Klassen ist dies die Voreinstellung und 
kann somit auch f¸r andere Klassen gesetzt werden.

Die Option \Option{standardstyle} definiert die beiden Seitenstile
wie es von den Standardklassen erwartet wird.
Auﬂerdem wird hier automatisch \Option{markuppercase} aktiviert,
es sei denn, \Option{markusedcase} wird ebenfalls als Option ¸bergeben.%
\EndIndex{Option}{komastyle}%
\EndIndex{Option}{standardstyle}


\begin{Declaration}
\Option{markuppercase}\\
\Option{markusedcase}
\end{Declaration}%
\BeginIndex{Option}{markuppercase}%
\BeginIndex{Option}{markusedcase}%
F¸r die Funktionalit‰t von \Macro{automark} modifiziert
\Package{scrpage2} interne Befehle, die die Gliederungsbefehle
benutzen, um die lebenden Kolumnentitel zu setzen.
Da einige Klassen, im Gegensatz
zu den \KOMAScript{}-Klassen, die Kolumnentitel in Groﬂbuchstaben
schreiben, muss \Package{scrpage2} wissen, wie die genutzte
Dokumentklasse die lebenden Kolumnentitel darstellt.

Die Option \Option{markuppercase} zeigt \Package{scrpage2}, dass die benutzte
Klasse die Groﬂschreibweise benutzt.  Die Option \Option{markusedcase} sollte
angegeben werden, wenn die benutzte Dokumentklasse keine Groﬂschreibweise
verwendet.  Die\textnote{Achtung!} Optionen sind nicht geeignet, eine
entsprechende Darstellung zu erzwingen. Es kann somit zu unerw¸nschten
Effekten kommen, wenn die Angabe nicht dem Verhalten der Dokumentklasse
entspricht.%
\EndIndex{Option}{markuppercase}\EndIndex{Option}{markusedcase}

% Die folgende Deklaration und Erklaerung wurde eingefuegt von
% mjk 2001-08-18
\begin{Declaration}
  \Option{nouppercase}
\end{Declaration}%
\BeginIndex{Option}{nouppercase}%
Wie in obiger Erkl‰rung zu \Option{markuppercase} und \Option{markusedcase}
bereits ausgef¸hrt wurde, gibt es Klassen und auch Pakete, die beim Setzen der
lebenden Kolumnentitel\Index{Kolumnentitel>automatisch} mit Hilfe einer der
Anweisungen \Macro{uppercase}\IndexCmd{uppercase}\important{\Macro{uppercase}}
oder
\Macro{MakeUppercase}\IndexCmd{MakeUppercase}\important{\Macro{MakeUppercase}}
den gesamten Eintrag in Groﬂbuchstaben wandeln. Mit der Option
\Option{nouppercase} kˆnnen diese beiden Anweisungen im Kopf und im Fuﬂ auﬂer
Kraft gesetzt werden. Das gilt aber nur f¸r Seitenstile, die mit Hilfe von
\Package{scrpage2} definiert werden. Dazu z‰hlen auch \Pagestyle{scrheadings}
und der zugehˆrige plain-Seitenstil.

Die verwendete Methode ist ‰uﬂerst brutal und kann dazu f¸hren, dass
auch erw¸nschte ƒnderungen von Klein- in
Groﬂbuchstaben\Index{Grossbuchstaben=Groﬂbuchstaben} unterbleiben. Da
diese F‰lle nicht sehr h‰ufig sind, stellt \Option{nouppercase} aber
meist eine brauchbare Lˆsung dar.
\begin{Example}
  Sie verwenden die Standardklasse \Class{book}\IndexClass{book},
  wollen aber, dass die lebenden Kolumnentitel nicht in
  Groﬂbuchstaben, sondern in normaler gemischter Schreibweise gesetzt
  werden. Die Pr‰ambel Ihres Dokuments kˆnnte dann wie folgt beginnen:
\begin{lstcode}
  \documentclass{book}
  \usepackage[nouppercase]{scrpage2}
  \pagestyle{scrheadings}
\end{lstcode}
  Die Umschaltung auf den Seitenstil \Pagestyle{scrheadings} ist
  notwendig, weil sonst der Seitenstil \Pagestyle{headings} verwendet
  wird, der von der Option \Option{nouppercase} nicht behandelt wird.
\end{Example}

In einigen F‰llen setzen nicht nur Klassen, sondern auch Pakete
lebende Kolumnentitel in Groﬂbuchstaben. Auch in diesen F‰llen hilft
\Option{nouppercase} meist, um zu gemischter Schreibweise
zur¸ckzuschalten.%
%
\EndIndex{Option}{nouppercase}


\section{Seitenstile selbst gestalten}\label{sec:scrpage.UI}
%
% 
\subsection{Die Anwenderschnittstelle}\label{sec:scrpage.UI.user}
% \deftripstyle

\Index{Seiten>Stil}%
Nun mˆchte man ja nicht immer an die vorgegebenen Seitenstile gebunden sein,
sondern auch seiner Kreativit‰t freien Lauf lassen.
Manchmal ist man auch dazu gezwungen, weil eine bestimmte
\emph{Corporate Identity} einer Firma es verlangt.
Der einfachste Weg damit umzugehen ist
\begin{Declaration}
\Macro{deftripstyle}\Parameter{Name}%
\OParameter{LA}\OParameter{LI}%
\Parameter{KI}\Parameter{KM}\Parameter{KA}%
\Parameter{FI}\Parameter{FM}\Parameter{FA}
\end{Declaration}%
\BeginIndex{Cmd}{deftripstyle}%
Die einzelnen Felder haben folgende Bedeutung:
\begin{labeling}[~--]{\PName{Name}}
\item[\PName{Name}] die Bezeichnung des Seitenstils, die dann bei der
  Aktivierung mit \Macro{pagestyle}\Parameter{Name} oder
  \Macro{thispagestyle}\Parameter{Name} verwendet wird
\item[\PName{LA}] die Dicke der ‰uﬂeren Linien, d.\,h. der Linien ¸ber der
  Kopfzeile und unter der Fuﬂzeile (optional)
\item[\PName{LI}] die Dicke der inneren Linie, d.\,h. der Linien die Kopf und
  Fuﬂ vom Textkˆrper trennen (optional)
\item[\PName{KI}] Inhalt des Feldes im Kopf innenseitig oder bei einseitigem
  Layout links
\item[\PName{KM}] Inhalt des Feldes im Kopf zentriert
\item[\PName{KA}] Inhalt des Feldes im Kopf auﬂenseitig oder bei einseitigem
  Layout rechts
\item[\PName{FI}] Inhalt des Feldes im Fuﬂ innenseitig oder bei einseitigem
  Layout links
\item[\PName{FM}] Inhalt des Feldes im Fuﬂ zentriert
\item[\PName{FA}] Inhalt des Feldes im Fuﬂ auﬂenseitig oder bei einseitigem
  Layout rechts
\end{labeling}

Der Befehl \Macro{deftripstyle} stellt sicherlich die einfachste
Mˆglichkeit dar, Seitenstile zu definieren.
Leider sind damit auch Einschr‰nkungen verbunden,
da in einem Seitenbereich mit einem durch \Macro{deftripstyle} deklarierten 
Seitenstil keine ƒnderung der Kopf- und Fuﬂlinien erfolgen kann.

\begin{Example}
  Vorgegeben sei ein doppelseitiges Layout, bei dem die Kolumnentitel innen
  erscheinen sollen.  Weiterhin soll der Dokumenttitel, in diesem Fall kurz
  \glqq Bericht\grqq, an den Auﬂenrand in den Kopf, die Seitenzahl soll
  zentriert in den Fuﬂ.
\begin{lstcode}
  \deftripstyle{DerBericht}%
                {\headmark}{}{Bericht}%
                {}{\pagemark}{}
\end{lstcode}

  Sollen weiterhin die Linien ¸ber dem Kopf und unter dem Fuﬂ
  mit 2\,pt erscheinen und der ganze Textkˆrper mit d¸nnen Linien
  von 0,4\,pt von Kopf und Fuﬂ abgesetzt werden, dann erweitert
  man vorherige Definition.
\begin{lstcode}
  \deftripstyle{DerBericht}[2pt][.4pt]%
                {\headmark}{}{Bericht}%
                {}{\pagemark}{}
\end{lstcode}
  Das Ergebnis ist in \autoref{fig:scrpage2.tomuchlines} zu sehen.
%
\begin{figure}
  \typeout{^^J--- Ignore underfull and overfull \string\hbox:}%
  \setcapindent{0pt}%
  \begin{captionbeside}
    [{%
      Beispiel eines selbst definierten, von Linien dominierten Seitenstils%
    }]{%
      Beispiel f¸r einen selbst definierten, von Linien dominierten Seitenstil
      mit einem statischen und einem lebenden Kolumnentitel im Kopf und der
      Seitenzahl in der Mitte des Fuﬂes.%
      \label{fig:scrpage2.tomuchlines}%
    }
    [l]
    \iffree{\setlength{\unitlength}{1.15mm}}{\setlength{\unitlength}{1mm}}%
    \begin{picture}(85,51)\scriptsize
      \thinlines
      \put(0,0){\line(0,1){51}}
      \put(45,0){\line(0,1){51}}
      \put(0,51){\line(1,0){40}}
      \put(45,51){\line(1,0){40}}
      % 
      \thicklines
      \put(40,0){\line(0,1){51}}
      \put(85,0){\line(0,1){51}}
      \put(0,0){\line(1,0){40}}
      \put(45,0){\line(1,0){40}}
      % 
      \XmpHeading[Bericht\hfill 2 Das Auge]{6,47}{30}
      \XmpHeading[2.1 Netzhaut\hfill Bericht]{49,47}{30}
      \XmpHeading[\hfill 14\hfill]{6,6.5}{30}
      \XmpHeading[\hfill 15\hfill]{49,6.5}{30}
      \put(6,44){\makebox(0,0)[tl]{\parbox{30\unitlength}{\tiny%
            \textbf{2.1 Netzhaut}\\
            \XmpText[49]}}}
      \put(49,44){\makebox(0,0)[tl]{\parbox{30\unitlength}{\tiny%
            \XmpText[51]}}}
      % 
      \thinlines
      \XmpRule{6,45.5}{30}\XmpRule{49,45.5}{30}
      \XmpRule{6,8}{30}\XmpRule{49,8}{30}
      \linethickness{1pt}
      \XmpRule{6,49}{30}\XmpRule{49,49}{30}
      \XmpRule{6,5}{30}\XmpRule{49,5}{30}
    \end{picture}
  \end{captionbeside}
  \typeout{^^J--- Don't ignore underfull and overfull \string\hbox:^^J}%
\end{figure}
\end{Example}
\EndIndex{Cmd}{deftripstyle}


\subsection{Die Expertenschnittstelle}\label{sec:scrpage.UI.expert}
% \defpagestyle \newpagestyle \providepagestyle \renewpagestyle
\Index{Seiten>Stil}%
Einfache Seitenstile, wie sie mit \Macro{deftripstyle} deklariert
werden kˆnnen, sind erfahrungsgem‰ﬂ selten.
Entweder verlangt ein Professor, dass die Diplomarbeit so aussieht
wie seine eigene -- und wer will ihm da \emph{ernsthaft} widersprechen --
oder eine Firma mˆchte, dass die halbe Finanzbuchhaltung im
Seitenfuﬂ auf"|taucht. Alles kein Problem, denn es gibt noch:
\begin{Declaration}
\Macro{defpagestyle}\Parameter{Name}\Parameter{Kopfdefinition}\Parameter{Fuﬂdefinition}\\
\Macro{newpagestyle}\Parameter{Name}\Parameter{Kopfdefinition}\Parameter{Fuﬂdefinition}\\
\Macro{renewpagestyle}\Parameter{Name}\Parameter{Kopfdefinition}\Parameter{Fuﬂdefinition}\\
\Macro{providepagestyle}\Parameter{Name}\Parameter{Kopfdefinition}\Parameter{Fuﬂdefinition}
\end{Declaration}%
\BeginIndex{Cmd}{defpagestyle}%
\BeginIndex{Cmd}{newpagestyle}%
\BeginIndex{Cmd}{renewpagestyle}%
\BeginIndex{Cmd}{providepagestyle}%
Dies sind die Befehle, die die volle Kontrolle ¸ber die Gestaltung
eines Seitenstils ermˆglichen. Der Aufbau ist bei allen vier
Definitionen gleich, sie unterscheiden sich nur hinsichtlich
der Wirkungsweise.
\begin{labeling}[\ --]{\Macro{providepagestyle}}
\item[\Macro{defpagestyle}] definiert einen neuen Seitenstil.  Existiert
  bereits einer mit diesem Namen, wird dieser ¸berschrieben.
\item[\Macro{newpagestyle}] definiert einen neuen Seitenstil. Wenn schon einer
  mit diesem Namen existiert, wird ein Fehler ausgegeben.
\item[\Macro{renewpagestyle}] definiert einen bestehenden Seitenstil um. Wenn
  noch keiner mit diesem Namen existiert, wird ein Fehler ausgegeben.
\item[\Macro{providepagestyle}] definiert einen neuen Seitenstil nur dann,
  wenn dieser vorher noch nicht existiert.
\end{labeling}

Am Beispiel von \Macro{defpagestyle} soll die Syntax der Definitionen
im Folgenden erl‰utert werden.
\begin{labeling}[~--]{\PName{Kopfdefinition}\,}
\item[\PName{Name}] die Bezeichnung des Seitenstils
\item[\PName{Kopfdefinition}] die Deklaration des Seitenkopfes bestehend aus
  f¸nf Teilen, wobei die in runden Klammern stehenden Angaben optional
  sind:\hfill\\
  \hspace*{1em}\AParameter{OLL,OLD}%
  \Parameter{GS}\Parameter{US}\Parameter{ES}\AParameter{ULL,ULD}
\item[\PName{Fuﬂdefinition}] die Deklaration des Seitenfuﬂes bestehend aus
  f¸nf Teilen, wobei die in runden Klammern stehenden Angaben optional
  sind:\hfill\\
  \hspace*{1em}\AParameter{OLL,OLD}%
  \Parameter{GS}\Parameter{US}\Parameter{ES}\AParameter{ULL,ULD}
\end{labeling}

Wie zu sehen ist, haben Kopf- und Fuﬂdefinition identischen Aufbau. Die
einzelnen Parameter haben folgende Bedeutung:
\begin{labeling}[\ --]{\PName{OLD}}
\item[\PName{OLL}] obere Linienl‰nge: Kopf = auﬂen, Fuﬂ = Trennlinie
\item[\PName{OLD}] obere Liniendicke
\item[\PName{GS}]  Definition f¸r die \emph{gerade} Seite
\item[\PName{US}]  Definition f¸r die \emph{ungerade} Seite
\item[\PName{ES}]  Definition f¸r \emph{einseitiges} Layout
\item[\PName{ULL}] untere Linienl‰nge Kopf = Trennlinie, Fuﬂ = auﬂen
\item[\PName{ULD}] untere Liniendicke
\end{labeling}

Werden die optionalen Linienargumente nicht gesetzt, dann bleibt das Verhalten
weiterhin durch die in \autoref{sec:scrpage.basics.format},
\autopageref{desc:scrpage.cmd.setheadtopline} vorgestellten Linienbefehle
konfigurierbar.

Die drei Felder \PName{GS}, \PName{US} und \PName{ES} entsprechen Boxen, die
die Breite des Kopf- bzw. Fuﬂteils haben.
Die entsprechenden Definitionen erscheinen in diesen Boxen linksb¸ndig.
Um somit etwas links- \emph{und} rechtsseitig in den Boxen zu platzieren,
kann der Zwischenraum mit \Macro{hfill} gestreckt werden:
%
\begin{lstcode}[belowskip=\dp\strutbox]
  {\headmark\hfill\pagemark}
\end{lstcode}

Um zus‰tzlich etwas zentriert erscheinen zu lassen, ist eine erweiterte
Definition notwendig.
Die Befehle \Macro{rlap} und \Macro{llap} setzen die ¸bergebenen Argumente.
F¸r \LaTeX{} erscheint es aber so, dass diese Texte eine Breite von Null
haben. Nur so erscheint der mittlere Text auch wirklich zentriert.
%
\begin{lstcode}
  {\rlap{\headmark}\hfill zentriert\hfill\llap{\pagemark}}
\end{lstcode}

\iffalse% Umbruchkorrekturtext
Dies und die Verwendung der Expertenschnittstelle in Zusammenhang mit
anderen Befehlen von \Package{scrpage2} nun als abschlieﬂendes Beispiel.
\fi

\begin{Example}
  Angenommen es wird die Dokumentklasse \Class{scrbook} genutzt.  Damit
  liegt ein zweiseitiges Layout vor.  F¸r das Paket \Package{scrpage2} wird
  festgelegt, dass mit automatisch aktualisierten Kolumnentiteln gearbeitet
  wird und dass im Seitenstil \Pagestyle{scrheadings} eine Trennlinie zwischen
  Kopf und Text gezogen wird.

\begin{lstcode}
  \documentclass{scrbook}
  \usepackage[automark,headsepline]{scrpage2}
\end{lstcode}

  Mit Hilfe der Expertenschnittstelle werden zwei Seitenstile definiert. Der
  erste legt keine Linienargumente fest, im zweiten wird die Linie ¸ber dem
  Kopf mit einer Dicke von 1\,pt und die Linie unter dem Kopf mit 0\,pt
  festgelegt.

\begin{lstcode}
  \defpagestyle{ohneLinien}{%
    {Beispiel\hfill\headmark}
    {\headmark\hfill ohne Linien}
    {\rlap{Beispiel}\hfill\headmark\hfill%
     \llap{ohne Linien}}
  }{%
    {\pagemark\hfill}
    {\hfill\pagemark}
    {\hfill\pagemark\hfill}
  }
  \defpagestyle{mitLinien}{%
    (\textwidth,1pt)
    {mit Linien\hfill\headmark}
    {\headmark\hfill mit Linien}
    {\rlap{\KOMAScript}\hfill \headmark\hfill%
     \llap{mit Linien}}
    (0pt,0pt)
  }{%
    (\textwidth,.4pt)
    {\pagemark\hfill}
    {\hfill\pagemark}
    {\hfill\pagemark\hfill}
    (\textwidth,1pt)
  }
\end{lstcode}

  Gleich zu Beginn wird der Seitenstil \Pagestyle{scrheadings} aktiviert.  Mit
  \Macro{chapter} wird ein neues Kapitel begonnen.  Weiterhin wird automatisch
  durch \Macro{chapter} der Seitenstil f¸r diese Seite auf \Pagestyle{plain}
  gesetzt.  Das folgende \Macro{chead} zeigt, wie durch Modifikation des
  plain-Stils ein Kolumnentitel erzeugt werden kann.  Grunds‰tzlich sollte
  jedoch davon Abstand genommen werden, da sonst der Markierungscharakter der
  plain-Seite verloren geht. Es ist wichtiger anzuzeigen, dass hier ein neues
  Kapitel beginnt, als dass ein Abschnitt dieser Seite einen bestimmten Titel
  tr‰gt.

\begin{lstcode}
  \begin{document}
  \pagestyle{scrheadings}
  \chapter{Thermodynamik}
  \chead[\leftmark]{}
  \section{Haupts‰tze}
  Jedes System besitzt eine extensive Zustandsgrˆﬂe 
  Energie. Sie ist in einem abgeschlossenen System 
  konstant.
\end{lstcode}%
  \begin{XmpTopPage}
        \XmpHeading[\hfill\textsl{1 Thermodynamik}\hfill]{10,27}{70}
        \put(10,17){\normalsize\textbf{\sffamily 1 Thermodynamik}}
        \put(10,12){\textbf{\sffamily 1.1 Haupts‰tze}}
        \XmpSetText[%
        Jedes System besitzt eine extensive Zustands\char\defaulthyphenchar
        \linebreak]{10,9}
  \end{XmpTopPage}

  Nach dem Seitenwechsel ist der Seitenstil \Pagestyle{scrheadings}
  aktiv, und somit auch die Trennlinie aus den Paketoptionen sichtbar.
\begin{lstcode}
  Es existiert eine Zustandsgrˆﬂe, genannt die 
  Entropie eines Systems, deren zeitliche ƒnderung
  sich aus Entropiestrˆmung und Entropieerzeugung
  zusammensetzt.
\end{lstcode}
  \begin{XmpTopPage}
        \XmpHeading[\textsl{1 Thermodynamik}\hfill]{20,27}{70}
        \thinlines\XmpRule{20,25}{70}
        \XmpSetText[%
        Es existiert eine Zustandsgrˆﬂe, genannt die En"-tropie
     eines Systems, deren zeitliche ƒnderung sich aus
     Entropiestrˆmung und Entropie\char\defaulthyphenchar\kern-1pt
     \linebreak]{20,21}
  \end{XmpTopPage}

  Wiederum nach einem Seitenwechsel wird auf manuelle Kolumnentitel gewechselt
  und der Seitenstil \PValue{ohneLinien} aktiviert.  Da keine Linienargumente
  bei der Definition dieses Stils genutzt wurden, wird die
  Standard-Linien\-konfiguration verwendet. Diese zeichnet hier eine Linie
  zwischen Kopf und Text, da \Option{headsepline} als Argument f¸r
  \Package{scrpage2} angegeben wurde.%
\begin{lstcode}
  \manualmark
  \pagestyle{ohneLinien}
  \section{Exergie und Anergie}
  \markright{Energieumwandlung}
  Man bezeichnet die bei der Einstellung des 
  Gleichgewichts mit der Umgebung maximal gewinnbare
  Arbeit als Exergie.
\end{lstcode}%
  \begin{XmpTopPage}
        \XmpHeading[\slshape Energieumwandlung\hfill ohne Linien]{10,27}{70}
        \thinlines\XmpRule{10,25}{70}
        \XmpSetText[{%
        \textbf{\sffamily 1.2 Exergie und Anergie}\\[2pt]
        Man bezeichnet die bei der Einstellung des
        Gleichgewichts mit der Umgebung maximal\linebreak}]{10,21}
  \end{XmpTopPage}

  Nach dem Wechsel auf die folgende linke Seite wird der Seitenstil
  \PValue{mitLinien} aktiviert.  Die Linieneinstellungen werden hier nun
  angewendet und entsprechend der Definition dargestellt.
\begin{lstcode}
  \pagestyle{mitLinien}
  \renewcommand{\headfont}{\itshape\bfseries}
  Den nicht in Exergie umwandelbaren Anteil einer
  Energie nennt man Anergie \Var{B}.
  \[ B = U + T (S_1 - S_u) - p (V_1 - V_u)\] 
  \end{document}
\end{lstcode}
  \begin{XmpTopPage}
        \XmpHeading[\itshape\bfseries mit Linien\hfill 1 Thermodynamik]{20,27}{70}
        \thicklines\XmpRule{20,29}{70}
        \XmpSetText[%
        Den nicht in Exergie umwandelbaren Anteil einer
        Energie nennt man Anergie $B$. 
        \vspace{-.5ex}\[ B = U + T (S_1 - S_u) - p (V_1 - V_u)\] ]{20,21}
  \end{XmpTopPage}
\end{Example}
\EndIndex{Cmd}{defpagestyle}\EndIndex{Cmd}{newpagestyle}
\EndIndex{Cmd}{renewpagestyle}\EndIndex{Cmd}{providepagestyle}

\subsection{Seitenstile verwalten}\label{sec:scrpage.UI.cfgFile}
% scrpage.cfg
\BeginIndex{File}{scrpage.cfg}
Bei l‰ngerer Arbeit mit verschiedenen Seitenstilen wird sich, je nach
Geschmack und Aufgabenstellung, ein fester Satz an benutzten Stilen
etablieren.
Um nicht bei jedem neuen Projekt eine groﬂe Kopieraktion von den Daten
eines Projekts zum neuen Projekt starten zu m¸ssen, liest \Package{scrpage2}
am Ende seiner Initialisierungsphase die Datei \File{scrpage.cfg} ein.
In dieser Datei kˆnnen dann Seitenstile definiert sein, die viele
Projekte gemeinsam nutzen kˆnnen.
\EndIndex{File}{scrpage.cfg}
\EndIndex{Package}{scrpage2}

%%% Local Variables:
%%% mode: latex
%%% coding: iso-latin-1
%%% TeX-master: "../guide"
%%% End: 
