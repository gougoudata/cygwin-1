% ======================================================================
% common-10.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% common-10.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Paragraphs that are common for several chapters of the KOMA-Script guide
% Maintained by Markus Kohm
%
% ----------------------------------------------------------------------
%
% Absätze, die mehreren Kapiteln der KOMA-Script-Anleitung gemeinsam sind
% Verwaltet von Markus Kohm
%
% ======================================================================

\ProvidesFile{common-10.tex}[2012/01/01 KOMA-Script guide (common paragraphs)]

\makeatletter
\@ifundefined{ifCommonmaincls}{\newif\ifCommonmaincls}{}%
\@ifundefined{ifCommonscrextend}{\newif\ifCommonscrextend}{}%
\@ifundefined{ifCommonscrlttr}{\newif\ifCommonscrlttr}{}%
\@ifundefined{ifIgnoreThis}{\newif\ifIgnoreThis}{}%
\makeatother


\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
\else %------------------------------------------------------- nur maincls -
\begin{Declaration}
  \Macro{footref}\Parameter{Referenz}
\end{Declaration}
\BeginIndex{Cmd}{footref}%
Manchmal\ChangedAt{v3.00}{\Class{scrbook}\and \Class{scrreprt}\and
  \Class{scrartcl}\and \Class{scrlttr2}} hat man in einem Dokument eine
Fußnote, zu der es im Text mehrere Verweise geben soll. Die ungünstige Lösung
dafür wäre die Verwendung von \Macro{footnotemark} unter Angabe der
gewünschten Nummer. Ungünstig an dieser Lösung ist, dass man die Nummer kennen
muss und sich diese jederzeit ändern kann. \KOMAScript{} bietet deshalb die
Möglichkeit, den
\Macro{label}-Mechanismus\IndexCmd{label}\important{\Macro{label}} auch für
Verweise auf Fußnoten zu verwenden. Man setzt dabei in der entsprechenden
Fußnote eine \Macro{label}-Anweisung und kann dann mit \Macro{footref} alle
weiteren Fußnotenmarken für diese Fußnote im Text setzen.
\begin{Example}
  Sie schreiben einen Text, in dem sie bei jedem Auf"|treten eines Markennamens
  eine Fußnote setzen müssen, die darauf hinweist, dass es sich um einen
  geschützten Markennamen handelt. Sie schreiben beispielsweise:
\ifCommonmaincls
\begin{lstcode}
  Die Firma SplischSplasch\footnote{Bei diesem 
    Namen handelt es sich um eine registrierte
    Marke. Alle Rechte daran sind dem 
    Markeninhaber vorbehalten.\label{refnote}}
  stellt neben SplischPlumps\footref{refnote}
  auch noch die verbesserte Version 
  SplischPlatsch\footref{refnote} her.
\end{lstcode}
  Es wird dann dreimal eine Marke auf dieselbe Fußnote gesetzt, einmal mit
  \Macro{footnote} direkt und zweimal mit \Macro{footref}.
\else\ifCommonscrlttr
\begin{lstcode}
  Die Firma SplischSplasch\footnote{Bei diesem 
    Namen handelt es sich um eine registrierte
    Marke. Alle Rechte daran sind dem 
    Markeninhaber vorbehalten.\label{refnote}}
  stellt neben SplischPlumps\footref{refnote}
  auch noch die verbesserte Version 
  SplischPlatsch\footref{refnote} her.
\end{lstcode}
  Es wird dann dreimal eine Marke auf dieselbe Fußnote gesetzt, einmal mit
  \Macro{footnote} direkt und zweimal mit \Macro{footref}.
\else
\begin{lstcode}
  Die Firma SplischSplasch\footnote{Bei diesem
    Namen handelt es sich um eine registrierte
    Marke. Alle Rechte daran sind dem 
    Markeninhaber, der Firma SplischSplasch,
    vorbehalten.\label{refnote}}
  stellt neben SplischPlumps\footref{refnote}
  auch noch die verbesserte Version 
  SplischPlatsch\footref{refnote} und das sehr
  beliebte 
  SplischSplaschPlumps\footref{refnote} her.
\end{lstcode}
  Es wird dann vier Mal eine Marke auf dieselbe Fußnote gesetzt, einmal mit
  \Macro{footnote} direkt und drei Mal mit \Macro{footref}.
\fi\fi
\end{Example}
Da die Fußnotenmarken mit Hilfe des \Macro{label}-Mechanismus gesetzt werden,
werden nach Änderungen, die sich auf die Fußnotennummerierung auswirken,
gegebenenfalls zwei \LaTeX-Durchläufe benötigt, bis die mit \Macro{footref}
gesetzten Marken korrekt sind.%
%
\EndIndex{Cmd}{footref}%
\IfCommon{scrlttr2}{\EndIndex{}{Fussnoten=Fußnoten}}
\fi %**************************************************** Ende nur maincls *


%%% Local Variables:
%%% mode: latex
%%% coding: iso-latin-1
%%% TeX-master: "../guide"
%%% End:
