% ======================================================================
% common-9.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% common-9.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Paragraphs that are common for several chapters of the KOMA-Script guide
% Maintained by Markus Kohm
%
% ----------------------------------------------------------------------
%
% Absätze, die mehreren Kapiteln der KOMA-Script-Anleitung gemeinsam sind
% Verwaltet von Markus Kohm
%
% ======================================================================

\ProvidesFile{common-9.tex}[2012/01/01 KOMA-Script guide (common paragraphs)]

\makeatletter
\@ifundefined{ifCommonmaincls}{\newif\ifCommonmaincls}{}%
\@ifundefined{ifCommonscrextend}{\newif\ifCommonscrextend}{}%
\@ifundefined{ifCommonscrlttr}{\newif\ifCommonscrlttr}{}%
\@ifundefined{ifIgnoreThis}{\newif\ifIgnoreThis}{}%
\makeatother


\section{Fußnoten}
\label{sec:\csname label@base\endcsname.footnotes}%
\ifshortversion\IgnoreThisfalse\IfNotCommon{maincls}{\IgnoreThistrue}\fi%
\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
\IfNotCommon{scrextend}{Es gilt sinngemäß, was in
  \autoref{sec:maincls.footnotes} geschrieben wurde.}
\else %------------------------------------------------------- nur maincls -
\BeginIndex{}{Fussnoten=Fußnoten}%

\iffalse% Umbruchkorrekturtext
Selbstverständlich beherrscht \LaTeX{} auch Fußnoten. %
\fi%
\IfCommon{maincls}{Im Unterschied zu den Standardklassen bietet \KOMAScript{}
  die Möglichkeit, die Form von Fußnoten zu konfigurieren.}%
\IfCommon{scrlttr2}{Die Anweisungen zum Setzen von Fußnoten sind in jeder
  \LaTeX-Einführung, beispielsweise \cite{l2kurz}, zu finden. \KOMAScript{}
  bietet darüber hinaus aber auch noch die Möglichkeit, die Form der Fußnoten
  zu verändern.}%
\fi %**************************************************** Ende nur maincls *
\IfCommon{scrextend}{Die Fußnoten-Möglichkeiten der \KOMAScript-Klassen% 
\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
  , die in \autoref{sec:maincls.footnotes} beschrieben sind,%
\fi %**************************************************** Ende nur maincls *
  \ werden
  von \Package{scrextend} ebenfalls bereitgestellt. In der Voreinstellung wird
  die Formatierung der Fußnoten jedoch der verwendeten Klasse überlassen. Dies
  ändert sich, sobald die Anweisung \Macro{deffootnote} verwendet wird, die
  auf
  \autopageref{desc:\ifIgnoreThis maincls\else scrextend\fi.cmd.deffootnote}
  näher erläutert wird.}%
\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
\else %------------------------------------------------------- nur maincls -

\begin{Declaration}
  \KOption{footnotes}\PName{Einstellung}
\end{Declaration}
\BeginIndex{Option}{footnotes~=\PName{Einstellung}}%
\IfCommon{scrextend}{Bei vielen Klassen werden Fußnoten }%
\IfNotCommon{scrextend}{\ChangedAt{v3.00}{\Class{scrbook}\and
    \Class{scrreprt}\and \Class{scrartcl}\and \Class{scrlttr2}}Fußnoten werden
}%
im Text in der Voreinstellung mit kleinen, hochgestellten Ziffern
markiert. Werden zu einer Textstelle mehrere Fußnoten hintereinander gesetzt,
so entsteht der Eindruck, dass es sich nicht um zwei einzelne Fußnoten,
sondern um eine einzige Fußnote mit hoher Nummer handelt.
Mit\important{\OptionValue{footnotes}{multiple}}
\OptionValue{footnotes}{multiple}\IndexOption{footnotes=~multiple}
werden Fußnoten, die unmittelbar aufeinander folgen, stattdessen mit
Trennzeichen aneinander gereiht. Das in
\Macro{multfootsep}\IndexCmd{multfootsep}\important{\Macro{multfootsep}}
definierte Trennzeichen ist mit einem Komma vorbelegt. Der gesamte Mechanismus
ist kompatibel zu
\Package{footmisc}\IndexPackage{footmisc}\important{\Package{footmisc}},
Version~5.3d (siehe \cite{package:footmisc}) implementiert. Er wirkt sich
sowohl auf Fußnotenmarkierungen aus, die mit
\Macro{footnote}\IndexCmd{footnote} gesetzt wurden, als auch auf solche, die
direkt mit \Macro{footnotemark}\IndexCmd{footnotemark} ausgegeben werden.

Es ist jederzeit möglich, mit \Macro{KOMAoptions} oder \Macro{KOMAoption} auf
die Voreinstellung \OptionValue{footnotes}{nomultiple} zurückzuschalten. Bei
Problemen mit anderen Paketen, die Einfluss auf die Fußnoten nehmen, sollte
die Option jedoch nicht verwendet und die Einstellung auch nicht innerhalb des
Dokuments umgeschaltet werden.

Eine Zusammenfassung möglicher Werte für die \PName{Einstellung} von
\Option{footnotes} bietet \autoref{tab:maincls.footnotes}%
\IfNotCommon{maincl}{, \autopageref{tab:maincls.footnotes}}%
.%
\IfCommon{maincls}{%
\begin{table}
  \caption[{Mögliche Werte für Option \Option{footnotes}}]{Mögliche Werte für
    Option \Option{footnotes} zur Einstellung der Fußnoten}
  \label{tab:maincls.footnotes}
  \begin{desctabular}
    \pventry{multiple}{%
      Unmittelbar aufeinander folgende Fußnotenmarkierungen werden durch
      \Macro{multfootsep}\IndexCmd{multfootsep} voneinander getrennt
      ausgegeben.%
      \IndexOption{footnotes~=\PValue{multiple}}}%
    \pventry{nomultiple}{%
      Unmittelbar aufeinander folgende Fußnotenmarkierungen werden auch
      unmittelbar aufeinander folgend ausgegeben.%
      \IndexOption{footnotes~=\PValue{nomultiple}}}%
  \end{desctabular}
\end{table}}%
%
\EndIndex{Option}{footnotes~=\PName{Einstellung}}


\begin{Declaration}
  \Macro{footnote}\OParameter{Nummer}\Parameter{Text}\\
  \Macro{footnotemark}\OParameter{Nummer}\\
  \Macro{footnotetext}\OParameter{Nummer}\Parameter{Text}\\
  \Macro{multiplefootnoteseparator}\\
  \Macro{multfootsep}
\end{Declaration}%
\BeginIndex{Cmd}{footnote}%
\BeginIndex{Cmd}{footnotemark}%
\BeginIndex{Cmd}{footnotetext}%
\BeginIndex{Cmd}{multiplefootnoteseparator}%
\BeginIndex{Cmd}{multfootsep}%
Fußnoten werden bei {\KOMAScript} genau wie bei den Standardklassen mit der
Anweisung \Macro{footnote} oder den paarweise zu verwendenden Anweisungen
\Macro{footnotemark} und \Macro{footnotetext} erzeugt.  Genau wie bei den
Standardklassen ist es möglich, dass innerhalb einer Fußnote ein
Seiten"-umbruch erfolgt. Dies geschieht in der Regel dann, wenn die zugehörige
Fußnotenmarkierung so weit unten auf der Seite gesetzt wird, dass keine andere
Wahl bleibt, als die Fußnote auf die nächste Seite zu umbrechen. Im
Unterschied\ChangedAt{v3.00}{\Class{scrbook}\and \Class{scrreprt}\and
  \Class{scrartcl}\and \Class{scrlttr2}} zu den Standardklassen bietet
\KOMAScript{} aber zusätzlich die Möglichkeit, Fußnoten, die unmittelbar
aufeinander folgen, automatisch zu erkennen und durch ein Trennzeichen
auseinander zu rücken. Siehe\important{\Option{footnote}} hierzu die zuvor
dokumentierte Option \Option{footnotes}.

Will man dieses Trennzeichen stattdessen von Hand setzen, so erhält man es
durch Aufruf von \Macro{multiplefootnoteseparator}. Diese Anweisung sollten
Anwender jedoch nicht umdefinieren, da sie neben dem Trennzeichen auch die
Formatierung des Trennzeichen, beispielsweise die Wahl der Schriftgröße und
das Hochstellen, enthält. Das Trennzeichen selbst ist in der Anweisung
\Macro{multfootsep} gespeichert. In der Voreinstellung ist dieses als
% Umbruchkorrektur: listings korrigieren!
\begin{lstcode}[belowskip=\dp\strutbox]
  \newcommand*{\multfootsep}{,}
\end{lstcode}
definiert. Dieses kann umdefiniert werden.

\ifCommonscrlttr\else
\begin{Example}
  \phantomsection\label{desc:maincls.cmd.footnote.example}%
  Angenommen, Sie wollen zu einem Wort zwei Fußnoten setzen. Im ersten Ansatz
  schreiben Sie dafür
\begin{lstcode}
  Wort\footnote{Fußnote 1}\footnote{Fußnote 2}.
\end{lstcode}
  Nehmen wir weiter an, dass die Fußnoten mit 1 und 2 nummeriert werden. Da
  die beiden Fußnotennummern direkt aufeinander folgen, entsteht jedoch der
  Eindruck, dass das Wort nur eine Fußnote mit der Nummer 12 besitzt. Sie
  könnten dies nun dadurch ändern, dass Sie mit
\begin{lstcode}
  \KOMAoptions{footnotes=multiple}
\end{lstcode}
  die automatische Erkennung von Fußnotenhäufungen aktivieren. Stattdessen
  können Sie aber auch
\begin{lstcode}
  Wort\footnote{Fußnote 1}%
  \multiplefootnoteseparator
  \footnote{Fußnote 2}
\end{lstcode}
  verwenden. Das sollte auch dann noch funktionieren, wenn die automatische
  Erkennung aus irgendwelchen Gründen versagt oder nicht verwendet werden
  kann.

  Nehmen wir nun an, dass Sie außerdem wollen, dass die Fußnotennummern
  nicht nur durch ein Komma, sondern durch ein Komma gefolgt von einem
  Leerzeichen getrennt werden sollen. In diesem Fall schreiben Sie
\begin{lstcode}
  \renewcommand*{\multfootsep}{,\nobreakspace}
\end{lstcode}
  in Ihre Dokumentpräambel. \Macro{nobreakspace}\IndexCmd{nobreakspace} wurde
  hier an Stelle eines normalen Leerzeichens gewählt, damit innerhalb der
  Reihung der Fußnotenzeichen kein Absatz- oder Seitenumbruch erfolgen kann.
\end{Example}%
\fi%
\IfCommon{scrlttr2}{Beispiele und ergänzende Hinweise sind
  \autoref{sec:maincls.footnotes} ab
  \autopageref{desc:maincls.cmd.footnote.example} zu entnehmen.}%
\EndIndex{Cmd}{footnote}%
\EndIndex{Cmd}{footnotemark}%
\EndIndex{Cmd}{footnotetext}%
\EndIndex{Cmd}{multiplefootnoteseparator}%
\EndIndex{Cmd}{multfootsep}%
\fi %**************************************************** Ende nur maincls *


%%% Local Variables:
%%% mode: latex
%%% coding: iso-latin-1
%%% TeX-master: "../guide"
%%% End:
