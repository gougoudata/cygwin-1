% ======================================================================
% common-11.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% common-11.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Paragraphs that are common for several chapters of the KOMA-Script guide
% Maintained by Markus Kohm
%
% ----------------------------------------------------------------------
%
% Absaetze, die mehreren Kapiteln der KOMA-Script-Anleitung gemeinsam sind
% Verwaltet von Markus Kohm
%
% ======================================================================

\ProvidesFile{common-11.tex}[2012/02/07 KOMA-Script guide (common paragraphs)]
\translator{Gernot Hassenpflug\and Markus Kohm}

% Date of the translated German file: 2012/01/01

\makeatletter
\@ifundefined{ifCommonmaincls}{\newif\ifCommonmaincls}{}%
\@ifundefined{ifCommonscrextend}{\newif\ifCommonscrextend}{}%
\@ifundefined{ifCommonscrlttr}{\newif\ifCommonscrlttr}{}%
\@ifundefined{ifIgnoreThis}{\newif\ifIgnoreThis}{}%
\makeatother


\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
\else %------------------------------------------------------- nur maincls -
\begin{Declaration}
  \Macro{deffootnote}\OParameter{mark width}\Parameter{indent}%
                     \Parameter{parindent}\Parameter{definition}\\
  \Macro{deffootnotemark}\Parameter{definition}\\
  \Macro{thefootnotemark}
\end{Declaration}%
\BeginIndex{Cmd}{deffootnote}%
\BeginIndex{Cmd}{deffootnotemark}%
\BeginIndex{Cmd}{thefootnotemark}%
Footnotes are formatted slightly differently in {\KOMAScript} to in the
standard classes. As in the standard classes the footnote mark in the text is
depicted using a small superscripted number. The same formatting is used in
the footnote itself. The mark in the footnote is type-set right-aligned in a
box with width \PName{mark width}. The first line of the footnote follows
directly.

All following lines will be indented by the length of \PName{indent}. If the
optional parameter \PName{mark width} is not specified, it defaults to
\PName{indent}.  If the footnote consists of more than one paragraph, then the
first line of a paragraph is indented, in addition to \PName{indent}, by the
value of \PName{parindent}.

\hyperref[fig:maincls.deffootnote]{Figure~\ref*{fig:maincls.deffootnote}} %
\IfCommon{scrlttr2}{at \autopageref{fig:maincls.deffootnote} }%
illustrates the layout parameters. The default configuration of the
{\KOMAScript} classes is:
\begin{lstcode}
  \deffootnote[1em]{1.5em}{1em}
    {\textsuperscript{\thefootnotemark}}
\end{lstcode}
\Macro{textsuperscript} controls both the superscript and the smaller
font size. Command \Macro{thefootnotemark} is the current footnote mark
without any formatting.%
\IfCommon{scrextend}{ % <-- Leerzeichen ist wichtig!
  Package \Package{scrextend} in contrast to this does not change the default
  footnote settings of the used class. Loading the package does not change any
  type style of footnote marks or footnote text in general. You have to copy
  the above shown source to use the default
  settings of the \KOMAScript{} classes with \Package{scrextend}. This may be
  done immediately after loading package \Package{scrextend}.}%

\IfCommon{maincls}{%
\begin{figure}
%  \centering
  \KOMAoption{captions}{bottombeside}
  \setcapindent{0pt}%
  \begin{captionbeside}
    [{Parameters that control the footnote layout}]%
    {\label{fig:maincls.deffootnote}\hspace{0pt plus 1ex}%
      Parameters that control the footnote layout}%
    [l]
  \setlength{\unitlength}{1mm}
  \begin{picture}(100,22)
    \thinlines
    % frame of following paragraph
    \put(5,0){\line(1,0){90}}
    \put(5,0){\line(0,1){5}}
    \put(10,5){\line(0,1){5}}\put(5,5){\line(1,0){5}}
    \put(95,0){\line(0,1){10}}
    \put(10,10){\line(1,0){85}}
    % frame of first paragraph
    \put(5,11){\line(1,0){90}}
    \put(5,11){\line(0,1){5}}
    \put(15,16){\line(0,1){5}}\put(5,16){\line(1,0){10}}
    \put(95,11){\line(0,1){10}}
    \put(15,21){\line(1,0){80}}
    % box of the footnote mark
    \put(0,16.5){\framebox(14.5,4.5){\mbox{}}}
    % description of paragraphs
    \put(45,16){\makebox(0,0)[l]{\textsf{first paragraph of a footnote}}}
    \put(45,5){\makebox(0,0)[l]{\textsf{next paragraph of a footnote}}}
    % help lines
    \thicklines
    \multiput(0,0)(0,3){7}{\line(0,1){2}}
    \multiput(5,0)(0,3){3}{\line(0,1){2}}
    % parameters
    \put(2,7){\vector(1,0){3}}
    \put(5,7){\line(1,0){5}}
    \put(15,7){\vector(-1,0){5}}
    \put(15,7){\makebox(0,0)[l]{\small\PName{parindent}}}
    % 
    \put(-3,13){\vector(1,0){3}}
    \put(0,13){\line(1,0){5}}
    \put(10,13){\vector(-1,0){5}}
    \put(10,13){\makebox(0,0)[l]{\small\PName{indent}}}
    % 
    \put(-3,19){\vector(1,0){3}}
    \put(0,19){\line(1,0){14.5}}
    \put(19.5,19){\vector(-1,0){5}}
    \put(19.5,19){\makebox(0,0)[l]{\small\PName{mark width}}}
  \end{picture}
  \end{captionbeside}
\end{figure}}

\BeginIndex{FontElement}{footnote}%
\BeginIndex{FontElement}{footnotelabel}%
The\ChangedAt{v2.8q}{%
  \Class{scrbook}\and\Class{scrreprt}\and\Class{scrartcl}} font element
\FontElement{footnote}\important{\FontElement{footnote}} determines the font
of the footnote including the footnote mark. Using the element
\FontElement{footnotelabel}\important{\FontElement{footnotelabel}} the font of
the footnote mark can be changed separately with the commands
\Macro{setkomafont} and \Macro{addtokomafont} (see \autoref{sec:\csname
  label@base\endcsname.textmarkup}, \autopageref{desc:\csname
  label@base\endcsname.cmd.setkomafont}). Please refer also to
\IfNotCommon{scrextend}{\autoref{tab:\csname
    label@base\endcsname.elementsWithoutText}, \autopageref{tab:\csname
    label@base\endcsname.elementsWithoutText}}%
\IfCommon{scrextend}{\autoref{tab:maincls.elementsWithoutText},
  \autopageref{tab:maincls.elementsWithoutText}}%
. Default setting is no change in the font.%
\IfCommon{scrextend}{ % <-- Dieses Leerzeichen ist wichtig!
  With \Package{scrextend} the elements may change the fonts only if the
  footnotes are handled by the package, i.\,g., after using
  \Macro{deffootnote}.}

\BeginIndex{FontElement}{footnotereference}%
The footnote mark in the text is defined separately from the mark in
front of the actual footnote. This is done with
\Macro{deffootnotemark}. Default setting is:
% Umbruchkorrektur: listings korrigieren!
\begin{lstcode}[belowskip=\dp\strutbox]
  \deffootnotemark{%
    \textsuperscript{\thefootnotemark}}
\end{lstcode}
In the above\ChangedAt{v2.8q}{%
  \Class{scrbook}\and\Class{scrreprt}\and\Class{scrartcl}} the font
for the element
\FontElement{footnotereference}\important{\FontElement{footnotereference}} is
applied (see %
\IfNotCommon{scrextend}{\autoref{tab:\csname
    label@base\endcsname.elementsWithoutText}, \autopageref{tab:\csname
    label@base\endcsname.elementsWithoutText}}%
\IfCommon{scrextend}{\autoref{tab:maincls.elementsWithoutText},
  \autopageref{tab:maincls.elementsWithoutText}}%
). %
Thus the footnote
marks in the text and in the footnote itself are identical. The font
can be changed with the commands \Macro{setkomafont} and
\Macro{addtokomafont} (see \autoref{sec:\csname
  label@base\endcsname.textmarkup}, \autopageref{desc:\csname
  label@base\endcsname.cmd.setkomafont})%
\IfCommon{scrextend}{ after usage of \Macro{deffootnotemark}}.

\ifCommonscrlttr\else
\begin{Example}
  \phantomsection\label{desc:maincls.cmd.deffootnote.example}%
  A\textnote{Hint!} feature often asked for is footnote marks which are
  neither in superscript nor in a smaller font size. They should not touch the
  footnote text but be separated by a small space. This can be accomplished as
  follows:
\begin{lstcode}
  \deffootnote{1em}{1em}{\thefootnotemark\ }
\end{lstcode}
  The footnote mark and the following space are therefore set
  right-aligned into a box of width 1\Unit{em}. The following lines of
  the footnote text are also indented by 1\Unit{em} from the left
  margin.
  
  Another\textnote{Hint!} often requested footnote layout is left-aligned
  footnote marks. These can be obtained with:
\begin{lstcode}
  \deffootnote{1.5em}{1em}{%
      \makebox[1.5em][l]{\thefootnotemark}}
\end{lstcode}
  
  If you want however only to change the font for all footnotes, for example
  to sans serif, you can solve this problem simply by using the commands
  \Macro{setkomafont} and \Macro{addtokomafont} (see
  \autoref{sec:maincls.textmarkup},
  \autopageref{desc:maincls.cmd.setkomafont}:
\begin{lstcode}
  \setkomafont{footnote}{\sffamily}
\end{lstcode}
\end{Example}%
\IfNotCommon{scrextend}{As demonstrated with the examples above, the simple
  user interface of {\KOMAScript} provides a great variety of different
  footnote formattings.}%
\fi%
\IfCommon{scrlttr2}{%
  Examples may be found at \autoref{sec:maincls.footnotes}, from
  \autopageref{desc:maincls.cmd.deffootnote} onwards.}%
%
\EndIndex{FontElement}{footnotereference}%
\EndIndex{FontElement}{footnotelabel}%
\EndIndex{FontElement}{footnote}%
%
\EndIndex{Cmd}{deffootnote}%
\EndIndex{Cmd}{deffootnotemark}%
\EndIndex{Cmd}{thefootnotemark}%


\begin{Declaration}
  \Macro{setfootnoterule}\OParameter{thickness}\Parameter{length}%
\end{Declaration}%
\BeginIndex{Cmd}{setfootnoterule}%
Generally\ChangedAt{v3.06}{\Class{scrlttr2}\and \Class{scrbook}\and
  \Class{scrreprt}\and \Class{scrartcl}\and \Package{scrextend}} a horizontal
rule will be placed between the text area and the footnote area. But normally
this rule is not as long as the width of the typing area. With Command
\Macro{setfootnoterule} you may change the thickness and the width of that
rule. Thereby the parameters \PName{thickness} and \PName{length} will be
evaluated not at definition time but when setting the rule itself. If
optional argument \PName{thickness} ha been omitted the thickness of the rule
will not be changed. Empty arguments \PName{thickness} or \PName{length} are
also allowed and do not change the corresponding parameter. Using implausible
values may result in warning messages not only setting the arguments but also
when \KOMAScript{} uses the parameters.

\BeginIndex{FontElement}{footnoterule}%
With element \FontElement{footnoterule}\important{\FontElement{footnoterule}}
the color \ChangedAt{v3.07}{\Class{scrlttr2}\and \Class{scrbook}\and
  \Class{scrreprt}\and \Class{scrartcl}\and \Package{scrextend}} of the rule
may be changed using the commands \Macro{setkomafont} and
\Macro{addtokomafont} (see \autoref{sec:\csname
  label@base\endcsname.textmarkup}, \autopageref{desc:\csname
  label@base\endcsname.cmd.setkomafont}). Default is no change of font or
color. For color changes a color package like
\Package{xcolor}\IndexPackage{xcolor}\important{\Package{xcolor}} would be
needed.%
%
\EndIndex{FontElement}{footnoterule}%
\EndIndex{Cmd}{setfootnoterule}%
\IfNotCommon{scrlttr2}{\EndIndex{}{footnotes}}
\fi %**************************************************** Ende nur maincls *


%%% Local Variables:
%%% mode: latex
%%% coding: us-ascii
%%% TeX-master: "../guide"
%%% End:
