% ======================================================================
% common-9.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% common-9.tex
% Copyright (c) Markus Kohm, 2001-2012
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Paragraphs that are common for several chapters of the KOMA-Script guide
% Maintained by Markus Kohm
%
% ----------------------------------------------------------------------
%
% Absaetze, die mehreren Kapiteln der KOMA-Script-Anleitung gemeinsam sind
% Verwaltet von Markus Kohm
%
% ======================================================================

\ProvidesFile{common-9.tex}[2012/05/15 KOMA-Script guide (common paragraphs)]
\translator{Markus Kohm\and Krickette Murabayashi}

% Date of the translated German file: 2012/01/01

\makeatletter
\@ifundefined{ifCommonmaincls}{\newif\ifCommonmaincls}{}%
\@ifundefined{ifCommonscrextend}{\newif\ifCommonscrextend}{}%
\@ifundefined{ifCommonscrlttr}{\newif\ifCommonscrlttr}{}%
\@ifundefined{ifIgnoreThis}{\newif\ifIgnoreThis}{}%
\makeatother


\section{Footnotes}
\label{sec:\csname label@base\endcsname.footnotes}%
\ifshortversion\IgnoreThisfalse\IfNotCommon{maincls}{\IgnoreThistrue}\fi%
\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
\IfNotCommon{scrextend}{%
  What is described in
  \autoref{sec:maincls.footnotes} applies, mutatis mutandis. }
\else %------------------------------------------------------- nur maincls -
\BeginIndex{}{footnotes}%

\iffalse% Umbruchkorrekturtext
\LaTeX{} of course handles footnotes. %
\fi%
\IfCommon{maincls}{%
  \KOMAScript{}, unlike the standard classes, provides features for
  configuration of the footnote block format.}%
\IfCommon{scrlttr2}{%
  The commands for setting footnotes may be found at each introduction into
  \LaTeX, e.\,g., at \cite{lshort}. \KOMAScript{} provides additional features
  to change the footnote block format.}%
\fi %**************************************************** Ende nur maincls *
\IfCommon{scrextend}{%
  Package \Package{scrextend} supports all the footnote features of
  \KOMAScript
\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
  , that are described at \autoref{sec:maincls.footnotes}%
\fi %**************************************************** Ende nur maincls *
  . Nevertheless, by default the footnotes are under full control of the used
  class. This changes as soon as command \Macro{deffootnote} (see
  \autopageref{desc:\ifIgnoreThis maincls\else scrextend\fi.cmd.deffootnote})
  has been used.}%
\ifIgnoreThis %+++++++++++++++++++++++++++++++++++++++++++++ nicht maincls +
\else %------------------------------------------------------- nur maincls -

\begin{Declaration}
  \KOption{footnotes}\PName{setting}
\end{Declaration}
\BeginIndex{Option}{footnotes~=\PName{setting}}%
\IfCommon{scrextend}{At several classes footnotes }%
\IfNotCommon{scrextend}{\ChangedAt{v3.00}{\Class{scrbook}\and
    \Class{scrreprt}\and \Class{scrartcl}\and \Class{scrlttr2}}Footnotes
}%
will be marked with a tiny superscript number in text by default. If more than
one footnote falls at the same place, one may think that it is only one
footnote with a very large number instead of multiple footnotes
(i.\,e., footnote 12 instead of footnotes 1 and 2). Using \important{\OptionValue{footnotes}{multiple}}
\OptionValue{footnotes}{multiple}\IndexOption{footnotes=~multiple} will
separate multiple footnotes immediately next to each other by a separator
string. The predefined separator at
\Macro{multfootsep}\IndexCmd{multfootsep}\important{\Macro{multfootsep}} is a
single comma without space. The whole mechanism is compatible with package \Package{footmisc}\IndexPackage{footmisc}\important{\Package{footmisc}},
Version~5.3d (see \cite{package:footmisc}). It is related not only to
footnotes placed using \Macro{footnote}\IndexCmd{footnote}, but
\Macro{footnotemark}\IndexCmd{footnotemark} too.

Command \Macro{KOMAoptions} or \Macro{KOMAoption} may be used to switch back
to the default \OptionValue{footnotes}{nomultiple} at any time. If 
any problems using another package that influences footnotes occur, it is
recommended not to use the option anywhere and not to change the
\PName{setting} anywhere inside the document.

A summary of the available \PName{setting} values of \Option{footnotes} may
be found at \autoref{tab:maincls.footnotes}%
\IfNotCommon{maincl}{, \autopageref{tab:maincls.footnotes}}%
.%
\IfCommon{maincls}{%
\begin{table}
  \caption[{Available values for option \Option{footnotes}}]
  {Available values for option \Option{footnotes} setting up footnotes}
  \label{tab:maincls.footnotes}
  \begin{desctabular}
    \pventry{multiple}{%
      At sequences of immediately following footnote marks, consecutive marks
      will be separated by \Macro{multfootsep}\IndexCmd{multfootsep}.%
      \IndexOption{footnotes~=\PValue{multiple}}}%
    \pventry{nomultiple}{%
      Immediately following footnotes will be handled like single footnotes
      and not separated from each other.%
      \IndexOption{footnotes~=\PValue{nomultiple}}}%
  \end{desctabular}
\end{table}}%
%
\EndIndex{Option}{footnotes~=\PName{setting}}


\begin{Declaration}
  \Macro{footnote}\OParameter{number}\Parameter{text}\\
  \Macro{footnotemark}\OParameter{number}\\
  \Macro{footnotetext}\OParameter{number}\Parameter{text}\\
  \Macro{multiplefootnoteseparator}\\
  \Macro{multfootsep}
\end{Declaration}%
\BeginIndex{Cmd}{footnote}%
\BeginIndex{Cmd}{footnotemark}%
\BeginIndex{Cmd}{footnotetext}%
\BeginIndex{Cmd}{multiplefootnoteseparator}%
\BeginIndex{Cmd}{multfootsep}%
Similar to the standard classes, footnotes in {\KOMAScript} are produced
with the \Macro{footnote} command, or alternatively the paired usage of the
commands \Macro{footnotemark} and \Macro{footnotetext}.  As in the standard
classes, it is possible that a page break occurs within a footnote. Normally
this happens if the footnote mark is placed so near the bottom of a page as to
leave {\LaTeX} no choice but to break the footnote onto the next page.
\KOMAScript\ChangedAt{v3.00}{\Class{scrbook}\and \Class{scrreprt}\and
  \Class{scrartcl}\and \Class{scrlttr2}}, unlike the standard classes,
can recognize and separate consecutive footnotes
automatically. See\important{\Option{footnote}} the previously documented
option \Option{footnotes} for this.

If you want to set the separator manually, you may use
\Macro{multiplefootnoteseparator}. Note that this command shouldn't be
redefined, because it has been defined not only to be the separator string but
also the type style, i.\,e., font size and superscript. The separator string
without type style may be found at \Macro{multfootsep}. The
predefined default is
% Umbruchkorrektur: listings korrigieren!
\begin{lstcode}[belowskip=\dp\strutbox]
  \newcommand*{\multfootsep}{,}
\end{lstcode}
and may be changed by redefining the command.

\ifCommonscrlttr\else
\begin{Example}
  \phantomsection\label{desc:maincls.cmd.footnote.example}%
  Assume you want to place two footnotes following a single word. First you may try
\begin{lstcode}
  Word\footnote{1st footnote}\footnote{2nd footnote}
\end{lstcode}
  for this. Assume that the footnotes will be numbered with 1 and 2. Now the
  reader may think it's a single footnote 12, because the 2
  immediately follows the 1. You may change this using
\begin{lstcode}
  \KOMAoptions{footnotes=multiple}
\end{lstcode}
  which would switch on the automatic recognition of footnote sequences. As an
  alternative you may use
\begin{lstcode}
  Word\footnote{1st footnote}%
  \multiplefootnoteseparator
  \footnote{2nd footnote}
\end{lstcode}
  This should give you the wanted result even if the automatic solution would
  fail or couldn't be used.

  Further, assume you want the footnotes separated not only by a single
  comma, but by a comma and a white space. In this case you may redefine
\begin{lstcode}
  \renewcommand*{\multfootsep}{,\nobreakspace}
\end{lstcode}
  at the document preamble. \Macro{nobreakspace}\IndexCmd{nobreakspace}
  instead of a usual space character has been used in this case to avoid
  paragraph or at least page breaks within footnote sequences.
\end{Example}%
\fi%
\IfCommon{scrlttr2}{%
  Examples and additional information may be found at
  \autoref{sec:maincls.footnotes} from
  \autopageref{desc:maincls.cmd.footnote.example} onward.}%
\EndIndex{Cmd}{footnote}%
\EndIndex{Cmd}{footnotemark}%
\EndIndex{Cmd}{footnotetext}%
\EndIndex{Cmd}{multiplefootnoteseparator}%
\EndIndex{Cmd}{multfootsep}%
\fi %**************************************************** Ende nur maincls *


%%% Local Variables:
%%% mode: latex
%%% coding: us-ascii
%%% TeX-master: "../guide"
%%% End:
